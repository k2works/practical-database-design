<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<!-- 棚卸明細行フラグメント -->
<tr th:fragment="detailRow" th:id="'row-' + ${index}">
    <td>
        <select th:name="'details[' + ${index} + '].productCode'"
                class="form-select">
            <option value="">選択してください</option>
            <option th:each="prod : ${products}"
                    th:value="${prod.productCode}"
                    th:text="${prod.productCode + ' - ' + prod.productName}">
            </option>
        </select>
    </td>
    <td>
        <input type="text" th:name="'details[' + ${index} + '].locationCode'"
               class="form-control" placeholder="A-01-01">
    </td>
    <td>
        <input type="number" th:name="'details[' + ${index} + '].bookQuantity'"
               value="0"
               class="form-control text-end" step="1" min="0">
    </td>
    <td>
        <input type="number" th:name="'details[' + ${index} + '].actualQuantity'"
               value="0"
               class="form-control text-end" step="1" min="0">
    </td>
    <td>
        <input type="text" th:name="'details[' + ${index} + '].differenceReason'"
               class="form-control">
    </td>
    <td>
        <button type="button" class="btn btn-sm btn-outline-danger"
                onclick="removeRow(this)">削除</button>
    </td>
</tr>
</body>
</html>
