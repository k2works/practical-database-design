
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="基幹業務システム（販売管理・財務会計・生産管理）のデータベース設計を体系的に解説">
      
      
        <meta name="author" content="k2works">
      
      
      
        <link rel="prev" href="../chapter16-orm/">
      
      
        <link rel="next" href="../chapter18-orm/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>第17章 自動仕訳の設計【ORM版】 - 実践データベース設計：基幹業務システム編</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../docs/mkdocs/assets/css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#17orm" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="実践データベース設計：基幹業務システム編" class="md-header__button md-logo" aria-label="実践データベース設計：基幹業務システム編" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            実践データベース設計：基幹業務システム編
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              第17章 自動仕訳の設計【ORM版】
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/k2works/practical-database-design" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    practical-database-design
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
  実践データベース設計

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="実践データベース設計：基幹業務システム編" class="md-nav__button md-logo" aria-label="実践データベース設計：基幹業務システム編" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    実践データベース設計：基幹業務システム編
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/k2works/practical-database-design" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    practical-database-design
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    実践データベース設計
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    実践データベース設計
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../techstack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    技術スタック
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    アウトライン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    執筆ワークフロー
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    運用ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../project-setup-instruction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    プロジェクトセットアップ手順書
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7" >
        
          
          <label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    デプロイ
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    デプロイ
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-sms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SMS デモデプロイ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-fas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FAS デモデプロイ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-pms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PMS デモデプロイ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_8" >
        
          
          <label class="md-nav__link" for="__nav_1_8" id="__nav_1_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第1部 基幹業務システムの全体像
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    第1部 基幹業務システムの全体像
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第1章 基幹業務システムとは
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第2章 基幹業務システムの業務領域
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第3章 業務フローの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_9" >
        
          
          <label class="md-nav__link" for="__nav_1_9" id="__nav_1_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第2部 販売管理システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    第2部 販売管理システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第4章 販売管理システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter05/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第5章 マスタ情報の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter06/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第6章 受注・出荷・売上の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter07/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第7章 債権管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter08/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第8章 調達管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter09/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第9章 在庫管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第10章 債務管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第11章 共通処理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第12章 販売管理データ設計（B社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第13章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_10" >
        
          
          <label class="md-nav__link" for="__nav_1_10" id="__nav_1_10_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第3部 財務会計システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    第3部 財務会計システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章 財務会計システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章 勘定科目の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章 仕訳の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章 勘定科目残高の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter19/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章 赤黒とログの設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter20/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章 財務会計データ設計（D社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter21/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_11" >
        
          
          <label class="md-nav__link" for="__nav_1_11" id="__nav_1_11_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第4部 生産管理システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    第4部 生産管理システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter22/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第22章 生産管理システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter23/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第23章 マスタ情報の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter24/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第24章 生産計画の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter25/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第25章 購買管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter26/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第26章 外注委託管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter27/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第27章 工程管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter28/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第28章 在庫管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第29章 品質管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter30/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第30章 製造原価管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter31/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第31章 生産管理データ設計（E社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter32/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第32章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_12" >
        
          
          <label class="md-nav__link" for="__nav_1_12" id="__nav_1_12_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第5部 エンタープライズインテグレーション
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    第5部 エンタープライズインテグレーション
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter33.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第33章 システム統合の概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter34.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第34章 メッセージングパターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter35.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第35章 システム間連携パターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter36.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第36章 マスタデータ管理（MDM）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter37.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第37章 イベント駆動アーキテクチャ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter38.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第38章 API設計とサービス連携
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter39.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第39章 データ連携の実装パターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_13" >
        
          
          <label class="md-nav__link" for="__nav_1_13" id="__nav_1_13_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 販売管理システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 販売管理システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究5 AxonCQRS/ESの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_14" >
        
          
          <label class="md-nav__link" for="__nav_1_14" id="__nav_1_14_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 財務会計システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 財務会計システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究5 AxonCQRS/ESの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_15" >
        
          
          <label class="md-nav__link" for="__nav_1_15" id="__nav_1_15_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 生産管理システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 生産管理システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究5 AxonCQRS/ESの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_16" checked>
        
          
          <label class="md-nav__link" for="__nav_1_16" id="__nav_1_16_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 財務会計システムORM実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_16_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_16">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 財務会計システムORM実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter14-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章 財務会計システムの全体像【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter15-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章 勘定科目の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter16-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章 仕訳の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計【ORM版】
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計【ORM版】
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#171" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.1 自動仕訳の概要
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17.1 自動仕訳の概要">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        自動仕訳とは
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="自動仕訳とは">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        従来のアナログ連携（手入力による連携）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        自動仕訳によるデジタル連携
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        自動仕訳処理の流れ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        売上伝票から仕訳伝票への変換例
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="売上伝票から仕訳伝票への変換例">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        売上伝票（ビジネス上の事実）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        仕訳伝票（会計上の記録）
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#172" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.2 自動仕訳テーブルの設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17.2 自動仕訳テーブルの設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        フラグ管理方式と日付管理方式
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="フラグ管理方式と日付管理方式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        フラグ管理方式
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
        日付管理方式
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
        セット中心のアプリケーション設計
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#er" class="md-nav__link">
    <span class="md-ellipsis">
      
        自動仕訳関連テーブルの ER 図
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#173-mybatis" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.3 MyBatis 版との実装比較
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17.3 MyBatis 版との実装比較">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
        データアクセス層の比較
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flyway" class="md-nav__link">
    <span class="md-ellipsis">
      
        Flyway マイグレーション
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#174-jpa" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.4 JPA エンティティの実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17.4 JPA エンティティの実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enum-attributeconverter" class="md-nav__link">
    <span class="md-ellipsis">
      
        自動仕訳ステータス Enum と AttributeConverter
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entity" class="md-nav__link">
    <span class="md-ellipsis">
      
        自動仕訳パターンマスタ Entity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entity_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        自動仕訳データ Entity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entity_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        自動仕訳処理履歴 Entity
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#175-tdd" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.5 TDD によるパターンマッチングの実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17.5 TDD によるパターンマッチングの実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      
        パターンマッチングのテスト
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      
        リポジトリのテスト
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#176-jparepository" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.6 JpaRepository インターフェース
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17.6 JpaRepository インターフェース">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#repository" class="md-nav__link">
    <span class="md-ellipsis">
      
        自動仕訳パターンマスタ Repository
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#repository_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        自動仕訳データ Repository
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#177-spring-data-jpa-specification" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.7 Spring Data JPA Specification による動的クエリ
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17.7 Spring Data JPA Specification による動的クエリ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#specification" class="md-nav__link">
    <span class="md-ellipsis">
      
        Specification の使用例
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#178" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.8 自動仕訳サービスの実装
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#179" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.9 ヘキサゴナルアーキテクチャでのポート設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17.9 ヘキサゴナルアーキテクチャでのポート設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#output-port" class="md-nav__link">
    <span class="md-ellipsis">
      
        Output Port（リポジトリインターフェース）
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1710-mybatis-jpa" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.10 まとめ：MyBatis 版と JPA 版の比較
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17.10 まとめ：MyBatis 版と JPA 版の比較">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      
        データアクセス層のアーキテクチャ比較
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jpa" class="md-nav__link">
    <span class="md-ellipsis">
      
        JPA 版の特徴
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      
        次章予告
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter18-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章 勘定科目残高の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter19-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章 赤黒とログの設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter20-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章 財務会計データ設計（D社事例）【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter21-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章 APIサービスの実装【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter22-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第22章 Axon CQRS/ESの実装【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_17" >
        
          
          <label class="md-nav__link" for="__nav_1_17" id="__nav_1_17_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    付録
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_17">
            <span class="md-nav__icon md-icon"></span>
            
  
    付録
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/er-diagrams.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    A 全体ER図
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/table-definitions.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    B テーブル定義一覧
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/glossary.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C 用語集
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_18" >
        
          
          <label class="md-nav__link" for="__nav_1_18" id="__nav_1_18_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    データベース
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_18">
            <span class="md-nav__icon md-icon"></span>
            
  
    データベース
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../assets/schemaspy-output/sms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SchemaSpy ER図（SMS）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../assets/schemaspy-output/fas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SchemaSpy ER図（FAS）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../assets/schemaspy-output/pms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SchemaSpy ER図（PMS）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="17orm">第17章：自動仕訳の設計（ORM版）<a class="headerlink" href="#17orm" title="Permanent link">&para;</a></h1>
<p>販売管理システムなどの業務システムから会計システムへの自動仕訳処理を TDD で設計していきます。売上データから仕訳データへの自動変換ルールと、効率的なバッチ処理の設計を行います。</p>
<p>JPA 版では、@Entity によるリレーション定義、@EntityGraph による N+1 問題対策、Spring Data JPA Specification による動的クエリを活用します。</p>
<hr />
<h2 id="171">17.1 自動仕訳の概要<a class="headerlink" href="#171" title="Permanent link">&para;</a></h2>
<h3 id="_1">自動仕訳とは<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<p>自動仕訳は、業務システムのトランザクションデータを会計システムの仕訳データへ自動的に変換する機能です。</p>
<h4 id="_2">従来のアナログ連携（手入力による連携）<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h4>
<p>従来の方式では、販売管理システムで発行した売上伝票を紙で経理部門に回送し、経理担当者が仕訳入力を行っていました。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjYzMnB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDIxcHg7aGVpZ2h0OjYzMnB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQyMSA2MzIiIHdpZHRoPSI0MjFweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMzYwMDk7JiMyMjc3MDsmIzMxNjQ5OyYjMjk3MDI7JiMxMjQ3MTsmIzEyNDczOyYjMTI0ODY7JiMxMjUxMjsmIzEyMzkyOyYjMjAyNTA7JiMzNTMzNjsmIzEyNDcxOyYjMTI0NzM7JiMxMjQ4NjsmIzEyNTEyOyYjMTIzOTg7JiMzODc1MDsmIzM2ODk5OyYjMjU2NTg7JiM2NTI4ODsmIzEyNDUwOyYjMTI0OTA7JiMxMjUyNTsmIzEyNDY0OyYjMzY4OTk7JiMyNTY1ODsmIzY1Mjg5OzwvdGl0bGU+PGRlZnMvPjxnPjxnIGNsYXNzPSJ0aXRsZSIgZGF0YS1zb3VyY2UtbGluZT0iMSI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM3Ny45OTg0IiB4PSIxNC41MDA4IiB5PSIyMi45OTUxIj4mIzM2MDA5OyYjMjI3NzA7JiMzMTY0OTsmIzI5NzAyOyYjMTI0NzE7JiMxMjQ3MzsmIzEyNDg2OyYjMTI1MTI7JiMxMjM5MjsmIzIwMjUwOyYjMzUzMzY7JiMxMjQ3MTsmIzEyNDczOyYjMTI0ODY7JiMxMjUxMjsmIzEyMzk4OyYjMzg3NTA7JiMzNjg5OTsmIzI1NjU4OyYjNjUyODg7JiMxMjQ1MDsmIzEyNDkwOyYjMTI1MjU7JiMxMjQ2NDsmIzM2ODk5OyYjMjU2NTg7JiM2NTI4OTs8L3RleHQ+PC9nPjwhLS1jbHVzdGVyID8/Pz8tLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMTIiIGlkPSJlbnQwMDAyIj48cGF0aCBkPSJNOC41LDQzLjI5NjkgTDY1LjQ5OTgsNDMuMjk2OSBBMy43NSwzLjc1IDAgMCAxIDY3Ljk5OTgsNDUuNzk2OSBMNzQuOTk5OCw2NS41OTM4IEwxNDcuNSw2NS41OTM4IEEyLjUsMi41IDAgMCAxIDE1MCw2OC4wOTM4IEwxNTAsMzg1LjI3NjkgQTIuNSwyLjUgMCAwIDEgMTQ3LjUsMzg3Ljc3NjkgTDguNSwzODcuNzc2OSBBMi41LDIuNSAwIDAgMSA2LDM4NS4yNzY5IEw2LDQ1Ljc5NjkgQTIuNSwyLjUgMCAwIDEgOC41LDQzLjI5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjYiIHgyPSI3NC45OTk4IiB5MT0iNjUuNTkzOCIgeTI9IjY1LjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTAiIHk9IjU4LjI5MiI+JiMyMTk0MjsmIzI2OTg5OyYjMzcwOTY7JiMzODI3Mjs8L3RleHQ+PC9nPjwhLS1jbHVzdGVyID8/Pz8tLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMTgiIGlkPSJlbnQwMDA2Ij48cGF0aCBkPSJNMjcyLjUsMjg0LjE4NjkgTDMyOS40OTk4LDI4NC4xODY5IEEzLjc1LDMuNzUgMCAwIDEgMzMxLjk5OTgsMjg2LjY4NjkgTDMzOC45OTk4LDMwNi40ODM4IEw0MTEuNSwzMDYuNDgzOCBBMi41LDIuNSAwIDAgMSA0MTQsMzA4Ljk4MzggTDQxNCw2MjMuNDY2OSBBMi41LDIuNSAwIDAgMSA0MTEuNSw2MjUuOTY2OSBMMjcyLjUsNjI1Ljk2NjkgQTIuNSwyLjUgMCAwIDEgMjcwLDYyMy40NjY5IEwyNzAsMjg2LjY4NjkgQTIuNSwyLjUgMCAwIDEgMjcyLjUsMjg0LjE4NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjI3MCIgeDI9IjMzOC45OTk4IiB5MT0iMzA2LjQ4MzgiIHkyPSIzMDYuNDgzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIyNzQiIHk9IjI5OS4xODIiPiYjMzIwNzY7JiMyOTcwMjsmIzM3MDk2OyYjMzgyNzI7PC90ZXh0PjwvZz48IS0tZW50aXR5IFNhbGVzSW5wdXQtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLlNhbGVzSW5wdXQiIGRhdGEtc291cmNlLWxpbmU9IjEzIiBpZD0iZW50MDAwMyI+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSI1Mi41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI4Ny41NzAzIiB4PSIzNC4yMSIgeT0iNzguMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjUuNTcwMyIgeD0iNDUuMjEiIHk9IjEwMS4yOTIiPiYjMTcxO1NjcmVlbiYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI0OS45OTUzIiB5PSIxMTcuNTg4OSI+JiMyMjc3MDsmIzE5OTc4OyYjMjA4Mzc7JiMyMTE0Nzs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgU2FsZXNEQi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uU2FsZXNEQiIgZGF0YS1zb3VyY2UtbGluZT0iMTQiIGlkPSJlbnQwMDA0Ij48cGF0aCBkPSJNMzMsMjAxLjg4NjkgQzMzLDE5MS44ODY5IDc3Ljk5OTgsMTkxLjg4NjkgNzcuOTk5OCwxOTEuODg2OSBDNzcuOTk5OCwxOTEuODg2OSAxMjIuOTk5NywxOTEuODg2OSAxMjIuOTk5NywyMDEuODg2OSBMMTIyLjk5OTcsMjI3LjE4MzcgQzEyMi45OTk3LDIzNy4xODM3IDc3Ljk5OTgsMjM3LjE4MzcgNzcuOTk5OCwyMzcuMTgzNyBDNzcuOTk5OCwyMzcuMTgzNyAzMywyMzcuMTgzNyAzMywyMjcuMTgzNyBMMzMsMjAxLjg4NjkiIGZpbGw9IiNFOEY1RTkiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0zMywyMDEuODg2OSBDMzMsMjExLjg4NjkgNzcuOTk5OCwyMTEuODg2OSA3Ny45OTk4LDIxMS44ODY5IEM3Ny45OTk4LDIxMS44ODY5IDEyMi45OTk3LDIxMS44ODY5IDEyMi45OTk3LDIwMS44ODY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSI0MyIgeT0iMjI4Ljg4MiI+JiMyMjc3MDsmIzE5OTc4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48L2c+PCEtLWVudGl0eSBTYWxlc1ZvdWNoZXItLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLlNhbGVzVm91Y2hlciIgZGF0YS1zb3VyY2UtbGluZT0iMTUiIGlkPSJlbnQwMDA1Ij48cmVjdCBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjUyLjU5MzgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExMS42NjAyIiB4PSIyMi4xNyIgeT0iMzE5LjE4NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg5LjY2MDIiIHg9IjMzLjE3IiB5PSIzNDIuMTgyIj4mIzE3MTtEb2N1bWVudCYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI1MC4wMDAyIiB5PSIzNTguNDc4OSI+JiMyMjc3MDsmIzE5OTc4OyYjMjAyNTM7JiMzMTA4MDs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgSm91cm5hbElucHV0LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi5Kb3VybmFsSW5wdXQiIGRhdGEtc291cmNlLWxpbmU9IjE5IiBpZD0iZW50MDAwNyI+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSI1Mi41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI4Ny41NzAzIiB4PSIyOTguMjEiIHk9IjMxOS4xODY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NS41NzAzIiB4PSIzMDkuMjEiIHk9IjM0Mi4xODIiPiYjMTcxO1NjcmVlbiYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIzMTMuOTk1MyIgeT0iMzU4LjQ3ODkiPiYjMjAxODE7JiMzNTM3OTsmIzIwODM3OyYjMjExNDc7PC90ZXh0PjwvZz48IS0tZW50aXR5IEpvdXJuYWxEQi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uSm91cm5hbERCIiBkYXRhLXNvdXJjZS1saW5lPSIyMCIgaWQ9ImVudDAwMDgiPjxwYXRoIGQ9Ik0yOTcsNDQ0Ljc3NjkgQzI5Nyw0MzQuNzc2OSAzNDEuOTk5OCw0MzQuNzc2OSAzNDEuOTk5OCw0MzQuNzc2OSBDMzQxLjk5OTgsNDM0Ljc3NjkgMzg2Ljk5OTcsNDM0Ljc3NjkgMzg2Ljk5OTcsNDQ0Ljc3NjkgTDM4Ni45OTk3LDQ3MC4wNzM3IEMzODYuOTk5Nyw0ODAuMDczNyAzNDEuOTk5OCw0ODAuMDczNyAzNDEuOTk5OCw0ODAuMDczNyBDMzQxLjk5OTgsNDgwLjA3MzcgMjk3LDQ4MC4wNzM3IDI5Nyw0NzAuMDczNyBMMjk3LDQ0NC43NzY5IiBmaWxsPSIjRThGNUU5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMjk3LDQ0NC43NzY5IEMyOTcsNDU0Ljc3NjkgMzQxLjk5OTgsNDU0Ljc3NjkgMzQxLjk5OTgsNDU0Ljc3NjkgQzM0MS45OTk4LDQ1NC43NzY5IDM4Ni45OTk3LDQ1NC43NzY5IDM4Ni45OTk3LDQ0NC43NzY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIzMDciIHk9IjQ3MS43NzIiPiYjMjAxODE7JiMzNTM3OTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgRmluYW5jaWFsUmVwb3J0cy0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uRmluYW5jaWFsUmVwb3J0cyIgZGF0YS1zb3VyY2UtbGluZT0iMjEiIGlkPSJlbnQwMDA5Ij48cmVjdCBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjY4Ljg5MDYiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExMS42NjAyIiB4PSIyODYuMTciIHk9IjU0MS4wNzY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4OS42NjAyIiB4PSIyOTcuMTciIHk9IjU2NC4wNzIiPiYjMTcxO0RvY3VtZW50JiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjMwNy4wMDAyIiB5PSI1ODAuMzY4OSI+JiMyNTYxMzsmIzMwNDEwOyYjMzUzMzY7JiMzMTYzOTsmIzI2MzYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIzMDcuMDAwMiIgeT0iNTk2LjY2NTciPiYjMzYwMjQ7JiMyMDUxMTsmIzIzNTUwOyYjMjkwMzE7JiMzNDkyMDs8L3RleHQ+PC9nPjwhLS1saW5rIFNhbGVzSW5wdXQgdG8gU2FsZXNEQi0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAzIiBkYXRhLWVudGl0eS0yPSJlbnQwMDA0IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMjQiIGlkPSJsbmsxMCI+PHBhdGggZD0iTTc4LDEzMS4xNzY5IEM3OCwxNDkuNTA2OSA3OCwxNjcuOTM2OSA3OCwxODUuNDI2OSIgZmlsbD0ibm9uZSIgaWQ9IlNhbGVzSW5wdXQtdG8tU2FsZXNEQiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNzgsMTkxLjQyNjksODIsMTgyLjQyNjksNzgsMTg2LjQyNjksNzQsMTgyLjQyNjksNzgsMTkxLjQyNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgU2FsZXNEQiB0byBTYWxlc1ZvdWNoZXItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNCIgZGF0YS1lbnRpdHktMj0iZW50MDAwNSIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjI1IiBpZD0ibG5rMTEiPjxwYXRoIGQ9Ik03OCwyMzcuNDA2OSBDNzgsMjU5Ljk3NjkgNzgsMjg5LjEzNjkgNzgsMzEyLjk0NjkiIGZpbGw9Im5vbmUiIGlkPSJTYWxlc0RCLXRvLVNhbGVzVm91Y2hlciIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNzgsMzE4Ljk0NjksODIsMzA5Ljk0NjksNzgsMzEzLjk0NjksNzQsMzA5Ljk0NjksNzgsMzE4Ljk0NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgU2FsZXNWb3VjaGVyIHRvIEpvdXJuYWxJbnB1dC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA1IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA3IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMjciIGlkPSJsbmsxMiI+PHBhdGggZD0iTTEzNC4zMSwzNDUuNDg2OSBDMTgzLjIyLDM0NS40ODY5IDI0Ny4wOCwzNDUuNDg2OSAyOTEuOTksMzQ1LjQ4NjkiIGZpbGw9Im5vbmUiIGlkPSJTYWxlc1ZvdWNoZXItdG8tSm91cm5hbElucHV0IiBzdHlsZT0ic3Ryb2tlOiNGRjAwMDA7c3Ryb2tlLXdpZHRoOjI7Ii8+PHBvbHlnb24gZmlsbD0iI0ZGMDAwMCIgcG9pbnRzPSIyOTcuOTksMzQ1LjQ4NjksMjg4Ljk5LDM0MS40ODY5LDI5Mi45OSwzNDUuNDg2OSwyODguOTksMzQ5LjQ4NjksMjk3Ljk5LDM0NS40ODY5IiBzdHlsZT0ic3Ryb2tlOiNGRjAwMDA7c3Ryb2tlLXdpZHRoOjI7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4LjAwMDEiIHg9IjE3Ny40NjE0IiB5PSIzMjMuNTUzOCI+JiMzMjAyNTsmIzIwMjUzOyYjMzEwODA7JiMxMjM5ODsmIzIyMjM4OyYjMzY4NjU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjguODgyOSIgeD0iMTUyLjAyIiB5PSIzMzguNjg2NiI+KCYjMjUxNjM7JiMyMDgzNzsmIzIxMTQ3OyYjMTIzOTU7JiMxMjQyNDsmIzEyNDI3OyYjMjA4Nzc7JiMzMDMzMTsmIzM3NjgyOyk8L3RleHQ+PC9nPjwhLS1saW5rIEpvdXJuYWxJbnB1dCB0byBKb3VybmFsREItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNyIgZGF0YS1lbnRpdHktMj0iZW50MDAwOCIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjI5IiBpZD0ibG5rMTMiPjxwYXRoIGQ9Ik0zNDIsMzcyLjI1NjkgQzM0MiwzOTEuMTc2OSAzNDIsNDEwLjU4NjkgMzQyLDQyOC41MTY5IiBmaWxsPSJub25lIiBpZD0iSm91cm5hbElucHV0LXRvLUpvdXJuYWxEQiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzQyLDQzNC41MTY5LDM0Niw0MjUuNTE2OSwzNDIsNDI5LjUxNjksMzM4LDQyNS41MTY5LDM0Miw0MzQuNTE2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBKb3VybmFsREIgdG8gRmluYW5jaWFsUmVwb3J0cy0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA4IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA5IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMzAiIGlkPSJsbmsxNCI+PHBhdGggZD0iTTM0Miw0ODAuNTM2OSBDMzQyLDQ5Ny41MDY5IDM0Miw1MTUuMjQ2OSAzNDIsNTM0LjYxNjkiIGZpbGw9Im5vbmUiIGlkPSJKb3VybmFsREItdG8tRmluYW5jaWFsUmVwb3J0cyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzQyLDU0MC42MTY5LDM0Niw1MzEuNjE2OSwzNDIsNTM1LjYxNjksMzM4LDUzMS42MTY5LDM0Miw1NDAuNjE2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48P3BsYW50dW1sLXNyYyBWTEJGSnppbTZCdHhodVpBUE9sTXV3STFLMHlUODh0WmFEVzFFOVo0UVlFMk5KY0VUYTE4Ukk4d0EyM3IwV1dnalo1SzRKSkhKSHNtUmJKWlp0NEo5b1YtWExiQS1ZREdTUkJyVlR6eFZrX3ZPbU9wYUhBc0JfdHBqY1lUWU5nTEV4LXZ5dVV4TFV2LXZITWxycHE5bFVycWlITVRWZXhBdnE3enhxRE5qaHZuanlSVEEteHl4MVR0MEIzTTM1bzI1QXVoNTZhQ3VlOXlQV0ZhZVJQTWVDSjYtYmpZNGdmeUExZUNXSm9YRWc5bjlNX0E0UjB2V2pTWFd3bEc2V1VWYzdxcHp0ZnNTWW0xQUNhSjVmMkl5R3psVy1QTHY3aEhPSmFaTU9RMkNqOXJockZwanZmLWhQNUhlQUtpRzFEUHh0MzlQaWhxejg5NjRTQXY3MVg4STAzU19TSlRCZFZrWHZZUF81RlVObFRLREJ0WHAyQW5qSUFZYWRjNlFGT3dtYW5vWm9lTER0bG8xeU9neFRxVFhEd2w0UU5wbkFPT2NpemVaSTVmaEdhZ2hKUWV4dWo2Sk53cFExcTVaU3VvM2ppVGxfcDVfXzVGUjVzNFB4NjNFR0QzaDFkR1Y4ekFYM0JoWU9rSHdCOHctT1lwa0s0b29QY2s5c2FhbTd1c3NRSzlZbEhOZ3lKS0x3WEhBMzh2ZGg4d2ZRWWdrM3dFaXZNeHczVmFCYlBLVEhjaHdlaldQcFVFWTVVLVNxVmt2Z3ZWdEhWN1R6NVUtd01nMGYxWXdnaVBQWkF1M05nRk5WeTc/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<p><strong>アナログ連携の問題点：</strong></p>
<table>
<thead>
<tr>
<th>問題</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>二重入力</td>
<td>営業部門と経理部門で同じ情報を入力する作業負荷</td>
</tr>
<tr>
<td>入力ミス</td>
<td>手入力によるデータ不整合</td>
</tr>
<tr>
<td>タイムラグ</td>
<td>紙伝票の回送による情報遅延</td>
</tr>
<tr>
<td>消費税計算ミス</td>
<td>手計算による誤り</td>
</tr>
<tr>
<td>勘定科目選択ミス</td>
<td>担当者の判断ばらつき</td>
</tr>
</tbody>
</table>
<h4 id="_3">自動仕訳によるデジタル連携<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h4>
<p>自動仕訳処理を導入することで、売上データから仕訳データへの変換を自動化します。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjUxNnB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6ODk0cHg7aGVpZ2h0OjUxNnB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDg5NCA1MTYiIHdpZHRoPSI4OTRweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7JiMyMDk2NjsmIzI5NzAyOyYjMTIzOTg7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7JiMxMjM5ODsmIzI3OTY5OyYjMTI0Mjg7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgxLjk5OTIiIHg9IjM0OS4wMDA0IiB5PSIyMi45OTUxIj4mIzMzMjU4OyYjMjEyMDU7JiMyMDE4MTsmIzM1Mzc5OyYjMjA5NjY7JiMyOTcwMjsmIzEyMzk4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyYjMTIzOTg7JiMyNzk2OTsmIzEyNDI4OzwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgPz8/Py0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIxMiIgaWQ9ImVudDAwMDIiPjxwYXRoIGQ9Ik04LjUsNDcuNzk2OSBMNjUuNDk5OCw0Ny43OTY5IEEzLjc1LDMuNzUgMCAwIDEgNjcuOTk5OCw1MC4yOTY5IEw3NC45OTk4LDcwLjA5MzggTDE1My41LDcwLjA5MzggQTIuNSwyLjUgMCAwIDEgMTU2LDcyLjU5MzggTDE1NiwzOTQuODc2OSBBMi41LDIuNSAwIDAgMSAxNTMuNSwzOTcuMzc2OSBMOC41LDM5Ny4zNzY5IEEyLjUsMi41IDAgMCAxIDYsMzk0Ljg3NjkgTDYsNTAuMjk2OSBBMi41LDIuNSAwIDAgMSA4LjUsNDcuNzk2OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNiIgeDI9Ijc0Ljk5OTgiIHkxPSI3MC4wOTM4IiB5Mj0iNzAuMDkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxMCIgeT0iNjIuNzkyIj4mIzIxOTQyOyYjMjY5ODk7JiMzNzA5NjsmIzM4MjcyOzwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgPz8/Pz8/LS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMTgiIGlkPSJlbnQwMDA2Ij48cGF0aCBkPSJNMTgyLjUsNDMuMjk2OSBMMjY3LjQ5OTYsNDMuMjk2OSBBMy43NSwzLjc1IDAgMCAxIDI2OS45OTk2LDQ1Ljc5NjkgTDI3Ni45OTk2LDY1LjU5MzggTDY0Ni41LDY1LjU5MzggQTIuNSwyLjUgMCAwIDEgNjQ5LDY4LjA5MzggTDY0OSw1MDcuNDY2OSBBMi41LDIuNSAwIDAgMSA2NDYuNSw1MDkuOTY2OSBMMTgyLjUsNTA5Ljk2NjkgQTIuNSwyLjUgMCAwIDEgMTgwLDUwNy40NjY5IEwxODAsNDUuNzk2OSBBMi41LDIuNSAwIDAgMSAxODIuNSw0My4yOTY5IiBmaWxsPSIjRjFGOEU5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIxODAiIHgyPSIyNzYuOTk5NiIgeTE9IjY1LjU5MzgiIHkyPSI2NS41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjE4NCIgeT0iNTguMjkyIj4mIzMzMjU4OyYjMjEyMDU7JiMyMDE4MTsmIzM1Mzc5OyYjMjcyMzE7JiMzMzAyMTs8L3RleHQ+PC9nPjwhLS1jbHVzdGVyID8/Pz8tLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMzAiIGlkPSJlbnQwMDE1Ij48cGF0aCBkPSJNNzY3LjUsNDcuNzk2OSBMODI0LjQ5OTgsNDcuNzk2OSBBMy43NSwzLjc1IDAgMCAxIDgyNi45OTk4LDUwLjI5NjkgTDgzMy45OTk4LDcwLjA5MzggTDg4NC41LDcwLjA5MzggQTIuNSwyLjUgMCAwIDEgODg3LDcyLjU5MzggTDg4NywyNjIuMzM2OSBBMi41LDIuNSAwIDAgMSA4ODQuNSwyNjQuODM2OSBMNzY3LjUsMjY0LjgzNjkgQTIuNSwyLjUgMCAwIDEgNzY1LDI2Mi4zMzY5IEw3NjUsNTAuMjk2OSBBMi41LDIuNSAwIDAgMSA3NjcuNSw0Ny43OTY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI3NjUiIHgyPSI4MzMuOTk5OCIgeTE9IjcwLjA5MzgiIHkyPSI3MC4wOTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9Ijc2OSIgeT0iNjIuNzkyIj4mIzMyMDc2OyYjMjk3MDI7JiMzNzA5NjsmIzM4MjcyOzwvdGV4dD48L2c+PCEtLWVudGl0eSBTYWxlc0lucHV0LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi5TYWxlc0lucHV0IiBkYXRhLXNvdXJjZS1saW5lPSIxMyIgaWQ9ImVudDAwMDMiPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iNTIuNTkzOCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iODcuNTcwMyIgeD0iNDQuMjEiIHk9IjgyLjc5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY1LjU3MDMiIHg9IjU1LjIxIiB5PSIxMDUuNzkyIj4mIzE3MTtTY3JlZW4mIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iNTkuOTk1MyIgeT0iMTIyLjA4ODkiPiYjMjI3NzA7JiMxOTk3ODsmIzIwODM3OyYjMjExNDc7PC90ZXh0PjwvZz48IS0tZW50aXR5IFNhbGVzREItLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLlNhbGVzREIiIGRhdGEtc291cmNlLWxpbmU9IjE0IiBpZD0iZW50MDAwNCI+PHBhdGggZD0iTTQzLDIxMy41MzY5IEM0MywyMDMuNTM2OSA4Ny45OTk4LDIwMy41MzY5IDg3Ljk5OTgsMjAzLjUzNjkgQzg3Ljk5OTgsMjAzLjUzNjkgMTMyLjk5OTcsMjAzLjUzNjkgMTMyLjk5OTcsMjEzLjUzNjkgTDEzMi45OTk3LDIzOC44MzM4IEMxMzIuOTk5NywyNDguODMzOCA4Ny45OTk4LDI0OC44MzM4IDg3Ljk5OTgsMjQ4LjgzMzggQzg3Ljk5OTgsMjQ4LjgzMzggNDMsMjQ4LjgzMzggNDMsMjM4LjgzMzggTDQzLDIxMy41MzY5IiBmaWxsPSIjRThGNUU5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNDMsMjEzLjUzNjkgQzQzLDIyMy41MzY5IDg3Ljk5OTgsMjIzLjUzNjkgODcuOTk5OCwyMjMuNTM2OSBDODcuOTk5OCwyMjMuNTM2OSAxMzIuOTk5NywyMjMuNTM2OSAxMzIuOTk5NywyMTMuNTM2OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iNTMiIHk9IjI0MC41MzIiPiYjMjI3NzA7JiMxOTk3ODsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgU2FsZXNMaXN0LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi5TYWxlc0xpc3QiIGRhdGEtc291cmNlLWxpbmU9IjE1IiBpZD0iZW50MDAwNSI+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSI2OC44OTA2IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMTcuOTk5NiIgeD0iMjIiIHk9IjMxMi40ODY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4OS42NjAyIiB4PSIzNi4xNjk3IiB5PSIzMzUuNDgyIj4mIzE3MTtEb2N1bWVudCYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSIzMiIgeT0iMzUxLjc3ODkiPiYjMjI3NzA7JiMxOTk3ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMzIiIHk9IjM2OC4wNzU3Ij4mIzEyNDgxOyYjMTI0NTU7JiMxMjQ4MzsmIzEyNDYzOyYjMTI1MjI7JiMxMjQ3MzsmIzEyNDg4OzwvdGV4dD48L2c+PCEtLWVudGl0eSBQYXR0ZXJuTWFzdGVyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLlBhdHRlcm5NYXN0ZXIiIGRhdGEtc291cmNlLWxpbmU9IjE5IiBpZD0iZW50MDAwNyI+PHBhdGggZD0iTTE5Niw4OC4yOTY5IEMxOTYsNzguMjk2OSAyNTQuOTk5OCw3OC4yOTY5IDI1NC45OTk4LDc4LjI5NjkgQzI1NC45OTk4LDc4LjI5NjkgMzEzLjk5OTYsNzguMjk2OSAzMTMuOTk5Niw4OC4yOTY5IEwzMTMuOTk5NiwxMjkuODkwNiBDMzEzLjk5OTYsMTM5Ljg5MDYgMjU0Ljk5OTgsMTM5Ljg5MDYgMjU0Ljk5OTgsMTM5Ljg5MDYgQzI1NC45OTk4LDEzOS44OTA2IDE5NiwxMzkuODkwNiAxOTYsMTI5Ljg5MDYgTDE5Niw4OC4yOTY5IiBmaWxsPSIjRThGNUU5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMTk2LDg4LjI5NjkgQzE5Niw5OC4yOTY5IDI1NC45OTk4LDk4LjI5NjkgMjU0Ljk5OTgsOTguMjk2OSBDMjU0Ljk5OTgsOTguMjk2OSAzMTMuOTk5Niw5OC4yOTY5IDMxMy45OTk2LDg4LjI5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjIwNiIgeT0iMTE1LjI5MiI+JiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMjA2IiB5PSIxMzEuNTg4OSI+JiMxMjQ5NzsmIzEyNDc5OyYjMTI1NDA7JiMxMjUzMTsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgQXV0b0pvdXJuYWxQcm9jZXNzLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLkF1dG9Kb3VybmFsUHJvY2VzcyIgZGF0YS1zb3VyY2UtbGluZT0iMjAiIGlkPSJlbnQwMDA4Ij48cmVjdCBmaWxsPSIjNENBRjUwIiBoZWlnaHQ9IjUyLjU5MzgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEwMy45OTk2IiB4PSIxOTYiIHk9IjE5OS44ODY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MC43OTMiIHg9IjIxMi42MDMzIiB5PSIyMjIuODgyIj4mIzE3MTtQcm9jZXNzJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjIwNiIgeT0iMjM5LjE3ODkiPiYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7JiMyMDk2NjsmIzI5NzAyOzwvdGV4dD48L2c+PCEtLWVudGl0eSBBdXRvSm91cm5hbERCLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLkF1dG9Kb3VybmFsREIiIGRhdGEtc291cmNlLWxpbmU9IjIxIiBpZD0iZW50MDAwOSI+PHBhdGggZD0iTTMzNSwyMTMuNTM2OSBDMzM1LDIwMy41MzY5IDM5My45OTk4LDIwMy41MzY5IDM5My45OTk4LDIwMy41MzY5IEMzOTMuOTk5OCwyMDMuNTM2OSA0NTIuOTk5NiwyMDMuNTM2OSA0NTIuOTk5NiwyMTMuNTM2OSBMNDUyLjk5OTYsMjM4LjgzMzggQzQ1Mi45OTk2LDI0OC44MzM4IDM5My45OTk4LDI0OC44MzM4IDM5My45OTk4LDI0OC44MzM4IEMzOTMuOTk5OCwyNDguODMzOCAzMzUsMjQ4LjgzMzggMzM1LDIzOC44MzM4IEwzMzUsMjEzLjUzNjkiIGZpbGw9IiNFOEY1RTkiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0zMzUsMjEzLjUzNjkgQzMzNSwyMjMuNTM2OSAzOTMuOTk5OCwyMjMuNTM2OSAzOTMuOTk5OCwyMjMuNTM2OSBDMzkzLjk5OTgsMjIzLjUzNjkgNDUyLjk5OTYsMjIzLjUzNjkgNDUyLjk5OTYsMjEzLjUzNjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjM0NSIgeT0iMjQwLjUzMiI+JiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgRXJyb3JEQi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uLi5FcnJvckRCIiBkYXRhLXNvdXJjZS1saW5lPSIyMiIgaWQ9ImVudDAwMTAiPjxwYXRoIGQ9Ik0xOTYsMzM0LjI3NjkgQzE5NiwzMjQuMjc2OSAyNDcuOTk5OCwzMjQuMjc2OSAyNDcuOTk5OCwzMjQuMjc2OSBDMjQ3Ljk5OTgsMzI0LjI3NjkgMjk5Ljk5OTYsMzI0LjI3NjkgMjk5Ljk5OTYsMzM0LjI3NjkgTDI5OS45OTk2LDM1OS41NzM4IEMyOTkuOTk5NiwzNjkuNTczOCAyNDcuOTk5OCwzNjkuNTczOCAyNDcuOTk5OCwzNjkuNTczOCBDMjQ3Ljk5OTgsMzY5LjU3MzggMTk2LDM2OS41NzM4IDE5NiwzNTkuNTczOCBMMTk2LDMzNC4yNzY5IiBmaWxsPSIjRThGNUU5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMTk2LDMzNC4yNzY5IEMxOTYsMzQ0LjI3NjkgMjQ3Ljk5OTgsMzQ0LjI3NjkgMjQ3Ljk5OTgsMzQ0LjI3NjkgQzI0Ny45OTk4LDM0NC4yNzY5IDI5OS45OTk2LDM0NC4yNzY5IDI5OS45OTk2LDMzNC4yNzY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSIyMDYiIHk9IjM2MS4yNzIiPiYjMTI0NTY7JiMxMjUyMTsmIzEyNTQwOyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48L2c+PCEtLWVudGl0eSBFcnJvckxpc3QtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLi4uRXJyb3JMaXN0IiBkYXRhLXNvdXJjZS1saW5lPSIyMyIgaWQ9ImVudDAwMTEiPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iNTIuNTkzOCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTExLjY2MDIiIHg9IjE5Ni4xNyIgeT0iNDQxLjM3NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg5LjY2MDIiIHg9IjIwNy4xNyIgeT0iNDY0LjM3MiI+JiMxNzE7RG9jdW1lbnQmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMjEwLjAwMDMiIHk9IjQ4MC42Njg5Ij4mIzEyNDU2OyYjMTI1MjE7JiMxMjU0MDsmIzEyNTIyOyYjMTI0NzM7JiMxMjQ4ODs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgQXV0b0pvdXJuYWxMaXN0LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLkF1dG9Kb3VybmFsTGlzdCIgZGF0YS1zb3VyY2UtbGluZT0iMjQiIGlkPSJlbnQwMDEyIj48cmVjdCBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjY4Ljg5MDYiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExNy45OTk2IiB4PSIzMzUiIHk9IjMxMi40ODY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4OS42NjAyIiB4PSIzNDkuMTY5NyIgeT0iMzM1LjQ4MiI+JiMxNzE7RG9jdW1lbnQmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMzQ1IiB5PSIzNTEuNzc4OSI+JiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMzQ1IiB5PSIzNjguMDc1NyI+JiMxMjQ4MTsmIzEyNDU1OyYjMTI0ODM7JiMxMjQ2MzsmIzEyNTIyOyYjMTI0NzM7JiMxMjQ4ODs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgUG9zdGluZ1Byb2Nlc3MtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLi4uUG9zdGluZ1Byb2Nlc3MiIGRhdGEtc291cmNlLWxpbmU9IjI2IiBpZD0iZW50MDAxMyI+PHJlY3QgZmlsbD0iIzRDQUY1MCIgaGVpZ2h0PSI1Mi41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI5Mi43OTMiIHg9IjU0MC42IiB5PSIxOTkuODg2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzAuNzkzIiB4PSI1NTEuNiIgeT0iMjIyLjg4MiI+JiMxNzE7UHJvY2VzcyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI1NTguOTk2NiIgeT0iMjM5LjE3ODkiPiYjMzY1Nzg7JiMzNTM1MjsmIzIwOTY2OyYjMjk3MDI7PC90ZXh0PjwvZz48IS0tZW50aXR5IFN3aXRjaC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uLi5Td2l0Y2giIGRhdGEtc291cmNlLWxpbmU9IjI3IiBpZD0iZW50MDAxNCI+PGVsbGlwc2UgY3g9IjQ5NyIgY3k9IjIyNi4xODY5IiBmaWxsPSIjRjFGMUYxIiByeD0iOCIgcnk9IjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48IS0tZW50aXR5IEpvdXJuYWxJbnB1dC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uSm91cm5hbElucHV0IiBkYXRhLXNvdXJjZS1saW5lPSIzMSIgaWQ9ImVudDAwMTYiPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iNTIuNTkzOCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iODcuNTcwMyIgeD0iNzgzLjIxIiB5PSI4Mi43OTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NS41NzAzIiB4PSI3OTQuMjEiIHk9IjEwNS43OTIiPiYjMTcxO1NjcmVlbiYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI3OTguOTk1MyIgeT0iMTIyLjA4ODkiPiYjMjAxODE7JiMzNTM3OTsmIzIwODM3OyYjMjExNDc7PC90ZXh0PjwvZz48IS0tZW50aXR5IEpvdXJuYWxEQi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uSm91cm5hbERCIiBkYXRhLXNvdXJjZS1saW5lPSIzMiIgaWQ9ImVudDAwMTciPjxwYXRoIGQ9Ik03ODEsMjEzLjUzNjkgQzc4MSwyMDMuNTM2OSA4MjUuOTk5OCwyMDMuNTM2OSA4MjUuOTk5OCwyMDMuNTM2OSBDODI1Ljk5OTgsMjAzLjUzNjkgODcwLjk5OTcsMjAzLjUzNjkgODcwLjk5OTcsMjEzLjUzNjkgTDg3MC45OTk3LDIzOC44MzM4IEM4NzAuOTk5NywyNDguODMzOCA4MjUuOTk5OCwyNDguODMzOCA4MjUuOTk5OCwyNDguODMzOCBDODI1Ljk5OTgsMjQ4LjgzMzggNzgxLDI0OC44MzM4IDc4MSwyMzguODMzOCBMNzgxLDIxMy41MzY5IiBmaWxsPSIjRThGNUU5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNzgxLDIxMy41MzY5IEM3ODEsMjIzLjUzNjkgODI1Ljk5OTgsMjIzLjUzNjkgODI1Ljk5OTgsMjIzLjUzNjkgQzgyNS45OTk4LDIyMy41MzY5IDg3MC45OTk3LDIyMy41MzY5IDg3MC45OTk3LDIxMy41MzY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSI3OTEiIHk9IjI0MC41MzIiPiYjMjAxODE7JiMzNTM3OTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkdNTjI3IiBkYXRhLXNvdXJjZS1saW5lPSI0NiIgaWQ9ImVudDAwMjgiPjxwYXRoIGQ9Ik02NjUuNDMsOTYuNTI2OSBMNjY1LjQzLDEyMS42NTk3IEw3NDguNTczNiwxMjEuNjU5NyBMNzQ4LjU3MzYsMTA2LjUyNjkgTDczOC41NzM2LDk2LjUyNjkgTDY2NS40Myw5Ni41MjY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNzM4LjU3MzYsOTYuNTI2OSBMNzM4LjU3MzYsMTA2LjUyNjkgTDc0OC41NzM2LDEwNi41MjY5IEw3MzguNTczNiw5Ni41MjY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjIuMTQzNiIgeD0iNjcxLjQzIiB5PSIxMTMuNTkzOCI+KCYjMzY1Nzg7JiMzNTM1MjsmIzI1MzUxOyYjMzEwMzQ7KTwvdGV4dD48L2c+PCEtLWxpbmsgU2FsZXNJbnB1dCB0byBTYWxlc0RCLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDMiIGRhdGEtZW50aXR5LTI9ImVudDAwMDQiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIzNSIgaWQ9ImxuazE4Ij48cGF0aCBkPSJNODgsMTM1LjYzNjkgQzg4LDE1NS44OTY5IDg4LDE3Ny45MjY5IDg4LDE5Ny4yMDY5IiBmaWxsPSJub25lIiBpZD0iU2FsZXNJbnB1dC10by1TYWxlc0RCIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI4OCwyMDMuMjA2OSw5MiwxOTQuMjA2OSw4OCwxOTguMjA2OSw4NCwxOTQuMjA2OSw4OCwyMDMuMjA2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBTYWxlc0RCIHRvIFNhbGVzTGlzdC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA0IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA1IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMzYiIGlkPSJsbmsxOSI+PHBhdGggZD0iTTg2LjcsMjQ5LjIzNjkgQzg1LjY2LDI2Ni45NDY5IDg0LjUyMjUsMjg2LjEwNzIgODMuMzMyNSwzMDYuMzI3MiIgZmlsbD0ibm9uZSIgaWQ9IlNhbGVzREItdG8tU2FsZXNMaXN0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI4Mi45OCwzMTIuMzE2OSw4Ny41MDE4LDMwMy41Njc0LDgzLjI3MzgsMzA3LjMyNTUsNzkuNTE1NywzMDMuMDk3NCw4Mi45OCwzMTIuMzE2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBTYWxlc0RCIHRvIEF1dG9Kb3VybmFsUHJvY2Vzcy0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA0IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA4IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMzgiIGlkPSJsbmsyMCI+PHBhdGggZD0iTTEzMy4zMSwyMjYuMTg2OSBDMTU0LjA3LDIyNi4xODY5IDE2OC44MywyMjYuMTg2OSAxODkuNTgsMjI2LjE4NjkiIGZpbGw9Im5vbmUiIGlkPSJTYWxlc0RCLXRvLUF1dG9Kb3VybmFsUHJvY2VzcyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTk1LjU4LDIyNi4xODY5LDE4Ni41OCwyMjIuMTg2OSwxOTAuNTgsMjI2LjE4NjksMTg2LjU4LDIzMC4xODY5LDE5NS41OCwyMjYuMTg2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBQYXR0ZXJuTWFzdGVyIHRvIEF1dG9Kb3VybmFsUHJvY2Vzcy0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA3IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA4IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMzkiIGlkPSJsbmsyMSI+PHBhdGggZD0iTTI1My4xNiwxNDAuMzI2OSBDMjUyLjA0LDE1OC43MTY5IDI1MC45OTI4LDE3NS45NDc5IDI0OS45MzI4LDE5My40NDc5IiBmaWxsPSJub25lIiBpZD0iUGF0dGVybk1hc3Rlci10by1BdXRvSm91cm5hbFByb2Nlc3MiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI0OS41NywxOTkuNDM2OSwyNTQuMTA2OCwxOTAuNjk1MiwyNDkuODcyMywxOTQuNDQ2LDI0Ni4xMjE1LDE5MC4yMTE1LDI0OS41NywxOTkuNDM2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBBdXRvSm91cm5hbFByb2Nlc3MgdG8gQXV0b0pvdXJuYWxEQi0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA4IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA5IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iNDAiIGlkPSJsbmsyMiI+PHBhdGggZD0iTTMwMC40NywyMjYuMTg2OSBDMzExLjkyLDIyNi4xODY5IDMxNy4zNiwyMjYuMTg2OSAzMjguODEsMjI2LjE4NjkiIGZpbGw9Im5vbmUiIGlkPSJBdXRvSm91cm5hbFByb2Nlc3MtdG8tQXV0b0pvdXJuYWxEQiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzM0LjgxLDIyNi4xODY5LDMyNS44MSwyMjIuMTg2OSwzMjkuODEsMjI2LjE4NjksMzI1LjgxLDIzMC4xODY5LDMzNC44MSwyMjYuMTg2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBBdXRvSm91cm5hbFByb2Nlc3MgdG8gRXJyb3JEQi0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA4IiBkYXRhLWVudGl0eS0yPSJlbnQwMDEwIiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iNDEiIGlkPSJsbmsyMyI+PHBhdGggZD0iTTI0OCwyNTIuOTQ2OSBDMjQ4LDI3NC4wOTY5IDI0OCwyOTcuNzE2OSAyNDgsMzE3LjgwNjkiIGZpbGw9Im5vbmUiIGlkPSJBdXRvSm91cm5hbFByb2Nlc3MtdG8tRXJyb3JEQiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjQ4LDMyMy44MDY5LDI1MiwzMTQuODA2OSwyNDgsMzE4LjgwNjksMjQ0LDMxNC44MDY5LDI0OCwzMjMuODA2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBFcnJvckRCIHRvIEVycm9yTGlzdC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDEwIiBkYXRhLWVudGl0eS0yPSJlbnQwMDExIiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iNDIiIGlkPSJsbmsyNCI+PHBhdGggZD0iTTI0OC43NCwzNjkuOTg2OSBDMjQ5LjQyLDM5MC4xMDY5IDI1MC4yMTYyLDQxMy44NDAzIDI1MC45MzYyLDQzNS4wMjAzIiBmaWxsPSJub25lIiBpZD0iRXJyb3JEQi10by1FcnJvckxpc3QiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI1MS4xNCw0NDEuMDE2OSwyNTQuODMxOSw0MzEuODg2MiwyNTAuOTcwMSw0MzYuMDE5OCwyNDYuODM2NSw0MzIuMTU4LDI1MS4xNCw0NDEuMDE2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBBdXRvSm91cm5hbERCIHRvIEF1dG9Kb3VybmFsTGlzdC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA5IiBkYXRhLWVudGl0eS0yPSJlbnQwMDEyIiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iNDMiIGlkPSJsbmsyNSI+PHBhdGggZD0iTTM5NCwyNDkuMjM2OSBDMzk0LDI2Ni45NDY5IDM5NCwyODYuMDk2OSAzOTQsMzA2LjMxNjkiIGZpbGw9Im5vbmUiIGlkPSJBdXRvSm91cm5hbERCLXRvLUF1dG9Kb3VybmFsTGlzdCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzk0LDMxMi4zMTY5LDM5OCwzMDMuMzE2OSwzOTQsMzA3LjMxNjksMzkwLDMwMy4zMTY5LDM5NCwzMTIuMzE2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBBdXRvSm91cm5hbERCIHRvIFN3aXRjaC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA5IiBkYXRhLWVudGl0eS0yPSJlbnQwMDE0IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iNDUiIGlkPSJsbmsyNiI+PHBhdGggZD0iTTQ1My4xNCwyMjYuMTg2OSBDNDY0LjY4LDIyNi4xODY5IDQ3MC4yMSwyMjYuMTg2OSA0ODEuNzUsMjI2LjE4NjkiIGZpbGw9Im5vbmUiIGlkPSJBdXRvSm91cm5hbERCLXRvLVN3aXRjaCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNDg3Ljc1LDIyNi4xODY5LDQ3OC43NSwyMjIuMTg2OSw0ODIuNzUsMjI2LjE4NjksNDc4Ljc1LDIzMC4xODY5LDQ4Ny43NSwyMjYuMTg2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBHTU4yNyB0byBTd2l0Y2gtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAyOCIgZGF0YS1lbnRpdHktMj0iZW50MDAxNCIgZGF0YS1saW5rLXR5cGU9ImFzc29jaWF0aW9uIiBkYXRhLXNvdXJjZS1saW5lPSI0NiIgaWQ9ImxuazI5Ij48cGF0aCBkPSJNNjgzLjk0LDEyMi4xMzY5IEM2NzMuMzMsMTI3LjYyNjkgNjYwLjU3LDEzNC4xNjY5IDY0OSwxMzkuODg2OSBDNTkzLjQxLDE2Ny4zOTY5IDU3My45MSwxNjQuNDU2OSA1MjMsMTk5Ljg4NjkgQzUxNS45NywyMDQuNzc2OSA1MDkuMDcsMjExLjYxNjkgNTA0LjE1LDIxNi45NDY5IiBmaWxsPSJub25lIiBpZD0iR01OMjctU3dpdGNoIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTo3LDc7Ii8+PC9nPjwhLS1saW5rIFN3aXRjaCB0byBQb3N0aW5nUHJvY2Vzcy0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDE0IiBkYXRhLWVudGl0eS0yPSJlbnQwMDEzIiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iNDciIGlkPSJsbmszMCI+PHBhdGggZD0iTTUwNi40OSwyMjYuMTg2OSBDNTE3LjcxLDIyNi4xODY5IDUyMi45MywyMjYuMTg2OSA1MzQuMTQsMjI2LjE4NjkiIGZpbGw9Im5vbmUiIGlkPSJTd2l0Y2gtdG8tUG9zdGluZ1Byb2Nlc3MiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjU0MC4xNCwyMjYuMTg2OSw1MzEuMTQsMjIyLjE4NjksNTM1LjE0LDIyNi4xODY5LDUzMS4xNCwyMzAuMTg2OSw1NDAuMTQsMjI2LjE4NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgUG9zdGluZ1Byb2Nlc3MgdG8gSm91cm5hbERCLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMTMiIGRhdGEtZW50aXR5LTI9ImVudDAwMTciIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI0OCIgaWQ9ImxuazMxIj48cGF0aCBkPSJNNjMzLjY4LDIyNi4xODY5IEM2ODIuNjQsMjI2LjE4NjkgNzI1LjU5LDIyNi4xODY5IDc3NC41NSwyMjYuMTg2OSIgZmlsbD0ibm9uZSIgaWQ9IlBvc3RpbmdQcm9jZXNzLXRvLUpvdXJuYWxEQiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNzgwLjU1LDIyNi4xODY5LDc3MS41NSwyMjIuMTg2OSw3NzUuNTUsMjI2LjE4NjksNzcxLjU1LDIzMC4xODY5LDc4MC41NSwyMjYuMTg2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBKb3VybmFsSW5wdXQgdG8gSm91cm5hbERCLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMTYiIGRhdGEtZW50aXR5LTI9ImVudDAwMTciIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI1MCIgaWQ9ImxuazMyIj48cGF0aCBkPSJNODI2Ljc4LDEzNS42MzY5IEM4MjYuNiwxNTUuODk2OSA4MjYuNDEyOSwxNzcuOTI3MSA4MjYuMjQyOSwxOTcuMjA3MSIgZmlsbD0ibm9uZSIgaWQ9IkpvdXJuYWxJbnB1dC10by1Kb3VybmFsREIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjgyNi4xOSwyMDMuMjA2OSw4MzAuMjY5MiwxOTQuMjQyNSw4MjYuMjM0MSwxOTguMjA3MSw4MjIuMjY5NSwxOTQuMTcyLDgyNi4xOSwyMDMuMjA2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48P3BsYW50dW1sLXNyYyBWTDkxUW5HbjZCdGRMdUpQWW51QTJYUFFBR0ZUVFhTS1hPS1VsN1k5aXQ1c3czSFBDWGJ3NEM1RXE5TXcxcHNxMjhBMk1qcU1MQjFLcjJoLWM3SHNqX18ycDZ2czlrYkN6dklHbEV6enh0bFZ1bTRGQ0hwdFpqOE5Vc1VkVS1GMVNUaHhEN2h2SkV2eWJROGRuSC1QXzVGdHVTY0VKRmUwSDlpMXdJQTZqWTMzN2FWNEx5TUZHMXJ2Y3B3WkNNY2xxUDBvVUF5SlMwcGdiQktuY3h4S0dtSzFadXR3RGtCZTBPZ2dvY2tEZlVQWU94Y0kwN0pMWU5tQ2ROSl9uXzNXb3hhT2RFeV9TSEhCOFNYOUZ0bV8teGNSRlpyOFR6eXU0NExtMHVLdWthTXdDT1NoQW5pVW12WXVCaVdidzg5eXVBOWNsTHhjbEstYUs2dnliYUI4djlpS0hwQnY5U05wZWtYRTQ2THpyZ2FOUnM3MkxJVEpqLWRyeUYzVE1GbnJPQXJ2bFJkS001UEo1OWZDTkRSb0xSTzk5S3lTSV80c1F3YnJqWDNkYzk2eEE1QTdnUlF5cjBiLURVUnFEZXFQR002QktHejdhVEFnUnd1QlFwVk1MZmtCcm91SE9iamFLMmNaWVdnUDNBR3VkOFdydUd0NkFCQ1REUDJjWkhEYXNTUEJYZmt0NDREWWNTeVlGN3FfN2htc1Y2aEhZMFY0ZC1VSDVwMGxndU5KdE15N3RFak9rbndUejFMVFBLUnJOZWdDUWZMcEtiZ3JXaTktclRVOC1LQVJSZkM1RHEtbkZrdHRwMTVHVkI3MHh0M3JMcXU4aTRBTWFyRzBBejlMblFpS0xJNHJ4b21lLWhKVjl3OGpnWWV6cXo0a202UDJ6QU84dkhYb3NlTnFlTncyRC02TFFIMjZfVHhldS0taEdCX2RmTk9nbThNR3ZCMVlKNjNqVFFPcV9feUY/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_4">自動仕訳処理の流れ<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkFDVElWSVRZIiBoZWlnaHQ9IjgwNXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6Nzg2cHg7aGVpZ2h0OjgwNXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDc4NiA4MDUiIHdpZHRoPSI3ODZweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7JiMyMDk2NjsmIzI5NzAyOyYjMTI1MDE7JiMxMjUyNTsmIzEyNTQwOzwvdGl0bGU+PGRlZnMvPjxnPjxnIGNsYXNzPSJ0aXRsZSIgZGF0YS1zb3VyY2UtbGluZT0iMSI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNS45OTk1IiB4PSIzMjguOTMxOSIgeT0iMzIuOTk1MSI+JiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTsmIzIwOTY2OyYjMjk3MDI7JiMxMjUwMTsmIzEyNTI1OyYjMTI1NDA7PC90ZXh0PjwvZz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjIwLjk1MzEiIHN0eWxlPSJzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI3NTMuODYzMiIgeD0iMTUiIHk9IjUwLjA0MiIvPjxlbGxpcHNlIGN4PSI1Ni45OTk4IiBjeT0iODUuOTk1MSIgZmlsbD0iIzIyMjIyMiIgcng9IjEwIiByeT0iMTAiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNjguMDAwNCIgeD0iMjIuOTk5NiIgeT0iMTE1Ljk5NTEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OC4wMDA0IiB4PSIzMi45OTk2IiB5PSIxMzcuMTMzOCI+JiMyMjc3MDsmIzE5OTc4OyYjMzAzMzE7JiMzNzY4Mjs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMTUiIHgyPSIxNSIgeTE9IjUwLjA0MiIgeTI9Ijc5My45Nzk1Ii8+PHBhdGggZD0iTTMyMi4wMDA4LDE2Ni44MTU0IEwzMjIuMDAwOCwxODIuOTQ4MiBMMzAyLjAwMDgsMTg2Ljk0ODIgTDMyMi4wMDA4LDE5MC45NDgyIEwzMjIuMDAwOCwyMDcuMDgxMSBBMCwwIDAgMCAwIDMyMi4wMDA4LDIwNy4wODExIEw0ODYuMDAxLDIwNy4wODExIEEwLDAgMCAwIDAgNDg2LjAwMSwyMDcuMDgxMSBMNDg2LjAwMSwxNzYuODE1NCBMNDc2LjAwMSwxNjYuODE1NCBMMzIyLjAwMDgsMTY2LjgxNTQgQTAsMCAwIDAgMCAzMjIuMDAwOCwxNjYuODE1NCIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTQ3Ni4wMDEsMTY2LjgxNTQgTDQ3Ni4wMDEsMTc2LjgxNTQgTDQ4Ni4wMDEsMTc2LjgxNTQgTDQ3Ni4wMDEsMTY2LjgxNTQiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMC4wMDAyIiB4PSIzMjguMDAwOCIgeT0iMTgzLjg4MjMiPiYjMjY0MTA7JiMyMDk2NjsmIzI5NzAyOyYjMTIzOTg7JiMyMjc3MDsmIzE5OTc4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyYjMTI0MzQ7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0My4wMDAyIiB4PSIzMjguMDAwOCIgeT0iMTk5LjAxNTEiPiYjMjUyNzc7JiMyMDk4NjsmIzI2NDY1OyYjMjAyMTQ7JiMxMjM5NTsmIzIyNTIyOyYjMTIzODk7JiMxMjM1NjsmIzEyMzkwOyYjMjE0NjI7JiMyNDQ3MTs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEwNC4wMDA2IiB4PSIxOTguMDAwMSIgeT0iMTY5Ljk2MzkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NC4wMDA2IiB4PSIyMDguMDAwMSIgeT0iMTkxLjEwMjUiPiYjMjI3NzA7JiMxOTk3ODsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsmIzI1Mjc3OyYjMjA5ODY7PC90ZXh0PjxwYXRoIGQ9Ik0zMzQuMDAwOSwyMjMuOTMyNiBMMzM0LjAwMDksMjQwLjA2NTQgTDMxNC4wMDA5LDI0NC4wNjU0IEwzMzQuMDAwOSwyNDguMDY1NCBMMzM0LjAwMDksMjY0LjE5ODIgQTAsMCAwIDAgMCAzMzQuMDAwOSwyNjQuMTk4MiBMNTI0LjAwMTEsMjY0LjE5ODIgQTAsMCAwIDAgMCA1MjQuMDAxMSwyNjQuMTk4MiBMNTI0LjAwMTEsMjMzLjkzMjYgTDUxNC4wMDExLDIyMy45MzI2IEwzMzQuMDAwOSwyMjMuOTMyNiBBMCwwIDAgMCAwIDMzNC4wMDA5LDIyMy45MzI2IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNTE0LjAwMTEsMjIzLjkzMjYgTDUxNC4wMDExLDIzMy45MzI2IEw1MjQuMDAxMSwyMzMuOTMyNiBMNTE0LjAwMTEsMjIzLjkzMjYiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0My4wMDAyIiB4PSIzNDAuMDAwOSIgeT0iMjQwLjk5OTUiPiYjMjE4MzA7JiMyMTY5NzsmIzIxMzA2OyYjMjA5OTg7JiMxMjUzOTsmIzM5MDE1OyYjMjM0NTg7JiMyMTMwNjsmIzIwOTk4OyYjMTIzNjM7JiMxMjQyNTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY5LjAwMDIiIHg9IjM0MC4wMDA5IiB5PSIyNTYuMTMyMyI+JiMzNjk2OTsmIzI5OTkyOyYjMTIzNzc7JiMxMjQyNzsmIzIwMTgxOyYjMzUzNzk7JiMxMjQ5NzsmIzEyNDc5OyYjMTI1NDA7JiMxMjUzMTsmIzEyNDM0OyYjMjc3NzA7JiMyMzQ1MDs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyOC4wMDA4IiB4PSIxODYuMDAwMSIgeT0iMjI3LjA4MTEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDguMDAwOCIgeD0iMTk2LjAwMDEiIHk9IjI0OC4yMTk3Ij4mIzEyNDk3OyYjMTI0Nzk7JiMxMjU0MDsmIzEyNTMxOyYjMTI1MTA7JiMxMjQ4MzsmIzEyNDgxOyYjMTI1MzE7JiMxMjQ2NDs8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0YxRjFGMSIgcG9pbnRzPSIyMTEuNTAwNywyODQuMTk4MiwyODguNTAwMiwyODQuMTk4MiwzMDAuNTAwMiwyOTYuMTk4MiwyODguNTAwMiwzMDguMTk4MiwyMTEuNTAwNywzMDguMTk4MiwxOTkuNTAwNywyOTYuMTk4MiwyMTEuNTAwNywyODQuMTk4MiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzYuOTk5NSIgeD0iMjExLjUwMDciIHk9IjMwMC4wMDYzIj4mIzEyNDk3OyYjMTI0Nzk7JiMxMjU0MDsmIzEyNTMxOyYjMzY5Njk7JiMyMTUxMjsmIzY1MzExOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMS45OTk4IiB4PSIxNzcuNTAwOSIgeT0iMjkzLjYwNCI+JiMxMjM5OTsmIzEyMzU2OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMi45OTk4IiB4PSIzMDAuNTAwMiIgeT0iMjkzLjYwNCI+JiMxMjM1NjsmIzEyMzU2OyYjMTIzNjA7PC90ZXh0PjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDQuMDAwNiIgeD0iMTIwLjk5OTciIHk9IjMxOC4xOTgyIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODQuMDAwNiIgeD0iMTMwLjk5OTciIHk9IjMzOS4zMzY5Ij4mIzIwMTgxOyYjMzUzNzk7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7JiMyOTk4MzsmIzI1MTA0OzwvdGV4dD48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTQwLjAwMDkiIHg9IjEwMi45OTk2IiB5PSIzNzIuMTY3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIwLjAwMDkiIHg9IjExMi45OTk2IiB5PSIzOTMuMzA1NyI+JiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsmIzEyMzk1OyYjMjA0NDU7JiMyMzM4NDs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyOC4wMDA4IiB4PSIyNjMuMDAwNSIgeT0iMzE4LjE5ODIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDguMDAwOCIgeD0iMjczLjAwMDUiIHk9IjMzOS4zMzY5Ij4mIzEyNDU2OyYjMTI1MjE7JiMxMjU0MDsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsmIzEyMzk1OyYjMjA0NDU7JiMyMzM4NDs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExNi4wMDA3IiB4PSIyNjkuMDAwNSIgeT0iMzcyLjE2NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk2LjAwMDciIHg9IjI3OS4wMDA1IiB5PSIzOTMuMzA1NyI+JiMxMjQ1NjsmIzEyNTIxOyYjMTI1NDA7JiMxMjUyMjsmIzEyNDczOyYjMTI0ODg7JiMyMDk4NjsmIzIxMTQ3OzwvdGV4dD48ZWxsaXBzZSBjeD0iMzI3LjAwMDkiIGN5PSI0MzcuMTM1NyIgZmlsbD0ibm9uZSIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48ZWxsaXBzZSBjeD0iMzI3LjAwMDkiIGN5PSI0MzcuMTM1NyIgZmlsbD0iIzIyMjIyMiIgcng9IjYiIHJ5PSI2IiBzdHlsZT0ic3Ryb2tlOiMyMjIyMjI7c3Ryb2tlLXdpZHRoOjE7Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE4OC4wMDEzIiB4PSIxNTUuOTk5OCIgeT0iNDY4LjEzNTciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjguMDAxMyIgeD0iMTY1Ljk5OTgiIHk9IjQ4OS4yNzQ0Ij4mIzIyNzcwOyYjMTk5Nzg7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7JiMxMjM5NTsmIzIwOTY2OyYjMjk3MDI7JiMyODE2ODsmIzEyNTAxOyYjMTI1MjE7JiMxMjQ2NDsmIzM1MzczOyYjMjM0NTA7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9Ijk2Ljk5OTYiIHgyPSI5Ni45OTk2IiB5MT0iNTAuMDQyIiB5Mj0iNzkzLjk3OTUiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTc2LjAwMTIiIHg9IjU2Ny4wMDEyIiB5PSI1MjIuMTA0NSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1Ni4wMDEyIiB4PSI1NzcuMDAxMiIgeT0iNTQzLjI0MzIiPiYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7JiMxMjQ4MTsmIzEyNDU1OyYjMTI0ODM7JiMxMjQ2MzsmIzEyNTIyOyYjMTI0NzM7JiMxMjQ4ODsmIzMwOTA2OyYjMzU0Njk7PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNGMUYxRjEiIHBvaW50cz0iNjMwLjU2NjEsNTc2LjA3MzIsNjc5LjQzNzQsNTc2LjA3MzIsNjkxLjQzNzQsNTg4LjA3MzIsNjc5LjQzNzQsNjAwLjA3MzIsNjMwLjU2NjEsNjAwLjA3MzIsNjE4LjU2NjEsNTg4LjA3MzIsNjMwLjU2NjEsNTc2LjA3MzIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ4Ljg3MTQiIHg9IjYzMC41NjYxIiB5PSI1OTEuODgxMyI+JiMzMDkwNjsmIzM1NDY5O09LJiM2NTMxMTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjEuOTk5OCIgeD0iNTk2LjU2NjIiIHk9IjU4NS40NzkiPiYjMTIzOTk7JiMxMjM1Njs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzIuOTk5OCIgeD0iNjkxLjQzNzQiIHk9IjU4NS40NzkiPiYjMTIzNTY7JiMxMjM1NjsmIzEyMzYwOzwvdGV4dD48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iOTIuMDAwNSIgeD0iNTQ3LjAwMTIiIHk9IjYxMC4wNzMyIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzIuMDAwNSIgeD0iNTU3LjAwMTIiIHk9IjYzMS4yMTE5Ij4mIzM2NTc4OyYjMzUzNTI7JiMyMDk2NjsmIzI5NzAyOyYjMjM0NTU7JiMzNDg5Mjs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExNi4wMDA3IiB4PSI1MzUuMDAxMSIgeT0iNjY0LjA0MiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk2LjAwMDciIHg9IjU0NS4wMDExIiB5PSI2ODUuMTgwNyI+JiMyMDE4MTsmIzM1Mzc5OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyYjMTIzOTU7JiMzMDMzMTsmIzM3NjgyOzwvdGV4dD48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iOTIuMDAwNSIgeD0iNjcxLjAwMTgiIHk9IjYxMC4wNzMyIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzIuMDAwNSIgeD0iNjgxLjAwMTgiIHk9IjYzMS4yMTE5Ij4mIzIwNDYyOyYjMjc0OTE7JiMxMjUzOTsmIzIwODc3OyYjMjA5NjY7JiMyOTcwMjs8L3RleHQ+PGVsbGlwc2UgY3g9IjcxNy4wMDIxIiBjeT0iNjc1LjA0MiIgZmlsbD0ibm9uZSIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48ZWxsaXBzZSBjeD0iNzE3LjAwMjEiIGN5PSI2NzUuMDQyIiBmaWxsPSIjMjIyMjIyIiByeD0iNiIgcnk9IjYiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNjguMDAwNCIgeD0iNjIxLjAwMTYiIHk9IjcxOC4wMTA3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDguMDAwNCIgeD0iNjMxLjAwMTYiIHk9IjczOS4xNDk0Ij4mIzIwMTgxOyYjMzUzNzk7JiMyMzQzNjsmIzIwMTAyOzwvdGV4dD48ZWxsaXBzZSBjeD0iNjU1LjAwMTgiIGN5PSI3ODIuOTc5NSIgZmlsbD0ibm9uZSIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48ZWxsaXBzZSBjeD0iNjU1LjAwMTgiIGN5PSI3ODIuOTc5NSIgZmlsbD0iIzIyMjIyMiIgcng9IjYiIHJ5PSI2IiBzdHlsZT0ic3Ryb2tlOiMyMjIyMjI7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNTI5LjAwMTEiIHgyPSI1MjkuMDAxMSIgeTE9IjUwLjA0MiIgeTI9Ijc5My45Nzk1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNzY3LjAwMjQiIHgyPSI3NjcuMDAyNCIgeTE9IjUwLjA0MiIgeTI9Ijc5My45Nzk1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjU2Ljk5OTgiIHgyPSI1Ni45OTk4IiB5MT0iOTUuOTk1MSIgeTI9IjExNS45OTUxIi8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1Mi45OTk4LDEwNS45OTUxLDU2Ljk5OTgsMTE1Ljk5NTEsNjAuOTk5OCwxMDUuOTk1MSw1Ni45OTk4LDEwOS45OTUxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI1MC4wMDA1IiB4Mj0iMjUwLjAwMDUiIHkxPSIyMDMuOTMyNiIgeTI9IjIyNy4wODExIi8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNDYuMDAwNSwyMTcuMDgxMSwyNTAuMDAwNSwyMjcuMDgxMSwyNTQuMDAwNSwyMTcuMDgxMSwyNTAuMDAwNSwyMjEuMDgxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNzMiIHgyPSIxNzMiIHkxPSIzNTIuMTY3IiB5Mj0iMzcyLjE2NyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTY5LDM2Mi4xNjcsMTczLDM3Mi4xNjcsMTc3LDM2Mi4xNjcsMTczLDM2Ni4xNjciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzI3LjAwMDkiIHgyPSIzMjcuMDAwOSIgeTE9IjM1Mi4xNjciIHkyPSIzNzIuMTY3Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzMjMuMDAwOSwzNjIuMTY3LDMyNy4wMDA5LDM3Mi4xNjcsMzMxLjAwMDksMzYyLjE2NywzMjcuMDAwOSwzNjYuMTY3IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMyNy4wMDA5IiB4Mj0iMzI3LjAwMDkiIHkxPSI0MDYuMTM1NyIgeTI9IjQyNi4xMzU3Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzMjMuMDAwOSw0MTYuMTM1NywzMjcuMDAwOSw0MjYuMTM1NywzMzEuMDAwOSw0MTYuMTM1NywzMjcuMDAwOSw0MjAuMTM1NyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxOTkuNTAwNyIgeDI9IjE3MyIgeTE9IjI5Ni4xOTgyIiB5Mj0iMjk2LjE5ODIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTczIiB4Mj0iMTczIiB5MT0iMjk2LjE5ODIiIHkyPSIzMTguMTk4MiIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTY5LDMwOC4xOTgyLDE3MywzMTguMTk4MiwxNzcsMzA4LjE5ODIsMTczLDMxMi4xOTgyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMwMC41MDAyIiB4Mj0iMzI3LjAwMDkiIHkxPSIyOTYuMTk4MiIgeTI9IjI5Ni4xOTgyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMyNy4wMDA5IiB4Mj0iMzI3LjAwMDkiIHkxPSIyOTYuMTk4MiIgeTI9IjMxOC4xOTgyIi8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzMjMuMDAwOSwzMDguMTk4MiwzMjcuMDAwOSwzMTguMTk4MiwzMzEuMDAwOSwzMDguMTk4MiwzMjcuMDAwOSwzMTIuMTk4MiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNzMiIHgyPSIxNzMiIHkxPSI0MDYuMTM1NyIgeTI9IjQ1My4xMzU3Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE3MyIgeDI9IjI1MC4wMDA1IiB5MT0iNDUzLjEzNTciIHkyPSI0NTMuMTM1NyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNTAuMDAwNSIgeDI9IjI1MC4wMDA1IiB5MT0iNDUzLjEzNTciIHkyPSI0NjguMTM1NyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjQ2LjAwMDUsNDU4LjEzNTcsMjUwLjAwMDUsNDY4LjEzNTcsMjU0LjAwMDUsNDU4LjEzNTcsMjUwLjAwMDUsNDYyLjEzNTciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjUwLjAwMDUiIHgyPSIyNTAuMDAwNSIgeTE9IjI2MS4wNDk4IiB5Mj0iMjg0LjE5ODIiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI0Ni4wMDA1LDI3NC4xOTgyLDI1MC4wMDA1LDI4NC4xOTgyLDI1NC4wMDA1LDI3NC4xOTgyLDI1MC4wMDA1LDI3OC4xOTgyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjU5My4wMDE0IiB4Mj0iNTkzLjAwMTQiIHkxPSI2NDQuMDQyIiB5Mj0iNjY0LjA0MiIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTg5LjAwMTQsNjU0LjA0Miw1OTMuMDAxNCw2NjQuMDQyLDU5Ny4wMDE0LDY1NC4wNDIsNTkzLjAwMTQsNjU4LjA0MiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI3MTcuMDAyMSIgeDI9IjcxNy4wMDIxIiB5MT0iNjQ0LjA0MiIgeTI9IjY2NC4wNDIiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjcxMy4wMDIxLDY1NC4wNDIsNzE3LjAwMjEsNjY0LjA0Miw3MjEuMDAyMSw2NTQuMDQyLDcxNy4wMDIxLDY1OC4wNDIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjE4LjU2NjEiIHgyPSI1OTMuMDAxNCIgeTE9IjU4OC4wNzMyIiB5Mj0iNTg4LjA3MzIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTkzLjAwMTQiIHgyPSI1OTMuMDAxNCIgeTE9IjU4OC4wNzMyIiB5Mj0iNjEwLjA3MzIiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjU4OS4wMDE0LDYwMC4wNzMyLDU5My4wMDE0LDYxMC4wNzMyLDU5Ny4wMDE0LDYwMC4wNzMyLDU5My4wMDE0LDYwNC4wNzMyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjY5MS40Mzc0IiB4Mj0iNzE3LjAwMjEiIHkxPSI1ODguMDczMiIgeTI9IjU4OC4wNzMyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjcxNy4wMDIxIiB4Mj0iNzE3LjAwMjEiIHkxPSI1ODguMDczMiIgeTI9IjYxMC4wNzMyIi8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI3MTMuMDAyMSw2MDAuMDczMiw3MTcuMDAyMSw2MTAuMDczMiw3MjEuMDAyMSw2MDAuMDczMiw3MTcuMDAyMSw2MDQuMDczMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI1OTMuMDAxNCIgeDI9IjU5My4wMDE0IiB5MT0iNjk4LjAxMDciIHkyPSI3MDMuMDEwNyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI1OTMuMDAxNCIgeDI9IjY1NS4wMDE4IiB5MT0iNzAzLjAxMDciIHkyPSI3MDMuMDEwNyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI2NTUuMDAxOCIgeDI9IjY1NS4wMDE4IiB5MT0iNzAzLjAxMDciIHkyPSI3MTguMDEwNyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNjUxLjAwMTgsNzA4LjAxMDcsNjU1LjAwMTgsNzE4LjAxMDcsNjU5LjAwMTgsNzA4LjAxMDcsNjU1LjAwMTgsNzEyLjAxMDciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjU1LjAwMTgiIHgyPSI2NTUuMDAxOCIgeTE9IjU1Ni4wNzMyIiB5Mj0iNTc2LjA3MzIiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjY1MS4wMDE4LDU2Ni4wNzMyLDY1NS4wMDE4LDU3Ni4wNzMyLDY1OS4wMDE4LDU2Ni4wNzMyLDY1NS4wMDE4LDU3MC4wNzMyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjY1NS4wMDE4IiB4Mj0iNjU1LjAwMTgiIHkxPSI3NTEuOTc5NSIgeTI9Ijc3MS45Nzk1Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI2NTEuMDAxOCw3NjEuOTc5NSw2NTUuMDAxOCw3NzEuOTc5NSw2NTkuMDAxOCw3NjEuOTc5NSw2NTUuMDAxOCw3NjUuOTc5NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI1Ni45OTk4IiB4Mj0iNTYuOTk5OCIgeTE9IjE0OS45NjM5IiB5Mj0iMTU0Ljk2MzkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTYuOTk5OCIgeDI9IjI1MC4wMDA1IiB5MT0iMTU0Ljk2MzkiIHkyPSIxNTQuOTYzOSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNTAuMDAwNSIgeDI9IjI1MC4wMDA1IiB5MT0iMTU0Ljk2MzkiIHkyPSIxNjkuOTYzOSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjQ2LjAwMDUsMTU5Ljk2MzksMjUwLjAwMDUsMTY5Ljk2MzksMjU0LjAwMDUsMTU5Ljk2MzksMjUwLjAwMDUsMTYzLjk2MzkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjUwLjAwMDUiIHgyPSIyNTAuMDAwNSIgeTE9IjUwMi4xMDQ1IiB5Mj0iNTA3LjEwNDUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjUwLjAwMDUiIHgyPSI2NTUuMDAxOCIgeTE9IjUwNy4xMDQ1IiB5Mj0iNTA3LjEwNDUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjU1LjAwMTgiIHgyPSI2NTUuMDAxOCIgeTE9IjUwNy4xMDQ1IiB5Mj0iNTIyLjEwNDUiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjY1MS4wMDE4LDUxMi4xMDQ1LDY1NS4wMDE4LDUyMi4xMDQ1LDY1OS4wMDE4LDUxMi4xMDQ1LDY1NS4wMDE4LDUxNi4xMDQ1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTgiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzEuOTk5NiIgeD0iMjAiIHk9IjY2Ljc1Ij4mIzIxOTQyOyYjMjY5ODk7JiMzNzA5NjsmIzM4MjcyOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxOCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDcuOTk5NCIgeD0iMjU5LjAwMDYiIHk9IjY2Ljc1Ij4mIzMzMjU4OyYjMjEyMDU7JiMyMDE4MTsmIzM1Mzc5OyYjMjA5NjY7JiMyOTcwMjs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTgiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzEuOTk5NiIgeD0iNjEyLjAwMTkiIHk9IjY2Ljc1Ij4mIzMyMDc2OyYjMjk3MDI7JiMzNzA5NjsmIzM4MjcyOzwvdGV4dD48P3BsYW50dW1sLXNyYyBSTEJCSmk5RzREdFZoLVhJVmU1LVdXa19tU0lnOTBPRFRpZDJVby0xMlpLWTJad0gwNDRCZmxLTFpST2U3cEVURmJSLVdoVXFBNUFKQmRlcFB5d1BTc1JLZEJnYkk0NWJYQk1jd3BHM3VuYWhEdHd6M0JtOXQwRy05Z0k4aExUbE84UlMyNWp4SFJBaGhYUEthaU4tYV9qTXpTLVRLNy1JMUlYREtQbzFXNVM0NFIyOUxfdDBZWXNKX0JRZ0k4TlNuZ1BBbEFqSDhhWWoxSkltMWVheGw3Uk5UTHcxdGM3NzFaZTBNVzl3V3VTal8zbWJJZHZEWWxXOG9HOF9ZamY0Q3R5NlZXc1Mwd1ZIRnRsdWV1ZERDWHZKcjZ0S1g0eWR4RHdZcktrVWowUGlkdUhxdzl5T0dDLTFyTTlCVnhYUG10a3FxUmdPNHktaklxbHA2QzYwVFVyaHRDYjh3Z1FJNXFMd0ItUkVhRW9DQnQ3ZmR0R3loSXdKeDdvMGxuZEdFdFZJSGxEQzlpaE1oWEJIYkFRVjlmWTA2UzI3S3hxcVZCdXcwbE9FTjFEOU9sTEk1WGxTdGViNnB3c0pyOGdZYUFWeHlEd3F3R3FDSE5nMU9HZ3RxUFJ6NXJ0S1BnVW1DM0M1VFhrNXBrdl85RnNVN09tRXYzWVYtQjZvXzV5Z1dUQ0JaQkRPNmdyRXFETmJMNUhZampjemZTRG05dlBkemlLd2lObUdxb21PSkt4SnFicXhBTnEzPz48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_5">売上伝票から仕訳伝票への変換例<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<h4 id="_6">売上伝票（ビジネス上の事実）<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>項目</th>
<th>値</th>
</tr>
</thead>
<tbody>
<tr>
<td>伝票日付</td>
<td>2024/04/01</td>
</tr>
<tr>
<td>顧客</td>
<td>DBMフード新宿</td>
</tr>
<tr>
<td>明細1</td>
<td>いちご蒸缶 1,000個 × 1,000円 = 1,000,000円</td>
</tr>
<tr>
<td>明細2</td>
<td>アスパラ 200個 × 10,000円 = 2,000,000円</td>
</tr>
<tr>
<td>明細3</td>
<td>さざえのエスカルゴ 1,500個 × 100円 = 150,000円</td>
</tr>
<tr>
<td>合計</td>
<td>3,150,000円（税抜）+ 消費税 315,000円 = 3,465,000円（税込）</td>
</tr>
</tbody>
</table>
<h4 id="_7">仕訳伝票（会計上の記録）<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>借方科目</th>
<th>借方金額</th>
<th>貸方科目</th>
<th>貸方金額</th>
<th>摘要</th>
</tr>
</thead>
<tbody>
<tr>
<td>売掛金/DBMフード本社</td>
<td>3,465,000</td>
<td></td>
<td></td>
<td>売上計上</td>
</tr>
<tr>
<td></td>
<td></td>
<td>売上加工品/DBMフード新宿</td>
<td>1,150,000</td>
<td>いちご蒸缶・さざえ</td>
</tr>
<tr>
<td></td>
<td></td>
<td>売上生鮮品/DBMフード新宿</td>
<td>2,000,000</td>
<td>アスパラ</td>
</tr>
<tr>
<td></td>
<td></td>
<td>仮受消費税</td>
<td>315,000</td>
<td>消費税10%</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="172">17.2 自動仕訳テーブルの設計<a class="headerlink" href="#172" title="Permanent link">&para;</a></h2>
<h3 id="_8">フラグ管理方式と日付管理方式<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<p>売上データの処理状態を管理する方式には、2つのアプローチがあります。</p>
<h4 id="_9">フラグ管理方式<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>メリット</strong>：シンプルな実装、処理状態が明確</li>
<li><strong>デメリット</strong>：再処理時にフラグリセットが必要、大量データでの更新負荷</li>
</ul>
<h4 id="_10">日付管理方式<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>メリット</strong>：差分処理が容易、再処理時の柔軟性</li>
<li><strong>デメリット</strong>：管理テーブルが必要、更新日時の整合性管理が必要</li>
</ul>
<h3 id="_11">セット中心のアプリケーション設計<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<p>大量データを効率的に処理するには、ループ処理よりもセット中心処理が有効です。</p>
<table>
<thead>
<tr>
<th>方式</th>
<th>処理方法</th>
<th>DB操作回数</th>
</tr>
</thead>
<tbody>
<tr>
<td>ループ処理</td>
<td>売上データを1件ずつ読み込み、各売上に対してパターンマスタを検索、1件ずつ仕訳データを挿入</td>
<td>N×M回</td>
</tr>
<tr>
<td>セット中心処理</td>
<td>パターンマスタを1件読み込み、該当パターンの売上データを一括INSERT</td>
<td>M回（パターン数）</td>
</tr>
</tbody>
</table>
<h3 id="er">自動仕訳関連テーブルの ER 図<a class="headerlink" href="#er" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjgwMXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NjUycHg7aGVpZ2h0OjgwMXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDY1MiA4MDEiIHdpZHRoPSI2NTJweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjwhLS1jbGFzcyBBdXRvSm91cm5hbFBhdHRlcm4tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJBdXRvSm91cm5hbFBhdHRlcm4iIGRhdGEtc291cmNlLWxpbmU9IjEiIGlkPSJlbnQwMDAyIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjI5Mi40NTMxIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyODguMzAxMiIgeD0iNyIgeT0iMzI3Ljg2Ii8+PGVsbGlwc2UgY3g9IjY5LjkwMDkiIGN5PSIzNDMuODYiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTc0LjAxMDMsMzQ5Ljg2IEw2Ni4yOTE2LDM0OS44NiBMNjYuMjkxNiwzMzcuNDY5NCBMNzQuMDEwMywzMzcuNDY5NCBMNzQuMDEwMywzMzkuNjI1NiBMNjguNzQ0NywzMzkuNjI1NiBMNjguNzQ0NywzNDIuMjk3NSBMNzMuNTEwMywzNDIuMjk3NSBMNzMuNTEwMywzNDQuNDUzOCBMNjguNzQ0NywzNDQuNDUzOCBMNjguNzQ0NywzNDcuNzAzOCBMNzQuMDEwMywzNDcuNzAzOCBMNzQuMDEwMywzNDkuODYgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTMuOTk5MyIgeD0iOTAuNDAwOSIgeT0iMzQ4LjcwNjciPiYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7JiMxMjQ5NzsmIzEyNDc5OyYjMTI1NDA7JiMxMjUzMTsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iOCIgeDI9IjI5NC4zMDEyIiB5MT0iMzU5Ljg2IiB5Mj0iMzU5Ljg2Ii8+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxOCIgY3k9IjM3My41MDg0IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjI3IiB5PSIzNzYuODU1MSI+JiMxMjQ5NzsmIzEyNDc5OyYjMTI1NDA7JiMxMjUzMTsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ1LjU5ODYiIHg9IjEyNC45OTk2IiB5PSIzNzYuODU1MSI+OiBWQVJDSEFSKDEwKSAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iOCIgeDI9IjI5NC4zMDEyIiB5MT0iMzg0LjE1NjkiIHkyPSIzODQuMTU2OSIvPjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTgiIGN5PSIzOTcuODA1MyIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyNyIgeT0iNDAxLjE1MiI+JiMxMjQ5NzsmIzEyNDc5OyYjMTI1NDA7JiMxMjUzMTsmIzIxNTE3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuMzk0NSIgeD0iOTYuOTk5NyIgeT0iNDAxLjE1MiI+OiBWQVJDSEFSKDUwKTwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iNDE0LjEwMjIiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMjciIHk9IjQxNy40NDg5Ij4mIzIxODMwOyYjMjE2OTc7JiMxMjQ2NDsmIzEyNTIzOyYjMTI1NDA7JiMxMjUwMzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA2LjM5NDUiIHg9IjExMC45OTk2IiB5PSI0MTcuNDQ4OSI+OiBWQVJDSEFSKDEwKTwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iNDMwLjM5OTEiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMjciIHk9IjQzMy43NDU3Ij4mIzM5MDE1OyYjMjM0NTg7JiMxMjQ2NDsmIzEyNTIzOyYjMTI1NDA7JiMxMjUwMzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA2LjM5NDUiIHg9IjExMC45OTk2IiB5PSI0MzMuNzQ1NyI+OiBWQVJDSEFSKDEwKTwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iNDQ2LjY5NTkiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjciIHk9IjQ1MC4wNDI2Ij4mIzIyNzcwOyYjMTk5Nzg7JiMyMTMwNjsmIzIwOTk4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny40ODczIiB4PSI4Mi45OTk4IiB5PSI0NTAuMDQyNiI+OiBWQVJDSEFSKDIpPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTgiIGN5PSI0NjIuOTkyOCIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjUuOTk5NSIgeD0iMjciIHk9IjQ2Ni4zMzk1Ij4mIzIwNTExOyYjMjYwNDE7JiMyMTIwODsmIzIzNDUwOyYjMzExODU7JiMzMDQ0NjsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM2LjMwMTgiIHg9IjE1Mi45OTk1IiB5PSI0NjYuMzM5NSI+OiBWQVJDSEFSKDUpICYjMTcxO0ZLJiMxODc7PC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTgiIGN5PSI0NzkuMjg5NyIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTEuOTk5NSIgeD0iMjciIHk9IjQ4Mi42MzY0Ij4mIzIwNTExOyYjMjYwNDE7JiMzNTAzNjsmIzIxMTYxOyYjMzExODU7JiMzMDQ0NjsmIzM1MzczOyYjMjM0NTA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNi4zOTQ1IiB4PSIxMzguOTk5NSIgeT0iNDgyLjYzNjQiPjogVkFSQ0hBUigyMCk8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxOCIgY3k9IjQ5NS41ODY2IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNS45OTk1IiB4PSIyNyIgeT0iNDk4LjkzMzIiPiYjMzYwMjQ7JiMyNjA0MTsmIzIxMjA4OyYjMjM0NTA7JiMzMTE4NTsmIzMwNDQ2OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzYuMzAxOCIgeD0iMTUyLjk5OTUiIHk9IjQ5OC45MzMyIj46IFZBUkNIQVIoNSkgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxOCIgY3k9IjUxMS44ODM0IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMS45OTk1IiB4PSIyNyIgeT0iNTE1LjIzMDEiPiYjMzYwMjQ7JiMyNjA0MTsmIzM1MDM2OyYjMjExNjE7JiMzMTE4NTsmIzMwNDQ2OyYjMzUzNzM7JiMyMzQ1MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA2LjM5NDUiIHg9IjEzOC45OTk1IiB5PSI1MTUuMjMwMSI+OiBWQVJDSEFSKDIwKTwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iNTI4LjE4MDMiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM5Ljk5OTQiIHg9IjI3IiB5PSI1MzEuNTI3Ij4mIzM2ODIwOyYjMjE2OTc7JiMyNjE3ODsmIzIwNTExOyYjMjYwNDE7JiMzMTE4NTsmIzMwNDQ2OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny40ODczIiB4PSIxNjYuOTk5NCIgeT0iNTMxLjUyNyI+OiBWQVJDSEFSKDUpPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTgiIGN5PSI1NDQuNDc3MiIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzkuOTk5NCIgeD0iMjciIHk9IjU0Ny44MjM5Ij4mIzM2ODIwOyYjMjE2OTc7JiMyNjE3ODsmIzM2MDI0OyYjMjYwNDE7JiMzMTE4NTsmIzMwNDQ2OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny40ODczIiB4PSIxNjYuOTk5NCIgeT0iNTQ3LjgyMzkiPjogVkFSQ0hBUig1KTwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iNTYwLjc3NDEiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMjciIHk9IjU2NC4xMjA3Ij4mIzI4MDQwOyYjMzYwMjc7JiMzMTI0NjsmIzIwOTY2OyYjMjk3MDI7JiMyMTMwNjsmIzIwOTk4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny40ODczIiB4PSIxMjQuOTk5NiIgeT0iNTY0LjEyMDciPjogVkFSQ0hBUigyKTwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iNTc3LjA3MDkiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMjciIHk9IjU4MC40MTc2Ij4mIzI2Mzc3OyYjMjExNzc7JiMzODI4MzsmIzIyOTg3OyYjMjYwODU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ2LjkyMTkiIHg9Ijk2Ljk5OTciIHk9IjU4MC40MTc2Ij46IERBVEU8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxOCIgY3k9IjU5My4zNjc4IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjI3IiB5PSI1OTYuNzE0NSI+JiMyNjM3NzsmIzIxMTc3OyYjMzIwNjY7JiMyMDEwMjsmIzI2MDg1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0Ni45MjE5IiB4PSI5Ni45OTk3IiB5PSI1OTYuNzE0NSI+OiBEQVRFPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTgiIGN5PSI2MDkuNjY0NyIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIyNyIgeT0iNjEzLjAxMTQiPiYjMjA3Nzg7JiMyMDgwODsmIzM4OTE4OyYjMjAzMDE7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcwLjU4NzkiIHg9IjgyLjk5OTgiIHk9IjYxMy4wMTE0Ij46IElOVEVHRVI8L3RleHQ+PC9nPjwhLS1jbGFzcyBBdXRvSm91cm5hbC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkF1dG9Kb3VybmFsIiBkYXRhLXNvdXJjZS1saW5lPSIyMCIgaWQ9ImVudDAwMDMiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjU5Ljg1OTQiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjI2OS4yMDg2IiB4PSIxMTQuNTUiIHk9IjciLz48ZWxsaXBzZSBjeD0iMTk1LjkwNDUiIGN5PSIyMyIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMjAwLjAxMzksMjkgTDE5Mi4yOTUxLDI5IEwxOTIuMjk1MSwxNi42MDk0IEwyMDAuMDEzOSwxNi42MDk0IEwyMDAuMDEzOSwxOC43NjU2IEwxOTQuNzQ4MiwxOC43NjU2IEwxOTQuNzQ4MiwyMS40Mzc1IEwxOTkuNTEzOSwyMS40Mzc1IEwxOTkuNTEzOSwyMy41OTM4IEwxOTQuNzQ4MiwyMy41OTM4IEwxOTQuNzQ4MiwyNi44NDM4IEwyMDAuMDEzOSwyNi44NDM4IEwyMDAuMDEzOSwyOSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjIxNi40MDQ1IiB5PSIyNy44NDY3Ij4mIzMzMjU4OyYjMjEyMDU7JiMyMDE4MTsmIzM1Mzc5OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxMTUuNTUiIHgyPSIzODIuNzU4NiIgeTE9IjM5IiB5Mj0iMzkiLz48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjEyNS41NSIgY3k9IjUyLjY0ODQiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMTM0LjU1IiB5PSI1NS45OTUxIj4mIzMzMjU4OyYjMjEyMDU7JiMyMDE4MTsmIzM1Mzc5OyYjMzAwNTg7JiMyMTQ5NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ1LjU5ODYiIHg9IjIxOC41NDk2IiB5PSI1NS45OTUxIj46IFZBUkNIQVIoMTUpICYjMTcxO1BLJiMxODc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMTUuNTUiIHgyPSIzODIuNzU4NiIgeTE9IjYzLjI5NjkiIHkyPSI2My4yOTY5Ii8+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxMjUuNTUiIGN5PSI3Ni45NDUzIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjEzNC41NSIgeT0iODAuMjkyIj4mIzIyNzcwOyYjMTk5Nzg7JiMzMDA1ODsmIzIxNDk1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDUuMjA5IiB4PSIxOTAuNTQ5OCIgeT0iODAuMjkyIj46IFZBUkNIQVIoMTApICYjMTcxO0ZLJiMxODc7PC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTI1LjU1IiBjeT0iOTMuMjQyMiIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIxMzQuNTUiIHk9Ijk2LjU4ODkiPiYjMjI3NzA7JiMxOTk3ODsmIzM0ODkyOyYjMzAwNTg7JiMyMTQ5NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzguNDYyOSIgeD0iMjA0LjU0OTciIHk9Ijk2LjU4ODkiPjogU01BTExJTlQ8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxMjUuNTUiIGN5PSIxMDkuNTM5MSIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny45OTk2IiB4PSIxMzQuNTUiIHk9IjExMi44ODU3Ij4mIzEyNDk3OyYjMTI0Nzk7JiMxMjU0MDsmIzEyNTMxOyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDUuMjA5IiB4PSIyMzIuNTQ5NiIgeT0iMTEyLjg4NTciPjogVkFSQ0hBUigxMCkgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxMjUuNTUiIGN5PSIxMjUuODM1OSIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIxMzQuNTUiIHk9IjEyOS4xODI2Ij4mIzM2MjE1OyYjMzEwODA7JiMyNjA4NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDYuOTIxOSIgeD0iMTc2LjU0OTgiIHk9IjEyOS4xODI2Ij46IERBVEU8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxMjUuNTUiIGN5PSIxNDIuMTMyOCIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny45OTk2IiB4PSIxMzQuNTUiIHk9IjE0NS40Nzk1Ij4mIzIwMTgxOyYjMzUzNzk7JiMzNDg5MjsmIzM2MDI0OyYjMjA1MTE7JiMyMTMwNjsmIzIwOTk4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny40ODczIiB4PSIyMzIuNTQ5NiIgeT0iMTQ1LjQ3OTUiPjogVkFSQ0hBUigxKTwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjEyNS41NSIgY3k9IjE1OC40Mjk3IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjEzNC41NSIgeT0iMTYxLjc3NjQiPiYjMjEyMDg7JiMyMzQ1MDsmIzMxMTg1OyYjMzA0NDY7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzNi4zMDE4IiB4PSIyMzIuNTQ5NiIgeT0iMTYxLjc3NjQiPjogVkFSQ0hBUig1KSAmIzE3MTtGSyYjMTg3OzwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjEyNS41NSIgY3k9IjE3NC43MjY2IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjEzNC41NSIgeT0iMTc4LjA3MzIiPiYjMzUwMzY7JiMyMTE2MTsmIzMxMTg1OyYjMzA0NDY7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNi4zOTQ1IiB4PSIyMzIuNTQ5NiIgeT0iMTc4LjA3MzIiPjogVkFSQ0hBUigxMCk8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxMjUuNTUiIGN5PSIxOTEuMDIzNCIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIxMzQuNTUiIHk9IjE5NC4zNzAxIj4mIzM3MDk2OyYjMzgyNzI7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3LjQ4NzMiIHg9IjIwNC41NDk3IiB5PSIxOTQuMzcwMSI+OiBWQVJDSEFSKDUpPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTI1LjU1IiBjeT0iMjA3LjMyMDMiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTM0LjU1IiB5PSIyMTAuNjY3Ij4mIzIwMTgxOyYjMzUzNzk7JiMzNzMyOTsmIzM4OTg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTQuMjQ5IiB4PSIxOTAuNTQ5OCIgeT0iMjEwLjY2NyI+OiBERUNJTUFMKDE0LDIpPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTI1LjU1IiBjeT0iMjIzLjYxNzIiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTM0LjU1IiB5PSIyMjYuOTYzOSI+JiMyODA0MDsmIzM2MDI3OyYjMzEyNDY7JiMzODk4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE0LjI0OSIgeD0iMTkwLjU0OTgiIHk9IjIyNi45NjM5Ij46IERFQ0lNQUwoMTQsMik8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxMjUuNTUiIGN5PSIyMzkuOTE0MSIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny45OTk2IiB4PSIxMzQuNTUiIHk9IjI0My4yNjA3Ij4mIzIwOTY2OyYjMjk3MDI7JiMxMjQ3MzsmIzEyNDg2OyYjMTI1NDA7JiMxMjQ3OTsmIzEyNDczOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzUuMTY2NCIgeD0iMjMyLjU0OTYiIHk9IjI0My4yNjA3Ij46ICYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7JiMxMjQ3MzsmIzEyNDg2OyYjMTI1NDA7JiMxMjQ3OTsmIzEyNDczOzwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjEyNS41NSIgY3k9IjI1Ni4yMTA5IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjEzNC41NSIgeT0iMjU5LjU1NzYiPiYjMzY1Nzg7JiMzNTM1MjsmIzI4MTY4OyYjMTI1MDE7JiMxMjUyMTsmIzEyNDY0OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OC40NjI5IiB4PSIyMTguNTQ5NiIgeT0iMjU5LjU1NzYiPjogU01BTExJTlQ8L3RleHQ+PC9nPjwhLS1jbGFzcyBBdXRvSm91cm5hbEhpc3RvcnktLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJBdXRvSm91cm5hbEhpc3RvcnkiIGRhdGEtc291cmNlLWxpbmU9IjM3IiBpZD0iZW50MDAwNCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxNzguMzc1IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyMjcuNTk4NCIgeD0iNDE4LjM1IiB5PSI0Ny43NCIvPjxlbGxpcHNlIGN4PSI0NzEuODk5NCIgY3k9IjYzLjc0IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik00NzYuMDA4OCw2OS43NCBMNDY4LjI5MDEsNjkuNzQgTDQ2OC4yOTAxLDU3LjM0OTQgTDQ3Ni4wMDg4LDU3LjM0OTQgTDQ3Ni4wMDg4LDU5LjUwNTYgTDQ3MC43NDMyLDU5LjUwNTYgTDQ3MC43NDMyLDYyLjE3NzUgTDQ3NS41MDg4LDYyLjE3NzUgTDQ3NS41MDg4LDY0LjMzMzggTDQ3MC43NDMyLDY0LjMzMzggTDQ3MC43NDMyLDY3LjU4MzggTDQ3Ni4wMDg4LDY3LjU4MzggTDQ3Ni4wMDg4LDY5Ljc0IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTExLjk5OTUiIHg9IjQ5Mi4zOTk0IiB5PSI2OC41ODY3Ij4mIzMzMjU4OyYjMjEyMDU7JiMyMDE4MTsmIzM1Mzc5OyYjMjA5NjY7JiMyOTcwMjsmIzIzNjUzOyYjMjc1MDg7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjQxOS4zNSIgeDI9IjY0NC45NDg0IiB5MT0iNzkuNzQiIHkyPSI3OS43NCIvPjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iNDI5LjM1IiBjeT0iOTMuMzg4NCIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI0MzguMzUiIHk9Ijk2LjczNTEiPiYjMjA5NjY7JiMyOTcwMjsmIzMwMDU4OyYjMjE0OTU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0NS41OTg2IiB4PSI0OTQuMzQ5OCIgeT0iOTYuNzM1MSI+OiBWQVJDSEFSKDE1KSAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDE5LjM1IiB4Mj0iNjQ0Ljk0ODQiIHkxPSIxMDQuMDM2OSIgeTI9IjEwNC4wMzY5Ii8+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSI0MjkuMzUiIGN5PSIxMTcuNjg1MyIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI0MzguMzUiIHk9IjEyMS4wMzIiPiYjMjA5NjY7JiMyOTcwMjsmIzI2MDg1OyYjMjYxNzg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkwLjMwOTYiIHg9IjQ5NC4zNDk4IiB5PSIxMjEuMDMyIj46IFRJTUVTVEFNUDwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjQyOS4zNSIgY3k9IjEzMy45ODIyIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjQzOC4zNSIgeT0iMTM3LjMyODkiPiYjMjA5NjY7JiMyOTcwMjsmIzIzNTUwOyYjMzU5Mzc7JiMzODI4MzsmIzIyOTg3OyYjMjYwODU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ2LjkyMTkiIHg9IjUzNi4zNDk2IiB5PSIxMzcuMzI4OSI+OiBEQVRFPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iNDI5LjM1IiBjeT0iMTUwLjI3OTEiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iNDM4LjM1IiB5PSIxNTMuNjI1NyI+JiMyMDk2NjsmIzI5NzAyOyYjMjM1NTA7JiMzNTkzNzsmIzMyMDY2OyYjMjAxMDI7JiMyNjA4NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDYuOTIxOSIgeD0iNTM2LjM0OTYiIHk9IjE1My42MjU3Ij46IERBVEU8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSI0MjkuMzUiIGN5PSIxNjYuNTc1OSIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI0MzguMzUiIHk9IjE2OS45MjI2Ij4mIzIwOTY2OyYjMjk3MDI7JiMyMDIxNDsmIzI1OTY4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MC41ODc5IiB4PSI0OTQuMzQ5OCIgeT0iMTY5LjkyMjYiPjogSU5URUdFUjwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjQyOS4zNSIgY3k9IjE4Mi44NzI4IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjQzOC4zNSIgeT0iMTg2LjIxOTUiPiYjMjUxMDQ7JiMyMTE1MTsmIzIwMjE0OyYjMjU5Njg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcwLjU4NzkiIHg9IjQ5NC4zNDk4IiB5PSIxODYuMjE5NSI+OiBJTlRFR0VSPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iNDI5LjM1IiBjeT0iMTk5LjE2OTciIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iNDM4LjM1IiB5PSIyMDIuNTE2NCI+JiMxMjQ1NjsmIzEyNTIxOyYjMTI1NDA7JiMyMDIxNDsmIzI1OTY4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MC41ODc5IiB4PSI1MDguMzQ5NyIgeT0iMjAyLjUxNjQiPjogSU5URUdFUjwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjQyOS4zNSIgY3k9IjIxNS40NjY2IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjQzOC4zNSIgeT0iMjE4LjgxMzIiPiYjMjA5NjY7JiMyOTcwMjsmIzM3MzI5OyYjMzg5ODk7JiMyMTUxMjsmIzM1MzM2OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTQuMjQ5IiB4PSI1MjIuMzQ5NiIgeT0iMjE4LjgxMzIiPjogREVDSU1BTCgxNSwyKTwvdGV4dD48L2c+PCEtLWNsYXNzIEFjY291bnQtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJBY2NvdW50IiBkYXRhLXNvdXJjZS1saW5lPSI0OSIgaWQ9ImVudDAwMDUiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iOTYuODkwNiIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTYzLjIwMzciIHg9IjE2My41NSIgeT0iNjk3LjMxIi8+PGVsbGlwc2UgY3g9IjE5My40OTE4IiBjeT0iNzEzLjMxIiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0xOTcuNjAxMiw3MTkuMzEgTDE4OS44ODI1LDcxOS4zMSBMMTg5Ljg4MjUsNzA2LjkxOTQgTDE5Ny42MDEyLDcwNi45MTk0IEwxOTcuNjAxMiw3MDkuMDc1NiBMMTkyLjMzNTYsNzA5LjA3NTYgTDE5Mi4zMzU2LDcxMS43NDc1IEwxOTcuMTAxMiw3MTEuNzQ3NSBMMTk3LjEwMTIsNzEzLjkwMzggTDE5Mi4zMzU2LDcxMy45MDM4IEwxOTIuMzM1Niw3MTcuMTUzOCBMMTk3LjYwMTIsNzE3LjE1MzggTDE5Ny42MDEyLDcxOS4zMSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjIxMC44MTIzIiB5PSI3MTguMTU2NyI+JiMyMTIwODsmIzIzNDUwOyYjMzExODU7JiMzMDQ0NjsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTY0LjU1IiB4Mj0iMzI1Ljc1MzciIHkxPSI3MjkuMzEiIHkyPSI3MjkuMzEiLz48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE3NC41NSIgY3k9Ijc0Mi45NTg0IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjE4My41NSIgeT0iNzQ2LjMwNTEiPiYjMjEyMDg7JiMyMzQ1MDsmIzMxMTg1OyYjMzA0NDY7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM0Ljc1MzkiIHg9IjI4NS45OTk4IiB5PSI3NDYuMzA1MSI+JiMxNzE7UEsmIzE4Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE2NC41NSIgeDI9IjMyNS43NTM3IiB5MT0iNzUzLjYwNjkiIHkyPSI3NTMuNjA2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjE2OS41NSIgeT0iNzcwLjYwMiI+JiMyMTIwODsmIzIzNDUwOyYjMzExODU7JiMzMDQ0NjsmIzIxNTE3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMy4zNTA2IiB4PSIxNjkuNTUiIHk9Ijc4Ni44OTg5Ij4uLi48L3RleHQ+PC9nPjwhLS1saW5rIEF1dG9Kb3VybmFsUGF0dGVybiB0byBBY2NvdW50LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDIiIGRhdGEtZW50aXR5LTI9ImVudDAwMDUiIGRhdGEtbGluay10eXBlPSJjcm93Zm9vdCIgZGF0YS1zb3VyY2UtbGluZT0iNTYiIGlkPSJsbms2Ij48cGF0aCBjb2RlTGluZT0iNTYiIGQ9Ik0xMzcuMTQ5NCw2MzguNTUyOCBDMTM5LjQzOTQsNjU0Ljc1MjggMTQxLjE3LDY1Mi44IDE0OC4xNSw2NjcuMzEgQzE1My40OCw2NzguMzggMTU1LjU3MzUsNjgyLjcxMjggMTY0LjQyMzUsNjkxLjUzMjgiIGZpbGw9Im5vbmUiIGlkPSJBdXRvSm91cm5hbFBhdHRlcm4tQWNjb3VudCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMzUuNzQ5NyIgeDI9IjEyOC42ODkxIiB5MT0iNjI4LjY1MTIiIHkyPSI2MjEuNTY5OCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMzUuNzQ5NyIgeDI9IjE0MC41NzA5IiB5MT0iNjI4LjY1MTIiIHkyPSI2MTkuODkwMiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMzUuNzQ5NyIgeDI9IjEzNC42MyIgeTE9IjYyOC42NTEyIiB5Mj0iNjIwLjczIi8+PGVsbGlwc2UgY3g9IjEzNi41ODk1IiBjeT0iNjM0LjU5MjIiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNzAuMDgwNCIgeDI9IjE2NC40MzMyIiB5MT0iNjkxLjUyMzIiIHkyPSI2OTcuMTg5NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNjcuOTU1NSIgeDI9IjE2Mi4zMDgyIiB5MT0iNjg5LjQwNTQiIHkyPSI2OTUuMDcxOSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNjQuNDIzNSIgeDI9IjE3MC4wOSIgeTE9IjY5MS41MzI4IiB5Mj0iNjk3LjE4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIuMDAwMSIgeD0iMTQ5LjE1IiB5PSI2NjMuMzc2OSI+JiMyMDUxMTsmIzI2MDQxOyYjMzExODU7JiMzMDQ0Njs8L3RleHQ+PC9nPjwhLS1saW5rIEF1dG9Kb3VybmFsUGF0dGVybiB0byBBY2NvdW50LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDIiIGRhdGEtZW50aXR5LTI9ImVudDAwMDUiIGRhdGEtbGluay10eXBlPSJjcm93Zm9vdCIgZGF0YS1zb3VyY2UtbGluZT0iNTciIGlkPSJsbms3Ij48cGF0aCBjb2RlTGluZT0iNTciIGQ9Ik0yMDcuNzg2LDYzNy41NjY1IEMyMTcuNDE2LDY2NS4xODY1IDIxOC4yNzYyLDY2Ny42NDYgMjI1Ljg1NjIsNjg5LjM4NiIgZmlsbD0ibm9uZSIgaWQ9IkF1dG9Kb3VybmFsUGF0dGVybi1BY2NvdW50LTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjA0LjQ5MzgiIHgyPSIxOTYuMTk0NSIgeTE9IjYyOC4xMjQiIHkyPSI2MjIuNTQ1MyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMDQuNDkzOCIgeDI9IjIwNy41MjU1IiB5MT0iNjI4LjEyNCIgeTI9IjYxOC41OTQ3Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIwNC40OTM4IiB4Mj0iMjAxLjg2IiB5MT0iNjI4LjEyNCIgeTI9IjYyMC41NyIvPjxlbGxpcHNlIGN4PSIyMDYuNDY5MSIgY3k9IjYzMy43ODk1IiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjMwLjk1MDEiIHgyPSIyMjMuMzk2MSIgeTE9IjY5MS44NDYxIiB5Mj0iNjk0LjQ3OTkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjI5Ljk2MjQiIHgyPSIyMjIuNDA4NCIgeTE9IjY4OS4wMTMzIiB5Mj0iNjkxLjY0NzIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjI1Ljg1NjIiIHgyPSIyMjguNDkiIHkxPSI2ODkuMzg2IiB5Mj0iNjk2Ljk0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIuMDAwMSIgeD0iMjE4LjM3IiB5PSI2NjMuMzc2OSI+JiMzNjAyNDsmIzI2MDQxOyYjMzExODU7JiMzMDQ0Njs8L3RleHQ+PC9nPjwhLS1saW5rIEF1dG9Kb3VybmFsIHRvIEF1dG9Kb3VybmFsUGF0dGVybi0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAzIiBkYXRhLWVudGl0eS0yPSJlbnQwMDAyIiBkYXRhLWxpbmstdHlwZT0iY3Jvd2Zvb3QiIGRhdGEtc291cmNlLWxpbmU9IjU4IiBpZD0ibG5rOCI+PHBhdGggY29kZUxpbmU9IjU4IiBkPSJNMjA2LjM1MjYsMjg0LjMwNzkgQzIwMC41NjI2LDMwNC4xMjc5IDIwMS44MzgsMjk5Ljc1MjQgMTk1LjkzOCwzMTkuOTAyNCIgZmlsbD0ibm9uZSIgaWQ9IkF1dG9Kb3VybmFsLUF1dG9Kb3VybmFsUGF0dGVybiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMDkuMTU2NyIgeDI9IjIwNS42NDA3IiB5MT0iMjc0LjcwOSIgeTI9IjI2NS4zNDc1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIwOS4xNTY3IiB4Mj0iMjE3LjE1OTMiIHkxPSIyNzQuNzA5IiB5Mj0iMjY4LjcxMjUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjA5LjE1NjciIHgyPSIyMTEuNCIgeTE9IjI3NC43MDkiIHkyPSIyNjcuMDMiLz48ZWxsaXBzZSBjeD0iMjA3LjQ3NDMiIGN5PSIyODAuNDY4MyIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE5OC42NTI4IiB4Mj0iMTkwLjk3NTIiIHkxPSIzMjQuODY1MiIgeTI9IjMyMi42MTcyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE5OS40OTU5IiB4Mj0iMTkxLjgxODIiIHkxPSIzMjEuOTg2MSIgeTI9IjMxOS43MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTk1LjkzOCIgeDI9IjE5My42OSIgeTE9IjMxOS45MDI0IiB5Mj0iMzI3LjU4Ii8+PC9nPjwhLS1saW5rIEF1dG9Kb3VybmFsIHRvIEFjY291bnQtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMyIgZGF0YS1lbnRpdHktMj0iZW50MDAwNSIgZGF0YS1saW5rLXR5cGU9ImNyb3dmb290IiBkYXRhLXNvdXJjZS1saW5lPSI1OSIgaWQ9ImxuazkiPjxwYXRoIGNvZGVMaW5lPSI1OSIgZD0iTTMwNC4wMDI3LDI4NC41NTc1IEMzMDkuODkyNywzMDQuNTY3NSAzMDkuODksMzA3Ljk0IDMxMy4xNSwzMjcuODYgQzMzNC4xOCw0NTYuMTIgMzQ1LjMxLDQ5NC4zNyAzMTMuMTUsNjIwLjMxIEMzMDYuMjcsNjQ3LjI2IDI5Ni4zNzY1LDY2Ny44NDA2IDI4Mi44MjY1LDY5MC4wNTA2IiBmaWxsPSJub25lIiBpZD0iQXV0b0pvdXJuYWwtQWNjb3VudCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMDEuMTc5IiB4Mj0iMjkzLjE2NDIiIHkxPSIyNzQuOTY0NCIgeTI9IjI2OC45ODQyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMwMS4xNzkiIHgyPSIzMDQuNjc1OCIgeTE9IjI3NC45NjQ0IiB5Mj0iMjY1LjU5NTgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzAxLjE3OSIgeDI9IjI5OC45MiIgeTE9IjI3NC45NjQ0IiB5Mj0iMjY3LjI5Ii8+PGVsbGlwc2UgY3g9IjMwMi44NzMyIiBjeT0iMjgwLjcyMDMiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyODQuMTU3OSIgeDI9IjI3Ny4zMjg2IiB5MT0iNjk1LjU0ODYiIHkyPSI2OTEuMzgyMSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyODUuNzIwNCIgeDI9IjI3OC44OTEiIHkxPSI2OTIuOTg3NiIgeTI9IjY4OC44MjExIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI4Mi44MjY1IiB4Mj0iMjc4LjY2IiB5MT0iNjkwLjA1MDYiIHkyPSI2OTYuODgiLz48L2c+PD9wbGFudHVtbC1zcmMgYkxMVEp6Zkc2QnhsaHNZeUtaODhjNzVaWjRjWlJCQjlHZjF1Sm1tTjlXaWFNMnhDRDc3akxZaGUxamNBa2ZhdkQ4cEE4YkVTMmtCY1pvY2Q3X3pZZnBzVGQ1RUFtanJmdGtWekVDX3BsQVY5NUJsMmhqNVpVZ3VFMmJBdDgtZG9YU0FONUV2RXVNeUw3ZndfQUxtUlZleEhZTE1Rb1JCZjUtYmk5Zkx1N0tzbVIzQUplanpHN2poWjhMQXUyLWttdlY1Q3FLakNSN1FVWU9xN18xRnF6N0pxdlNtQ3ZWTnNmTzNZM1d1RS1ZU2kyOTA0eUVjam1mcWZfNHlCa0VpZVFRNkNJV3FxWlh2M1dVRGNqdks3c3BUMDVGM3VmMXRVRjVKQlJMM08wdXFsTWdzYVZNc3VOWURldGtBUFVPalVhZHZ5MEY4ZEE0Y05KczQxZWh4VE5zLXNIYy0wYWVQaVNGU1BhZ05rU3NZZzF0a0cyUVpCdW1kZ2JRV3RFdmh5MFVILVE0TFg4OVZnbUhSOGp1cm8wVEdBd2N4TEhDbW55SDBNcW93dnhldFdaODV0VFYxVURCdUJ0Si1NN1NBbHVnN2RlSFlyR0w1OUx2bGNwNTd4aE1ieDRpVGdLWHJ5bDJQeTROR1E0WmQ0MVVhZEhSVFdVY014WHJvQ0MwaUJTRGZITGc2ZHlVTXJMZk1UTkEybk9IU2UzWElxZC1rMHhUaUgzT0xQUVQxbVFBYnVzSVhsRmtHNkRBNkhBbmFMSXdzdnE2bU95WjBVVUZmYXFrNk5XR1hhOUZFMXVHTWE5Sm9SSzQ5ZENlcGtxSmRJdkpzcjlJZ3lmRjBkU0ZhOTdHT3VubFJqVUxLel9VcXFwVnBBQWZsRWhEZFVHU1lYTjZDWGVObm1hS25hRjFtOUJTUVBJMUlCV2J6X3pWRUEtcUJXWTA1aE9JNndkSWpMRWlGTm1nOU9COEJ5ZU5qQ3VNSUo2bHhNRk9wQThscjBLVEhiYVQwZVE2ZzR5S1dPWlZtZkIyLWRpb2RzRnRGa1hpSE9tbjdtdVFUeUZmX1BvRU5WaWY3c1VqVk54bmpDcVZaSkRiRzJfaEpYMlZWOGxYZ2tBNUpsN20wMD8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<hr />
<h2 id="173-mybatis">17.3 MyBatis 版との実装比較<a class="headerlink" href="#173-mybatis" title="Permanent link">&para;</a></h2>
<h3 id="_12">データアクセス層の比較<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>機能</th>
<th>MyBatis 版</th>
<th>JPA 版</th>
</tr>
</thead>
<tbody>
<tr>
<td>ENUM 型変換</td>
<td>TypeHandler</td>
<td>AttributeConverter</td>
</tr>
<tr>
<td>関連エンティティ取得</td>
<td>resultMap の association</td>
<td>@ManyToOne</td>
</tr>
<tr>
<td>N+1 問題対策</td>
<td>JOIN を含む SQL</td>
<td>@EntityGraph</td>
</tr>
<tr>
<td>動的クエリ</td>
<td>XML の <code>&lt;if&gt;</code> タグ</td>
<td>Specification パターン</td>
</tr>
<tr>
<td>バッチ INSERT</td>
<td>foreach 句</td>
<td>saveAll()</td>
</tr>
<tr>
<td>有効期間検索</td>
<td>WHERE 句で条件指定</td>
<td>JPQL で条件指定</td>
</tr>
</tbody>
</table>
<h3 id="flyway">Flyway マイグレーション<a class="headerlink" href="#flyway" title="Permanent link">&para;</a></h3>
<details>
<summary>V007__create_auto_journal_tables.sql</summary>

<div class="highlight"><pre><span></span><code><span class="c1">-- 自動仕訳処理ステータス</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TYPE</span><span class="w"> </span><span class="err">自動仕訳ステータス</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ENUM</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;処理待ち&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;処理中&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;処理完了&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;転記済&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;エラー&#39;</span><span class="p">);</span>

<span class="c1">-- 自動仕訳パターンマスタ</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;自動仕訳パターンマスタ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;パターンコード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;パターン名&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;商品グループ&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;ALL&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;顧客グループ&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;ALL&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;売上区分&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;01&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;借方勘定科目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;借方補助科目設定&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;貸方勘定科目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;貸方補助科目設定&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;返品時借方科目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;返品時貸方科目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;消費税処理区分&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;01&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;有効開始日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_DATE</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;有効終了日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;9999-12-31&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;優先順位&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_自動仕訳パターン_借方科目&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;借方勘定科目コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;勘定科目コード&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_自動仕訳パターン_貸方科目&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;貸方勘定科目コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;勘定科目コード&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- 自動仕訳データ</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;自動仕訳データ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;自動仕訳番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;売上番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;売上行番号&quot;</span><span class="w"> </span><span class="nb">SMALLINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;パターンコード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;起票日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;仕訳行貸借区分&quot;</span><span class="w"> </span><span class="err">仕訳行貸借区分</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;勘定科目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;補助科目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;部門コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;仕訳金額&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;消費税額&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;処理ステータス&quot;</span><span class="w"> </span><span class="err">自動仕訳ステータス</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;処理待ち&#39;</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;転記済フラグ&quot;</span><span class="w"> </span><span class="nb">SMALLINT</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;転記日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;仕訳伝票番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;エラーコード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;エラーメッセージ&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">200</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span>
<span class="p">);</span>

<span class="c1">-- 自動仕訳処理履歴</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;自動仕訳処理履歴&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;処理番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;処理日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;処理対象開始日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;処理対象終了日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;処理件数&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;成功件数&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;エラー件数&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;処理金額合計&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;処理者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;備考&quot;</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span>
<span class="p">);</span>

<span class="c1">-- インデックス</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_自動仕訳パターン_優先順位&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;自動仕訳パターンマスタ&quot;</span><span class="p">(</span><span class="ss">&quot;優先順位&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_自動仕訳_売上番号&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;自動仕訳データ&quot;</span><span class="p">(</span><span class="ss">&quot;売上番号&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_自動仕訳_処理ステータス&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;自動仕訳データ&quot;</span><span class="p">(</span><span class="ss">&quot;処理ステータス&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_自動仕訳_転記済フラグ&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;自動仕訳データ&quot;</span><span class="p">(</span><span class="ss">&quot;転記済フラグ&quot;</span><span class="p">);</span>
</code></pre></div>

</details>

<hr />
<h2 id="174-jpa">17.4 JPA エンティティの実装<a class="headerlink" href="#174-jpa" title="Permanent link">&para;</a></h2>
<h3 id="enum-attributeconverter">自動仕訳ステータス Enum と AttributeConverter<a class="headerlink" href="#enum-attributeconverter" title="Permanent link">&para;</a></h3>
<details>
<summary>AutoJournalStatus.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.autojournal</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Getter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>

<span class="nd">@Getter</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">AutoJournalStatus</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">PENDING</span><span class="p">(</span><span class="s">&quot;処理待ち&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">PROCESSING</span><span class="p">(</span><span class="s">&quot;処理中&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">COMPLETED</span><span class="p">(</span><span class="s">&quot;処理完了&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">POSTED</span><span class="p">(</span><span class="s">&quot;転記済&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">ERROR</span><span class="p">(</span><span class="s">&quot;エラー&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">AutoJournalStatus</span><span class="w"> </span><span class="nf">fromDisplayName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">AutoJournalStatus</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">values</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="p">.</span><span class="na">displayName</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">displayName</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;Unknown auto journal status: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">displayName</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>AutoJournalStatusConverter.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.persistence.converter</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.autojournal.AutoJournalStatus</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.persistence.AttributeConverter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.persistence.Converter</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 自動仕訳ステータス ↔ PostgreSQL ENUM 変換</span>
<span class="cm"> * JPA では AttributeConverter を使用して ENUM 型を変換する</span>
<span class="cm"> */</span>
<span class="nd">@Converter</span><span class="p">(</span><span class="n">autoApply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AutoJournalStatusConverter</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">AttributeConverter</span><span class="o">&lt;</span><span class="n">AutoJournalStatus</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">convertToDatabaseColumn</span><span class="p">(</span><span class="n">AutoJournalStatus</span><span class="w"> </span><span class="n">attribute</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">attribute</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">attribute</span><span class="p">.</span><span class="na">getDisplayName</span><span class="p">()</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">AutoJournalStatus</span><span class="w"> </span><span class="nf">convertToEntityAttribute</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">dbData</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">dbData</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">AutoJournalStatus</span><span class="p">.</span><span class="na">fromDisplayName</span><span class="p">(</span><span class="n">dbData</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="entity">自動仕訳パターンマスタ Entity<a class="headerlink" href="#entity" title="Permanent link">&para;</a></h3>
<details>
<summary>AutoJournalPattern.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.autojournal</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.account.Account</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.persistence.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.*</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 自動仕訳パターンマスタ Entity</span>
<span class="cm"> *</span>
<span class="cm"> * JPA 版では @ManyToOne で勘定科目との関連を定義</span>
<span class="cm"> * MyBatis 版では resultMap で手動マッピングしていたが、</span>
<span class="cm"> * JPA では @JoinColumn で外部キー関連を自動的に解決</span>
<span class="cm"> */</span>
<span class="nd">@Entity</span>
<span class="nd">@Table</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;自動仕訳パターンマスタ&quot;</span><span class="p">)</span>
<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@AllArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AutoJournalPattern</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Id</span>
<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;パターンコード&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">patternCode</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;パターン名&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="n">nullable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">patternName</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;商品グループ&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">productGroup</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;顧客グループ&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">customerGroup</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;売上区分&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">salesType</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 借方勘定科目との関連</span>
<span class="cm">     * @ManyToOne で遅延ロード（LAZY）を指定</span>
<span class="cm">     * N+1 問題が発生する場合は @EntityGraph で対策</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@ManyToOne</span><span class="p">(</span><span class="n">fetch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FetchType</span><span class="p">.</span><span class="na">LAZY</span><span class="p">)</span>
<span class="w">    </span><span class="nd">@JoinColumn</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;借方勘定科目コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">referencedColumnName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;勘定科目コード&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="n">insertable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">updatable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Account</span><span class="w"> </span><span class="n">debitAccount</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;借方勘定科目コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">nullable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">debitAccountCode</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;借方補助科目設定&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">debitSubAccountSetting</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 貸方勘定科目との関連</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@ManyToOne</span><span class="p">(</span><span class="n">fetch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FetchType</span><span class="p">.</span><span class="na">LAZY</span><span class="p">)</span>
<span class="w">    </span><span class="nd">@JoinColumn</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;貸方勘定科目コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">referencedColumnName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;勘定科目コード&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="n">insertable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">updatable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Account</span><span class="w"> </span><span class="n">creditAccount</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;貸方勘定科目コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">nullable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">creditAccountCode</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;貸方補助科目設定&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">creditSubAccountSetting</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;返品時借方科目コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">returnDebitAccountCode</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;返品時貸方科目コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">returnCreditAccountCode</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;消費税処理区分&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">taxProcessingType</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;有効開始日&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">validFrom</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;有効終了日&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">validTo</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;優先順位&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">priority</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;作成日時&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nullable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">updatable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;更新日時&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nullable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 指定日付に有効かどうかを判定</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isValidAt</span><span class="p">(</span><span class="n">LocalDate</span><span class="w"> </span><span class="n">date</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">!</span><span class="n">date</span><span class="p">.</span><span class="na">isBefore</span><span class="p">(</span><span class="n">validFrom</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">date</span><span class="p">.</span><span class="na">isAfter</span><span class="p">(</span><span class="n">validTo</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 商品グループと顧客グループにマッチするか判定</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">matches</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">productGroup</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">customerGroup</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">boolean</span><span class="w"> </span><span class="n">productMatch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;ALL&quot;</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">productGroup</span><span class="p">)</span><span class="w"> </span><span class="o">||</span>
<span class="w">                               </span><span class="k">this</span><span class="p">.</span><span class="na">productGroup</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">productGroup</span><span class="p">);</span>
<span class="w">        </span><span class="kt">boolean</span><span class="w"> </span><span class="n">customerMatch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;ALL&quot;</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">customerGroup</span><span class="p">)</span><span class="w"> </span><span class="o">||</span>
<span class="w">                                </span><span class="k">this</span><span class="p">.</span><span class="na">customerGroup</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">customerGroup</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">productMatch</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">customerMatch</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@PrePersist</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onCreate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">createdAt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">now</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">updatedAt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">now</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">validFrom</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">validFrom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">validTo</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">validTo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">9999</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">31</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">priority</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">priority</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@PreUpdate</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onUpdate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">updatedAt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="entity_1">自動仕訳データ Entity<a class="headerlink" href="#entity_1" title="Permanent link">&para;</a></h3>
<details>
<summary>AutoJournalEntry.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.autojournal</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.account.Account</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.department.Department</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.journal.DebitCreditType</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.persistence.converter.AutoJournalStatusConverter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.persistence.converter.DebitCreditTypeConverter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.persistence.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.*</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 自動仕訳データ Entity</span>
<span class="cm"> *</span>
<span class="cm"> * JPA 版では @ManyToOne で関連エンティティを定義</span>
<span class="cm"> * 状態管理には Enum + AttributeConverter を使用</span>
<span class="cm"> */</span>
<span class="nd">@Entity</span>
<span class="nd">@Table</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;自動仕訳データ&quot;</span><span class="p">)</span>
<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@AllArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AutoJournalEntry</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Id</span>
<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;自動仕訳番号&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">15</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">autoJournalNumber</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;売上番号&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">nullable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">salesNumber</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;売上行番号&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nullable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">salesLineNumber</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * パターンマスタとの関連</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@ManyToOne</span><span class="p">(</span><span class="n">fetch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FetchType</span><span class="p">.</span><span class="na">LAZY</span><span class="p">)</span>
<span class="w">    </span><span class="nd">@JoinColumn</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;パターンコード&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">referencedColumnName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;パターンコード&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="n">insertable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">updatable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">AutoJournalPattern</span><span class="w"> </span><span class="n">pattern</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;パターンコード&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">nullable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">patternCode</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;起票日&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nullable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">postingDate</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 仕訳行貸借区分</span>
<span class="cm">     * AttributeConverter で PostgreSQL ENUM と Java Enum を変換</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Convert</span><span class="p">(</span><span class="n">converter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DebitCreditTypeConverter</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;仕訳行貸借区分&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nullable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">columnDefinition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;仕訳行貸借区分&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">DebitCreditType</span><span class="w"> </span><span class="n">debitCreditType</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 勘定科目との関連</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@ManyToOne</span><span class="p">(</span><span class="n">fetch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FetchType</span><span class="p">.</span><span class="na">LAZY</span><span class="p">)</span>
<span class="w">    </span><span class="nd">@JoinColumn</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;勘定科目コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">referencedColumnName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;勘定科目コード&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="n">insertable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">updatable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Account</span><span class="w"> </span><span class="n">account</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;勘定科目コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">nullable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">accountCode</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;補助科目コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">subAccountCode</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 部門との関連</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@ManyToOne</span><span class="p">(</span><span class="n">fetch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FetchType</span><span class="p">.</span><span class="na">LAZY</span><span class="p">)</span>
<span class="w">    </span><span class="nd">@JoinColumn</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;部門コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">referencedColumnName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;部門コード&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="n">insertable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">updatable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Department</span><span class="w"> </span><span class="n">department</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;部門コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">departmentCode</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;仕訳金額&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nullable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">precision</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="n">scale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">amount</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;消費税額&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">precision</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="n">scale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">taxAmount</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 処理ステータス</span>
<span class="cm">     * AttributeConverter で PostgreSQL ENUM と Java Enum を変換</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Convert</span><span class="p">(</span><span class="n">converter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AutoJournalStatusConverter</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;処理ステータス&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nullable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">columnDefinition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;自動仕訳ステータス&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">AutoJournalStatus</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;転記済フラグ&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Boolean</span><span class="w"> </span><span class="n">postedFlag</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;転記日&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">postedDate</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;仕訳伝票番号&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">journalVoucherNumber</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;エラーコード&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">errorCode</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;エラーメッセージ&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">errorMessage</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;作成日時&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nullable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">updatable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;更新日時&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nullable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@PrePersist</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onCreate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">createdAt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">now</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">updatedAt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">now</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">status</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AutoJournalStatus</span><span class="p">.</span><span class="na">PENDING</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">postedFlag</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">postedFlag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">taxAmount</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">taxAmount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@PreUpdate</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onUpdate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">updatedAt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="entity_2">自動仕訳処理履歴 Entity<a class="headerlink" href="#entity_2" title="Permanent link">&para;</a></h3>
<details>
<summary>AutoJournalHistory.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.autojournal</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.persistence.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.*</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 自動仕訳処理履歴 Entity</span>
<span class="cm"> */</span>
<span class="nd">@Entity</span>
<span class="nd">@Table</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;自動仕訳処理履歴&quot;</span><span class="p">)</span>
<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@AllArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AutoJournalHistory</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Id</span>
<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;処理番号&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">15</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">processNumber</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;処理日時&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nullable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">processDateTime</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;処理対象開始日&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nullable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">targetFromDate</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;処理対象終了日&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nullable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">targetToDate</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;処理件数&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">totalCount</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;成功件数&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">successCount</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;エラー件数&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">errorCount</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;処理金額合計&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">precision</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="n">scale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">totalAmount</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;処理者&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">processedBy</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;備考&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">columnDefinition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;TEXT&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">remarks</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;作成日時&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nullable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">updatable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@PrePersist</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onCreate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">createdAt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">totalCount</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">totalCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">successCount</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">successCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">errorCount</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">errorCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">totalAmount</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">totalAmount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="175-tdd">17.5 TDD によるパターンマッチングの実装<a class="headerlink" href="#175-tdd" title="Permanent link">&para;</a></h2>
<h3 id="_13">パターンマッチングのテスト<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<details>
<summary>AutoJournalPatternTest.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.autojournal</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.DisplayName</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.Nested</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.Test</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>

<span class="kn">import static</span><span class="w"> </span><span class="nn">org.assertj.core.api.Assertions.*</span><span class="p">;</span>

<span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;自動仕訳パターンのテスト&quot;</span><span class="p">)</span>
<span class="kd">class</span> <span class="nc">AutoJournalPatternTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Nested</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;パターンマッチング&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">class</span> <span class="nc">PatternMatchingTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;商品グループALLは全ての商品グループにマッチする&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldMatchAllProductGroups</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Given: 商品グループALLのパターン</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AutoJournalPattern</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">patternCode</span><span class="p">(</span><span class="s">&quot;P001&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">productGroup</span><span class="p">(</span><span class="s">&quot;ALL&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">customerGroup</span><span class="p">(</span><span class="s">&quot;ALL&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">            </span><span class="c1">// When &amp; Then</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="s">&quot;加工品&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;一般&quot;</span><span class="p">)).</span><span class="na">isTrue</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="s">&quot;生鮮品&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;一般&quot;</span><span class="p">)).</span><span class="na">isTrue</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="s">&quot;雑貨&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;特約店&quot;</span><span class="p">)).</span><span class="na">isTrue</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;特定の商品グループのみにマッチする&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldMatchSpecificProductGroup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Given: 加工品専用パターン</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AutoJournalPattern</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">patternCode</span><span class="p">(</span><span class="s">&quot;P002&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">productGroup</span><span class="p">(</span><span class="s">&quot;加工品&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">customerGroup</span><span class="p">(</span><span class="s">&quot;ALL&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">            </span><span class="c1">// When &amp; Then</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="s">&quot;加工品&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;一般&quot;</span><span class="p">)).</span><span class="na">isTrue</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="s">&quot;生鮮品&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;一般&quot;</span><span class="p">)).</span><span class="na">isFalse</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;商品グループと顧客グループの両方でマッチングする&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldMatchBothProductAndCustomerGroup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Given: 特定の組み合わせパターン</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AutoJournalPattern</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">patternCode</span><span class="p">(</span><span class="s">&quot;P003&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">productGroup</span><span class="p">(</span><span class="s">&quot;加工品&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">customerGroup</span><span class="p">(</span><span class="s">&quot;特約店&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">            </span><span class="c1">// When &amp; Then</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="s">&quot;加工品&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;特約店&quot;</span><span class="p">)).</span><span class="na">isTrue</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="s">&quot;加工品&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;一般&quot;</span><span class="p">)).</span><span class="na">isFalse</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="s">&quot;生鮮品&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;特約店&quot;</span><span class="p">)).</span><span class="na">isFalse</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Nested</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;有効期間チェック&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">class</span> <span class="nc">ValidityCheckTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;有効期間内の日付でtrueを返す&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldReturnTrueForValidDate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Given</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AutoJournalPattern</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">patternCode</span><span class="p">(</span><span class="s">&quot;P001&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">validFrom</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">validTo</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">31</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">            </span><span class="c1">// When &amp; Then</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">isValidAt</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">))).</span><span class="na">isTrue</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">isValidAt</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))).</span><span class="na">isTrue</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">isValidAt</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">31</span><span class="p">))).</span><span class="na">isTrue</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;有効期間外の日付でfalseを返す&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldReturnFalseForInvalidDate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Given</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AutoJournalPattern</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">patternCode</span><span class="p">(</span><span class="s">&quot;P001&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">validFrom</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">validTo</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">31</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">            </span><span class="c1">// When &amp; Then</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">isValidAt</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">31</span><span class="p">))).</span><span class="na">isFalse</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">isValidAt</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))).</span><span class="na">isFalse</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="_14">リポジトリのテスト<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<details>
<summary>AutoJournalPatternRepositoryTest.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.persistence</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.autojournal.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.persistence.repository.AutoJournalPatternJpaRepository</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.DisplayName</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.Nested</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.Test</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.test.context.DynamicPropertyRegistry</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.test.context.DynamicPropertySource</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.testcontainers.containers.PostgreSQLContainer</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.testcontainers.junit.jupiter.Container</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.testcontainers.junit.jupiter.Testcontainers</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>

<span class="kn">import static</span><span class="w"> </span><span class="nn">org.assertj.core.api.Assertions.*</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 自動仕訳リポジトリのテスト</span>
<span class="cm"> *</span>
<span class="cm"> * JPA 版では @DataJpaTest を使用（MyBatis 版では @MybatisTest）</span>
<span class="cm"> * TestContainers で PostgreSQL コンテナを起動し、実際のDBでテスト</span>
<span class="cm"> */</span>
<span class="nd">@DataJpaTest</span>
<span class="nd">@AutoConfigureTestDatabase</span><span class="p">(</span><span class="n">replace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AutoConfigureTestDatabase</span><span class="p">.</span><span class="na">Replace</span><span class="p">.</span><span class="na">NONE</span><span class="p">)</span>
<span class="nd">@Testcontainers</span>
<span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;自動仕訳パターンリポジトリのテスト&quot;</span><span class="p">)</span>
<span class="kd">class</span> <span class="nc">AutoJournalPatternRepositoryTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Container</span>
<span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="n">PostgreSQLContainer</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">postgres</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PostgreSQLContainer</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;postgres:16&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">withDatabaseName</span><span class="p">(</span><span class="s">&quot;testdb&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">withUsername</span><span class="p">(</span><span class="s">&quot;test&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">withPassword</span><span class="p">(</span><span class="s">&quot;test&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="nd">@DynamicPropertySource</span>
<span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">configureProperties</span><span class="p">(</span><span class="n">DynamicPropertyRegistry</span><span class="w"> </span><span class="n">registry</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">registry</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;spring.datasource.url&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">postgres</span><span class="p">::</span><span class="n">getJdbcUrl</span><span class="p">);</span>
<span class="w">        </span><span class="n">registry</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;spring.datasource.username&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">postgres</span><span class="p">::</span><span class="n">getUsername</span><span class="p">);</span>
<span class="w">        </span><span class="n">registry</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;spring.datasource.password&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">postgres</span><span class="p">::</span><span class="n">getPassword</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">AutoJournalPatternJpaRepository</span><span class="w"> </span><span class="n">patternRepository</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Nested</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;パターンマスタの操作&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">class</span> <span class="nc">PatternMasterTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;パターンマスタを登録・取得できる&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldSaveAndFindPattern</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Given</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AutoJournalPattern</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">patternCode</span><span class="p">(</span><span class="s">&quot;P001&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">patternName</span><span class="p">(</span><span class="s">&quot;加工品売上&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">productGroup</span><span class="p">(</span><span class="s">&quot;加工品&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">customerGroup</span><span class="p">(</span><span class="s">&quot;ALL&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">debitAccountCode</span><span class="p">(</span><span class="s">&quot;11300&quot;</span><span class="p">)</span><span class="w">  </span><span class="c1">// 売掛金</span>
<span class="w">                </span><span class="p">.</span><span class="na">creditAccountCode</span><span class="p">(</span><span class="s">&quot;41110&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1">// 売上加工品</span>
<span class="w">                </span><span class="p">.</span><span class="na">validFrom</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">validTo</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">9999</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">31</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">priority</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">            </span><span class="c1">// When</span>
<span class="w">            </span><span class="n">patternRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">pattern</span><span class="p">);</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">patternRepository</span><span class="p">.</span><span class="na">findById</span><span class="p">(</span><span class="s">&quot;P001&quot;</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Then</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">saved</span><span class="p">).</span><span class="na">isPresent</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">saved</span><span class="p">.</span><span class="na">get</span><span class="p">().</span><span class="na">getPatternName</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&quot;加工品売上&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">saved</span><span class="p">.</span><span class="na">get</span><span class="p">().</span><span class="na">getProductGroup</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&quot;加工品&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;有効なパターンを優先順位順で取得できる&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldFindValidPatternsSortedByPriority</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Given: 複数のパターンを登録</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">pattern1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AutoJournalPattern</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">patternCode</span><span class="p">(</span><span class="s">&quot;P001&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">patternName</span><span class="p">(</span><span class="s">&quot;加工品売上&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">productGroup</span><span class="p">(</span><span class="s">&quot;加工品&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">customerGroup</span><span class="p">(</span><span class="s">&quot;ALL&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">debitAccountCode</span><span class="p">(</span><span class="s">&quot;11300&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">creditAccountCode</span><span class="p">(</span><span class="s">&quot;41110&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">validFrom</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">validTo</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">9999</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">31</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">priority</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">pattern2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AutoJournalPattern</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">patternCode</span><span class="p">(</span><span class="s">&quot;P002&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">patternName</span><span class="p">(</span><span class="s">&quot;生鮮品売上&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">productGroup</span><span class="p">(</span><span class="s">&quot;生鮮品&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">customerGroup</span><span class="p">(</span><span class="s">&quot;ALL&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">debitAccountCode</span><span class="p">(</span><span class="s">&quot;11300&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">creditAccountCode</span><span class="p">(</span><span class="s">&quot;41120&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">validFrom</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">validTo</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">9999</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">31</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">priority</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">            </span><span class="n">patternRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">pattern1</span><span class="p">);</span>
<span class="w">            </span><span class="n">patternRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">pattern2</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// When</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">patterns</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">patternRepository</span><span class="p">.</span><span class="na">findValidPatterns</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">));</span>

<span class="w">            </span><span class="c1">// Then</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">patterns</span><span class="p">).</span><span class="na">isSortedAccordingTo</span><span class="p">(</span>
<span class="w">                </span><span class="p">(</span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="n">p2</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">p1</span><span class="p">.</span><span class="na">getPriority</span><span class="p">().</span><span class="na">compareTo</span><span class="p">(</span><span class="n">p2</span><span class="p">.</span><span class="na">getPriority</span><span class="p">())</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">patterns</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="na">getPatternCode</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&quot;P002&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// priority 100</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="176-jparepository">17.6 JpaRepository インターフェース<a class="headerlink" href="#176-jparepository" title="Permanent link">&para;</a></h2>
<h3 id="repository">自動仕訳パターンマスタ Repository<a class="headerlink" href="#repository" title="Permanent link">&para;</a></h3>
<details>
<summary>AutoJournalPatternJpaRepository.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.persistence.repository</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.autojournal.AutoJournalPattern</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.data.jpa.repository.EntityGraph</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.data.jpa.repository.JpaRepository</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.data.jpa.repository.Query</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.data.repository.query.Param</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Repository</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Optional</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 自動仕訳パターンマスタ JpaRepository</span>
<span class="cm"> *</span>
<span class="cm"> * JPA 版では JpaRepository を継承（MyBatis 版では Mapper インターフェース）</span>
<span class="cm"> * メソッド名規約で自動的にクエリを生成</span>
<span class="cm"> */</span>
<span class="nd">@Repository</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">AutoJournalPatternJpaRepository</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">JpaRepository</span><span class="o">&lt;</span><span class="n">AutoJournalPattern</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 有効なパターンを優先順位順で取得</span>
<span class="cm">     * @Query で JPQL を明示的に記述</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Query</span><span class="p">(</span><span class="s">&quot;SELECT p FROM AutoJournalPattern p &quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">           </span><span class="s">&quot;WHERE p.validFrom &lt;= :date AND p.validTo &gt;= :date &quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">           </span><span class="s">&quot;ORDER BY p.priority, p.patternCode&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalPattern</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findValidPatterns</span><span class="p">(</span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;date&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">date</span><span class="p">);</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * パターンコードで検索（勘定科目も一緒に取得）</span>
<span class="cm">     * @EntityGraph で N+1 問題を防止</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@EntityGraph</span><span class="p">(</span><span class="n">attributePaths</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s">&quot;debitAccount&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;creditAccount&quot;</span><span class="p">})</span>
<span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">AutoJournalPattern</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findWithAccountsByPatternCode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">patternCode</span><span class="p">);</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 商品グループで検索</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalPattern</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByProductGroupOrderByPriority</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">productGroup</span><span class="p">);</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 顧客グループで検索</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalPattern</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByCustomerGroupOrderByPriority</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">customerGroup</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="repository_1">自動仕訳データ Repository<a class="headerlink" href="#repository_1" title="Permanent link">&para;</a></h3>
<details>
<summary>AutoJournalEntryJpaRepository.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.persistence.repository</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.autojournal.AutoJournalEntry</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.autojournal.AutoJournalStatus</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.data.jpa.repository.EntityGraph</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.data.jpa.repository.JpaRepository</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.data.jpa.repository.JpaSpecificationExecutor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.data.jpa.repository.Query</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.data.repository.query.Param</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Repository</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Optional</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 自動仕訳データ JpaRepository</span>
<span class="cm"> *</span>
<span class="cm"> * JpaSpecificationExecutor を継承して動的クエリに対応</span>
<span class="cm"> * MyBatis 版では動的 SQL を XML で記述していたが、</span>
<span class="cm"> * JPA 版では Specification パターンを使用</span>
<span class="cm"> */</span>
<span class="nd">@Repository</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">AutoJournalEntryJpaRepository</span>
<span class="w">        </span><span class="kd">extends</span><span class="w"> </span><span class="n">JpaRepository</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">                </span><span class="n">JpaSpecificationExecutor</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 売上番号で検索</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findBySalesNumberOrderBySalesLineNumberAscDebitCreditTypeAsc</span><span class="p">(</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">salesNumber</span><span class="p">);</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 未転記の自動仕訳を取得</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Query</span><span class="p">(</span><span class="s">&quot;SELECT e FROM AutoJournalEntry e &quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">           </span><span class="s">&quot;WHERE e.postedFlag = false &quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">           </span><span class="s">&quot;AND e.status = com.example.accounting.domain.model.autojournal.AutoJournalStatus.COMPLETED &quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">           </span><span class="s">&quot;ORDER BY e.postingDate, e.autoJournalNumber&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findUnposted</span><span class="p">();</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 未転記の自動仕訳を日付で取得</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Query</span><span class="p">(</span><span class="s">&quot;SELECT e FROM AutoJournalEntry e &quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">           </span><span class="s">&quot;WHERE e.postedFlag = false &quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">           </span><span class="s">&quot;AND e.status = com.example.accounting.domain.model.autojournal.AutoJournalStatus.COMPLETED &quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">           </span><span class="s">&quot;AND e.postingDate = :date &quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">           </span><span class="s">&quot;ORDER BY e.autoJournalNumber&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findUnpostedByDate</span><span class="p">(</span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;date&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">date</span><span class="p">);</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * ステータスで検索</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByStatusOrderByPostingDateAscAutoJournalNumberAsc</span><span class="p">(</span>
<span class="w">            </span><span class="n">AutoJournalStatus</span><span class="w"> </span><span class="n">status</span><span class="p">);</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * パターンと関連エンティティを一緒に取得</span>
<span class="cm">     * @EntityGraph で N+1 問題を防止</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@EntityGraph</span><span class="p">(</span><span class="n">attributePaths</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s">&quot;pattern&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;account&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;department&quot;</span><span class="p">})</span>
<span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findWithRelationsById</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">autoJournalNumber</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="177-spring-data-jpa-specification">17.7 Spring Data JPA Specification による動的クエリ<a class="headerlink" href="#177-spring-data-jpa-specification" title="Permanent link">&para;</a></h2>
<p>JPA 版では、複雑な検索条件を組み合わせる際に Specification パターンを使用します。MyBatis 版では XML の <code>&lt;if&gt;</code> タグで動的 SQL を構築していましたが、JPA 版では型安全な Specification で実現します。</p>
<details>
<summary>AutoJournalEntrySpecifications.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.persistence.specification</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.autojournal.AutoJournalEntry</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.autojournal.AutoJournalStatus</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.data.jpa.domain.Specification</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 自動仕訳エントリ検索用 Specification</span>
<span class="cm"> *</span>
<span class="cm"> * JPA 版では Specification パターンで動的クエリを構築</span>
<span class="cm"> * MyBatis 版の XML 動的 SQL を Java コードで表現</span>
<span class="cm"> *</span>
<span class="cm"> * 使用例:</span>
<span class="cm"> * var spec = AutoJournalEntrySpecifications.unposted()</span>
<span class="cm"> *     .and(AutoJournalEntrySpecifications.postingDateBetween(from, to))</span>
<span class="cm"> *     .and(AutoJournalEntrySpecifications.hasStatus(AutoJournalStatus.COMPLETED));</span>
<span class="cm"> * var entries = repository.findAll(spec);</span>
<span class="cm"> */</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AutoJournalEntrySpecifications</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 未転記条件</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Specification</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">unposted</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="w"> </span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">cb</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">cb</span><span class="p">.</span><span class="na">equal</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;postedFlag&quot;</span><span class="p">),</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * ステータス条件</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Specification</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">hasStatus</span><span class="p">(</span><span class="n">AutoJournalStatus</span><span class="w"> </span><span class="n">status</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="w"> </span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">cb</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">cb</span><span class="p">.</span><span class="na">equal</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;status&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">status</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 起票日範囲条件</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Specification</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">postingDateBetween</span><span class="p">(</span>
<span class="w">            </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">from</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">to</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="w"> </span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">cb</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">cb</span><span class="p">.</span><span class="na">between</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;postingDate&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">from</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 起票日条件</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Specification</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">postingDateEquals</span><span class="p">(</span><span class="n">LocalDate</span><span class="w"> </span><span class="n">date</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="w"> </span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">cb</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">cb</span><span class="p">.</span><span class="na">equal</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;postingDate&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">date</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 売上番号条件</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Specification</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">salesNumberEquals</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">salesNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="w"> </span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">cb</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">cb</span><span class="p">.</span><span class="na">equal</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;salesNumber&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">salesNumber</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * パターンコード条件</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Specification</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">patternCodeEquals</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">patternCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="w"> </span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">cb</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">cb</span><span class="p">.</span><span class="na">equal</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;patternCode&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">patternCode</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 勘定科目コード条件</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Specification</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">accountCodeEquals</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">accountCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="w"> </span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">cb</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">cb</span><span class="p">.</span><span class="na">equal</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;accountCode&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">accountCode</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 部門コード条件</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Specification</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">departmentCodeEquals</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">departmentCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="w"> </span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">cb</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">cb</span><span class="p">.</span><span class="na">equal</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;departmentCode&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">departmentCode</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * エラー有無条件</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Specification</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">hasError</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="w"> </span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">cb</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">cb</span><span class="p">.</span><span class="na">isNotNull</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;errorCode&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * エラー無し条件</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Specification</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">noError</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="w"> </span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">cb</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">cb</span><span class="p">.</span><span class="na">isNull</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;errorCode&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="specification">Specification の使用例<a class="headerlink" href="#specification" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// 動的クエリの組み立て</span>
<span class="kd">var</span><span class="w"> </span><span class="n">spec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AutoJournalEntrySpecifications</span><span class="p">.</span><span class="na">unposted</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="na">and</span><span class="p">(</span><span class="n">AutoJournalEntrySpecifications</span><span class="p">.</span><span class="na">postingDateBetween</span><span class="p">(</span>
<span class="w">        </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span>
<span class="w">        </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">)))</span>
<span class="w">    </span><span class="p">.</span><span class="na">and</span><span class="p">(</span><span class="n">AutoJournalEntrySpecifications</span><span class="p">.</span><span class="na">hasStatus</span><span class="p">(</span><span class="n">AutoJournalStatus</span><span class="p">.</span><span class="na">COMPLETED</span><span class="p">))</span>
<span class="w">    </span><span class="p">.</span><span class="na">and</span><span class="p">(</span><span class="n">AutoJournalEntrySpecifications</span><span class="p">.</span><span class="na">noError</span><span class="p">());</span>

<span class="c1">// クエリ実行</span>
<span class="kd">var</span><span class="w"> </span><span class="n">entries</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">entryJpaRepository</span><span class="p">.</span><span class="na">findAll</span><span class="p">(</span><span class="n">spec</span><span class="p">);</span>
</code></pre></div>
<hr />
<h2 id="178">17.8 自動仕訳サービスの実装<a class="headerlink" href="#178" title="Permanent link">&para;</a></h2>
<details>
<summary>AutoJournalService.java（一部抜粋）</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.application.service</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.application.dto.AutoJournalResult</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.application.dto.SalesData</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.application.port.out.AutoJournalRepository</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.autojournal.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.journal.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.extern.slf4j.Slf4j</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Service</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.transaction.annotation.Transactional</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.*</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 自動仕訳サービス</span>
<span class="cm"> *</span>
<span class="cm"> * JPA 版でもビジネスロジックは MyBatis 版と同じ</span>
<span class="cm"> * リポジトリ経由でデータアクセスを行う</span>
<span class="cm"> */</span>
<span class="nd">@Service</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="nd">@Slf4j</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AutoJournalService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">AutoJournalRepository</span><span class="w"> </span><span class="n">autoJournalRepository</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">JournalRepository</span><span class="w"> </span><span class="n">journalRepository</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 売上データから自動仕訳を生成する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">AutoJournalResult</span><span class="w"> </span><span class="nf">generateAutoJournals</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">SalesData</span><span class="o">&gt;</span><span class="w"> </span><span class="n">salesDataList</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">processNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">generateProcessNumber</span><span class="p">();</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">startTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>

<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">successCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">errorCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">totalAmount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">;</span>

<span class="w">        </span><span class="c1">// 有効なパターンを取得</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">patterns</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">autoJournalRepository</span><span class="p">.</span><span class="na">findValidPatterns</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">());</span>

<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="n">allEntries</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">SalesData</span><span class="w"> </span><span class="n">sale</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">salesDataList</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// マッチするパターンを検索</span>
<span class="w">                </span><span class="kd">var</span><span class="w"> </span><span class="n">matchedPattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findMatchingPattern</span><span class="p">(</span><span class="n">patterns</span><span class="p">,</span><span class="w"> </span><span class="n">sale</span><span class="p">);</span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">matchedPattern</span><span class="p">.</span><span class="na">isPresent</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="c1">// 自動仕訳データを生成</span>
<span class="w">                    </span><span class="kd">var</span><span class="w"> </span><span class="n">entries</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createAutoJournalEntries</span><span class="p">(</span><span class="n">sale</span><span class="p">,</span><span class="w"> </span><span class="n">matchedPattern</span><span class="p">.</span><span class="na">get</span><span class="p">());</span>
<span class="w">                    </span><span class="n">allEntries</span><span class="p">.</span><span class="na">addAll</span><span class="p">(</span><span class="n">entries</span><span class="p">);</span>

<span class="w">                    </span><span class="n">successCount</span><span class="o">++</span><span class="p">;</span>
<span class="w">                    </span><span class="n">totalAmount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">totalAmount</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">sale</span><span class="p">.</span><span class="na">getAmount</span><span class="p">());</span>
<span class="w">                </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="c1">// パターン不一致エラー</span>
<span class="w">                    </span><span class="n">allEntries</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">createErrorEntry</span><span class="p">(</span><span class="n">sale</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;E001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;マッチするパターンが見つかりません&quot;</span><span class="p">));</span>
<span class="w">                    </span><span class="n">errorCount</span><span class="o">++</span><span class="p">;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">log</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="s">&quot;自動仕訳処理エラー: {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">sale</span><span class="p">.</span><span class="na">getSalesNumber</span><span class="p">(),</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>
<span class="w">                </span><span class="n">allEntries</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">createErrorEntry</span><span class="p">(</span><span class="n">sale</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;E999&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getMessage</span><span class="p">()));</span>
<span class="w">                </span><span class="n">errorCount</span><span class="o">++</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// JPA 版では saveAll でバッチ保存</span>
<span class="w">        </span><span class="n">autoJournalRepository</span><span class="p">.</span><span class="na">saveAllEntries</span><span class="p">(</span><span class="n">allEntries</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// 処理履歴を保存</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">history</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AutoJournalHistory</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">processNumber</span><span class="p">(</span><span class="n">processNumber</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">processDateTime</span><span class="p">(</span><span class="n">startTime</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">targetFromDate</span><span class="p">(</span><span class="n">salesDataList</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">SalesData</span><span class="p">::</span><span class="n">getSalesDate</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">min</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">::</span><span class="n">compareTo</span><span class="p">).</span><span class="na">orElse</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">()))</span>
<span class="w">            </span><span class="p">.</span><span class="na">targetToDate</span><span class="p">(</span><span class="n">salesDataList</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">SalesData</span><span class="p">::</span><span class="n">getSalesDate</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">max</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">::</span><span class="n">compareTo</span><span class="p">).</span><span class="na">orElse</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">()))</span>
<span class="w">            </span><span class="p">.</span><span class="na">totalCount</span><span class="p">(</span><span class="n">salesDataList</span><span class="p">.</span><span class="na">size</span><span class="p">())</span>
<span class="w">            </span><span class="p">.</span><span class="na">successCount</span><span class="p">(</span><span class="n">successCount</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">errorCount</span><span class="p">(</span><span class="n">errorCount</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">totalAmount</span><span class="p">(</span><span class="n">totalAmount</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">        </span><span class="n">autoJournalRepository</span><span class="p">.</span><span class="na">saveHistory</span><span class="p">(</span><span class="n">history</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AutoJournalResult</span><span class="p">(</span><span class="n">processNumber</span><span class="p">,</span><span class="w"> </span><span class="n">successCount</span><span class="p">,</span><span class="w"> </span><span class="n">errorCount</span><span class="p">,</span><span class="w"> </span><span class="n">totalAmount</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * マッチするパターンを検索</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">AutoJournalPattern</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findMatchingPattern</span><span class="p">(</span>
<span class="w">            </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalPattern</span><span class="o">&gt;</span><span class="w"> </span><span class="n">patterns</span><span class="p">,</span><span class="w"> </span><span class="n">SalesData</span><span class="w"> </span><span class="n">sale</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">patterns</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="n">sale</span><span class="p">.</span><span class="na">getProductGroup</span><span class="p">(),</span><span class="w"> </span><span class="n">sale</span><span class="p">.</span><span class="na">getCustomerGroup</span><span class="p">()))</span>
<span class="w">            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="na">isValidAt</span><span class="p">(</span><span class="n">sale</span><span class="p">.</span><span class="na">getSalesDate</span><span class="p">()))</span>
<span class="w">            </span><span class="p">.</span><span class="na">findFirst</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="179">17.9 ヘキサゴナルアーキテクチャでのポート設計<a class="headerlink" href="#179" title="Permanent link">&para;</a></h2>
<h3 id="output-port">Output Port（リポジトリインターフェース）<a class="headerlink" href="#output-port" title="Permanent link">&para;</a></h3>
<details>
<summary>AutoJournalRepository.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.application.port.out</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.autojournal.*</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Optional</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 自動仕訳リポジトリ（Output Port）</span>
<span class="cm"> *</span>
<span class="cm"> * ヘキサゴナルアーキテクチャにおける出力ポート</span>
<span class="cm"> * アプリケーション層はこのインターフェースに依存し、</span>
<span class="cm"> * インフラストラクチャ層で実装する</span>
<span class="cm"> */</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">AutoJournalRepository</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="c1">// パターンマスタ操作</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">savePattern</span><span class="p">(</span><span class="n">AutoJournalPattern</span><span class="w"> </span><span class="n">pattern</span><span class="p">);</span>

<span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">AutoJournalPattern</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findPatternByCode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">patternCode</span><span class="p">);</span>

<span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">AutoJournalPattern</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findPatternWithAccounts</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">patternCode</span><span class="p">);</span>

<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalPattern</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findAllPatterns</span><span class="p">();</span>

<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalPattern</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findValidPatterns</span><span class="p">(</span><span class="n">LocalDate</span><span class="w"> </span><span class="n">date</span><span class="p">);</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">updatePattern</span><span class="p">(</span><span class="n">AutoJournalPattern</span><span class="w"> </span><span class="n">pattern</span><span class="p">);</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">deletePattern</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">patternCode</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// 自動仕訳エントリ操作</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">saveEntry</span><span class="p">(</span><span class="n">AutoJournalEntry</span><span class="w"> </span><span class="n">entry</span><span class="p">);</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">saveAllEntries</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="n">entries</span><span class="p">);</span>

<span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findEntryByNumber</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">autoJournalNumber</span><span class="p">);</span>

<span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findEntryWithRelations</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">autoJournalNumber</span><span class="p">);</span>

<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findEntriesBySalesNumber</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">salesNumber</span><span class="p">);</span>

<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findUnpostedEntries</span><span class="p">();</span>

<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findUnpostedEntriesByDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="w"> </span><span class="n">date</span><span class="p">);</span>

<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findEntriesByStatus</span><span class="p">(</span><span class="n">AutoJournalStatus</span><span class="w"> </span><span class="n">status</span><span class="p">);</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">updateEntry</span><span class="p">(</span><span class="n">AutoJournalEntry</span><span class="w"> </span><span class="n">entry</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// 処理履歴操作</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">saveHistory</span><span class="p">(</span><span class="n">AutoJournalHistory</span><span class="w"> </span><span class="n">history</span><span class="p">);</span>

<span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">AutoJournalHistory</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findHistoryByNumber</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">processNumber</span><span class="p">);</span>

<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalHistory</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findHistoriesByDateRange</span><span class="p">(</span><span class="n">LocalDate</span><span class="w"> </span><span class="n">fromDate</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">toDate</span><span class="p">);</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">deleteAll</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="1710-mybatis-jpa">17.10 まとめ：MyBatis 版と JPA 版の比較<a class="headerlink" href="#1710-mybatis-jpa" title="Permanent link">&para;</a></h2>
<h3 id="_15">データアクセス層のアーキテクチャ比較<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjU4OHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NTc1cHg7aGVpZ2h0OjU4OHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDU3NSA1ODgiIHdpZHRoPSI1NzVweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPk15QmF0aXMgJiMyOTI1NjsmIzEyMzkyOyBKUEEgJiMyOTI1NjsmIzEyMzk4OyYjMTI0NTA7JiMxMjU0MDsmIzEyNDYxOyYjMTI0ODY7JiMxMjQ2MzsmIzEyNDgxOyYjMTI1MTU7JiMyNzYwNDsmIzM2NjExOzwvdGl0bGU+PGRlZnMvPjxnPjxnIGNsYXNzPSJ0aXRsZSIgZGF0YS1zb3VyY2UtbGluZT0iMSI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI4NS45MjYiIHg9IjEzNy41MzciIHk9IjIyLjk5NTEiPk15QmF0aXMgJiMyOTI1NjsmIzEyMzkyOyBKUEEgJiMyOTI1NjsmIzEyMzk4OyYjMTI0NTA7JiMxMjU0MDsmIzEyNDYxOyYjMTI0ODY7JiMxMjQ2MzsmIzEyNDgxOyYjMTI1MTU7JiMyNzYwNDsmIzM2NjExOzwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgTXlCYXRpcyA/LS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ik15QmF0aXMgLiIgZGF0YS1zb3VyY2UtbGluZT0iMyIgaWQ9ImVudDAwMDIiPjxwYXRoIGQ9Ik04LjUsNDMuMjk2OSBMOTEuMzc0LDQzLjI5NjkgQTMuNzUsMy43NSAwIDAgMSA5My44NzQsNDUuNzk2OSBMMTAwLjg3NCw2NS41OTM4IEwyMzkuNSw2NS41OTM4IEEyLjUsMi41IDAgMCAxIDI0Miw2OC4wOTM4IEwyNDIsNDcyLjc3NjkgQTIuNSwyLjUgMCAwIDEgMjM5LjUsNDc1LjI3NjkgTDguNSw0NzUuMjc2OSBBMi41LDIuNSAwIDAgMSA2LDQ3Mi43NzY5IEw2LDQ1Ljc5NjkgQTIuNSwyLjUgMCAwIDEgOC41LDQzLjI5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjYiIHgyPSIxMDAuODc0IiB5MT0iNjUuNTkzOCIgeTI9IjY1LjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODEuODc0IiB4PSIxMCIgeT0iNTguMjkyIj5NeUJhdGlzICYjMjkyNTY7PC90ZXh0PjwvZz48IS0tY2x1c3RlciBKUEEgPy0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJKUEEgLiIgZGF0YS1zb3VyY2UtbGluZT0iMTQiIGlkPSJlbnQwMDEwIj48cGF0aCBkPSJNMjY4LjUsNDMuMjk2OSBMMzE0LjY3ODYsNDMuMjk2OSBBMy43NSwzLjc1IDAgMCAxIDMxNy4xNzg2LDQ1Ljc5NjkgTDMyNC4xNzg2LDY1LjU5MzggTDU2NS41LDY1LjU5MzggQTIuNSwyLjUgMCAwIDEgNTY4LDY4LjA5MzggTDU2OCw1NzguNTc2OSBBMi41LDIuNSAwIDAgMSA1NjUuNSw1ODEuMDc2OSBMMjY4LjUsNTgxLjA3NjkgQTIuNSwyLjUgMCAwIDEgMjY2LDU3OC41NzY5IEwyNjYsNDUuNzk2OSBBMi41LDIuNSAwIDAgMSAyNjguNSw0My4yOTY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIyNjYiIHgyPSIzMjQuMTc4NiIgeTE9IjY1LjU5MzgiIHkyPSI2NS41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ1LjE3ODYiIHg9IjI3MCIgeT0iNTguMjkyIj5KUEEgJiMyOTI1Njs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgTVNlcnZpY2UtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJNeUJhdGlzIC4uTVNlcnZpY2UiIGRhdGEtc291cmNlLWxpbmU9IjQiIGlkPSJlbnQwMDAzIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE3Mi45MTExIiB4PSIzNy41NCIgeT0iNzguMjk2OSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1IiB4PSIxOTAuNDUxMSIgeT0iODMuMjk2OSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMTg4LjQ1MTEiIHk9Ijg1LjI5NjkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjE4OC40NTExIiB5PSI4OS4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMyLjkxMTEiIHg9IjUyLjU0IiB5PSIxMTEuMjkyIj5BdXRvSm91cm5hbFNlcnZpY2U8L3RleHQ+PC9nPjwhLS1lbnRpdHkgTU1hcHBlci0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ik15QmF0aXMgLi5NTWFwcGVyIiBkYXRhLXNvdXJjZS1saW5lPSI1IiBpZD0iZW50MDAwNCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0Ni4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNzMuOTcwNyIgeD0iMzcuMDEiIHk9IjE5Mi43MzY5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTUiIHg9IjE5MC45ODA3IiB5PSIxOTcuNzM2OSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMTg4Ljk4MDciIHk9IjE5OS43MzY5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSIxODguOTgwNyIgeT0iMjAzLjczNjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzMuOTcwNyIgeD0iNTIuMDEiIHk9IjIyNS43MzIiPkF1dG9Kb3VybmFsTWFwcGVyPC90ZXh0PjwvZz48IS0tZW50aXR5IE1YbWwtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJNeUJhdGlzIC4uTVhtbCIgZGF0YS1zb3VyY2UtbGluZT0iNiIgaWQ9ImVudDAwMDUiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMjA0LjIzMzQiIHg9IjIxLjg4IiB5PSIzMDcuMTg2OSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1IiB4PSIyMDYuMTEzNCIgeT0iMzEyLjE4NjkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjIwNC4xMTM0IiB5PSIzMTQuMTg2OSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMjA0LjExMzQiIHk9IjMxOC4xODY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY0LjIzMzQiIHg9IjM2Ljg4IiB5PSIzNDAuMTgyIj5BdXRvSm91cm5hbE1hcHBlci54bWw8L3RleHQ+PC9nPjwhLS1lbnRpdHkgTURCLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iTXlCYXRpcyAuLk1EQiIgZGF0YS1zb3VyY2UtbGluZT0iNyIgaWQ9ImVudDAwMDYiPjxwYXRoIGQ9Ik03My42Miw0MjMuOTg2OSBDNzMuNjIsNDEzLjk4NjkgMTIzLjk5NjUsNDEzLjk4NjkgMTIzLjk5NjUsNDEzLjk4NjkgQzEyMy45OTY1LDQxMy45ODY5IDE3NC4zNzI5LDQxMy45ODY5IDE3NC4zNzI5LDQyMy45ODY5IEwxNzQuMzcyOSw0NDkuMjgzNyBDMTc0LjM3MjksNDU5LjI4MzcgMTIzLjk5NjUsNDU5LjI4MzcgMTIzLjk5NjUsNDU5LjI4MzcgQzEyMy45OTY1LDQ1OS4yODM3IDczLjYyLDQ1OS4yODM3IDczLjYyLDQ0OS4yODM3IEw3My42Miw0MjMuOTg2OSIgZmlsbD0iI0YxRjFGMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTczLjYyLDQyMy45ODY5IEM3My42Miw0MzMuOTg2OSAxMjMuOTk2NSw0MzMuOTg2OSAxMjMuOTk2NSw0MzMuOTg2OSBDMTIzLjk5NjUsNDMzLjk4NjkgMTc0LjM3MjksNDMzLjk4NjkgMTc0LjM3MjksNDIzLjk4NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgwLjc1MjkiIHg9IjgzLjYyIiB5PSI0NTAuOTgyIj5Qb3N0Z3JlU1FMPC90ZXh0PjwvZz48IS0tZW50aXR5IEpTZXJ2aWNlLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iSlBBIC4uSlNlcnZpY2UiIGRhdGEtc291cmNlLWxpbmU9IjE1IiBpZD0iZW50MDAxMSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0Ni4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNzIuOTExMSIgeD0iMzMwLjU0IiB5PSI3OC4yOTY5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTUiIHg9IjQ4My40NTExIiB5PSI4My4yOTY5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSI0ODEuNDUxMSIgeT0iODUuMjk2OSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iNDgxLjQ1MTEiIHk9Ijg5LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzIuOTExMSIgeD0iMzQ1LjU0IiB5PSIxMTEuMjkyIj5BdXRvSm91cm5hbFNlcnZpY2U8L3RleHQ+PC9nPjwhLS1lbnRpdHkgSlBvcnQtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJKUEEgLi5KUG9ydCIgZGF0YS1zb3VyY2UtbGluZT0iMTYiIGlkPSJlbnQwMDEyIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjYyLjU5MzgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE5Ni4yNDIyIiB4PSIzMTguODgiIHk9IjE4NC41OTY5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTUiIHg9IjQ5NS4xMjIyIiB5PSIxODkuNTk2OSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iNDkzLjEyMjIiIHk9IjE5MS41OTY5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSI0OTMuMTIyMiIgeT0iMTk1LjU5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTYuMjQyMiIgeD0iMzMzLjg4IiB5PSIyMTcuNTkyIj5BdXRvSm91cm5hbFJlcG9zaXRvcnk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTIuMjU3OCIgeD0iMzMzLjg4IiB5PSIyMzMuODg4OSI+KE91dHB1dCBQb3J0KTwvdGV4dD48L2c+PCEtLWVudGl0eSBKSW1wbC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkpQQSAuLkpJbXBsIiBkYXRhLXNvdXJjZS1saW5lPSIxNyIgaWQ9ImVudDAwMTMiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMjI2Ljc4NTIiIHg9IjMwMy42MSIgeT0iMzA3LjE4NjkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNSIgeD0iNTEwLjM5NTIiIHk9IjMxMi4xODY5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSI1MDguMzk1MiIgeT0iMzE0LjE4NjkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjUwOC4zOTUyIiB5PSIzMTguMTg2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4Ni43ODUyIiB4PSIzMTguNjEiIHk9IjM0MC4xODIiPkF1dG9Kb3VybmFsUmVwb3NpdG9yeUltcGw8L3RleHQ+PC9nPjwhLS1lbnRpdHkgSkpwYS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkpQQSAuLkpKcGEiIGRhdGEtc291cmNlLWxpbmU9IjE4IiBpZD0iZW50MDAxNCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0Ni4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyNjkuMDc5MSIgeD0iMjgyLjQ2IiB5PSI0MTMuNDg2OSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1IiB4PSI1MzEuNTM5MSIgeT0iNDE4LjQ4NjkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjUyOS41MzkxIiB5PSI0MjAuNDg2OSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iNTI5LjUzOTEiIHk9IjQyNC40ODY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjI5LjA3OTEiIHg9IjI5Ny40NiIgeT0iNDQ2LjQ4MiI+QXV0b0pvdXJuYWxQYXR0ZXJuSnBhUmVwb3NpdG9yeTwvdGV4dD48L2c+PCEtLWVudGl0eSBKREItLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJKUEEgLi5KREIiIGRhdGEtc291cmNlLWxpbmU9IjE5IiBpZD0iZW50MDAxNSI+PHBhdGggZD0iTTM2Ni42Miw1MjkuNzc2OSBDMzY2LjYyLDUxOS43NzY5IDQxNi45OTY1LDUxOS43NzY5IDQxNi45OTY1LDUxOS43NzY5IEM0MTYuOTk2NSw1MTkuNzc2OSA0NjcuMzcyOSw1MTkuNzc2OSA0NjcuMzcyOSw1MjkuNzc2OSBMNDY3LjM3MjksNTU1LjA3MzggQzQ2Ny4zNzI5LDU2NS4wNzM4IDQxNi45OTY1LDU2NS4wNzM4IDQxNi45OTY1LDU2NS4wNzM4IEM0MTYuOTk2NSw1NjUuMDczOCAzNjYuNjIsNTY1LjA3MzggMzY2LjYyLDU1NS4wNzM4IEwzNjYuNjIsNTI5Ljc3NjkiIGZpbGw9IiNGMUYxRjEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0zNjYuNjIsNTI5Ljc3NjkgQzM2Ni42Miw1MzkuNzc2OSA0MTYuOTk2NSw1MzkuNzc2OSA0MTYuOTk2NSw1MzkuNzc2OSBDNDE2Ljk5NjUsNTM5Ljc3NjkgNDY3LjM3MjksNTM5Ljc3NjkgNDY3LjM3MjksNTI5Ljc3NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgwLjc1MjkiIHg9IjM3Ni42MiIgeT0iNTU2Ljc3MiI+UG9zdGdyZVNRTDwvdGV4dD48L2c+PCEtLWxpbmsgTVNlcnZpY2UgdG8gTU1hcHBlci0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAzIiBkYXRhLWVudGl0eS0yPSJlbnQwMDA0IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iOSIgaWQ9ImxuazciPjxwYXRoIGQ9Ik0xMjQsMTI0LjkyNjkgQzEyNCwxNDQuNTM2OSAxMjQsMTY2Ljg0NjkgMTI0LDE4Ni40NDY5IiBmaWxsPSJub25lIiBpZD0iTVNlcnZpY2UtdG8tTU1hcHBlciIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTI0LDE5Mi40NDY5LDEyOCwxODMuNDQ2OSwxMjQsMTg3LjQ0NjksMTIwLDE4My40NDY5LDEyNCwxOTIuNDQ2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBNTWFwcGVyIHRvIE1YbWwtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNCIgZGF0YS1lbnRpdHktMj0iZW50MDAwNSIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjEwIiBpZD0ibG5rOCI+PHBhdGggZD0iTTEyNCwyMzkuMzc2OSBDMTI0LDI1OC45ODY5IDEyNCwyODEuMjg2OSAxMjQsMzAwLjg4NjkiIGZpbGw9Im5vbmUiIGlkPSJNTWFwcGVyLXRvLU1YbWwiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjEyNCwzMDYuODg2OSwxMjgsMjk3Ljg4NjksMTI0LDMwMS44ODY5LDEyMCwyOTcuODg2OSwxMjQsMzA2Ljg4NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgTVhtbCB0byBNREItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNSIgZGF0YS1lbnRpdHktMj0iZW50MDAwNiIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjExIiBpZD0ibG5rOSI+PHBhdGggZD0iTTEyNCwzNTMuOTY2OSBDMTI0LDM3MS42OTY5IDEyNCwzOTAuMjI2OSAxMjQsNDA3Ljc1NjkiIGZpbGw9Im5vbmUiIGlkPSJNWG1sLXRvLU1EQiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTI0LDQxMy43NTY5LDEyOCw0MDQuNzU2OSwxMjQsNDA4Ljc1NjksMTIwLDQwNC43NTY5LDEyNCw0MTMuNzU2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBKU2VydmljZSB0byBKUG9ydC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDExIiBkYXRhLWVudGl0eS0yPSJlbnQwMDEyIiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMjEiIGlkPSJsbmsxNiI+PHBhdGggZD0iTTQxNywxMjQuOTI2OSBDNDE3LDE0MS45NzY5IDQxNywxNTkuNTk2OSA0MTcsMTc4LjM0NjkiIGZpbGw9Im5vbmUiIGlkPSJKU2VydmljZS10by1KUG9ydCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNDE3LDE4NC4zNDY5LDQyMSwxNzUuMzQ2OSw0MTcsMTc5LjM0NjksNDEzLDE3NS4zNDY5LDQxNywxODQuMzQ2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tcmV2ZXJzZSBsaW5rIEpQb3J0IHRvIEpJbXBsLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMTIiIGRhdGEtZW50aXR5LTI9ImVudDAwMTMiIGRhdGEtbGluay10eXBlPSJleHRlbnNpb24iIGRhdGEtc291cmNlLWxpbmU9IjIyIiBpZD0ibG5rMTciPjxwYXRoIGQ9Ik00MTcsMjY1LjYxNjkgQzQxNywyODQuMzQ2OSA0MTcsMjg5Ljg1NjkgNDE3LDMwNi44NDY5IiBmaWxsPSJub25lIiBpZD0iSlBvcnQtYmFja3RvLUpJbXBsIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTo3LDc7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSI0MTcsMjQ3LjYxNjksNDExLDI2NS42MTY5LDQyMywyNjUuNjE2OSw0MTcsMjQ3LjYxNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgSkltcGwgdG8gSkpwYS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDEzIiBkYXRhLWVudGl0eS0yPSJlbnQwMDE0IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMjMiIGlkPSJsbmsxOCI+PHBhdGggZD0iTTQxNywzNTMuOTY2OSBDNDE3LDM3MS40NTY5IDQxNywzODkuNTY2OSA0MTcsNDA3LjA0NjkiIGZpbGw9Im5vbmUiIGlkPSJKSW1wbC10by1KSnBhIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0MTcsNDEzLjA0NjksNDIxLDQwNC4wNDY5LDQxNyw0MDguMDQ2OSw0MTMsNDA0LjA0NjksNDE3LDQxMy4wNDY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIEpKcGEgdG8gSkRCLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMTQiIGRhdGEtZW50aXR5LTI9ImVudDAwMTUiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIyNCIgaWQ9ImxuazE5Ij48cGF0aCBkPSJNNDE3LDQ2MC4xNTY5IEM0MTcsNDc3LjY4NjkgNDE3LDQ5NS44NzY5IDQxNyw1MTMuMzA2OSIgZmlsbD0ibm9uZSIgaWQ9IkpKcGEtdG8tSkRCIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0MTcsNTE5LjMwNjksNDIxLDUxMC4zMDY5LDQxNyw1MTQuMzA2OSw0MTMsNTEwLjMwNjksNDE3LDUxOS4zMDY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjw/cGxhbnR1bWwtc3JjIFZMMTFKaUNtNEJweDVMUEVTNlhVVzkxUVNTNFk4ajBCNGQxT1liTDU5QjViUm4wTFM2V1k4UlpwMGhYbVdOd1dseDdLeVdwWVIwZ2ZyNzhQeHRmZFRwSTMyUVFJSHZDMU82QnZ5a05QSkotdVlGaktWaGRvcExMcEx0d3d3aWNMQ3JURE5WTS1jQnItcG9sNkQ4bmtPMm52cTVhRi0zcXh4blVlWDJmQzNrYkdjamphOTJ5dk0xd3JwSGVYMGdzYmVKZEw2eVJYTlBPSXZJbkJzSktXTjg2alhNRGJTTXBheUVHZVFBTzcweVBNQWhwTnNfeXpzUnhxdnN6dWVBeFVVVW51UVJ0X3ZxRGl5ZDRnalI4OUFaRXZvN1VFMnpHNXliV1B0QUtMTnN4WDdzUVFwMGJWaFA1WUc5R2M1bmgtdzRJamx4UmQ4N21FZWZpM3dKVjh6bngyaURMZ2EwWi1lMFZnVjJXXz8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h3 id="jpa">JPA 版の特徴<a class="headerlink" href="#jpa" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>観点</th>
<th>JPA 版の特徴</th>
</tr>
</thead>
<tbody>
<tr>
<td>型安全性</td>
<td>Specification パターンによる型安全な動的クエリ</td>
</tr>
<tr>
<td>N+1 問題対策</td>
<td>@EntityGraph による宣言的な解決</td>
</tr>
<tr>
<td>バッチ処理</td>
<td>saveAll() による効率的な一括保存</td>
</tr>
<tr>
<td>ポート分離</td>
<td>Output Port インターフェースによる抽象化</td>
</tr>
<tr>
<td>テスト容易性</td>
<td>@DataJpaTest + TestContainers</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="_16">次章予告<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h2>
<p><a href="../chapter18-orm/">第18章</a>では、勘定科目残高テーブルの設計について、JPA 版での実装を解説します。</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/k2works/practical-database-design" target="_blank" rel="noopener" title="GitHub Repository" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
      
        <script src="../../../docs/assets/js/extra.js"></script>
      
    
  </body>
</html>