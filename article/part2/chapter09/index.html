
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="基幹業務システム（販売管理・財務会計・生産管理）のデータベース設計を体系的に解説">
      
      
        <meta name="author" content="k2works">
      
      
      
        <link rel="prev" href="../chapter08/">
      
      
        <link rel="next" href="../chapter10/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>第9章 在庫管理の設計 - 実践データベース設計：基幹業務システム編</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../docs/mkdocs/assets/css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#9" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="実践データベース設計：基幹業務システム編" class="md-header__button md-logo" aria-label="実践データベース設計：基幹業務システム編" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            実践データベース設計：基幹業務システム編
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              第9章 在庫管理の設計
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/k2works/practical-database-design" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    practical-database-design
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
  実践データベース設計

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="実践データベース設計：基幹業務システム編" class="md-nav__button md-logo" aria-label="実践データベース設計：基幹業務システム編" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    実践データベース設計：基幹業務システム編
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/k2works/practical-database-design" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    practical-database-design
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    実践データベース設計
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    実践データベース設計
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../techstack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    技術スタック
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    アウトライン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    執筆ワークフロー
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第1部 基幹業務システムの全体像
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    第1部 基幹業務システムの全体像
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第1章 基幹業務システムとは
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第2章 基幹業務システムの業務領域
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第3章 業務フローの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6" checked>
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第2部 販売管理システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    第2部 販売管理システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第4章 販売管理システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter05/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第5章 マスタ情報の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter06/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第6章 受注・出荷・売上の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter07/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第7章 債権管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter08/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第8章 調達管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    第9章 在庫管理の設計
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    第9章 在庫管理の設計
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        在庫管理の全体像
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="在庫管理の全体像">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        在庫管理で扱うデータ
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#91-db" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.1 在庫情報の DB 設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.1 在庫情報の DB 設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        在庫数量の種類
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        倉庫マスタの設計
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        倉庫区分の定義
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        マイグレーション：倉庫・在庫関連テーブルの作成
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        倉庫・在庫エンティティの実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        在庫サービスの実装
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#92-db" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.2 在庫移動・棚卸の DB 設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.2 在庫移動・棚卸の DB 設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        入出庫履歴の管理
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
        移動区分の定義
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
        棚卸業務の設計
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#er" class="md-nav__link">
    <span class="md-ellipsis">
      
        棚卸データの ER 図
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
        マイグレーション：入出庫履歴・棚卸テーブルの作成
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      
        入出庫履歴・棚卸エンティティの実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      
        棚卸サービスの実装
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#93" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.3 リレーションと楽観ロックの設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.3 リレーションと楽観ロックの設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mybatis-resultmap" class="md-nav__link">
    <span class="md-ellipsis">
      
        MyBatis ネストした ResultMap による関連付け
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      
        リレーション設定のポイント
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optimistic-locking" class="md-nav__link">
    <span class="md-ellipsis">
      
        楽観ロック（Optimistic Locking）の実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      
        バージョンカラムによる同時更新制御
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      
        楽観ロックのテスト
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      
        楽観ロックのベストプラクティス
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        第9章のまとめ
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第9章のまとめ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      
        学んだこと
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#er_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        在庫管理の ER 図（全体像）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      
        次章の予告
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第10章 債務管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第11章 共通処理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第12章 販売管理データ設計（B社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第13章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7" >
        
          
          <label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第3部 財務会計システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    第3部 財務会計システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章 財務会計システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章 勘定科目の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章 仕訳の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章 勘定科目残高の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter19/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章 赤黒とログの設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter20/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章 財務会計データ設計（D社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter21/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_8" >
        
          
          <label class="md-nav__link" for="__nav_1_8" id="__nav_1_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第4部 生産管理システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    第4部 生産管理システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter22/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第22章 生産管理システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter23/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第23章 マスタ情報の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter24/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第24章 生産計画の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter25/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第25章 購買管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter26/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第26章 外注委託管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter27/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第27章 工程管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter28/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第28章 在庫管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第29章 品質管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter30/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第30章 製造原価管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter31/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第31章 生産管理データ設計（E社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter32/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第32章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_9" >
        
          
          <label class="md-nav__link" for="__nav_1_9" id="__nav_1_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第5部 エンタープライズインテグレーション
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    第5部 エンタープライズインテグレーション
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter33.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第33章 システム統合の概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter34.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第34章 メッセージングパターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter35.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第35章 システム間連携パターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter36.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第36章 マスタデータ管理（MDM）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter37.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第37章 イベント駆動アーキテクチャ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter38.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第38章 API設計とサービス連携
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter39.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第39章 データ連携の実装パターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_10" >
        
          
          <label class="md-nav__link" for="__nav_1_10" id="__nav_1_10_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 販売管理システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 販売管理システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_11" >
        
          
          <label class="md-nav__link" for="__nav_1_11" id="__nav_1_11_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 財務会計システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 財務会計システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_12" >
        
          
          <label class="md-nav__link" for="__nav_1_12" id="__nav_1_12_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 生産管理システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 生産管理システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_13" >
        
          
          <label class="md-nav__link" for="__nav_1_13" id="__nav_1_13_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 財務会計システムORM実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 財務会計システムORM実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter14-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章 財務会計システムの全体像【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter15-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章 勘定科目の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter16-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章 仕訳の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter17-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter18-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章 勘定科目残高の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter19-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章 赤黒とログの設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter20-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章 財務会計データ設計（D社事例）【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter21-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章 APIサービスの実装【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_14" >
        
          
          <label class="md-nav__link" for="__nav_1_14" id="__nav_1_14_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    付録
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    付録
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/er-diagrams.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    A 全体ER図
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/table-definitions.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    B テーブル定義一覧
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/glossary.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C 用語集
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_15" >
        
          
          <label class="md-nav__link" for="__nav_1_15" id="__nav_1_15_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    データベース
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    データベース
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../assets/schemaspy-output/sms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SchemaSpy ER図（SMS）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="9">第9章：在庫管理の設計<a class="headerlink" href="#9" title="Permanent link">&para;</a></h1>
<p>販売管理システムにおいて、在庫管理は商品の物理的な状態を追跡し、適正在庫を維持するための重要な機能です。本章では、倉庫別・商品別の在庫管理、引当処理、入出庫履歴、棚卸業務のデータベース設計と実装を行います。</p>
<h2 id="_1">在庫管理の全体像<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>在庫管理は「入庫 → 在庫保管 → 引当 → 出庫」という一連のフローで構成されます。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkFDVElWSVRZIiBoZWlnaHQ9IjEzMDhweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjc5OHB4O2hlaWdodDoxMzA4cHg7YmFja2dyb3VuZDojRkZGRkZGOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNzk4IDEzMDgiIHdpZHRoPSI3OThweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjIzMTI7JiMyNDIzNTsmIzMxNjQ5OyYjMjk3MDI7JiMxMjM5ODsmIzI2OTg5OyYjMjEyMDk7JiMxMjUwMTsmIzEyNTI1OyYjMTI1NDA7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM5Ljk5OTQiIHg9IjMyNy43MTE1IiB5PSIzMi45OTUxIj4mIzIyMzEyOyYjMjQyMzU7JiMzMTY0OTsmIzI5NzAyOyYjMTIzOTg7JiMyNjk4OTsmIzIxMjA5OyYjMTI1MDE7JiMxMjUyNTsmIzEyNTQwOzwvdGV4dD48L2c+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIyMC45NTMxIiBzdHlsZT0ic3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNzY1LjQyMjQiIHg9IjE1IiB5PSI1MC4wNDIiLz48ZWxsaXBzZSBjeD0iMjA0LjcyMjUiIGN5PSI4NS45OTUxIiBmaWxsPSIjMjIyMjIyIiByeD0iMTAiIHJ5PSIxMCIgc3R5bGU9InN0cm9rZTojMjIyMjIyO3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0yNzYuNzIyOCwxMTIuODQ2NyBMMjc2LjcyMjgsMTI4Ljk3OTUgTDI1Ni43MjI4LDEzMi45Nzk1IEwyNzYuNzIyOCwxMzYuOTc5NSBMMjc2LjcyMjgsMTUzLjExMjMgQTAsMCAwIDAgMCAyNzYuNzIyOCwxNTMuMTEyMyBMNDI3LjcyMywxNTMuMTEyMyBBMCwwIDAgMCAwIDQyNy43MjMsMTUzLjExMjMgTDQyNy43MjMsMTIyLjg0NjcgTDQxNy43MjMsMTEyLjg0NjcgTDI3Ni43MjI4LDExMi44NDY3IEEwLDAgMCAwIDAgMjc2LjcyMjgsMTEyLjg0NjciIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik00MTcuNzIzLDExMi44NDY3IEw0MTcuNzIzLDEyMi44NDY3IEw0MjcuNzIzLDEyMi44NDY3IEw0MTcuNzIzLDExMi44NDY3IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzAuMDAwMiIgeD0iMjgyLjcyMjgiIHk9IjEyOS45MTM2Ij4mIzIwMTgxOyYjMjA4Mzc7JiMxMjUzOTsmIzIwNDg5OyYjMjQyMzU7JiMzMTIyNzsmIzIxMjA1OyYjMTIzOTQ7JiMxMjM5MzsmIzEyMzkxOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NS4wMDAxIiB4PSIyODIuNzIyOCIgeT0iMTQ1LjA0NjQiPiYjMjIzMTI7JiMyNDIzNTsmIzEyMzY0OyYjMjI2Nzk7JiMyMTE1Mjs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEwNC4wMDA2IiB4PSIxNTIuNzIyMiIgeT0iMTE1Ljk5NTEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NC4wMDA2IiB4PSIxNjIuNzIyMiIgeT0iMTM3LjEzMzgiPiYjMjA4Mzc7JiMzMzY1NTsmIzEyNTM5OyYjMjA4Mzc7JiMyNDIzNTsmIzIwOTY2OyYjMjk3MDI7PC90ZXh0PjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI5Mi4wMDA1IiB4PSIxNTguNzIyMiIgeT0iMTczLjExMjMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3Mi4wMDA1IiB4PSIxNjguNzIyMiIgeT0iMTk0LjI1MSI+JiMyMjMxMjsmIzI0MjM1OyYjMjQ3NzM7JiMyMjU3NzsmIzI2MzU2OyYjMjYwMzI7PC90ZXh0PjxyZWN0IGZpbGw9IiM1NTU1NTUiIGhlaWdodD0iNiIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojNTU1NTU1O3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjI1OS42MzAxIiB4PSI3NC45MDc1IiB5PSIyMjcuMDgxMSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI5NS44MTUiIHg9Ijg4LjkwNzUiIHk9IjI1My4wODExIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzUuODE1IiB4PSI5OC45MDc1IiB5PSIyNzQuMjE5NyI+JiMyOTY5NDsmIzIyMzEyOyYjMjQyMzU7JiMyNTk2ODsgJiMyMjY3OTsmIzIxMTUyOzwvdGV4dD48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTA3LjgxNTEiIHg9IjIxMi43MjI1IiB5PSIyNTMuMDgxMSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg3LjgxNTEiIHg9IjIyMi43MjI1IiB5PSIyNzQuMjE5NyI+JiMyMDgzNzsmIzIwOTg2OyYjMjQyMzU7JiMyMzY1MzsmIzI3NTA4OyAmIzM1MzUyOyYjMzc2ODI7PC90ZXh0PjxyZWN0IGZpbGw9IiM1NTU1NTUiIGhlaWdodD0iNiIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojNTU1NTU1O3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjI1OS42MzAxIiB4PSI3NC45MDc1IiB5PSIzMDcuMDQ5OCIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI5Mi4wMDA1IiB4PSIxNTguNzIyMiIgeT0iNDQ0LjEzNTciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3Mi4wMDA1IiB4PSIxNjguNzIyMiIgeT0iNDY1LjI3NDQiPiYjMjA5ODY7JiMzMzY1NTsmIzI1MzUxOyYjMzEwMzQ7JiMyMTQ2MzsmIzM4OTM2OzwvdGV4dD48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iODAuMDAwNSIgeD0iMTY0LjcyMjMiIHk9IjQ5OC4xMDQ1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjAuMDAwNSIgeD0iMTc0LjcyMjMiIHk9IjUxOS4yNDMyIj4mIzEyNTAwOyYjMTI0ODM7JiMxMjQ2MTsmIzEyNTMxOyYjMTI0NjQ7PC90ZXh0PjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI2OC4wMDA0IiB4PSIxNzAuNzIyMyIgeT0iNTUyLjA3MzIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OC4wMDA0IiB4PSIxODAuNzIyMyIgeT0iNTczLjIxMTkiPiYjMjA5ODY7JiMzMzY1NTsmIzIwOTY2OyYjMjk3MDI7PC90ZXh0PjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI5Mi4wMDA1IiB4PSIxNTguNzIyMiIgeT0iNjA2LjA0MiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcyLjAwMDUiIHg9IjE2OC43MjIyIiB5PSI2MjcuMTgwNyI+JiMyMjMxMjsmIzI0MjM1OyYjMjQ3NzM7JiMyMjU3NzsmIzI2MzU2OyYjMjYwMzI7PC90ZXh0PjxyZWN0IGZpbGw9IiM1NTU1NTUiIGhlaWdodD0iNiIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojNTU1NTU1O3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjM2OS40NDUiIHg9IjIxIiB5PSI2NjAuMDEwNyIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI5NS44MTUiIHg9IjMzIiB5PSI2ODYuMDEwNyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc1LjgxNSIgeD0iNDMiIHk9IjcwNy4xNDk0Ij4mIzI5Njk0OyYjMjIzMTI7JiMyNDIzNTsmIzI1OTY4OyAmIzI4MTg3OyYjMjM1Njk7PC90ZXh0PjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI4My44MTQ5IiB4PSIxNTYuODE1IiB5PSI2ODYuMDEwNyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYzLjgxNDkiIHg9IjE2Ni44MTUiIHk9IjcwNy4xNDk0Ij4mIzI0MzQxOyYjMjQ0MDM7JiMyNTk2ODsgJiMyODE4NzsmIzIzNTY5OzwvdGV4dD48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTA3LjgxNTEiIHg9IjI2OC42Mjk5IiB5PSI2ODYuMDEwNyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg3LjgxNTEiIHg9IjI3OC42Mjk5IiB5PSI3MDcuMTQ5NCI+JiMyMDgzNzsmIzIwOTg2OyYjMjQyMzU7JiMyMzY1MzsmIzI3NTA4OyAmIzM1MzUyOyYjMzc2ODI7PC90ZXh0PjxyZWN0IGZpbGw9IiM1NTU1NTUiIGhlaWdodD0iNiIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojNTU1NTU1O3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjM2OS40NDUiIHg9IjIxIiB5PSI3MzkuOTc5NSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI4MC4wMDA1IiB4PSIxNjQuNzIyMyIgeT0iODY4LjM1MDYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2MC4wMDA1IiB4PSIxNzQuNzIyMyIgeT0iODg5LjQ4OTMiPiYjMjY4NDI7JiMyMTM2ODsmIzM0OTIwOyYjMzAzMzA7JiMzNDg5Mjs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjkyLjAwMDUiIHg9IjE1OC43MjIyIiB5PSI5MjIuMzE5MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcyLjAwMDUiIHg9IjE2OC43MjIyIiB5PSI5NDMuNDU4Ij4mIzIzNDU1OyYjMjY4NDI7JiMxMjQ1OTsmIzEyNDU0OyYjMTI1MzE7JiMxMjQ4ODs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjY4LjAwMDQiIHg9IjE3MC43MjIzIiB5PSI5NzYuMjg4MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ4LjAwMDQiIHg9IjE4MC43MjIzIiB5PSI5OTcuNDI2OCI+JiMyNDA0NjsmIzMwMDY0OyYjMjA4Mzc7JiMyMTE0Nzs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjkyLjAwMDUiIHg9IjE1OC43MjIyIiB5PSIxMDc4LjY1OTIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3Mi4wMDA1IiB4PSIxNjguNzIyMiIgeT0iMTA5OS43OTc5Ij4mIzIyMzEyOyYjMjQyMzU7JiMzNTUxOTsmIzI1OTcyOyYjMjA5NjY7JiMyOTcwMjs8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0YxRjFGMSIgcG9pbnRzPSIxNzkuODAzNSwxMDMwLjI1NjgsMjI5LjY0MTUsMTAzMC4yNTY4LDI0MS42NDE1LDEwNDIuMjU2OCwyMjkuNjQxNSwxMDU0LjI1NjgsMTc5LjgwMzUsMTA1NC4yNTY4LDE2Ny44MDM1LDEwNDIuMjU2OCwxNzkuODAzNSwxMDMwLjI1NjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5LjAwODMiIHg9IjIwOC43MjI1IiB5PSIxMDY0LjQ2NzMiPnllczwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OS44MzgxIiB4PSIxNzkuODAzNSIgeT0iMTA0Ni4wNjQ5Ij4mIzI0MDQ2OyYjMzAwNjQ7JiMxMjM1NDsmIzEyNDI2Oz88L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMuNzAxNyIgeD0iMjQxLjY0MTUiIHk9IjEwMzkuNjYyNiI+bm88L3RleHQ+PHBvbHlnb24gZmlsbD0iI0YxRjFGMSIgcG9pbnRzPSIyMDQuNzIyNSwxMTMyLjYyNzksMjE2LjcyMjUsMTE0NC42Mjc5LDIwNC43MjI1LDExNTYuNjI3OSwxOTIuNzIyNSwxMTQ0LjYyNzksMjA0LjcyMjUsMTEzMi42Mjc5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNjguMDAwNCIgeD0iMTcwLjcyMjMiIHk9IjExNzYuNjI3OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ4LjAwMDQiIHg9IjE4MC43MjIzIiB5PSIxMTk3Ljc2NjYiPiYjMjY4NDI7JiMyMTM2ODsmIzIzNDM2OyYjMjAxMDI7PC90ZXh0PjxlbGxpcHNlIGN4PSIyMDQuNzIyNSIgY3k9IjEyODUuNTk2NyIgZmlsbD0ibm9uZSIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48ZWxsaXBzZSBjeD0iMjA0LjcyMjUiIGN5PSIxMjg1LjU5NjciIGZpbGw9IiMyMjIyMjIiIHJ4PSI2IiByeT0iNiIgc3R5bGU9InN0cm9rZTojMjIyMjIyO3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjE1IiB4Mj0iMTUiIHkxPSI1MC4wNDIiIHkyPSIxMjk2LjU5NjciLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNjguMDAwNCIgeD0iNDM4LjcyMyIgeT0iMzMzLjA0OTgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OC4wMDA0IiB4PSI0NDguNzIzIiB5PSIzNTQuMTg4NSI+JiMyMTQ2MzsmIzI3ODgwOyYjMzAzMzE7JiMzNzY4Mjs8L3RleHQ+PHBhdGggZD0iTTUyNi43MjMzLDM4My44NzAxIEw1MjYuNzIzMyw0MDAuMDAyOSBMNTA2LjcyMzMsNDA0LjAwMjkgTDUyNi43MjMzLDQwOC4wMDI5IEw1MjYuNzIzMyw0MjQuMTM1NyBBMCwwIDAgMCAwIDUyNi43MjMzLDQyNC4xMzU3IEw2NTEuNzIzNSw0MjQuMTM1NyBBMCwwIDAgMCAwIDY1MS43MjM1LDQyNC4xMzU3IEw2NTEuNzIzNSwzOTMuODcwMSBMNjQxLjcyMzUsMzgzLjg3MDEgTDUyNi43MjMzLDM4My44NzAxIEEwLDAgMCAwIDAgNTI2LjcyMzMsMzgzLjg3MDEiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik02NDEuNzIzNSwzODMuODcwMSBMNjQxLjcyMzUsMzkzLjg3MDEgTDY1MS43MjM1LDM5My44NzAxIEw2NDEuNzIzNSwzODMuODcwMSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA0LjAwMDEiIHg9IjUzMi43MjMzIiB5PSI0MDAuOTM3Ij4mIzIxNDYzOyYjMjc4ODA7JiMyNjE3ODsmIzEyMzk1OyYjMjQzNDE7JiMyNDQwMzsmIzI1OTY4OyYjMTI0MzQ7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4LjAwMDEiIHg9IjUzMi43MjMzIiB5PSI0MTYuMDY5OCI+JiMzNTMzNjsmIzE5OTc4OyYjMTIzNzU7JiMxMjM5MDsmIzMwOTA2OyYjMjA0NDU7PC90ZXh0PjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI2OC4wMDA0IiB4PSI0MzguNzIzIiB5PSIzODcuMDE4NiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ4LjAwMDQiIHg9IjQ0OC43MjMiIHk9IjQwOC4xNTcyIj4mIzIyMzEyOyYjMjQyMzU7JiMyNDM0MTsmIzI0NDAzOzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI0MzIuNzIzIiB4Mj0iNDMyLjcyMyIgeTE9IjUwLjA0MiIgeTI9IjEyOTYuNTk2NyIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI2OC4wMDA0IiB4PSI2NzQuNjQyMyIgeT0iODE0LjM4MTgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OC4wMDA0IiB4PSI2ODQuNjQyMyIgeT0iODM1LjUyMDUiPiYjMjY4NDI7JiMyMTM2ODsmIzI1MzUxOyYjMzEwMzQ7PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNGMUYxRjEiIHBvaW50cz0iNjgzLjcyMzUsNzY1Ljk3OTUsNzMzLjU2MTUsNzY1Ljk3OTUsNzQ1LjU2MTUsNzc3Ljk3OTUsNzMzLjU2MTUsNzg5Ljk3OTUsNjgzLjcyMzUsNzg5Ljk3OTUsNjcxLjcyMzUsNzc3Ljk3OTUsNjgzLjcyMzUsNzY1Ljk3OTUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5LjAwODMiIHg9IjcxMi42NDI1IiB5PSI4MDAuMTg5OSI+eWVzPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ5LjgzODEiIHg9IjY4My43MjM1IiB5PSI3ODEuNzg3NiI+JiMyNjg0MjsmIzIxMzY4OyYjMjYxNzg7JiMyNjM5OTs/PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNGMUYxRjEiIHBvaW50cz0iNzA4LjY0MjUsMTIzMC41OTY3LDcyMC42NDI1LDEyNDIuNTk2Nyw3MDguNjQyNSwxMjU0LjU5NjcsNjk2LjY0MjUsMTI0Mi41OTY3LDcwOC42NDI1LDEyMzAuNTk2NyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNjU2LjcyMzUiIHgyPSI2NTYuNzIzNSIgeTE9IjUwLjA0MiIgeTI9IjEyOTYuNTk2NyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9Ijc3OC41NjE1IiB4Mj0iNzc4LjU2MTUiIHkxPSI1MC4wNDIiIHkyPSIxMjk2LjU5NjciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjA0LjcyMjUiIHgyPSIyMDQuNzIyNSIgeTE9Ijk1Ljk5NTEiIHkyPSIxMTUuOTk1MSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjAwLjcyMjUsMTA1Ljk5NTEsMjA0LjcyMjUsMTE1Ljk5NTEsMjA4LjcyMjUsMTA1Ljk5NTEsMjA0LjcyMjUsMTA5Ljk5NTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjA0LjcyMjUiIHgyPSIyMDQuNzIyNSIgeTE9IjE0OS45NjM5IiB5Mj0iMTczLjExMjMiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIwMC43MjI1LDE2My4xMTIzLDIwNC43MjI1LDE3My4xMTIzLDIwOC43MjI1LDE2My4xMTIzLDIwNC43MjI1LDE2Ny4xMTIzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEzNi44MTUiIHgyPSIxMzYuODE1IiB5MT0iMjMzLjA4MTEiIHkyPSIyNTMuMDgxMSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTMyLjgxNSwyNDMuMDgxMSwxMzYuODE1LDI1My4wODExLDE0MC44MTUsMjQzLjA4MTEsMTM2LjgxNSwyNDcuMDgxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNjYuNjMiIHgyPSIyNjYuNjMiIHkxPSIyMzMuMDgxMSIgeTI9IjI1My4wODExIi8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNjIuNjMsMjQzLjA4MTEsMjY2LjYzLDI1My4wODExLDI3MC42MywyNDMuMDgxMSwyNjYuNjMsMjQ3LjA4MTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTM2LjgxNSIgeDI9IjEzNi44MTUiIHkxPSIyODcuMDQ5OCIgeTI9IjMwNy4wNDk4Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMzIuODE1LDI5Ny4wNDk4LDEzNi44MTUsMzA3LjA0OTgsMTQwLjgxNSwyOTcuMDQ5OCwxMzYuODE1LDMwMS4wNDk4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI2Ni42MyIgeDI9IjI2Ni42MyIgeTE9IjI4Ny4wNDk4IiB5Mj0iMzA3LjA0OTgiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI2Mi42MywyOTcuMDQ5OCwyNjYuNjMsMzA3LjA0OTgsMjcwLjYzLDI5Ny4wNDk4LDI2Ni42MywzMDEuMDQ5OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMDQuNzIyNSIgeDI9IjIwNC43MjI1IiB5MT0iMjA3LjA4MTEiIHkyPSIyMjcuMDgxMSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjAwLjcyMjUsMjE3LjA4MTEsMjA0LjcyMjUsMjI3LjA4MTEsMjA4LjcyMjUsMjE3LjA4MTEsMjA0LjcyMjUsMjIxLjA4MTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjA0LjcyMjUiIHgyPSIyMDQuNzIyNSIgeTE9IjQ3OC4xMDQ1IiB5Mj0iNDk4LjEwNDUiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIwMC43MjI1LDQ4OC4xMDQ1LDIwNC43MjI1LDQ5OC4xMDQ1LDIwOC43MjI1LDQ4OC4xMDQ1LDIwNC43MjI1LDQ5Mi4xMDQ1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIwNC43MjI1IiB4Mj0iMjA0LjcyMjUiIHkxPSI1MzIuMDczMiIgeTI9IjU1Mi4wNzMyIi8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMDAuNzIyNSw1NDIuMDczMiwyMDQuNzIyNSw1NTIuMDczMiwyMDguNzIyNSw1NDIuMDczMiwyMDQuNzIyNSw1NDYuMDczMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMDQuNzIyNSIgeDI9IjIwNC43MjI1IiB5MT0iNTg2LjA0MiIgeTI9IjYwNi4wNDIiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIwMC43MjI1LDU5Ni4wNDIsMjA0LjcyMjUsNjA2LjA0MiwyMDguNzIyNSw1OTYuMDQyLDIwNC43MjI1LDYwMC4wNDIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iODAuOTA3NSIgeDI9IjgwLjkwNzUiIHkxPSI2NjYuMDEwNyIgeTI9IjY4Ni4wMTA3Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI3Ni45MDc1LDY3Ni4wMTA3LDgwLjkwNzUsNjg2LjAxMDcsODQuOTA3NSw2NzYuMDEwNyw4MC45MDc1LDY4MC4wMTA3IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE5OC43MjI1IiB4Mj0iMTk4LjcyMjUiIHkxPSI2NjYuMDEwNyIgeTI9IjY4Ni4wMTA3Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxOTQuNzIyNSw2NzYuMDEwNywxOTguNzIyNSw2ODYuMDEwNywyMDIuNzIyNSw2NzYuMDEwNywxOTguNzIyNSw2ODAuMDEwNyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMjIuNTM3NSIgeDI9IjMyMi41Mzc1IiB5MT0iNjY2LjAxMDciIHkyPSI2ODYuMDEwNyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzE4LjUzNzUsNjc2LjAxMDcsMzIyLjUzNzUsNjg2LjAxMDcsMzI2LjUzNzUsNjc2LjAxMDcsMzIyLjUzNzUsNjgwLjAxMDciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iODAuOTA3NSIgeDI9IjgwLjkwNzUiIHkxPSI3MTkuOTc5NSIgeTI9IjczOS45Nzk1Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI3Ni45MDc1LDcyOS45Nzk1LDgwLjkwNzUsNzM5Ljk3OTUsODQuOTA3NSw3MjkuOTc5NSw4MC45MDc1LDczMy45Nzk1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE5OC43MjI1IiB4Mj0iMTk4LjcyMjUiIHkxPSI3MTkuOTc5NSIgeTI9IjczOS45Nzk1Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxOTQuNzIyNSw3MjkuOTc5NSwxOTguNzIyNSw3MzkuOTc5NSwyMDIuNzIyNSw3MjkuOTc5NSwxOTguNzIyNSw3MzMuOTc5NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMjIuNTM3NSIgeDI9IjMyMi41Mzc1IiB5MT0iNzE5Ljk3OTUiIHkyPSI3MzkuOTc5NSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzE4LjUzNzUsNzI5Ljk3OTUsMzIyLjUzNzUsNzM5Ljk3OTUsMzI2LjUzNzUsNzI5Ljk3OTUsMzIyLjUzNzUsNzMzLjk3OTUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjA0LjcyMjUiIHgyPSIyMDQuNzIyNSIgeTE9IjY0MC4wMTA3IiB5Mj0iNjYwLjAxMDciLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIwMC43MjI1LDY1MC4wMTA3LDIwNC43MjI1LDY2MC4wMTA3LDIwOC43MjI1LDY1MC4wMTA3LDIwNC43MjI1LDY1NC4wMTA3IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIwNC43MjI1IiB4Mj0iMjA0LjcyMjUiIHkxPSI5MDIuMzE5MyIgeTI9IjkyMi4zMTkzIi8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMDAuNzIyNSw5MTIuMzE5MywyMDQuNzIyNSw5MjIuMzE5MywyMDguNzIyNSw5MTIuMzE5MywyMDQuNzIyNSw5MTYuMzE5MyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMDQuNzIyNSIgeDI9IjIwNC43MjI1IiB5MT0iOTU2LjI4ODEiIHkyPSI5NzYuMjg4MSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjAwLjcyMjUsOTY2LjI4ODEsMjA0LjcyMjUsOTc2LjI4ODEsMjA4LjcyMjUsOTY2LjI4ODEsMjA0LjcyMjUsOTcwLjI4ODEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjA0LjcyMjUiIHgyPSIyMDQuNzIyNSIgeTE9IjEwNTQuMjU2OCIgeTI9IjEwNzguNjU5MiIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjAwLjcyMjUsMTA2OC42NTkyLDIwNC43MjI1LDEwNzguNjU5MiwyMDguNzIyNSwxMDY4LjY1OTIsMjA0LjcyMjUsMTA3Mi42NTkyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI0MS42NDE1IiB4Mj0iMjYwLjcyMjgiIHkxPSIxMDQyLjI1NjgiIHkyPSIxMDQyLjI1NjgiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI1Ni43MjI4LDEwODUuNjQzNiwyNjAuNzIyOCwxMDk1LjY0MzYsMjY0LjcyMjgsMTA4NS42NDM2LDI2MC43MjI4LDEwODkuNjQzNiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNjAuNzIyOCIgeDI9IjI2MC43MjI4IiB5MT0iMTA0Mi4yNTY4IiB5Mj0iMTE0NC42Mjc5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI2MC43MjI4IiB4Mj0iMjE2LjcyMjUiIHkxPSIxMTQ0LjYyNzkiIHkyPSIxMTQ0LjYyNzkiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIyNi43MjI1LDExNDAuNjI3OSwyMTYuNzIyNSwxMTQ0LjYyNzksMjI2LjcyMjUsMTE0OC42Mjc5LDIyMi43MjI1LDExNDQuNjI3OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMDQuNzIyNSIgeDI9IjIwNC43MjI1IiB5MT0iMTExMi42Mjc5IiB5Mj0iMTEzMi42Mjc5Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMDAuNzIyNSwxMTIyLjYyNzksMjA0LjcyMjUsMTEzMi42Mjc5LDIwOC43MjI1LDExMjIuNjI3OSwyMDQuNzIyNSwxMTI2LjYyNzkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjA0LjcyMjUiIHgyPSIyMDQuNzIyNSIgeTE9IjEwMTAuMjU2OCIgeTI9IjEwMzAuMjU2OCIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjAwLjcyMjUsMTAyMC4yNTY4LDIwNC43MjI1LDEwMzAuMjU2OCwyMDguNzIyNSwxMDIwLjI1NjgsMjA0LjcyMjUsMTAyNC4yNTY4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIwNC43MjI1IiB4Mj0iMjA0LjcyMjUiIHkxPSIxMTU2LjYyNzkiIHkyPSIxMTc2LjYyNzkiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIwMC43MjI1LDExNjYuNjI3OSwyMDQuNzIyNSwxMTc2LjYyNzksMjA4LjcyMjUsMTE2Ni42Mjc5LDIwNC43MjI1LDExNzAuNjI3OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI0NzIuNzIzMiIgeDI9IjQ3Mi43MjMyIiB5MT0iMzY3LjAxODYiIHkyPSIzODcuMDE4NiIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNDY4LjcyMzIsMzc3LjAxODYsNDcyLjcyMzIsMzg3LjAxODYsNDc2LjcyMzIsMzc3LjAxODYsNDcyLjcyMzIsMzgxLjAxODYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNzA4LjY0MjUiIHgyPSI3MDguNjQyNSIgeTE9Ijc4OS45Nzk1IiB5Mj0iODE0LjM4MTgiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjcwNC42NDI1LDgwNC4zODE4LDcwOC42NDI1LDgxNC4zODE4LDcxMi42NDI1LDgwNC4zODE4LDcwOC42NDI1LDgwOC4zODE4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijc0NS41NjE1IiB4Mj0iNzU5LjU2MTUiIHkxPSI3NzcuOTc5NSIgeTI9Ijc3Ny45Nzk1Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI3NTUuNTYxNSw5OTcuMTkwNCw3NTkuNTYxNSwxMDA3LjE5MDQsNzYzLjU2MTUsOTk3LjE5MDQsNzU5LjU2MTUsMTAwMS4xOTA0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijc1OS41NjE1IiB4Mj0iNzU5LjU2MTUiIHkxPSI3NzcuOTc5NSIgeTI9IjEyNDIuNTk2NyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI3NTkuNTYxNSIgeDI9IjcyMC42NDI1IiB5MT0iMTI0Mi41OTY3IiB5Mj0iMTI0Mi41OTY3Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI3MzAuNjQyNSwxMjM4LjU5NjcsNzIwLjY0MjUsMTI0Mi41OTY3LDczMC42NDI1LDEyNDYuNTk2Nyw3MjYuNjQyNSwxMjQyLjU5NjciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjA0LjcyMjUiIHgyPSIyMDQuNzIyNSIgeTE9IjMxMy4wNDk4IiB5Mj0iMzE4LjA0OTgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjA0LjcyMjUiIHgyPSI0NzIuNzIzMiIgeTE9IjMxOC4wNDk4IiB5Mj0iMzE4LjA0OTgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDcyLjcyMzIiIHgyPSI0NzIuNzIzMiIgeTE9IjMxOC4wNDk4IiB5Mj0iMzMzLjA0OTgiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjQ2OC43MjMyLDMyMy4wNDk4LDQ3Mi43MjMyLDMzMy4wNDk4LDQ3Ni43MjMyLDMyMy4wNDk4LDQ3Mi43MjMyLDMyNy4wNDk4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQ3Mi43MjMyIiB4Mj0iNDcyLjcyMzIiIHkxPSI0MjAuOTg3MyIgeTI9IjQyOS4xMzU3Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQ3Mi43MjMyIiB4Mj0iMjA0LjcyMjUiIHkxPSI0MjkuMTM1NyIgeTI9IjQyOS4xMzU3Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIwNC43MjI1IiB4Mj0iMjA0LjcyMjUiIHkxPSI0MjkuMTM1NyIgeTI9IjQ0NC4xMzU3Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMDAuNzIyNSw0MzQuMTM1NywyMDQuNzIyNSw0NDQuMTM1NywyMDguNzIyNSw0MzQuMTM1NywyMDQuNzIyNSw0MzguMTM1NyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI3MDguNjQyNSIgeDI9IjcwOC42NDI1IiB5MT0iODQ4LjM1MDYiIHkyPSI4NTMuMzUwNiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI3MDguNjQyNSIgeDI9IjIwNC43MjI1IiB5MT0iODUzLjM1MDYiIHkyPSI4NTMuMzUwNiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMDQuNzIyNSIgeDI9IjIwNC43MjI1IiB5MT0iODUzLjM1MDYiIHkyPSI4NjguMzUwNiIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjAwLjcyMjUsODU4LjM1MDYsMjA0LjcyMjUsODY4LjM1MDYsMjA4LjcyMjUsODU4LjM1MDYsMjA0LjcyMjUsODYyLjM1MDYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjA0LjcyMjUiIHgyPSIyMDQuNzIyNSIgeTE9IjEyMTAuNTk2NyIgeTI9IjEyMTguMzk1NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMDQuNzIyNSIgeDI9IjcwOC42NDI1IiB5MT0iMTIxOC4zOTU1IiB5Mj0iMTIxOC4zOTU1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjcwOC42NDI1IiB4Mj0iNzA4LjY0MjUiIHkxPSIxMjE4LjM5NTUiIHkyPSIxMjMwLjU5NjciLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjcwNC42NDI1LDEyMjAuNTk2Nyw3MDguNjQyNSwxMjMwLjU5NjcsNzEyLjY0MjUsMTIyMC41OTY3LDcwOC42NDI1LDEyMjQuNTk2NyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMDQuNzIyNSIgeDI9IjIwNC43MjI1IiB5MT0iNzQ1Ljk3OTUiIHkyPSI3NTAuOTc5NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMDQuNzIyNSIgeDI9IjcwOC42NDI1IiB5MT0iNzUwLjk3OTUiIHkyPSI3NTAuOTc5NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI3MDguNjQyNSIgeDI9IjcwOC42NDI1IiB5MT0iNzUwLjk3OTUiIHkyPSI3NjUuOTc5NSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNzA0LjY0MjUsNzU1Ljk3OTUsNzA4LjY0MjUsNzY1Ljk3OTUsNzEyLjY0MjUsNzU1Ljk3OTUsNzA4LjY0MjUsNzU5Ljk3OTUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNzA4LjY0MjUiIHgyPSI3MDguNjQyNSIgeTE9IjEyNTQuNTk2NyIgeTI9IjEyNTkuNTk2NyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI3MDguNjQyNSIgeDI9IjIwNC43MjI1IiB5MT0iMTI1OS41OTY3IiB5Mj0iMTI1OS41OTY3Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIwNC43MjI1IiB4Mj0iMjA0LjcyMjUiIHkxPSIxMjU5LjU5NjciIHkyPSIxMjc0LjU5NjciLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIwMC43MjI1LDEyNjQuNTk2NywyMDQuNzIyNSwxMjc0LjU5NjcsMjA4LjcyMjUsMTI2NC41OTY3LDIwNC43MjI1LDEyNjguNTk2NyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE4IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcxLjk5OTYiIHg9IjE4Ny44NjE3IiB5PSI2Ni43NSI+JiMyMDQ4OTsmIzI0MjM1OyYjMzcwOTY7JiMzODI3Mjs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTgiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzEuOTk5NiIgeD0iNTA4LjcyMzQiIHk9IjY2Ljc1Ij4mIzIxOTQyOyYjMjY5ODk7JiMzNzA5NjsmIzM4MjcyOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxOCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MS45OTk2IiB4PSI2ODEuNjQyNyIgeT0iNjYuNzUiPiYjMzIwNzY7JiMyOTcwMjsmIzM3MDk2OyYjMzgyNzI7PC90ZXh0PjwhLS1TUkM9W1pMQkJKamowNUR0Rkx5bW8tR0x4bU8tbVlPRzNMZjVKOVR1V2lNMHlXajFXSDBpdThHcUwyTXMyMFNLbzQyMW9lN3BDcFNtdVZ5N3JReTUzUWRWTUVTVnRGM0lzUVF5Ukw5cHc4aGZNbUsxenRtNE1vRTVPeDdNMVV5MzdtOXk4c0hIUnRyMm11RndZbFJMOTZkUWJSWEREUjBfWl9LVldDX24wTFpINy1CakVoOWZqcUJndmtjUGhUM3hwYTRtYXdHNXJDSER4N2gwaE85VjBCZlFqcDFZT0F5dXhlaktkVTNINTlEeU1fSGxQY3lYc2c5RGdoVnc1UUVoV1Jxdnc4U3RxNktLaGduTkpJbEU4UGZHYWtIZEF5T0o2X2lkMmxTcXJYaE1JejZXX09CY1lYb09FRWxCRUx6clBnaWt6blBDZGRlX1V6aVk0aWtpMG90YUMwU3hYaVhOeGtfRGYyclc3czRZVEhfRU5Obl9jcVowTDNZTlRmbGVKdVFMNV9tSkRXMXkzdi0zV21kVldYN2VYQXNSeXhvZGFqMlYyNy0gLWNBMzktcGx2eEE3TmxPZWdZV0xjYjlWZHhmellWdVdKb3o2b2ZKRXFybXdBYjNRREg5YmZFZlZ0cTMtcXBEWHhXcGI0eVM5RVltSGMydTVvM0NxaFF5enE0VjBvSzVvUkhNWnF6VFNtR08wdXVoTlVFTVZsdXdhTHdhczhtT3hyWHE5OUxBbkVpTzVPQk9uNnV5b1lYS24zVlJrdGhBbTAwXS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_2">在庫管理で扱うデータ<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>データ</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>在庫データ</strong></td>
<td>倉庫×商品の現在の在庫状態</td>
</tr>
<tr>
<td><strong>入出庫履歴</strong></td>
<td>在庫の増減を時系列で記録</td>
</tr>
<tr>
<td><strong>棚卸データ</strong></td>
<td>棚卸作業の管理情報</td>
</tr>
<tr>
<td><strong>棚卸明細</strong></td>
<td>商品ごとの帳簿在庫と実棚数</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="91-db">9.1 在庫情報の DB 設計<a class="headerlink" href="#91-db" title="Permanent link">&para;</a></h2>
<h3 id="_3">在庫数量の種類<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>在庫管理では「倉庫コード × 商品コード」の組み合わせで在庫を管理します。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjQ2MXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NzU5cHg7aGVpZ2h0OjQ2MXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDc1OSA0NjEiIHdpZHRoPSI3NTlweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjIzMTI7JiMyNDIzNTsmIzI1OTY4OyYjMzczMjc7JiMxMjM5ODsmIzM4MzA2OyYjMjA0MTg7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMzIzLjc1MDMiIHk9IjIyLjk5NTEiPiYjMjIzMTI7JiMyNDIzNTsmIzI1OTY4OyYjMzczMjc7JiMxMjM5ODsmIzM4MzA2OyYjMjA0MTg7PC90ZXh0PjwvZz48IS0tY2x1c3RlciA/Pz8/Pz8/LS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtZW50aXR5PSIuLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIzIiBkYXRhLXVpZD0iZW50MDAwMiIgaWQ9ImNsdXN0ZXJfLi4uLi4uLiI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIzMjMuMjgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI0ODQiIHg9IjciIHk9IjQ0LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMjAwLjAwMDIiIHk9IjU5LjI5MiI+JiMyMjMxMjsmIzI0MjM1OyYjMjU5Njg7JiMzNzMyNzsmIzEyMzk4OyYjMzEyNzg7JiMzOTAwNjs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgY3VycmVudC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJjdXJyZW50IiBkYXRhLXNvdXJjZS1saW5lPSI0IiBkYXRhLXVpZD0iZW50MDAwMyIgaWQ9ImVudGl0eV9jdXJyZW50Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjM4LjU5MzgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEzMS45OTk1IiB4PSIyMyIgeT0iNzkuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjMzIiB5PSI5NS4yOTIiPiYjMjk2OTQ7JiMyMjMxMjsmIzI0MjM1OyYjMjU5Njg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMS45OTk1IiB4PSIzMyIgeT0iMTExLjU4ODkiPiYjNjUyODg7JiMyOTI4OTsmIzI5NzAyOyYjMzAzNDA7JiMxMjM5NDsmIzI1OTY4OyYjMzczMjc7JiM2NTI4OTs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgYWxsb2NhdGVkLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9ImFsbG9jYXRlZCIgZGF0YS1zb3VyY2UtbGluZT0iNSIgZGF0YS11aWQ9ImVudDAwMDQiIGlkPSJlbnRpdHlfYWxsb2NhdGVkIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjM4LjU5MzgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEzMS45OTk1IiB4PSIxOTAiIHk9Ijc5LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIyMDAiIHk9Ijk1LjI5MiI+JiMyNDM0MTsmIzI0NDAzOyYjMjU5Njg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMS45OTk1IiB4PSIyMDAiIHk9IjExMS41ODg5Ij4mIzY1Mjg4OyYjMzA5MDY7JiMyMDQ0NTsmIzI4MTY4OyYjMTI0MTU7JiMyNTk2ODsmIzM3MzI3OyYjNjUyODk7PC90ZXh0PjwvZz48IS0tZW50aXR5IGF2YWlsYWJsZS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJhdmFpbGFibGUiIGRhdGEtc291cmNlLWxpbmU9IjYiIGRhdGEtdWlkPSJlbnQwMDA1IiBpZD0iZW50aXR5X2F2YWlsYWJsZSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzOC41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMzEuOTk5NSIgeD0iMTgxIiB5PSIxOTUuNzE2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjE5MSIgeT0iMjExLjcxMiI+JiMyNjM3NzsmIzIxMTc3OyYjMjIzMTI7JiMyNDIzNTsmIzI1OTY4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTEuOTk5NSIgeD0iMTkxIiB5PSIyMjguMDA4OSI+JiM2NTI4ODsmIzIxMDMzOyYjMjk5OTI7JiMyMTQ4NzsmIzMzMDIxOyYjMjU5Njg7JiMzNzMyNzsmIzY1Mjg5OzwvdGV4dD48L2c+PCEtLWVudGl0eSBvcmRlcmVkLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9Im9yZGVyZWQiIGRhdGEtc291cmNlLWxpbmU9IjciIGRhdGEtdWlkPSJlbnQwMDA2IiBpZD0iZW50aXR5X29yZGVyZWQiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzguNTkzOCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTE3Ljk5OTYiIHg9IjM1NyIgeT0iNzkuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjM2NyIgeT0iOTUuMjkyIj4mIzMwMzMwOyYjMjc4ODA7JiMyNzUzMTsmIzI1OTY4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny45OTk2IiB4PSIzNjciIHk9IjExMS41ODg5Ij4mIzY1Mjg4OyYjMjY0MTA7JiMyMDgzNzsmIzMzNjU1OyYjMjU5Njg7JiMzNzMyNzsmIzY1Mjg5OzwvdGV4dD48L2c+PCEtLWVudGl0eSBwcm9qZWN0ZWQtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0icHJvamVjdGVkIiBkYXRhLXNvdXJjZS1saW5lPSI4IiBkYXRhLXVpZD0iZW50MDAwNyIgaWQ9ImVudGl0eV9wcm9qZWN0ZWQiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzguNTkzOCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTMxLjk5OTUiIHg9IjE4MSIgeT0iMzEyLjk4NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIxOTEiIHk9IjMyOC45ODIiPiYjMjAxMDQ7JiMyMzQ1MDsmIzIyMzEyOyYjMjQyMzU7JiMyNTk2ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTExLjk5OTUiIHg9IjE5MSIgeT0iMzQ1LjI3ODkiPiYjNjUyODg7JiMyMzU1ODsmIzI2NDY5OyYjMTIzOTg7JiMzNTIxMTsmIzM2Nzk2OyYjMTI0MTU7JiM2NTI4OTs8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJHTU4xMCIgZGF0YS1zb3VyY2UtbGluZT0iMTUiIGRhdGEtdWlkPSJlbnQwMDExIiBpZD0iZW50aXR5X0dNTjEwIj48cGF0aCBkPSJNNTA3LjAyLDE5NC44ODY5IEw1MDcuMDIsMjM1LjE1MjUgTDYxOC45NzU3LDIzNS4xNTI1IEw2MTguOTc1NywyMDQuODg2OSBMNjA4Ljk3NTcsMTk0Ljg4NjkgTDUwNy4wMiwxOTQuODg2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTYwOC45NzU3LDE5NC44ODY5IEw2MDguOTc1NywyMDQuODg2OSBMNjE4Ljk3NTcsMjA0Ljg4NjkgTDYwOC45NzU3LDE5NC44ODY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTAuOTU1NyIgeD0iNTEzLjAyIiB5PSIyMTEuOTUzOCI+JiMyMDgzNzsmIzI0MjM1OyYjMjU5Njg7IC0gJiMyMDk4NjsmIzI0MjM1OyYjMjU5Njg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM5IiB4PSI1MTMuMDIiIHk9IjIyNy4wODY2Ij4mIzEyMzk4OyYjMzIwNDc7JiMzNTMzNjs8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJHTU4xMyIgZGF0YS1zb3VyY2UtbGluZT0iMjAiIGRhdGEtdWlkPSJlbnQwMDE0IiBpZD0iZW50aXR5X0dNTjEzIj48cGF0aCBkPSJNNjUzLjUsMTk0Ljg4NjkgTDY1My41LDIzNS4xNTI1IEw3NTIuNTAwMSwyMzUuMTUyNSBMNzUyLjUwMDEsMjA0Ljg4NjkgTDc0Mi41MDAxLDE5NC44ODY5IEw2NTMuNSwxOTQuODg2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTc0Mi41MDAxLDE5NC44ODY5IEw3NDIuNTAwMSwyMDQuODg2OSBMNzUyLjUwMDEsMjA0Ljg4NjkgTDc0Mi41MDAxLDE5NC44ODY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzguMDAwMSIgeD0iNjU5LjUiIHk9IjIxMS45NTM4Ij4mIzIxNDYzOyYjMjc4ODA7JiMyNjE3ODsmIzEyMzk1OyYjMzA5MDY7JiMyMDQ0NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjUuMDAwMSIgeD0iNjU5LjUiIHk9IjIyNy4wODY2Ij4mIzIwOTg2OyYjMzM2NTU7JiMxMjM5MTsmIzM1Mjk5OyYjMjgwNDA7PC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iR01OMTYiIGRhdGEtc291cmNlLWxpbmU9IjI1IiBkYXRhLXVpZD0iZW50MDAxNyIgaWQ9ImVudGl0eV9HTU4xNiI+PHBhdGggZD0iTTUwNy41LDMxMi4xNDY5IEw1MDcuNSwzNTIuNDEyNSBBMCwwIDAgMCAwIDUwNy41LDM1Mi40MTI1IEw2NTguNTAwMiwzNTIuNDEyNSBBMCwwIDAgMCAwIDY1OC41MDAyLDM1Mi40MTI1IEw2NTguNTAwMiwzMjIuMTQ2OSBMNjQ4LjUwMDIsMzEyLjE0NjkgTDUzMC4wNCwzMTIuMTQ2OSBMMzAxLjczLDIzNC43OTY5IEw1MjIuMDQsMzEyLjE0NjkgTDUwNy41LDMxMi4xNDY5IEEwLDAgMCAwIDAgNTA3LjUsMzEyLjE0NjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik02NDguNTAwMiwzMTIuMTQ2OSBMNjQ4LjUwMDIsMzIyLjE0NjkgTDY1OC41MDAyLDMyMi4xNDY5IEw2NDguNTAwMiwzMTIuMTQ2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTAzLjk1NTciIHg9IjUxMy41IiB5PSIzMjkuMjEzOCI+JiMyOTY5NDsmIzIyMzEyOyYjMjQyMzU7JiMyNTk2ODsgLSAmIzI0MzQxOyYjMjQ0MDM7JiMyNTk2ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMwLjAwMDIiIHg9IjUxMy41IiB5PSIzNDQuMzQ2NiI+JiMyMzQ1NTsmIzM4NTU1OyYjMTIzOTU7JiMyMDk4NjsmIzMzNjU1OyYjMjE0ODc7JiMzMzAyMTsmIzEyMzk0OyYjMjU5Njg7JiMzNzMyNzs8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJHTU4xOSIgZGF0YS1zb3VyY2UtbGluZT0iMzAiIGRhdGEtdWlkPSJlbnQwMDIwIiBpZD0iZW50aXR5X0dNTjE5Ij48cGF0aCBkPSJNMTU4LjUsNDE0LjU3NjkgTDE1OC41LDQ1NC44NDI1IEEwLDAgMCAwIDAgMTU4LjUsNDU0Ljg0MjUgTDMzNS41MDAyLDQ1NC44NDI1IEEwLDAgMCAwIDAgMzM1LjUwMDIsNDU0Ljg0MjUgTDMzNS41MDAyLDQyNC41NzY5IEwzMjUuNTAwMiw0MTQuNTc2OSBMMjUxLDQxNC41NzY5IEwyNDcsMzUxLjcwNjkgTDI0Myw0MTQuNTc2OSBMMTU4LjUsNDE0LjU3NjkgQTAsMCAwIDAgMCAxNTguNSw0MTQuNTc2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTMyNS41MDAyLDQxNC41NzY5IEwzMjUuNTAwMiw0MjQuNTc2OSBMMzM1LjUwMDIsNDI0LjU3NjkgTDMyNS41MDAyLDQxNC41NzY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzYuMTU3NCIgeD0iMTY0LjUiIHk9IjQzMS42NDM4Ij4mIzI2Mzc3OyYjMjExNzc7JiMyMjMxMjsmIzI0MjM1OyYjMjU5Njg7ICsgJiMzMDMzMDsmIzI3ODgwOyYjMjc1MzE7JiMyNTk2ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTU2LjAwMDIiIHg9IjE2NC41IiB5PSI0NDYuNzc2NiI+JiMyMzU1ODsmIzI2NDY5OyYjMzAzNDA7JiMxMjM5NTsmIzIxMDMzOyYjMjk5OTI7JiMyMTQ4NzsmIzMzMDIxOyYjMTIzOTQ7JiMzNTIxMTsmIzM2Nzk2OyYjMTI0MTU7PC90ZXh0PjwvZz48IS0tbGluayBjdXJyZW50IHRvIGF2YWlsYWJsZS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJjdXJyZW50IiBkYXRhLWVudGl0eS0yPSJhdmFpbGFibGUiIGRhdGEtc291cmNlLWxpbmU9IjExIiBkYXRhLXVpZD0ibG5rOCIgaWQ9ImxpbmtfY3VycmVudF9hdmFpbGFibGUiPjxwYXRoIGQ9Ik0xMTQuNzQsMTE4LjIyNjkgQzE0NC4xMiwxMzkuNTA2OSAxODcuMDQxMywxNzAuNTg2NSAyMTYuNDExMywxOTEuODY2NSIgZmlsbD0ibm9uZSIgaWQ9ImN1cnJlbnQtdG8tYXZhaWxhYmxlIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMjEuMjcsMTk1LjM4NjksMjE2LjMyODksMTg2Ljg2NzIsMjE3LjIyMTEsMTkyLjQ1MzIsMjExLjYzNSwxOTMuMzQ1NSwyMjEuMjcsMTk1LjM4NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIxODAuNDYiIHk9IjE1My45NTMzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzkiIHg9IjE5MC40NiIgeT0iMTYwLjk1MzgiPiYjMjQzNDE7JiMyNDQwMzsmIzI1OTY4OzwvdGV4dD48L2c+PCEtLWxpbmsgYXZhaWxhYmxlIHRvIHByb2plY3RlZC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJhdmFpbGFibGUiIGRhdGEtZW50aXR5LTI9InByb2plY3RlZCIgZGF0YS1zb3VyY2UtbGluZT0iMTIiIGRhdGEtdWlkPSJsbms5IiBpZD0ibGlua19hdmFpbGFibGVfcHJvamVjdGVkIj48cGF0aCBkPSJNMjQ3LDIzNC43OTY5IEMyNDcsMjU2LjIyNjkgMjQ3LDI4NS4wODY5IDI0NywzMDYuNTE2OSIgZmlsbD0ibm9uZSIgaWQ9ImF2YWlsYWJsZS10by1wcm9qZWN0ZWQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI0NywzMTIuNTE2OSwyNTEsMzAzLjUxNjksMjQ3LDMwNy41MTY5LDI0MywzMDMuNTE2OSwyNDcsMzEyLjUxNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48ZWxsaXBzZSBjeD0iMjUzIiBjeT0iMjc0LjIxMzMiIGZpbGw9Im5vbmUiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyLjAwMDEiIHg9IjI2MCIgeT0iMjc4LjIxMzgiPiYjMzAzMzA7JiMyNzg4MDsmIzI3NTMxOyYjMjU5Njg7PC90ZXh0PjwvZz48IS0tbGluayBjdXJyZW50IHRvIEdNTjEwLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImN1cnJlbnQiIGRhdGEtZW50aXR5LTI9IkdNTjEwIiBkYXRhLXNvdXJjZS1saW5lPSIxNSIgZGF0YS11aWQ9ImxuazEyIiBpZD0ibGlua19jdXJyZW50X0dNTjEwIj48cGF0aCBkPSJNMTU1LjI5LDExNC43MjY5IEMyMzUuMDksMTMzLjA3NjkgMzczLjA5LDE2NS4yNDY5IDQ5MSwxOTQuODg2OSBDNDk2LjE0LDE5Ni4xNzY5IDUwMS40OSwxOTcuNTQ2OSA1MDYuODMsMTk4LjkzNjkiIGZpbGw9Im5vbmUiIGlkPSJjdXJyZW50LUdNTjEwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTo3LDc7Ii8+PC9nPjwhLS1saW5rIGFsbG9jYXRlZCB0byBHTU4xMy0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJhbGxvY2F0ZWQiIGRhdGEtZW50aXR5LTI9IkdNTjEzIiBkYXRhLXNvdXJjZS1saW5lPSIyMCIgZGF0YS11aWQ9ImxuazE1IiBpZD0ibGlua19hbGxvY2F0ZWRfR01OMTMiPjxwYXRoIGQ9Ik0zMjIuMzcsMTE0LjY1NjkgQzMyOC4zMiwxMTUuODE2OSAzMzQuMjYsMTE2LjkxNjkgMzQwLDExNy44ODY5IEM0NDkuOTEsMTM2LjQzNjkgNDgzLjI5LDExMi41MjY5IDU4OSwxNDcuODg2OSBDNjIxLjMzLDE1OC42OTY5IDY1NC42NSwxNzkuMzI2OSA2NzYuODUsMTk0LjY4NjkiIGZpbGw9Im5vbmUiIGlkPSJhbGxvY2F0ZWQtR01OMTMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjcsNzsiLz48L2c+PCEtLVNSQz1bVlBCQkppOTA2OE50eW5JSlJXcWx1QzhkU0xGUXFNMWdRc2ZyT3JwSzJuSTlnT2NZMEs0WjFZY0c1MUFEYndSMG12SVBqWWpVbVFjNXdTTmVoYWRfeHZuX3BsY3JhWU9YWTVpTVRlUWFGV3VoZmdWUnVNcmRGWmkxRzRNMm5pbFJUODNCSlZZTTdKdXpTRjA4MkJtZ0dpdXRmc25ZS3J3dVhiX2otclRibHRkY3dPRU9NaFhMM2xCeEszWEdMSUhoSW4yeFRKb3ZQYko3Y1NfUXZERm16NWNNdVlMOTROV0RZS2tFakFodXVZbGhZT3MtVnNEWFNuSVNKZEJxOEwtSS1BQTRMa2lzN0Y5ZzRSa3NHYWJoV0MteG1VTDdiYkRLNFFkQ1MtdU9zNnhjRkNUYnFreElIOEFOTVoxcndUdWhUYXpMVGNYLWIzdTZPRmJlTTJYaTlDbDBUU1dMODRrMDB5Y1ZROHU5SDdEaENCcXAxdTJpUTBXTTVLckpUZzZvbkxBYmh1WXRXckl2dWlKVjg2aGlSSEhPMWEybzIyRnFicTBJQzNSbDhnRjZZUVNGdXE4MExRQlBVN2VsdzNzSnpfektNRDNmWXUyZkxtOWlGdVJEVXdlVFl5UHJpSWx2TXBoOUN6U3pwNk8zdWFmLUpjLU9GV2RnbUtmWURqeTBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<table>
<thead>
<tr>
<th>数量種別</th>
<th>説明</th>
<th>計算式</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>現在庫数</strong></td>
<td>物理的に倉庫にある数量</td>
<td>入庫数 - 出庫数</td>
</tr>
<tr>
<td><strong>引当数</strong></td>
<td>受注等で確保済みの数量</td>
<td>受注引当の合計</td>
</tr>
<tr>
<td><strong>有効在庫数</strong></td>
<td>実際に利用可能な数量</td>
<td>現在庫数 - 引当数</td>
</tr>
<tr>
<td><strong>発注残数</strong></td>
<td>発注済みで未入荷の数量</td>
<td>発注数 - 入荷数</td>
</tr>
<tr>
<td><strong>予定在庫数</strong></td>
<td>将来的に利用可能な見込み</td>
<td>有効在庫数 + 発注残数</td>
</tr>
</tbody>
</table>
<h3 id="_4">倉庫マスタの設計<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjkxOXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDg1cHg7aGVpZ2h0OjkxOXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQ4NSA5MTkiIHdpZHRoPSI0ODVweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjA0ODk7JiMyNDIzNTsmIzEyNTM5OyYjMTI1MjU7JiMxMjQ2NTsmIzEyNTQwOyYjMTI0NzE7JiMxMjUxOTsmIzEyNTMxOyYjMzgzMDY7JiMzNjg5OTsmIzEyNDg2OyYjMTI1NDA7JiMxMjUwMjsmIzEyNTIzOzwvdGl0bGU+PGRlZnMvPjxnPjxnIGNsYXNzPSJ0aXRsZSIgZGF0YS1zb3VyY2UtbGluZT0iMSI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIwOS45OTkxIiB4PSIxMzAuNjAyNCIgeT0iMjIuOTk1MSI+JiMyMDQ4OTsmIzI0MjM1OyYjMTI1Mzk7JiMxMjUyNTsmIzEyNDY1OyYjMTI1NDA7JiMxMjQ3MTsmIzEyNTE5OyYjMTI1MzE7JiMzODMwNjsmIzM2ODk5OyYjMTI0ODY7JiMxMjU0MDsmIzEyNTAyOyYjMTI1MjM7PC90ZXh0PjwvZz48IS0tY2xhc3MgPz8/Pz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjMiIGRhdGEtdWlkPSJlbnQwMDAyIiBpZD0iZW50aXR5Xy4uLi4uIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjE5NC42NzE5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjEuMjAzOCIgeD0iMTE1IiB5PSI0NC4yOTY5Ii8+PGVsbGlwc2UgY3g9IjEzOC42NDE4IiBjeT0iNjAuMjk2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMTQyLjc1MTIsNjYuMjk2OSBMMTM1LjAzMjUsNjYuMjk2OSBMMTM1LjAzMjUsNTMuOTA2MyBMMTQyLjc1MTIsNTMuOTA2MyBMMTQyLjc1MTIsNTYuMDYyNSBMMTM3LjQ4NTYsNTYuMDYyNSBMMTM3LjQ4NTYsNTguNzM0NCBMMTQyLjI1MTIsNTguNzM0NCBMMTQyLjI1MTIsNjAuODkwNiBMMTM3LjQ4NTYsNjAuODkwNiBMMTM3LjQ4NTYsNjQuMTQwNiBMMTQyLjc1MTIsNjQuMTQwNiBMMTQyLjc1MTIsNjYuMjk2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjE1NC41NjIzIiB5PSI2NS4xNDM2Ij4mIzIwNDg5OyYjMjQyMzU7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjExNiIgeDI9IjIzNS4yMDM4IiB5MT0iNzYuMjk2OSIgeTI9Ijc2LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDkuMjAzOCIgeD0iMTIxIiB5PSI5My4yOTIiPiYjMjA0ODk7JiMyNDIzNTsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7UEsmIzE4Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjExNiIgeDI9IjIzNS4yMDM4IiB5MT0iMTAwLjU5MzgiIHkyPSIxMDAuNTkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjk5OTgiIHg9IjEyMSIgeT0iMTE3LjU4ODkiPiYjMjA0ODk7JiMyNDIzNTsmIzIxNTE3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxMjEiIHk9IjEzMy44ODU3Ij4mIzIwNDg5OyYjMjQyMzU7JiMyMTMwNjsmIzIwOTk4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxMjEiIHk9IjE1MC4xODI2Ij4mIzM3MTA5OyYjMjA0MTU7JiMzMDA1ODsmIzIxNDk1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSIxMjEiIHk9IjE2Ni40Nzk1Ij4mIzIwMzAzOyYjMjUxNTI7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjEyMSIgeT0iMTgyLjc3NjQiPiYjMzg2NTE7JiMzNTQ0MTsmIzMwMDU4OyYjMjE0OTU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjEyMSIgeT0iMTk5LjA3MzIiPiYjMjYzNzc7JiMyMTE3NzsmIzEyNTAxOyYjMTI1MjE7JiMxMjQ2NDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTIxIiB5PSIyMTUuMzcwMSI+JiMyMDMxNjsmIzI1MTA0OyYjMjYwODU7JiMyNjE3ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTIxIiB5PSIyMzEuNjY3Ij4mIzI2MzU2OyYjMjYwMzI7JiMyNjA4NTsmIzI2MTc4OzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSIuLi4uLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjE2IiBkYXRhLXVpZD0iZW50MDAwMyIgaWQ9ImVudGl0eV8uLi4uLi4uLi4iPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjI3LjI2NTYiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE3Ny4yMDM2IiB4PSI3IiB5PSIzMTUuOTY2OSIvPjxlbGxpcHNlIGN4PSIzMC42NDE4IiBjeT0iMzMxLjk2NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTM0Ljc1MTIsMzM3Ljk2NjkgTDI3LjAzMjUsMzM3Ljk2NjkgTDI3LjAzMjUsMzI1LjU3NjIgTDM0Ljc1MTIsMzI1LjU3NjIgTDM0Ljc1MTIsMzI3LjczMjUgTDI5LjQ4NTYsMzI3LjczMjUgTDI5LjQ4NTYsMzMwLjQwNDQgTDM0LjI1MTIsMzMwLjQwNDQgTDM0LjI1MTIsMzMyLjU2MDYgTDI5LjQ4NTYsMzMyLjU2MDYgTDI5LjQ4NTYsMzM1LjgxMDYgTDM0Ljc1MTIsMzM1LjgxMDYgTDM0Ljc1MTIsMzM3Ljk2NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjUuOTk5NSIgeD0iNDYuNTYyMyIgeT0iMzM2LjgxMzYiPiYjMTI1MjU7JiMxMjQ2NTsmIzEyNTQwOyYjMTI0NzE7JiMxMjUxOTsmIzEyNTMxOyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI4IiB4Mj0iMTgzLjIwMzYiIHkxPSIzNDcuOTY2OSIgeTI9IjM0Ny45NjY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY1LjIwMzYiIHg9IjEzIiB5PSIzNjQuOTYyIj4mIzEyNTI1OyYjMTI0NjU7JiMxMjU0MDsmIzEyNDcxOyYjMTI1MTk7JiMxMjUzMTsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7UEsmIzE4Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjgiIHgyPSIxODMuMjAzNiIgeTE9IjM3Mi4yNjM3IiB5Mj0iMzcyLjI2MzciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDguODE0MSIgeD0iMTMiIHk9IjM4OS4yNTg5Ij4mIzIwNDg5OyYjMjQyMzU7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7ICYjMTcxO0ZLJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ljk5OTkiIHg9IjEzIiB5PSI0MDUuNTU1NyI+JiMyNjg0MjsmIzMwMDU4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIxMyIgeT0iNDIxLjg1MjYiPiYjMTI0Nzg7JiMxMjU0MDsmIzEyNTMxOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSIxMyIgeT0iNDM4LjE0OTUiPiYjMzY4OTA7JiMzNjMzNTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iMTMiIHk9IjQ1NC40NDY0Ij4mIzEyNTIxOyYjMTI0ODM7JiMxMjQ2Mzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMuOTk5OSIgeD0iMTMiIHk9IjQ3MC43NDMyIj4mIzI3NTczOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSIxMyIgeT0iNDg3LjA0MDEiPiYjMzgyOTE7JiMyMTQ3NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTMiIHk9IjUwMy4zMzciPiYjMjYzNzc7JiMyMTE3NzsmIzEyNTAxOyYjMTI1MjE7JiMxMjQ2NDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTMiIHk9IjUxOS42MzM5Ij4mIzIwMzE2OyYjMjUxMDQ7JiMyNjA4NTsmIzI2MTc4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxMyIgeT0iNTM1LjkzMDciPiYjMjYzNTY7JiMyNjAzMjsmIzI2MDg1OyYjMjYxNzg7PC90ZXh0PjwvZz48IS0tY2xhc3MgPz8/Pz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjMxIiBkYXRhLXVpZD0iZW50MDAwNCIgaWQ9ImVudGl0eV8uLi4uLiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyOTIuNDUzMSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTc2LjgxMzkiIHg9IjE2Ni4xOSIgeT0iNjIwLjIzNjkiLz48ZWxsaXBzZSBjeD0iMjE1LjM0NzEiIGN5PSI2MzYuMjM2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMjE5LjQ1NjUsNjQyLjIzNjkgTDIxMS43Mzc3LDY0Mi4yMzY5IEwyMTEuNzM3Nyw2MjkuODQ2MiBMMjE5LjQ1NjUsNjI5Ljg0NjIgTDIxOS40NTY1LDYzMi4wMDI1IEwyMTQuMTkwOSw2MzIuMDAyNSBMMjE0LjE5MDksNjM0LjY3NDQgTDIxOC45NTY1LDYzNC42NzQ0IEwyMTguOTU2NSw2MzYuODMwNiBMMjE0LjE5MDksNjM2LjgzMDYgTDIxNC4xOTA5LDY0MC4wODA2IEwyMTkuNDU2NSw2NDAuMDgwNiBMMjE5LjQ1NjUsNjQyLjIzNjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyMzUuODQ3MSIgeT0iNjQxLjA4MzYiPiYjMjIzMTI7JiMyNDIzNTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTY3LjE5IiB4Mj0iMzQyLjAwMzkiIHkxPSI2NTIuMjM2OSIgeTI9IjY1Mi4yMzY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTQuMTEzMyIgeD0iMTcyLjE5IiB5PSI2NjkuMjMyIj5JRCAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTY3LjE5IiB4Mj0iMzQyLjAwMzkiIHkxPSI2NzYuNTMzNyIgeTI9IjY3Ni41MzM3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA4LjgxNDEiIHg9IjE3Mi4xOSIgeT0iNjkzLjUyODkiPiYjMjA0ODk7JiMyNDIzNTsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA4LjgxNDEiIHg9IjE3Mi4xOSIgeT0iNzA5LjgyNTciPiYjMjE4MzA7JiMyMTY5NzsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY0LjgxMzkiIHg9IjE3Mi4xOSIgeT0iNzI2LjEyMjYiPiYjMTI1MjU7JiMxMjQ2NTsmIzEyNTQwOyYjMTI0NzE7JiMxMjUxOTsmIzEyNTMxOyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyAmIzE3MTtGSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxNzIuMTkiIHk9Ijc0Mi40MTk1Ij4mIzI5Njk0OyYjMjIzMTI7JiMyNDIzNTsmIzI1OTY4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIxNzIuMTkiIHk9Ijc1OC43MTY0Ij4mIzI0MzQxOyYjMjQ0MDM7JiMyNTk2ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTcyLjE5IiB5PSI3NzUuMDEzMiI+JiMzMDMzMDsmIzI3ODgwOyYjMjc1MzE7JiMyNTk2ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTcyLjE5IiB5PSI3OTEuMzEwMSI+JiMyNjM2ODsmIzMyMDY2OyYjMjA4Mzc7JiMyNDIzNTsmIzI2MDg1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIxNzIuMTkiIHk9IjgwNy42MDciPiYjMjYzNjg7JiMzMjA2NjsmIzIwOTg2OyYjMjQyMzU7JiMyNjA4NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTcyLjE5IiB5PSI4MjMuOTAzOSI+JiMxMjUyNTsmIzEyNDgzOyYjMTI0ODg7JiMzMDA1ODsmIzIxNDk1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSIxNzIuMTkiIHk9Ijg0MC4yMDA3Ij4mIzEyNDcxOyYjMTI1MjI7JiMxMjQ1MDsmIzEyNTIzOyYjMzAwNTg7JiMyMTQ5NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTcyLjE5IiB5PSI4NTYuNDk3NiI+JiMyNjM3NzsmIzIxMTc3OyYjMjYzOTk7JiMzODQ4MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTcyLjE5IiB5PSI4NzIuNzk0NSI+JiMxMjQ5NjsmIzEyNTQwOyYjMTI0NzI7JiMxMjUxOTsmIzEyNTMxOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxNzIuMTkiIHk9Ijg4OS4wOTE0Ij4mIzIwMzE2OyYjMjUxMDQ7JiMyNjA4NTsmIzI2MTc4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxNzIuMTkiIHk9IjkwNS4zODgyIj4mIzI2MzU2OyYjMjYwMzI7JiMyNjA4NTsmIzI2MTc4OzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9Ii4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSI1MCIgZGF0YS11aWQ9ImVudDAwMDUiIGlkPSJlbnRpdHlfLi4uLi4iPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iOTYuODkwNiIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTIxLjIwMzgiIHg9IjM1NyIgeT0iMzgxLjE1NjkiLz48ZWxsaXBzZSBjeD0iMzgwLjY0MTgiIGN5PSIzOTcuMTU2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMzg0Ljc1MTIsNDAzLjE1NjkgTDM3Ny4wMzI1LDQwMy4xNTY5IEwzNzcuMDMyNSwzOTAuNzY2MyBMMzg0Ljc1MTIsMzkwLjc2NjMgTDM4NC43NTEyLDM5Mi45MjI1IEwzNzkuNDg1NiwzOTIuOTIyNSBMMzc5LjQ4NTYsMzk1LjU5NDQgTDM4NC4yNTEyLDM5NS41OTQ0IEwzODQuMjUxMiwzOTcuNzUwNiBMMzc5LjQ4NTYsMzk3Ljc1MDYgTDM3OS40ODU2LDQwMS4wMDA2IEwzODQuNzUxMiw0MDEuMDAwNiBMMzg0Ljc1MTIsNDAzLjE1NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIzOTYuNTYyMyIgeT0iNDAyLjAwMzYiPiYjMjE4MzA7JiMyMTY5NzsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMzU4IiB4Mj0iNDc3LjIwMzgiIHkxPSI0MTMuMTU2OSIgeTI9IjQxMy4xNTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA5LjIwMzgiIHg9IjM2MyIgeT0iNDMwLjE1MiI+JiMyMTgzMDsmIzIxNjk3OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzU4IiB4Mj0iNDc3LjIwMzgiIHkxPSI0MzcuNDUzOCIgeTI9IjQzNy40NTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iMzYzIiB5PSI0NTQuNDQ4OSI+JiMyMTgzMDsmIzIxNjk3OyYjMjE1MTc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ljk5OTkiIHg9IjM2MyIgeT0iNDcwLjc0NTciPiYjMjEzMzY7JiMyMDM4NTs8L3RleHQ+PC9nPjwhLS1saW5rID8/Pz8/IHRvID8/Pz8/Pz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSIuLi4uLiIgZGF0YS1lbnRpdHktMj0iLi4uLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSI1NyIgZGF0YS11aWQ9ImxuazYiIGlkPSJsaW5rXy4uLi4uXy4uLi4uLi4uLiI+PHBhdGggY29kZUxpbmU9IjU3IiBkPSJNMTQ2LjM2MzQsMjQ3LjE1MDcgQzEzOS41MTM0LDI3MS42MjA3IDEzOS4xMDY3LDI3My4wNzE3IDEzMi4wNjY3LDI5OC4yNTE3IiBmaWxsPSJub25lIiBpZD0iJiMyMDQ4OTsmIzI0MjM1OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5Oy0mIzEyNTI1OyYjMTI0NjU7JiMxMjU0MDsmIzEyNDcxOyYjMTI1MTk7JiMxMjUzMTsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTQzLjU4OTgiIHgyPSIxNTEuMjkzNiIgeTE9IjI0Mi4yMjA1IiB5Mj0iMjQ0LjM3NzEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTQyLjc4MTEiIHgyPSIxNTAuNDg0OSIgeTE9IjI0NS4xMDk1IiB5Mj0iMjQ3LjI2NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNDYuMzYzNCIgeDI9IjE0OC41MiIgeTE9IjI0Ny4xNTA3IiB5Mj0iMjM5LjQ0NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTI5LjM3NDEiIHgyPSIxMzIuOTk4NCIgeTE9IjMwNy44ODIzIiB5Mj0iMzE3LjIwMjQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTI5LjM3NDEiIHgyPSIxMjEuNDQxNiIgeTE9IjMwNy44ODIzIiB5Mj0iMzEzLjk3MTMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTI5LjM3NDEiIHgyPSIxMjcuMjIiIHkxPSIzMDcuODgyMyIgeTI9IjMxNS41ODY5Ii8+PGVsbGlwc2UgY3g9IjEzMC45ODk3IiBjeT0iMzAyLjEwMzkiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY1LjAwMDEiIHg9IjEzOSIgeT0iMjgyLjAzMzgiPiYjMjA0ODk7JiMyNDIzNTsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTs8L3RleHQ+PC9nPjwhLS1saW5rID8/Pz8/IHRvID8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9Ii4uLi4uIiBkYXRhLWVudGl0eS0yPSIuLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iNTgiIGRhdGEtdWlkPSJsbms3IiBpZD0ibGlua18uLi4uLl8uLi4uLiI+PHBhdGggY29kZUxpbmU9IjU4IiBkPSJNMjA4LjAxNzYsMjQ3LjE2NjIgQzIxMC41MDc2LDI1Ny4wODYyIDIxMC44LDI1OS4zMDY5IDIxMi42LDI2OC45NjY5IEMyMzQuNDQsMzg1Ljg4NjkgMjQ0LjAzMTMsNTAyLjQ2OTggMjQ5LjA2MTMsNjAxLjk3OTgiIGZpbGw9Im5vbmUiIGlkPSImIzIwNDg5OyYjMjQyMzU7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7LSYjMjIzMTI7JiMyNDIzNTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjAzLjE2NDIiIHgyPSIyMTAuOTIzNSIgeTE9IjI0NC4yNjAzIiB5Mj0iMjQyLjMxMjciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjAzLjg5NDUiIHgyPSIyMTEuNjUzOCIgeTE9IjI0Ny4xNzAxIiB5Mj0iMjQ1LjIyMjQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjA4LjAxNzYiIHgyPSIyMDYuMDciIHkxPSIyNDcuMTY2MiIgeTI9IjIzOS40MDY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI0OS41NjYxIiB4Mj0iMjU1Ljk2MjMiIHkxPSI2MTEuOTY3MSIgeTI9IjYxOS42NTQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjQ5LjU2NjEiIHgyPSIyNDMuOTc3NyIgeTE9IjYxMS45NjcxIiB5Mj0iNjIwLjI1OTgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjQ5LjU2NjEiIHgyPSIyNDkuOTciIHkxPSI2MTEuOTY3MSIgeTI9IjYxOS45NTY5Ii8+PGVsbGlwc2UgY3g9IjI0OS4yNjMyIiBjeT0iNjA1Ljk3NDciIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY1LjAwMDEiIHg9IjI0NS45NSIgeT0iNDM0LjE2MzgiPiYjMjA0ODk7JiMyNDIzNTsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTs8L3RleHQ+PC9nPjwhLS1saW5rID8/Pz8/IHRvID8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9Ii4uLi4uIiBkYXRhLWVudGl0eS0yPSIuLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iNTkiIGRhdGEtdWlkPSJsbms4IiBpZD0ibGlua18uLi4uLl8uLi4uLiI+PHBhdGggY29kZUxpbmU9IjU5IiBkPSJNMzkwLjkxODUsNDg1LjQxOTkgQzM3Mi44NTg1LDUyMi41MTk5IDM1OC4xNDc2LDU1Mi43MzIyIDMzMy4zODc2LDYwMy42MDIyIiBmaWxsPSJub25lIiBpZD0iJiMyMTgzMDsmIzIxNjk3OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5Oy0mIzIyMzEyOyYjMjQyMzU7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjM4OS4wNzI3IiB4Mj0iMzk2LjI2NTgiIHkxPSI0ODAuMDcyNiIgeTI9IjQ4My41NzQxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjM4Ny43NTk3IiB4Mj0iMzk0Ljk1MjciIHkxPSI0ODIuNzciIHkyPSI0ODYuMjcxNSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzOTAuOTE4NSIgeDI9IjM5NC40MiIgeTE9IjQ4NS40MTk5IiB5Mj0iNDc4LjIyNjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzI5LjAxMTEiIHgyPSIzMzAuOTA0OSIgeTE9IjYxMi41OTM3IiB5Mj0iNjIyLjQxMjciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzI5LjAxMTEiIHgyPSIzMjAuMTE1MSIgeTE9IjYxMi41OTM3IiB5Mj0iNjE3LjE2MSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMjkuMDExMSIgeDI9IjMyNS41MSIgeTE9IjYxMi41OTM3IiB5Mj0iNjE5Ljc4NjkiLz48ZWxsaXBzZSBjeD0iMzMxLjYzNyIgY3k9IjYwNy4xOTg4IiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NS4wMDAxIiB4PSIzNDYuODYiIHk9IjU4Ni4zMDM4Ij4mIzIxODMwOyYjMjE2OTc7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7PC90ZXh0PjwvZz48IS0tbGluayA/Pz8/Pz8/Pz8gdG8gPz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iLi4uLi4uLi4uIiBkYXRhLWVudGl0eS0yPSIuLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iNjAiIGRhdGEtdWlkPSJsbms5IiBpZD0ibGlua18uLi4uLi4uLi5fLi4uLi4iPjxwYXRoIGNvZGVMaW5lPSI2MCIgZD0iTTk4LjIxMDUsNTUxLjMxMjEgQzEwMC44NDA1LDU2Ny40MDIxIDEwMy41OCw1NzUuNTY2OSAxMDkuNiw1OTAuMjM2OSBDMTIyLjcyLDYyMi4xOTY5IDEzMi4yNjQ2LDYzOC45NzczIDE1NC4zNDQ2LDY2NS4zODczIiBmaWxsPSJub25lIiBpZD0iJiMxMjUyNTsmIzEyNDY1OyYjMTI1NDA7JiMxMjQ3MTsmIzEyNTE5OyYjMTI1MzE7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7LSYjMjIzMTI7JiMyNDIzNTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iOTMuNjE3NiIgeDI9IjEwMS41MTI5IiB5MT0iNTQ4LjAwOTciIHkyPSI1NDYuNzE5MiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI5NC4xMDE2IiB4Mj0iMTAxLjk5NjgiIHkxPSI1NTAuOTcwNSIgeTI9IjU0OS42Nzk5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijk4LjIxMDUiIHgyPSI5Ni45MiIgeTE9IjU1MS4zMTIxIiB5Mj0iNTQzLjQxNjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTYwLjc1ODciIHgyPSIxNzAuNDkzMiIgeTE9IjY3My4wNTkzIiB5Mj0iNjc1LjM0ODQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTYwLjc1ODciIHgyPSIxNjEuMjg2OCIgeTE9IjY3My4wNTkzIiB5Mj0iNjgzLjA0NTMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTYwLjc1ODciIHgyPSIxNjUuODkiIHkxPSI2NzMuMDU5MyIgeTI9IjY3OS4xOTY5Ii8+PGVsbGlwc2UgY3g9IjE1Ni45MTAyIiBjeT0iNjY4LjQ1NjEiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNy4wMDAxIiB4PSIxMTAuNiIgeT0iNTg2LjMwMzgiPiYjMTI1MjU7JiMxMjQ2NTsmIzEyNTQwOyYjMTI0NzE7JiMxMjUxOTsmIzEyNTMxOyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48L2c+PCEtLVNSQz1bZFBCQkppOTA1OFJ0eW5IejBMeDA0NVI2bkJabjlMWUc2RHNtQ00xSVBvOE5iUkc5UUg1ZUQ0QThOMkFOODQ0QWI4U3ZwOUktWFBzWDQyWXE2ZFRwUmRFLV92b0pKMklsdVhBTHl6SmkwOWEyLUdHeTAzODNGMFJvME1KZXczTDdoV0Y5UzJWSFdOR0dZYnlkNHlkUlJUS2h1MGRXWFBIMmRXU0ZITjlVWWFPbEJzOG41OGJ1NFFlTURnemRhLU9vbzI2WmZSTW1qSlBMbmNXdkxyWFVIYXZya2NlREYxeXB5bEhuMGFHM3FXQlNUdENDYmJEUGdTN0E2QjdnNXpGeGRkNnR2SmVLaVNqdTkxaDhrbml2dW41TWh4WFcyQjBiXzRGYW85TkxrOFN1N0k2MFV1WHJIeVpIWXJJZl91a1Q2YXFucXdtMHZCcGRmeHpaS0lyM1lfUzd4ZDJmOGlMTWg3TEJmbEtIZE1icU5rR2xrc29vT1BEcmR4WjEzRGFVT1ZoR3U2Y2JuaVJFY2Z4RHN4WllJU3hSY1VaTTFibnBac0xsWlNudVN5Z2djd3lBZmt5cnF6X2NpYlF1VXNpN2NoVDM0WDVuUXVNTmZWTkVsXzdWUVplVFlUb2FHYV9iSEY5REUtV0pfeXdFNUZoZVdtbHRIUTRtbGkxRkdqUi0wbTAwXS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_5">倉庫区分の定義<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjIyNXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NzM5cHg7aGVpZ2h0OjIyNXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDczOSAyMjUiIHdpZHRoPSI3MzlweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjA0ODk7JiMyNDIzNTsmIzIxMzA2OyYjMjA5OTg7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMzM0Ljc1MDEiIHk9IjIyLjk5NTEiPiYjMjA0ODk7JiMyNDIzNTsmIzIxMzA2OyYjMjA5OTg7PC90ZXh0PjwvZz48IS0tY2x1c3RlciA/Pz8/LS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtZW50aXR5PSIuLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIzIiBkYXRhLXVpZD0iZW50MDAwMiIgaWQ9ImNsdXN0ZXJfLi4uLiI+PHJlY3QgZmlsbD0iI0NDRkZDQyIgaGVpZ2h0PSI3My4zIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iMjE5IiB4PSIxNC41IiB5PSI1Mi40NDY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9Ijk2LjAwMDEiIHk9IjY3LjQ0MiI+JiMzMzI1ODsmIzMxMDM4OyYjMjA0ODk7JiMyNDIzNTs8L3RleHQ+PC9nPjwhLS1jbHVzdGVyID8/Pz8tLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1lbnRpdHk9Ii4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjgiIGRhdGEtdWlkPSJlbnQwMDA1IiBpZD0iY2x1c3Rlcl8uLi4uIj48cmVjdCBmaWxsPSIjQ0NDQ0ZGIiBoZWlnaHQ9Ijg5LjU5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iMjE5IiB4PSIyNTcuNSIgeT0iNDQuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIzMzkuMDAwMSIgeT0iNTkuMjkyIj4mIzIyODA2OyYjMzcwOTY7JiMyMDQ4OTsmIzI0MjM1OzwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgPz8/Py0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLWVudGl0eT0iLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMTMiIGRhdGEtdWlkPSJlbnQwMDA4IiBpZD0iY2x1c3Rlcl8uLi4uIj48cmVjdCBmaWxsPSIjRkZGRkNDIiBoZWlnaHQ9IjczLjMiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIyMzMiIHg9IjUwMC41IiB5PSI1Mi40NDY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjU4OS4wMDAxIiB5PSI2Ny40NDIiPiYjMjAyMDY7JiMyNDgxOTsmIzIwNDg5OyYjMjQyMzU7PC90ZXh0PjwvZz48IS0tZW50aXR5IG93bjEtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0ib3duMSIgZGF0YS1zb3VyY2UtbGluZT0iNCIgZGF0YS11aWQ9ImVudDAwMDMiIGlkPSJlbnRpdHlfb3duMSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyMi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI3NS45OTk4IiB4PSIzMC41IiB5PSI4Ny40NDY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iNDAuNSIgeT0iMTAzLjQ0MiI+JiMyNjQxMjsmIzMxMDM4OyYjMjA0ODk7JiMyNDIzNTs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgb3duMi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJvd24yIiBkYXRhLXNvdXJjZS1saW5lPSI1IiBkYXRhLXVpZD0iZW50MDAwNCIgaWQ9ImVudGl0eV9vd24yIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIyLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9Ijc1Ljk5OTgiIHg9IjE0MS41IiB5PSI4Ny40NDY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTUxLjUiIHk9IjEwMy40NDIiPiYjMjU5MDM7JiMyNDIxNTsmIzIwNDg5OyYjMjQyMzU7PC90ZXh0PjwvZz48IS0tZW50aXR5IGV4dDEtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iZXh0MSIgZGF0YS1zb3VyY2UtbGluZT0iOSIgZGF0YS11aWQ9ImVudDAwMDYiIGlkPSJlbnRpdHlfZXh0MSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzOC41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI3NS45OTk4IiB4PSIyNzMuNSIgeT0iNzkuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjI4My41IiB5PSI5NS4yOTIiPiYjMjE5NDI7JiMyNjk4OTsmIzIwNDg5OyYjMjQyMzU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUzLjE0OTMiIHg9IjI4My41IiB5PSIxMTEuNTg4OSI+JiM2NTI4ODszUEwmIzY1Mjg5OzwvdGV4dD48L2c+PCEtLWVudGl0eSBleHQyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9ImV4dDIiIGRhdGEtc291cmNlLWxpbmU9IjEwIiBkYXRhLXVpZD0iZW50MDAwNyIgaWQ9ImVudGl0eV9leHQyIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIyLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9Ijc1Ljk5OTgiIHg9IjM4NC41IiB5PSI4Ny40NDY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMzk0LjUiIHk9IjEwMy40NDIiPiYjMjA0NDU7JiMzMTY0OTsmIzIwNDg5OyYjMjQyMzU7PC90ZXh0PjwvZz48IS0tZW50aXR5IHZpcnQxLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9InZpcnQxIiBkYXRhLXNvdXJjZS1saW5lPSIxNCIgZGF0YS11aWQ9ImVudDAwMDkiIGlkPSJlbnRpdHlfdmlydDEiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjIuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNzUuOTk5OCIgeD0iNTE2LjUiIHk9Ijg3LjQ0NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI1MjYuNSIgeT0iMTAzLjQ0MiI+JiMzODkyODsmIzEyMzY5OyYjMjIzMTI7JiMyNDIzNTs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgdmlydDItLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0idmlydDIiIGRhdGEtc291cmNlLWxpbmU9IjE1IiBkYXRhLXVpZD0iZW50MDAxMCIgaWQ9ImVudGl0eV92aXJ0MiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyMi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI4OS45OTk3IiB4PSI2MjcuNSIgeT0iODcuNDQ2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjYzNy41IiB5PSIxMDMuNDQyIj4mIzM2NjY0OyYjMzY4NjU7JiMyMDAxMzsmIzIyMzEyOyYjMjQyMzU7PC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iR01OMTEiIGRhdGEtc291cmNlLWxpbmU9IjE5IiBkYXRhLXVpZD0iZW50MDAxMiIgaWQ9ImVudGl0eV9HTU4xMSI+PHBhdGggZD0iTTYsMTc3Ljg4NjkgTDYsMjE4LjE1MjUgQTAsMCAwIDAgMCA2LDIxOC4xNTI1IEwxMzEuMDAwMSwyMTguMTUyNSBBMCwwIDAgMCAwIDEzMS4wMDAxLDIxOC4xNTI1IEwxMzEuMDAwMSwxODcuODg2OSBMMTIxLjAwMDEsMTc3Ljg4NjkgTDcyLjUsMTc3Ljg4NjkgTDY4LjUsMTEwLjAxNjkgTDY0LjUsMTc3Ljg4NjkgTDYsMTc3Ljg4NjkgQTAsMCAwIDAgMCA2LDE3Ny44ODY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMTIxLjAwMDEsMTc3Ljg4NjkgTDEyMS4wMDAxLDE4Ny44ODY5IEwxMzEuMDAwMSwxODcuODg2OSBMMTIxLjAwMDEsMTc3Ljg4NjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY1LjAwMDEiIHg9IjEyIiB5PSIxOTQuOTUzOCI+JiMzMzI1ODsmIzMxMDM4OyYjMTIzOTE7JiMzMTY0OTsmIzI5NzAyOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDQuMDAwMSIgeD0iMTIiIHk9IjIxMC4wODY2Ij4mIzIwODM3OyYjMjA5ODY7JiMyNDIzNTsmIzEyNDM0OyYjMzA0NTI7JiMyNTUwOTsmIzIxMDQ2OyYjMjQ0ODE7PC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iR01OMTQiIGRhdGEtc291cmNlLWxpbmU9IjI0IiBkYXRhLXVpZD0iZW50MDAxNSIgaWQ9ImVudGl0eV9HTU4xNCI+PHBhdGggZD0iTTI0OSwxNzcuODg2OSBMMjQ5LDIxOC4xNTI1IEEwLDAgMCAwIDAgMjQ5LDIxOC4xNTI1IEwzNzQuMDAwMSwyMTguMTUyNSBBMCwwIDAgMCAwIDM3NC4wMDAxLDIxOC4xNTI1IEwzNzQuMDAwMSwxODcuODg2OSBMMzY0LjAwMDEsMTc3Ljg4NjkgTDMxNS41LDE3Ny44ODY5IEwzMTEuNSwxMTguMzc2OSBMMzA3LjUsMTc3Ljg4NjkgTDI0OSwxNzcuODg2OSBBMCwwIDAgMCAwIDI0OSwxNzcuODg2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTM2NC4wMDAxLDE3Ny44ODY5IEwzNjQuMDAwMSwxODcuODg2OSBMMzc0LjAwMDEsMTg3Ljg4NjkgTDM2NC4wMDAxLDE3Ny44ODY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1Mi4wMDAxIiB4PSIyNTUiIHk9IjE5NC45NTM4Ij4mIzIyODA2OyYjMzcwOTY7JiMyMjk5NjsmIzM1MzUxOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDQuMDAwMSIgeD0iMjU1IiB5PSIyMTAuMDg2NiI+JiMyMDgzNzsmIzIwOTg2OyYjMjQyMzU7JiMyMDM4MTsmIzM4OTcyOyYjMTIzNjQ7JiMyNDUxNzsmIzM1MjAxOzwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkdNTjE3IiBkYXRhLXNvdXJjZS1saW5lPSIyOSIgZGF0YS11aWQ9ImVudDAwMTgiIGlkPSJlbnRpdHlfR01OMTciPjxwYXRoIGQ9Ik00ODUuNSwxNzcuODg2OSBMNDg1LjUsMjE4LjE1MjUgQTAsMCAwIDAgMCA0ODUuNSwyMTguMTUyNSBMNjIzLjUwMDEsMjE4LjE1MjUgQTAsMCAwIDAgMCA2MjMuNTAwMSwyMTguMTUyNSBMNjIzLjUwMDEsMTg3Ljg4NjkgTDYxMy41MDAxLDE3Ny44ODY5IEw1NTguNSwxNzcuODg2OSBMNTU0LjUsMTEwLjAxNjkgTDU1MC41LDE3Ny44ODY5IEw0ODUuNSwxNzcuODg2OSBBMCwwIDAgMCAwIDQ4NS41LDE3Ny44ODY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNjEzLjUwMDEsMTc3Ljg4NjkgTDYxMy41MDAxLDE4Ny44ODY5IEw2MjMuNTAwMSwxODcuODg2OSBMNjEzLjUwMDEsMTc3Ljg4NjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNy4wMDAxIiB4PSI0OTEuNSIgeT0iMTk0Ljk1MzgiPiYjMjkyODk7JiMyOTcwMjsmIzMwMzQwOyYjMTIzOTU7JiMyMzM4NDsmIzIyMzEyOyYjMTIzNzU7JiMxMjM5NDsmIzEyMzU2OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OC4wMDAxIiB4PSI0OTEuNSIgeT0iMjEwLjA4NjYiPiYjMzE2NDk7JiMyOTcwMjsmIzE5OTc4OyYjMTIzOTg7JiMyMTMwNjsmIzIwOTk4OzwvdGV4dD48L2c+PCEtLVNSQz1bVFA3QkppOTA1OFJ0eW5JSi1XSmc4cEpmb2VLRnUwUVg2WDlqYXBmSDRzRjJvQk02NjNHNFo0ODIyUEsyall1cVhESWNGQ3BxekJCWTVJb0s4YzNTcGZWdl9sRVZHeEJhSkNJR0t5NFFHVE0ySVdhWEhLb0piN0dRbE5EMVVVWnRkMVhwVThWZDFPN2R5R3JBZnZHQ3ZocE0tbmZETk0zdklqZkRNRnEzaEVPY3NxRXQ2dFJlRFNBeWxjUVYtclRzUThtenBPWmZhSklwQV9rNzFwRFJOU1o0UXY4NGtURXNSdFJOV1lBczdVSC1jcngtU25LYTIxaXJtYXdEcUtUZXdPZFhDZ2tpejg0ejJORktkSFhSVjE0WG9LSjRucDhYeVpjTUotQnd5U2VPeEtUSi1SS0lXZzg2UElsd29rd1VfRFNseHE2M29YWVNCWEFiMzl1Ql9jV012UFF4d1RTM2xWZGhTOXJzc0I0UGhTQXE2QnBIX25ybjFMeVRIMkZ1Qm1MNkhzMHlIbktPUko4d1BCSTB1bDdTb0pzWnZsQm9ZVXE3XS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<table>
<thead>
<tr>
<th>倉庫区分</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>自社</strong></td>
<td>自社所有・管理の倉庫</td>
</tr>
<tr>
<td><strong>外部</strong></td>
<td>外部委託（3PL）の倉庫</td>
</tr>
<tr>
<td><strong>仮想</strong></td>
<td>輸送中、預け在庫など</td>
</tr>
</tbody>
</table>
<h3 id="_6">マイグレーション：倉庫・在庫関連テーブルの作成<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<details>
<summary>V015__create_inventory_tables.sql</summary>

<div class="highlight"><pre><span></span><code><span class="c1">-- src/main/resources/db/migration/V015__create_inventory_tables.sql</span>

<span class="c1">-- 倉庫区分</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TYPE</span><span class="w"> </span><span class="err">倉庫区分</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ENUM</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;自社&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;外部&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;仮想&#39;</span><span class="p">);</span>

<span class="c1">-- 倉庫マスタに倉庫区分カラムを追加</span>
<span class="c1">-- （V013で作成済みの倉庫マスタにカラム追加）</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;倉庫マスタ&quot;</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;倉庫区分&quot;</span><span class="w"> </span><span class="err">倉庫区分</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;自社&#39;</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>

<span class="c1">-- ロケーションマスタ</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;ロケーションマスタ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ロケーションコード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;倉庫コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;棚番&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;ゾーン&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;通路&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;ラック&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;段&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;間口&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;有効フラグ&quot;</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">true</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_ロケーション_倉庫&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;倉庫コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;倉庫マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;倉庫コード&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">UNIQUE</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;倉庫コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;棚番&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- 在庫データ（倉庫 × 商品）</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;在庫データ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ID&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;倉庫コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;商品コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;ロケーションコード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;現在庫数&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;引当数&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;発注残数&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;最終入庫日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;最終出庫日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;ロット番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;シリアル番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;有効期限&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_在庫_倉庫&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;倉庫コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;倉庫マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;倉庫コード&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_在庫_商品&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;商品コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;商品マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;商品コード&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_在庫_ロケーション&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;ロケーションコード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;ロケーションマスタ&quot;</span><span class="p">(</span><span class="ss">&quot;ロケーションコード&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">UNIQUE</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;倉庫コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;商品コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;ロケーションコード&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;ロット番号&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- 有効在庫数を計算するビュー</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="ss">&quot;有効在庫ビュー&quot;</span><span class="w"> </span><span class="k">AS</span>
<span class="k">SELECT</span>
<span class="w">    </span><span class="ss">&quot;倉庫コード&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;商品コード&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;ロケーションコード&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;現在庫数&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;引当数&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;現在庫数&quot;</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="ss">&quot;引当数&quot;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="ss">&quot;有効在庫数&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;発注残数&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;現在庫数&quot;</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="ss">&quot;引当数&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ss">&quot;発注残数&quot;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="ss">&quot;予定在庫数&quot;</span>
<span class="k">FROM</span><span class="w"> </span><span class="ss">&quot;在庫データ&quot;</span><span class="p">;</span>

<span class="c1">-- インデックス</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_ロケーション_倉庫&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;ロケーションマスタ&quot;</span><span class="p">(</span><span class="ss">&quot;倉庫コード&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_在庫_倉庫コード&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;在庫データ&quot;</span><span class="p">(</span><span class="ss">&quot;倉庫コード&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_在庫_商品コード&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;在庫データ&quot;</span><span class="p">(</span><span class="ss">&quot;商品コード&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_在庫_ロケーション&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;在庫データ&quot;</span><span class="p">(</span><span class="ss">&quot;ロケーションコード&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_在庫_ロット番号&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;在庫データ&quot;</span><span class="p">(</span><span class="ss">&quot;ロット番号&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_在庫_有効期限&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;在庫データ&quot;</span><span class="p">(</span><span class="ss">&quot;有効期限&quot;</span><span class="p">);</span>

<span class="c1">-- テーブルコメント</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;倉庫マスタ&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;倉庫情報を管理するマスタテーブル&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;ロケーションマスタ&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;倉庫内の棚・ロケーション情報を管理するテーブル&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;在庫データ&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;倉庫×商品の在庫情報を管理するテーブル&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;在庫データ&quot;</span><span class="p">.</span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;楽観ロック用バージョン番号&#39;</span><span class="p">;</span>
</code></pre></div>

</details>

<h3 id="_7">倉庫・在庫エンティティの実装<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<details>
<summary>倉庫区分 ENUM</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sales/domain/model/inventory/WarehouseType.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.inventory</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Getter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>

<span class="nd">@Getter</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">WarehouseType</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">OWN</span><span class="p">(</span><span class="s">&quot;自社&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">EXTERNAL</span><span class="p">(</span><span class="s">&quot;外部&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">VIRTUAL</span><span class="p">(</span><span class="s">&quot;仮想&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">WarehouseType</span><span class="w"> </span><span class="nf">fromDisplayName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">WarehouseType</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">values</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">type</span><span class="p">.</span><span class="na">displayName</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">displayName</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">type</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;Unknown warehouse type: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">displayName</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>倉庫マスタエンティティ</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sales/domain/model/inventory/Warehouse.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.inventory</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Warehouse</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">warehouseCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">warehouseName</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">WarehouseType</span><span class="w"> </span><span class="n">warehouseType</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">postalCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">address</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">phoneNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Boolean</span><span class="w"> </span><span class="n">activeFlag</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">createdBy</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">updatedBy</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 自社倉庫かどうか</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isOwnWarehouse</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">warehouseType</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">WarehouseType</span><span class="p">.</span><span class="na">OWN</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 仮想倉庫かどうか</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isVirtualWarehouse</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">warehouseType</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">WarehouseType</span><span class="p">.</span><span class="na">VIRTUAL</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>ロケーションマスタエンティティ</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sales/domain/model/inventory/Location.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.inventory</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Location</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">locationCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">warehouseCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">shelfNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">zone</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">aisle</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">rack</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">level</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">bay</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Boolean</span><span class="w"> </span><span class="n">activeFlag</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">createdBy</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">updatedBy</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// リレーション</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Warehouse</span><span class="w"> </span><span class="n">warehouse</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * ロケーションの完全表記を取得</span>
<span class="cm">     * 例: A-01-02-03-04</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getFullAddress</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">StringBuilder</span><span class="w"> </span><span class="n">sb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">StringBuilder</span><span class="p">();</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">zone</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="n">sb</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="n">zone</span><span class="p">).</span><span class="na">append</span><span class="p">(</span><span class="s">&quot;-&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">aisle</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="n">sb</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="n">aisle</span><span class="p">).</span><span class="na">append</span><span class="p">(</span><span class="s">&quot;-&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rack</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="n">sb</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="n">rack</span><span class="p">).</span><span class="na">append</span><span class="p">(</span><span class="s">&quot;-&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">level</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="n">sb</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="n">level</span><span class="p">).</span><span class="na">append</span><span class="p">(</span><span class="s">&quot;-&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bay</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="n">sb</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="n">bay</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">sb</span><span class="p">.</span><span class="na">toString</span><span class="p">().</span><span class="na">replaceAll</span><span class="p">(</span><span class="s">&quot;-$&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>在庫エンティティ</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sales/domain/model/inventory/Inventory.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.inventory</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.product.Product</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Inventory</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">warehouseCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">locationCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">currentQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">allocatedQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">orderedQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">lastReceiptDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">lastShipmentDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">lotNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">serialNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">expirationDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">createdBy</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">updatedBy</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// 楽観ロック用バージョン</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// リレーション</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Warehouse</span><span class="w"> </span><span class="n">warehouse</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="n">product</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Location</span><span class="w"> </span><span class="n">location</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 有効在庫数を計算</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="nf">getAvailableQuantity</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">currentQuantity</span><span class="p">.</span><span class="na">subtract</span><span class="p">(</span><span class="n">allocatedQuantity</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 予定在庫数を計算</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="nf">getProjectedQuantity</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">currentQuantity</span><span class="p">.</span><span class="na">subtract</span><span class="p">(</span><span class="n">allocatedQuantity</span><span class="p">).</span><span class="na">add</span><span class="p">(</span><span class="n">orderedQuantity</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 引当可能かどうかを判定</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">canAllocate</span><span class="p">(</span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">quantity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">getAvailableQuantity</span><span class="p">().</span><span class="na">compareTo</span><span class="p">(</span><span class="n">quantity</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 在庫を引当</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">allocate</span><span class="p">(</span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">quantity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">canAllocate</span><span class="p">(</span><span class="n">quantity</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalStateException</span><span class="p">(</span>
<span class="w">                </span><span class="s">&quot;有効在庫数が不足しています。有効在庫: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">getAvailableQuantity</span><span class="p">()</span><span class="w"> </span><span class="o">+</span>
<span class="w">                </span><span class="s">&quot;, 引当要求: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">quantity</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">allocatedQuantity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">allocatedQuantity</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">quantity</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 引当を解除</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">deallocate</span><span class="p">(</span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">quantity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">allocatedQuantity</span><span class="p">.</span><span class="na">compareTo</span><span class="p">(</span><span class="n">quantity</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalStateException</span><span class="p">(</span>
<span class="w">                </span><span class="s">&quot;引当数を超える解除はできません。引当数: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">allocatedQuantity</span><span class="w"> </span><span class="o">+</span>
<span class="w">                </span><span class="s">&quot;, 解除要求: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">quantity</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">allocatedQuantity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">allocatedQuantity</span><span class="p">.</span><span class="na">subtract</span><span class="p">(</span><span class="n">quantity</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 入庫処理</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">receive</span><span class="p">(</span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">quantity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">currentQuantity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">currentQuantity</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">quantity</span><span class="p">);</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">lastReceiptDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 出庫処理</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">ship</span><span class="p">(</span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">quantity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">currentQuantity</span><span class="p">.</span><span class="na">compareTo</span><span class="p">(</span><span class="n">quantity</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalStateException</span><span class="p">(</span>
<span class="w">                </span><span class="s">&quot;現在庫数が不足しています。現在庫: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">currentQuantity</span><span class="w"> </span><span class="o">+</span>
<span class="w">                </span><span class="s">&quot;, 出庫要求: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">quantity</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">currentQuantity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">currentQuantity</span><span class="p">.</span><span class="na">subtract</span><span class="p">(</span><span class="n">quantity</span><span class="p">);</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">lastShipmentDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 有効期限切れかどうか</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isExpired</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">expirationDate</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">expirationDate</span><span class="p">.</span><span class="na">isBefore</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="_8">在庫サービスの実装<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<details>
<summary>在庫サービス</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sales/application/service/InventoryService.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.application.service</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sms.application.port.out.InventoryRepository</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.inventory.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Service</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.transaction.annotation.Transactional</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Optional</span><span class="p">;</span>

<span class="nd">@Service</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">InventoryService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">InventoryRepository</span><span class="w"> </span><span class="n">inventoryRepository</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 商品別の在庫サマリを取得</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">InventorySummary</span><span class="w"> </span><span class="nf">getProductInventorySummary</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;</span><span class="w"> </span><span class="n">inventories</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryRepository</span><span class="p">.</span><span class="na">findByProductCode</span><span class="p">(</span><span class="n">productCode</span><span class="p">);</span>

<span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">totalCurrent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">;</span>
<span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">totalAllocated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">;</span>
<span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">totalOrdered</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">;</span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Inventory</span><span class="w"> </span><span class="n">inv</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">inventories</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">totalCurrent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">totalCurrent</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">inv</span><span class="p">.</span><span class="na">getCurrentQuantity</span><span class="p">());</span>
<span class="w">            </span><span class="n">totalAllocated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">totalAllocated</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">inv</span><span class="p">.</span><span class="na">getAllocatedQuantity</span><span class="p">());</span>
<span class="w">            </span><span class="n">totalOrdered</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">totalOrdered</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">inv</span><span class="p">.</span><span class="na">getOrderedQuantity</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">InventorySummary</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">productCode</span><span class="p">(</span><span class="n">productCode</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">totalCurrentQuantity</span><span class="p">(</span><span class="n">totalCurrent</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">totalAllocatedQuantity</span><span class="p">(</span><span class="n">totalAllocated</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">totalAvailableQuantity</span><span class="p">(</span><span class="n">totalCurrent</span><span class="p">.</span><span class="na">subtract</span><span class="p">(</span><span class="n">totalAllocated</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">totalOrderedQuantity</span><span class="p">(</span><span class="n">totalOrdered</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">warehouseDetails</span><span class="p">(</span><span class="n">inventories</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 倉庫別の在庫一覧を取得</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getInventoryByWarehouse</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">warehouseCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">inventoryRepository</span><span class="p">.</span><span class="na">findByWarehouseCode</span><span class="p">(</span><span class="n">warehouseCode</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 在庫を引当</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">AllocationResult</span><span class="w"> </span><span class="nf">allocate</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">warehouseCode</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">,</span>
<span class="w">                                      </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">quantity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;</span><span class="w"> </span><span class="n">inventoryOpt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryRepository</span>
<span class="w">                </span><span class="p">.</span><span class="na">findByWarehouseAndProduct</span><span class="p">(</span><span class="n">warehouseCode</span><span class="p">,</span><span class="w"> </span><span class="n">productCode</span><span class="p">);</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">inventoryOpt</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">AllocationResult</span><span class="p">.</span><span class="na">failure</span><span class="p">(</span><span class="s">&quot;在庫が見つかりません&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">Inventory</span><span class="w"> </span><span class="n">inventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryOpt</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>
<span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventory</span><span class="p">.</span><span class="na">getAvailableQuantity</span><span class="p">();</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">available</span><span class="p">.</span><span class="na">compareTo</span><span class="p">(</span><span class="n">quantity</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">AllocationResult</span><span class="p">.</span><span class="na">failure</span><span class="p">(</span>
<span class="w">                </span><span class="s">&quot;有効在庫数が不足しています。有効在庫: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">available</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">inventoryRepository</span><span class="p">.</span><span class="na">allocate</span><span class="p">(</span><span class="n">inventory</span><span class="p">.</span><span class="na">getId</span><span class="p">(),</span><span class="w"> </span><span class="n">quantity</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">AllocationResult</span><span class="p">.</span><span class="na">success</span><span class="p">(</span><span class="n">quantity</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 引当を解除</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">deallocate</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">warehouseCode</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">,</span>
<span class="w">                           </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">quantity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;</span><span class="w"> </span><span class="n">inventoryOpt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryRepository</span>
<span class="w">                </span><span class="p">.</span><span class="na">findByWarehouseAndProduct</span><span class="p">(</span><span class="n">warehouseCode</span><span class="p">,</span><span class="w"> </span><span class="n">productCode</span><span class="p">);</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">inventoryOpt</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;在庫が見つかりません&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">Inventory</span><span class="w"> </span><span class="n">inventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryOpt</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>
<span class="w">        </span><span class="n">inventoryRepository</span><span class="p">.</span><span class="na">deallocate</span><span class="p">(</span><span class="n">inventory</span><span class="p">.</span><span class="na">getId</span><span class="p">(),</span><span class="w"> </span><span class="n">quantity</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 入庫処理</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">receive</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">warehouseCode</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">,</span>
<span class="w">                        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">quantity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;</span><span class="w"> </span><span class="n">inventoryOpt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryRepository</span>
<span class="w">                </span><span class="p">.</span><span class="na">findByWarehouseAndProduct</span><span class="p">(</span><span class="n">warehouseCode</span><span class="p">,</span><span class="w"> </span><span class="n">productCode</span><span class="p">);</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">inventoryOpt</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// 新規在庫レコード作成</span>
<span class="w">            </span><span class="n">Inventory</span><span class="w"> </span><span class="n">newInventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Inventory</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">warehouseCode</span><span class="p">(</span><span class="n">warehouseCode</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">productCode</span><span class="p">(</span><span class="n">productCode</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">currentQuantity</span><span class="p">(</span><span class="n">quantity</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">allocatedQuantity</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">orderedQuantity</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">lastReceiptDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">            </span><span class="n">inventoryRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">newInventory</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Inventory</span><span class="w"> </span><span class="n">inventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryOpt</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>
<span class="w">            </span><span class="n">inventoryRepository</span><span class="p">.</span><span class="na">receive</span><span class="p">(</span><span class="n">inventory</span><span class="p">.</span><span class="na">getId</span><span class="p">(),</span><span class="w"> </span><span class="n">quantity</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 出庫処理</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">ship</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">warehouseCode</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">,</span>
<span class="w">                     </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">quantity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;</span><span class="w"> </span><span class="n">inventoryOpt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryRepository</span>
<span class="w">                </span><span class="p">.</span><span class="na">findByWarehouseAndProduct</span><span class="p">(</span><span class="n">warehouseCode</span><span class="p">,</span><span class="w"> </span><span class="n">productCode</span><span class="p">);</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">inventoryOpt</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;在庫が見つかりません&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">Inventory</span><span class="w"> </span><span class="n">inventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryOpt</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>
<span class="w">        </span><span class="n">inventoryRepository</span><span class="p">.</span><span class="na">ship</span><span class="p">(</span><span class="n">inventory</span><span class="p">.</span><span class="na">getId</span><span class="p">(),</span><span class="w"> </span><span class="n">quantity</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 在庫数量を直接更新（棚卸調整用）</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">adjustQuantity</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">warehouseCode</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">,</span>
<span class="w">                               </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">newQuantity</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">reason</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;</span><span class="w"> </span><span class="n">inventoryOpt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryRepository</span>
<span class="w">                </span><span class="p">.</span><span class="na">findByWarehouseAndProduct</span><span class="p">(</span><span class="n">warehouseCode</span><span class="p">,</span><span class="w"> </span><span class="n">productCode</span><span class="p">);</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">inventoryOpt</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;在庫が見つかりません&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">Inventory</span><span class="w"> </span><span class="n">inventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryOpt</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>
<span class="w">        </span><span class="n">inventoryRepository</span><span class="p">.</span><span class="na">updateCurrentQuantity</span><span class="p">(</span>
<span class="w">                </span><span class="n">inventory</span><span class="p">.</span><span class="na">getId</span><span class="p">(),</span><span class="w"> </span><span class="n">newQuantity</span><span class="p">,</span><span class="w"> </span><span class="n">reason</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>在庫サマリ・引当結果クラス</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sales/application/service/InventorySummary.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.application.service</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.inventory.Inventory</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">InventorySummary</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">totalCurrentQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">totalAllocatedQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">totalAvailableQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">totalOrderedQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;</span><span class="w"> </span><span class="n">warehouseDetails</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sales/application/service/AllocationResult.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.application.service</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AllocationResult</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">success</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">allocatedQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">reason</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">AllocationResult</span><span class="w"> </span><span class="nf">success</span><span class="p">(</span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">quantity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">AllocationResult</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">success</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">allocatedQuantity</span><span class="p">(</span><span class="n">quantity</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">AllocationResult</span><span class="w"> </span><span class="nf">failure</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">reason</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">AllocationResult</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">success</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">allocatedQuantity</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">reason</span><span class="p">(</span><span class="n">reason</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="92-db">9.2 在庫移動・棚卸の DB 設計<a class="headerlink" href="#92-db" title="Permanent link">&para;</a></h2>
<h3 id="_9">入出庫履歴の管理<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<p>入出庫履歴は在庫の増減を時系列で記録し、トレーサビリティを確保します。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjMxMXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MzM0cHg7aGVpZ2h0OjMxMXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDMzNCAzMTEiIHdpZHRoPSIzMzRweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjA4Mzc7JiMyMDk4NjsmIzI0MjM1OyYjMjM2NTM7JiMyNzUwODsmIzEyMzk4OyYjMjcwODM7JiMzNjg5Njs8L3RpdGxlPjxkZWZzLz48Zz48ZyBjbGFzcz0idGl0bGUiIGRhdGEtc291cmNlLWxpbmU9IjEiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTEuOTk5NSIgeD0iMTA0LjQ1NjkiIHk9IjIyLjk5NTEiPiYjMjA4Mzc7JiMyMDk4NjsmIzI0MjM1OyYjMjM2NTM7JiMyNzUwODsmIzEyMzk4OyYjMjcwODM7JiMzNjg5Njs8L3RleHQ+PC9nPjwhLS1jbGFzcyBtb3ZlbWVudC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJtb3ZlbWVudCIgZGF0YS1zb3VyY2UtbGluZT0iMyIgZGF0YS11aWQ9ImVudDAwMDIiIGlkPSJlbnRpdHlfbW92ZW1lbnQiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjU5Ljg1OTQiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1MS45OTk1IiB4PSI3IiB5PSI0NC4yOTY5Ii8+PGVsbGlwc2UgY3g9IjI1LjYiIGN5PSI2MC4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0yOS43MDkzLDY2LjI5NjkgTDIxLjk5MDYsNjYuMjk2OSBMMjEuOTkwNiw1My45MDYzIEwyOS43MDkzLDUzLjkwNjMgTDI5LjcwOTMsNTYuMDYyNSBMMjQuNDQzNyw1Ni4wNjI1IEwyNC40NDM3LDU4LjczNDQgTDI5LjIwOTMsNTguNzM0NCBMMjkuMjA5Myw2MC44OTA2IEwyNC40NDM3LDYwLjg5MDYgTDI0LjQ0MzcsNjQuMTQwNiBMMjkuNzA5Myw2NC4xNDA2IEwyOS43MDkzLDY2LjI5NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTEuOTk5NSIgeD0iNDAuNCIgeT0iNjUuMTQzNiI+JiMyMDgzNzsmIzIwOTg2OyYjMjQyMzU7JiMyMzY1MzsmIzI3NTA4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI4IiB4Mj0iMTU3Ljk5OTUiIHkxPSI3Ni4yOTY5IiB5Mj0iNzYuMjk2OSIvPjxlbGxpcHNlIGN4PSIxOCIgY3k9Ijg5Ljk0NTMiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgyLjExMzIiIHg9IjI3IiB5PSI5My4yOTIiPiYjMjM2NTM7JiMyNzUwODtJRCAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iOCIgeDI9IjE1Ny45OTk1IiB5MT0iMTAwLjU5MzgiIHkyPSIxMDAuNTkzOCIvPjxlbGxpcHNlIGN4PSIxOCIgY3k9IjExNC4yNDIyIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDguODE0MSIgeD0iMjciIHk9IjExNy41ODg5Ij4mIzIwNDg5OyYjMjQyMzU7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7ICYjMTcxO0ZLJiMxODc7PC90ZXh0PjxlbGxpcHNlIGN4PSIxOCIgY3k9IjEzMC41MzkxIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDguODE0MSIgeD0iMjciIHk9IjEzMy44ODU3Ij4mIzIxODMwOyYjMjE2OTc7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7ICYjMTcxO0ZLJiMxODc7PC90ZXh0PjxlbGxpcHNlIGN4PSIxOCIgY3k9IjE0Ni44MzU5IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIyNyIgeT0iMTUwLjE4MjYiPiYjMzEyMjc7JiMyMTIwNTsmIzI2MDg1OyYjMjYxNzg7PC90ZXh0PjxlbGxpcHNlIGN4PSIxOCIgY3k9IjE2My4xMzI4IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIyNyIgeT0iMTY2LjQ3OTUiPiYjMzEyMjc7JiMyMTIwNTsmIzIxMzA2OyYjMjA5OTg7PC90ZXh0PjxlbGxpcHNlIGN4PSIxOCIgY3k9IjE3OS40Mjk3IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIyNyIgeT0iMTgyLjc3NjQiPiYjMzEyMjc7JiMyMTIwNTsmIzI1OTY4OyYjMzczMjc7PC90ZXh0PjxlbGxpcHNlIGN4PSIxOCIgY3k9IjE5NS43MjY2IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSIyNyIgeT0iMTk5LjA3MzIiPiYjMzEyMjc7JiMyMTIwNTsmIzIxMDY5OyYjMjIzMTI7JiMyNDIzNTsmIzI1OTY4OzwvdGV4dD48ZWxsaXBzZSBjeD0iMTgiIGN5PSIyMTIuMDIzNCIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMjciIHk9IjIxNS4zNzAxIj4mIzMxMjI3OyYjMjEyMDU7JiMyNDQ2MDsmIzIyMzEyOyYjMjQyMzU7JiMyNTk2ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjciIHk9IjIzMS42NjciPiYjMjAyNTM7JiMzMTA4MDsmIzMwMDU4OyYjMjE0OTU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjI3IiB5PSIyNDcuOTYzOSI+JiMyMDI1MzsmIzMxMDgwOyYjMzEyNzg7JiMyMTAyOTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjciIHk9IjI2NC4yNjA3Ij4mIzMxMjI3OyYjMjEyMDU7JiMyOTcwMjsmIzMwMDAxOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjUuOTk5NSIgeD0iMjciIHk9IjI4MC41NTc2Ij4mIzEyNTI1OyYjMTI0NjU7JiMxMjU0MDsmIzEyNDcxOyYjMTI1MTk7JiMxMjUzMTsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMjciIHk9IjI5Ni44NTQ1Ij4mIzEyNTI1OyYjMTI0ODM7JiMxMjQ4ODsmIzMwMDU4OyYjMjE0OTU7PC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iR01OMyIgZGF0YS1zb3VyY2UtbGluZT0iMjEiIGRhdGEtdWlkPSJlbnQwMDA0IiBpZD0iZW50aXR5X0dNTjMiPjxwYXRoIGQ9Ik0xOTQuMDksMTAxLjEyNjkgTDE5NC4wOSwxNzAuMjI2OSBMMTU5LjQ4LDE3NC4yMjY5IEwxOTQuMDksMTc4LjIyNjkgTDE5NC4wOSwyNDcuMzIyMiBBMCwwIDAgMCAwIDE5NC4wOSwyNDcuMzIyMiBMMzI3LjkxMzQsMjQ3LjMyMjIgQTAsMCAwIDAgMCAzMjcuOTEzNCwyNDcuMzIyMiBMMzI3LjkxMzQsMTExLjEyNjkgTDMxNy45MTM0LDEwMS4xMjY5IEwxOTQuMDksMTAxLjEyNjkgQTAsMCAwIDAgMCAxOTQuMDksMTAxLjEyNjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0zMTcuOTEzNCwxMDEuMTI2OSBMMzE3LjkxMzQsMTExLjEyNjkgTDMyNy45MTM0LDExMS4xMjY5IEwzMTcuOTEzNCwxMDEuMTI2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTYuMzc5OSIgeD0iMjAwLjA5IiB5PSIxMTguMTkzOCI+JiMzMTIyNzsmIzIxMjA1OyYjMjEzMDY7JiMyMDk5ODs6PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYwLjgyMzMiIHg9IjIwMC4wOSIgeT0iMTMzLjMyNjYiPi0gJiMyMDgzNzsmIzMzNjU1OyYjMjA4Mzc7JiMyNDIzNTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjAuODIzMyIgeD0iMjAwLjA5IiB5PSIxNDguNDU5NCI+LSAmIzIwOTg2OyYjMzM2NTU7JiMyMDk4NjsmIzI0MjM1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTIuODIzNCIgeD0iMjAwLjA5IiB5PSIxNjMuNTkyMiI+LSAmIzIwNDg5OyYjMjQyMzU7JiMzODI5MTsmIzMxMjI3OyYjMjEyMDU7JiM2NTI4ODsmIzIwOTg2OyYjNjUyODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMi44MjM0IiB4PSIyMDAuMDkiIHk9IjE3OC43MjUiPi0gJiMyMDQ4OTsmIzI0MjM1OyYjMzgyOTE7JiMzMTIyNzsmIzIxMjA1OyYjNjUyODg7JiMyMDgzNzsmIzY1Mjg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5OS44MjMzIiB4PSIyMDAuMDkiIHk9IjE5My44NTc4Ij4tICYjMjY4NDI7JiMyMTM2ODsmIzM1NTE5OyYjMjU5NzI7JiM2NTI4ODsmIzIyNjc5OyYjNjUyODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk5LjgyMzMiIHg9IjIwMC4wOSIgeT0iMjA4Ljk5MDYiPi0gJiMyNjg0MjsmIzIxMzY4OyYjMzU1MTk7JiMyNTk3MjsmIzY1Mjg4OyYjMjgxODc7JiM2NTI4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjAuODIzMyIgeD0iMjAwLjA5IiB5PSIyMjQuMTIzNSI+LSAmIzM2ODIwOyYjMjE2OTc7JiMyMDgzNzsmIzI0MjM1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNC44MjMzIiB4PSIyMDAuMDkiIHk9IjIzOS4yNTYzIj4tICYjMjQyNTk7JiMyNjgyMDs8L3RleHQ+PC9nPjwhLS1TUkM9W1JQN1ZJaUNtNkNObHluSFhicTlWR0NRa0gxMWxWME4xZ1dNdFdIUDFIRFdRanhQaVBTOU1YX3owN0FMWk9zRGJXdXdrczhVOUlUa2hsTzk5Z3dyOEJ5X3ZkSV92U1k5QnllSzhJU2lZZ2FVeUFONGlFYmxYdmZwUWRSWm4zZTFPYW9OdjFmUi05djJBYU8tTGUwSUZoczJyVllyTU1IQlVXWHNPMVd4c09CYnlUNVlmMDQ3V1BhRGRpclhQeVljYUN4UkY2R0RjY19JUjFJMnFEd0hacWc1NWR2SENhZ3Y3ajdQRXBLTWl6ZEFnNi1IcnBFdlhWY3YtVGRGcG90eUJoTjVlSmFaRl9ITlpFVDRpYThSM1h0T3VTMDE2Q3dtdW9HRFRaNm9DYmpjMjJLQzg4LXRkYjNpMFFkTFBYOVZJc1JhQ3d3VFA2VTNsb2hqMHUyTDdYaWtCekFQU2dYd05JUWJTOVd0NVpfcnFSRWpoMzZyemxIWXJoMUpIcUpDbnJqNGFlRVFBLW5fM0dmLWtOcjhfMldRaXhkbzczUUFaVV9SOTl2MF91WGkwXS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_10">移動区分の定義<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>移動区分</th>
<th>在庫影響</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>入荷入庫</strong></td>
<td>増加</td>
<td>仕入先からの入荷</td>
</tr>
<tr>
<td><strong>出荷出庫</strong></td>
<td>減少</td>
<td>顧客への出荷</td>
</tr>
<tr>
<td><strong>倉庫間移動（出）</strong></td>
<td>減少</td>
<td>他倉庫への移動（出庫側）</td>
</tr>
<tr>
<td><strong>倉庫間移動（入）</strong></td>
<td>増加</td>
<td>他倉庫からの移動（入庫側）</td>
</tr>
<tr>
<td><strong>棚卸調整（増）</strong></td>
<td>増加</td>
<td>棚卸による増加調整</td>
</tr>
<tr>
<td><strong>棚卸調整（減）</strong></td>
<td>減少</td>
<td>棚卸による減少調整</td>
</tr>
<tr>
<td><strong>返品入庫</strong></td>
<td>増加</td>
<td>顧客からの返品</td>
</tr>
<tr>
<td><strong>廃棄</strong></td>
<td>減少</td>
<td>廃棄処理</td>
</tr>
</tbody>
</table>
<h3 id="_11">棚卸業務の設計<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<p>棚卸業務は「棚卸表発行 → 実棚カウント → 差異確認 → 在庫調整」の流れで進みます。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNUQVRFIiBoZWlnaHQ9IjUxN3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MTkwcHg7aGVpZ2h0OjUxN3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDE5MCA1MTciIHdpZHRoPSIxOTBweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjY4NDI7JiMyMTM2ODsmIzI2OTg5OyYjMjEyMDk7JiMxMjUwMTsmIzEyNTI1OyYjMTI1NDA7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMzkuMjAwMiIgeT0iMjIuOTk1MSI+JiMyNjg0MjsmIzIxMzY4OyYjMjY5ODk7JiMyMTIwOTsmIzEyNTAxOyYjMTI1MjU7JiMxMjU0MDs8L3RleHQ+PC9nPjxlbGxpcHNlIGN4PSIxMjEiIGN5PSI1My4yOTY5IiBmaWxsPSIjMjIyMjIyIiByeD0iMTAiIHJ5PSIxMCIgc3R5bGU9InN0cm9rZTojMjIyMjIyO3N0cm9rZS13aWR0aDoxOyIvPjxnIGlkPSIuLi4iPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNTAiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNjEuOTk5OCIgeD0iOTAiIHk9IjEyNC4yOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iOTAiIHgyPSIxNTEuOTk5OCIgeTE9IjE1MC41OTM4IiB5Mj0iMTUwLjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIxMDAiIHk9IjE0Mi4yOTIiPiYjMjAzMTY7JiMyNTEwNDsmIzIwMDEzOzwvdGV4dD48L2c+PGcgaWQ9Ii4uLiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI1MCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI2MS45OTk4IiB4PSI0MCIgeT0iMjUxLjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI0MCIgeDI9IjEwMS45OTk4IiB5MT0iMjc3LjU5MzgiIHkyPSIyNzcuNTkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjk5OTgiIHg9IjUwIiB5PSIyNjkuMjkyIj4mIzIzNDU1OyYjMjYwNDU7JiMyMDAxMzs8L3RleHQ+PC9nPjxnIGlkPSIuLiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI1MCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI1MCIgeD0iNyIgeT0iMzc4LjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI3IiB4Mj0iNTciIHkxPSI0MDQuNTkzOCIgeTI9IjQwNC41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjcuOTk5OSIgeD0iMTguMDAwMSIgeT0iMzk2LjI5MiI+JiMzMDkwNjsmIzIzNDUwOzwvdGV4dD48L2c+PGVsbGlwc2UgY3g9Ijc0IiBjeT0iNTAwLjI5NjkiIGZpbGw9Im5vbmUiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMyMjIyMjI7c3Ryb2tlLXdpZHRoOjE7Ii8+PGVsbGlwc2UgY3g9Ijc0IiBjeT0iNTAwLjI5NjkiIGZpbGw9IiMyMjIyMjIiIHJ4PSI2IiByeT0iNiIgc3R5bGU9InN0cm9rZTojMjIyMjIyO3N0cm9rZS13aWR0aDoxOyIvPjxnIGlkPSIuLiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI1MCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI1MCIgeD0iOTYiIHk9IjM3OC4yOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iOTYiIHgyPSIxNDYiIHkxPSI0MDQuNTkzOCIgeTI9IjQwNC41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjcuOTk5OSIgeD0iMTA3LjAwMDEiIHk9IjM5Ni4yOTIiPiYjMjE0NjI7JiMyODA0MDs8L3RleHQ+PC9nPjwhLS1saW5rICpzdGFydCogdG8gPz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9Ii5zdGFydC4iIGRhdGEtZW50aXR5LTI9Ii4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMyIgZGF0YS11aWQ9ImxuazQiIGlkPSJsaW5rXy5zdGFydC5fLi4uIj48cGF0aCBkPSJNMTIxLDYzLjY1NjkgQzEyMSw3Ny41ODY5IDEyMSw5OC4yNDY5IDEyMSwxMTcuOTQ2OSIgZmlsbD0ibm9uZSIgaWQ9IipzdGFydCotdG8tJiMyMDMxNjsmIzI1MTA0OyYjMjAwMTM7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMjEsMTIzLjk0NjksMTI1LDExNC45NDY5LDEyMSwxMTguOTQ2OSwxMTcsMTE0Ljk0NjksMTIxLDEyMy45NDY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rID8/PyB0byA/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iLi4uIiBkYXRhLWVudGl0eS0yPSIuLi4iIGRhdGEtc291cmNlLWxpbmU9IjUiIGRhdGEtdWlkPSJsbms2IiBpZD0ibGlua18uLi5fLi4uIj48cGF0aCBkPSJNMTA2LjQ4LDE3NC43NzY5IEMxMDEuNDYsMTgzLjg1NjkgOTYuMDksMTk0LjM1NjkgOTIsMjA0LjI5NjkgQzg1Ljc5LDIxOS4zOTY5IDgyLjEwNjYsMjMxLjE4NyA3OC40MjY2LDI0NS4wNzciIGZpbGw9Im5vbmUiIGlkPSImIzIwMzE2OyYjMjUxMDQ7JiMyMDAxMzstdG8tJiMyMzQ1NTsmIzI2MDQ1OyYjMjAwMTM7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI3Ni44OSwyNTAuODc2OSw4My4wNjE1LDI0My4yMDE0LDc4LjE3MDUsMjQ2LjA0MzYsNzUuMzI4MywyNDEuMTUyNiw3Ni44OSwyNTAuODc2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyLjAwMDEiIHg9IjkzIiB5PSIyMTcuMzYzOCI+JiMyNjg0MjsmIzIxMzY4OyYjMzgyODM7JiMyMjk4Nzs8L3RleHQ+PC9nPjwhLS1saW5rID8/PyB0byA/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSIuLi4iIGRhdGEtZW50aXR5LTI9Ii4uIiBkYXRhLXNvdXJjZS1saW5lPSI3IiBkYXRhLXVpZD0ibG5rOCIgaWQ9ImxpbmtfLi4uXy4uIj48cGF0aCBkPSJNNDMuMjgsMzAxLjY1NjkgQzM1LjUyLDMxMC4xNjY5IDI4LjA5LDMyMC4zNTY5IDI0LDMzMS4yOTY5IEMxOC40MywzNDYuMTY2OSAxOS4wMTY5LDM1OC4wODU3IDIyLjQxNjksMzcyLjExNTciIGZpbGw9Im5vbmUiIGlkPSImIzIzNDU1OyYjMjYwNDU7JiMyMDAxMzstdG8tJiMzMDkwNjsmIzIzNDUwOyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjMuODMsMzc3Ljk0NjksMjUuNTk3OCwzNjguMjU4LDIyLjY1MjQsMzczLjA4NzUsMTcuODIyOCwzNzAuMTQyMSwyMy44MywzNzcuOTQ2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyLjAwMDEiIHg9IjI1IiB5PSIzNDQuMzYzOCI+JiMyNjg0MjsmIzIxMzY4OyYjMjM0MzY7JiMyMDEwMjs8L3RleHQ+PC9nPjwhLS1saW5rID8/IHRvICplbmQqLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9Ii4uIiBkYXRhLWVudGl0eS0yPSIuZW5kLiIgZGF0YS1zb3VyY2UtbGluZT0iOSIgZGF0YS11aWQ9ImxuazEwIiBpZD0ibGlua18uLl8uZW5kLiI+PHBhdGggZD0iTTQyLjgyLDQyOC43NTY5IEM1MS42Niw0NDguNzc2OSA2MS4yNjI2LDQ3MC40ODk4IDY3LjQ4MjYsNDg0LjU0OTgiIGZpbGw9Im5vbmUiIGlkPSImIzMwOTA2OyYjMjM0NTA7LXRvLSplbmQqIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI2OS45MSw0OTAuMDM2OSw2OS45MjY5LDQ4MC4xODgsNjcuODg3Miw0ODUuNDY0Myw2Mi42MTA5LDQ4My40MjQ2LDY5LjkxLDQ5MC4wMzY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rID8/PyB0byA/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSIuLi4iIGRhdGEtZW50aXR5LTI9Ii4uIiBkYXRhLXNvdXJjZS1saW5lPSIxMSIgZGF0YS11aWQ9ImxuazEyIiBpZD0ibGlua18uLi5fLi4iPjxwYXRoIGQ9Ik0xMzcuNDQsMTc0Ljc4NjkgQzE0Mi41MSwxODMuNjg2OSAxNDcuNDMsMTk0LjA3NjkgMTUwLDIwNC4yOTY5IEMxNjUuNDcsMjY1Ljc4NjkgMTQ2LjE2NjQsMzM0LjU3OTQgMTMyLjY0NjQsMzcyLjI1OTQiIGZpbGw9Im5vbmUiIGlkPSImIzIwMzE2OyYjMjUxMDQ7JiMyMDAxMzstdG8tJiMyMTQ2MjsmIzI4MDQwOyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTMwLjYyLDM3Ny45MDY5LDEzNy40MjQ1LDM3MC43ODY2LDEzMi4zMDg2LDM3My4yMDA3LDEyOS44OTQ2LDM2OC4wODQ4LDEzMC42MiwzNzcuOTA2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI2IiB4PSIxNTYuNCIgeT0iMjgwLjg2MzgiPiYjMjE0NjI7JiMyODA0MDs8L3RleHQ+PC9nPjwhLS1saW5rID8/PyB0byA/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSIuLi4iIGRhdGEtZW50aXR5LTI9Ii4uIiBkYXRhLXNvdXJjZS1saW5lPSIxMiIgZGF0YS11aWQ9ImxuazEzIiBpZD0ibGlua18uLi5fLi4iPjxwYXRoIGQ9Ik04MC43NiwzMDEuNjk2OSBDODkuNTcsMzIzLjcxNjkgMTAwLjIyOTUsMzUwLjM4NjkgMTA5LjAzOTUsMzcyLjM4NjkiIGZpbGw9Im5vbmUiIGlkPSImIzIzNDU1OyYjMjYwNDU7JiMyMDAxMzstdG8tJiMyMTQ2MjsmIzI4MDQwOyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTExLjI3LDM3Ny45NTY5LDExMS42Mzc1LDM2OC4xMTQ5LDEwOS40MTEyLDM3My4zMTUyLDEwNC4yMTA5LDM3MS4wODg5LDExMS4yNywzNzcuOTU2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI2IiB4PSI5OS45OSIgeT0iMzQ0LjM2MzgiPiYjMjE0NjI7JiMyODA0MDs8L3RleHQ+PC9nPjwhLS1saW5rID8/IHRvICplbmQqLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9Ii4uIiBkYXRhLWVudGl0eS0yPSIuZW5kLiIgZGF0YS1zb3VyY2UtbGluZT0iMTQiIGRhdGEtdWlkPSJsbmsxNCIgaWQ9ImxpbmtfLi5fLmVuZC4iPjxwYXRoIGQ9Ik0xMDguOSw0MjguNzU2OSBDOTksNDQ4Ljc3NjkgODguMTg4OCw0NzAuNTk4MSA4MS4yMzg4LDQ4NC42NTgxIiBmaWxsPSJub25lIiBpZD0iJiMyMTQ2MjsmIzI4MDQwOy10by0qZW5kKiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNzguNTgsNDkwLjAzNjksODYuMTU0LDQ4My43NDEzLDgwLjc5NTYsNDg1LjU1NDYsNzguOTgyMyw0ODAuMTk2Miw3OC41OCw0OTAuMDM2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tU1JDPVtBeWFpb0tiTFVCUHVyakZVN1MtTWhkdFFGVkRueXpKN3BNaVZELV9YdWVoTVliTkdyUkxKVUI5dHBoRUUyS3pzaEVOWVdaRjE0YV9OcE55c1JJLThQbUtydS1NcXhnVkJreGN1NDM4V1RTeU54Tmd3UlhQU3FURHJGS3pzak41bkdPTDFBZTFNT0haVUYtdFBqV3dXOVdXM3BLWHFNSXdlMERHbTAwMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h3 id="er">棚卸データの ER 図<a class="headerlink" href="#er" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9Ijc1NnB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6Mjk3cHg7aGVpZ2h0Ojc1NnB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDI5NyA3NTYiIHdpZHRoPSIyOTdweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjY4NDI7JiMyMTM2ODsmIzM4MzA2OyYjMzY4OTk7JiMxMjQ4NjsmIzEyNTQwOyYjMTI1MDI7JiMxMjUyMzs8L3RpdGxlPjxkZWZzLz48Zz48ZyBjbGFzcz0idGl0bGUiIGRhdGEtc291cmNlLWxpbmU9IjEiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTEuOTk5NSIgeD0iODUuODAwMyIgeT0iMjIuOTk1MSI+JiMyNjg0MjsmIzIxMzY4OyYjMzgzMDY7JiMzNjg5OTsmIzEyNDg2OyYjMTI1NDA7JiMxMjUwMjsmIzEyNTIzOzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9Ii4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIzIiBkYXRhLXVpZD0iZW50MDAwMiIgaWQ9ImVudGl0eV8uLi4uLiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyMTAuOTY4OCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTIwLjgxNDEiIHg9IjE2My4xOSIgeT0iMjAxLjg4NjkiLz48ZWxsaXBzZSBjeD0iMTg2LjY1NjUiIGN5PSIyMTcuODg2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMTkwLjc2NTksMjIzLjg4NjkgTDE4My4wNDcxLDIyMy44ODY5IEwxODMuMDQ3MSwyMTEuNDk2MiBMMTkwLjc2NTksMjExLjQ5NjIgTDE5MC43NjU5LDIxMy42NTI1IEwxODUuNTAwMywyMTMuNjUyNSBMMTg1LjUwMDMsMjE2LjMyNDQgTDE5MC4yNjU5LDIxNi4zMjQ0IEwxOTAuMjY1OSwyMTguNDgwNiBMMTg1LjUwMDMsMjE4LjQ4MDYgTDE4NS41MDAzLDIyMS43MzA2IEwxOTAuNzY1OSwyMjEuNzMwNiBMMTkwLjc2NTksMjIzLjg4NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyMDIuNTM3OSIgeT0iMjIyLjczMzYiPiYjMjY4NDI7JiMyMTM2ODsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTY0LjE5IiB4Mj0iMjgzLjAwNDEiIHkxPSIyMzMuODg2OSIgeTI9IjIzMy44ODY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTQuMTEzMyIgeD0iMTY5LjE5IiB5PSIyNTAuODgyIj5JRCAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTY0LjE5IiB4Mj0iMjgzLjAwNDEiIHkxPSIyNTguMTgzNyIgeTI9IjI1OC4xODM3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuMDA4NSIgeD0iMTY5LjE5IiB5PSIyNzUuMTc4OSI+JiMyNjg0MjsmIzIxMzY4OyYjMzAwNTg7JiMyMTQ5NTsgJiMxNzE7VUsmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA4LjgxNDEiIHg9IjE2OS4xOSIgeT0iMjkxLjQ3NTciPiYjMjA0ODk7JiMyNDIzNTsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iMTY5LjE5IiB5PSIzMDcuNzcyNiI+JiMyNjg0MjsmIzIxMzY4OyYjMjYwODU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjE2OS4xOSIgeT0iMzI0LjA2OTUiPiYjMjY4NDI7JiMyMTM2ODsmIzM4MjgzOyYjMjI5ODc7JiMyNjA4NTsmIzI2MTc4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSIxNjkuMTkiIHk9IjM0MC4zNjY0Ij4mIzI2ODQyOyYjMjEzNjg7JiMzMjA2NjsmIzIwMTAyOyYjMjYwODU7JiMyNjE3ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTY5LjE5IiB5PSIzNTYuNjYzMiI+JiMxMjQ3MzsmIzEyNDg2OyYjMTI1NDA7JiMxMjQ3OTsmIzEyNDczOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSIxNjkuMTkiIHk9IjM3Mi45NjAxIj4mIzIwNjMzOyYjMzI3NzE7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjE2OS4xOSIgeT0iMzg5LjI1NyI+JiMyMDMxNjsmIzI1MTA0OyYjMjYwODU7JiMyNjE3ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTY5LjE5IiB5PSI0MDUuNTUzOSI+JiMyNjM1NjsmIzI2MDMyOyYjMjYwODU7JiMyNjE3ODs8L3RleHQ+PC9nPjwhLS1jbGFzcyA/Pz8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9Ii4uLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjE3IiBkYXRhLXVpZD0iZW50MDAwMyIgaWQ9ImVudGl0eV8uLi4uLi4uIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjI1OS44NTk0IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMzcuOTk5NSIgeD0iNTEuNiIgeT0iNDg5Ljg1NjkiLz48ZWxsaXBzZSBjeD0iNzAuMTk5OSIgY3k9IjUwNS44NTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik03NC4zMDkzLDUxMS44NTY5IEw2Ni41OTA2LDUxMS44NTY5IEw2Ni41OTA2LDQ5OS40NjYyIEw3NC4zMDkzLDQ5OS40NjYyIEw3NC4zMDkzLDUwMS42MjI1IEw2OS4wNDM3LDUwMS42MjI1IEw2OS4wNDM3LDUwNC4yOTQ0IEw3My44MDkzLDUwNC4yOTQ0IEw3My44MDkzLDUwNi40NTA2IEw2OS4wNDM3LDUwNi40NTA2IEw2OS4wNDM3LDUwOS43MDA2IEw3NC4zMDkzLDUwOS43MDA2IEw3NC4zMDkzLDUxMS44NTY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iODQuOTk5OSIgeT0iNTEwLjcwMzYiPiYjMjY4NDI7JiMyMTM2ODsmIzI2MTI2OyYjMzIwNDg7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjUyLjYiIHgyPSIxODguNTk5NSIgeTE9IjUyMS44NTY5IiB5Mj0iNTIxLjg1NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NC4xMTMzIiB4PSI1Ny42IiB5PSI1MzguODUyIj5JRCAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTIuNiIgeDI9IjE4OC41OTk1IiB5MT0iNTQ2LjE1MzgiIHkyPSI1NDYuMTUzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgxLjcyMzUiIHg9IjU3LjYiIHk9IjU2My4xNDg5Ij4mIzI2ODQyOyYjMjEzNjg7SUQgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iNTcuNiIgeT0iNTc5LjQ0NTciPiYjMjY4NDI7JiMyMTM2ODsmIzM0ODkyOyYjMzAwNTg7JiMyMTQ5NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA4LjgxNDEiIHg9IjU3LjYiIHk9IjU5NS43NDI2Ij4mIzIxODMwOyYjMjE2OTc7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7ICYjMTcxO0ZLJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNS45OTk1IiB4PSI1Ny42IiB5PSI2MTIuMDM5NSI+JiMxMjUyNTsmIzEyNDY1OyYjMTI1NDA7JiMxMjQ3MTsmIzEyNTE5OyYjMTI1MzE7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjU3LjYiIHk9IjYyOC4zMzY0Ij4mIzEyNTI1OyYjMTI0ODM7JiMxMjQ4ODsmIzMwMDU4OyYjMjE0OTU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjU3LjYiIHk9IjY0NC42MzMyIj4mIzI0MTE1OyYjMzE4MDc7JiMyMjMxMjsmIzI0MjM1OyYjMjU5Njg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjk5OTgiIHg9IjU3LjYiIHk9IjY2MC45MzAxIj4mIzIzNDU1OyYjMjY4NDI7JiMyNTk2ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iNTcuNiIgeT0iNjc3LjIyNyI+JiMyNDA0NjsmIzMwMDY0OyYjMjU5Njg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjU3LjYiIHk9IjY5My41MjM5Ij4mIzI0MDQ2OyYjMzAwNjQ7JiMyOTcwMjsmIzMwMDAxOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSI1Ny42IiB5PSI3MDkuODIwNyI+JiMzNTUxOTsmIzI1OTcyOyYjMjgxNjg7JiMxMjUwMTsmIzEyNTIxOyYjMTI0NjQ7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjU3LjYiIHk9IjcyNi4xMTc2Ij4mIzIwMzE2OyYjMjUxMDQ7JiMyNjA4NTsmIzI2MTc4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI1Ny42IiB5PSI3NDIuNDE0NSI+JiMyNjM1NjsmIzI2MDMyOyYjMjYwODU7JiMyNjE3ODs8L3RleHQ+PC9nPjwhLS1jbGFzcyA/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSIuLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMzQiIGRhdGEtdWlkPSJlbnQwMDA0IiBpZD0iZW50aXR5Xy4uLi4uIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjgwLjU5MzgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyMS4yMDM4IiB4PSIxNjMiIHk9IjQ0LjI5NjkiLz48ZWxsaXBzZSBjeD0iMTg2LjY0MTgiIGN5PSI2MC4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0xOTAuNzUxMiw2Ni4yOTY5IEwxODMuMDMyNSw2Ni4yOTY5IEwxODMuMDMyNSw1My45MDYzIEwxOTAuNzUxMiw1My45MDYzIEwxOTAuNzUxMiw1Ni4wNjI1IEwxODUuNDg1Niw1Ni4wNjI1IEwxODUuNDg1Niw1OC43MzQ0IEwxOTAuMjUxMiw1OC43MzQ0IEwxOTAuMjUxMiw2MC44OTA2IEwxODUuNDg1Niw2MC44OTA2IEwxODUuNDg1Niw2NC4xNDA2IEwxOTAuNzUxMiw2NC4xNDA2IEwxOTAuNzUxMiw2Ni4yOTY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMjAyLjU2MjMiIHk9IjY1LjE0MzYiPiYjMjA0ODk7JiMyNDIzNTsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTY0IiB4Mj0iMjgzLjIwMzgiIHkxPSI3Ni4yOTY5IiB5Mj0iNzYuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOS4yMDM4IiB4PSIxNjkiIHk9IjkzLjI5MiI+JiMyMDQ4OTsmIzI0MjM1OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTY0IiB4Mj0iMjgzLjIwMzgiIHkxPSIxMDAuNTkzOCIgeTI9IjEwMC41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iMTY5IiB5PSIxMTcuNTg4OSI+JiMyMDQ4OTsmIzI0MjM1OyYjMjE1MTc7PC90ZXh0PjwvZz48IS0tY2xhc3MgPz8/Pz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjQwIiBkYXRhLXVpZD0iZW50MDAwNSIgaWQ9ImVudGl0eV8uLi4uLiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI4MC41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjEuMjAzOCIgeD0iNyIgeT0iMjY3LjA3NjkiLz48ZWxsaXBzZSBjeD0iMzAuNjQxOCIgY3k9IjI4My4wNzY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0zNC43NTEyLDI4OS4wNzY5IEwyNy4wMzI1LDI4OS4wNzY5IEwyNy4wMzI1LDI3Ni42ODYzIEwzNC43NTEyLDI3Ni42ODYzIEwzNC43NTEyLDI3OC44NDI1IEwyOS40ODU2LDI3OC44NDI1IEwyOS40ODU2LDI4MS41MTQ0IEwzNC4yNTEyLDI4MS41MTQ0IEwzNC4yNTEyLDI4My42NzA2IEwyOS40ODU2LDI4My42NzA2IEwyOS40ODU2LDI4Ni45MjA2IEwzNC43NTEyLDI4Ni45MjA2IEwzNC43NTEyLDI4OS4wNzY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iNDYuNTYyMyIgeT0iMjg3LjkyMzYiPiYjMjE4MzA7JiMyMTY5NzsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iOCIgeDI9IjEyNy4yMDM4IiB5MT0iMjk5LjA3NjkiIHkyPSIyOTkuMDc2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOS4yMDM4IiB4PSIxMyIgeT0iMzE2LjA3MiI+JiMyMTgzMDsmIzIxNjk3OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iOCIgeDI9IjEyNy4yMDM4IiB5MT0iMzIzLjM3MzgiIHkyPSIzMjMuMzczOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjk5OTgiIHg9IjEzIiB5PSIzNDAuMzY4OSI+JiMyMTgzMDsmIzIxNjk3OyYjMjE1MTc7PC90ZXh0PjwvZz48IS0tbGluayA/Pz8/PyB0byA/Pz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSIuLi4uLiIgZGF0YS1lbnRpdHktMj0iLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjQ2IiBkYXRhLXVpZD0ibG5rNiIgaWQ9ImxpbmtfLi4uLi5fLi4uLi4iPjxwYXRoIGNvZGVMaW5lPSI0NiIgZD0iTTIyMy42LDEzMy4zMTY5IEMyMjMuNiwxNTQuNzk2OSAyMjMuNiwxNTYuNDI2OSAyMjMuNiwxODMuNjA2OSIgZmlsbD0ibm9uZSIgaWQ9IiYjMjA0ODk7JiMyNDIzNTsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTstJiMyNjg0MjsmIzIxMzY4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMTkuNiIgeDI9IjIyNy42IiB5MT0iMTI5LjMxNjkiIHkyPSIxMjkuMzE2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMTkuNiIgeDI9IjIyNy42IiB5MT0iMTMyLjMxNjkiIHkyPSIxMzIuMzE2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMjMuNiIgeDI9IjIyMy42IiB5MT0iMTMzLjMxNjkiIHkyPSIxMjUuMzE2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMjMuNiIgeDI9IjIyOS42IiB5MT0iMTkzLjYwNjkiIHkyPSIyMDEuNjA2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMjMuNiIgeDI9IjIxNy42IiB5MT0iMTkzLjYwNjkiIHkyPSIyMDEuNjA2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMjMuNiIgeDI9IjIyMy42IiB5MT0iMTkzLjYwNjkiIHkyPSIyMDEuNjA2OSIvPjxlbGxpcHNlIGN4PSIyMjMuNiIgY3k9IjE4Ny42MDY5IiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NS4wMDAxIiB4PSIyMjQuNiIgeT0iMTY3Ljk1MzgiPiYjMjA0ODk7JiMyNDIzNTsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTs8L3RleHQ+PC9nPjwhLS1saW5rID8/Pz8/IHRvID8/Pz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iLi4uLi4iIGRhdGEtZW50aXR5LTI9Ii4uLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjQ3IiBkYXRhLXVpZD0ibG5rNyIgaWQ9ImxpbmtfLi4uLi5fLi4uLi4uLiI+PHBhdGggY29kZUxpbmU9IjQ3IiBkPSJNMTg2LjM1MjIsNDIwLjYzMDQgQzE3OC4yMTIyLDQ0NS4xODA0IDE3Ny42MjIsNDQ2Ljk1MzkgMTY5LjE2Miw0NzIuNDMzOSIgZmlsbD0ibm9uZSIgaWQ9IiYjMjY4NDI7JiMyMTM2ODsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTstJiMyNjg0MjsmIzIxMzY4OyYjMjYxMjY7JiMzMjA0ODsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTgzLjgxNDQiIHgyPSIxOTEuNDA3OSIgeTE9IjQxNS41NzQ3IiB5Mj0iNDE4LjA5MjUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTgyLjg3MDIiIHgyPSIxOTAuNDYzNyIgeTE9IjQxOC40MjIzIiB5Mj0iNDIwLjk0Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE4Ni4zNTIyIiB4Mj0iMTg4Ljg3IiB5MT0iNDIwLjYzMDQiIHkyPSI0MTMuMDM2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNjYuMDEwOSIgeDI9IjE2OS4xODQzIiB5MT0iNDgxLjkyNDQiIHkyPSI0OTEuNDA3NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNjYuMDEwOSIgeDI9IjE1Ny43OTU3IiB5MT0iNDgxLjkyNDQiIHkyPSI0ODcuNjI2MiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNjYuMDEwOSIgeDI9IjE2My40OSIgeTE9IjQ4MS45MjQ0IiB5Mj0iNDg5LjUxNjkiLz48ZWxsaXBzZSBjeD0iMTY3LjkwMTUiIGN5PSI0NzYuMjMwMSIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzkuODQ0MyIgeD0iMTc5LjI3IiB5PSI0NTUuOTIzOCI+JiMyNjg0MjsmIzIxMzY4O0lEPC90ZXh0PjwvZz48IS0tbGluayA/Pz8/PyB0byA/Pz8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9Ii4uLi4uIiBkYXRhLWVudGl0eS0yPSIuLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSI0OCIgZGF0YS11aWQ9ImxuazgiIGlkPSJsaW5rXy4uLi4uXy4uLi4uLi4iPjxwYXRoIGNvZGVMaW5lPSI0OCIgZD0iTTczLjQzODIsMzU1Ljk2MzEgQzc3LjMyODIsMzg2LjU4MzEgODIuMTgsNDIyLjAzNjkgODguNiw0NTkuODU2OSBDOTAuMjUsNDY5LjU2NjkgODguNzYzNiw0NjEuODk5NCA5MC42MzM2LDQ3MS45Njk0IiBmaWxsPSJub25lIiBpZD0iJiMyMTgzMDsmIzIxNjk3OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5Oy0mIzI2ODQyOyYjMjEzNjg7JiMyNjEyNjsmIzMyMDQ4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI2OC45NjYiIHgyPSI3Ni45MDIyIiB5MT0iMzUyLjQ5OTEiIHkyPSIzNTEuNDkwOSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI2OS4zNDQxIiB4Mj0iNzcuMjgwMyIgeTE9IjM1NS40NzUyIiB5Mj0iMzU0LjQ2NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNzMuNDM4MiIgeDI9IjcyLjQzIiB5MT0iMzU1Ljk2MzEiIHkyPSIzNDguMDI2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI5Mi40NTk0IiB4Mj0iOTkuODE5MSIgeTE9IjQ4MS44MDEzIiB5Mj0iNDg4LjU3MTQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iOTIuNDU5NCIgeDI9Ijg4LjAyMDkiIHkxPSI0ODEuODAxMyIgeTI9IjQ5MC43NjIzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjkyLjQ1OTQiIHgyPSI5My45MiIgeTE9IjQ4MS44MDEzIiB5Mj0iNDg5LjY2NjkiLz48ZWxsaXBzZSBjeD0iOTEuMzYzOSIgY3k9IjQ3NS45MDIyIiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NS4wMDAxIiB4PSI4OS42IiB5PSI0NTUuOTIzOCI+JiMyMTgzMDsmIzIxNjk3OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48L2c+PCEtLVNSQz1bWkxCMUppOTA0QnRGTF9HNy1XRTRTMzhjbmVpTkZ1NDNZVDVCQm1QQ1MyVWY5T1dzcVE4ZXFJV25BNEhJMGdRTFFGZW5tc3hYQnNvdEJVQnNXQlZQRF9EY3RmalBlczhTYjNOSGstQ2pWemItTmpQeFgyUlg1czZSUzBYR0ZaR2duZDVRRzdXTWZyWVdMTTVkSW9pTXp0UEI5VDFySURBWEMtMk5OV0psbnAybERfWGlJNm1Za3BLWVUzazZhcjlueW1CUHEyUmxEd0V0d0IyaXBtVVJweW1LOGxRUEFjOTE1MERkZEtLVE9WeFQ1UFFUcVV3ZGVrc2NabkQ1akJZejJBVmsxa2FJTWpFdFUzZkZ0MDF0Sjd2cmNoRDEtNHZpQjVqd1g3dDJvUWY0dlgwOWhRbzVGbWRUVzdUVmV0cThubUstVWVvY29DV1JYT3h4NnVNczZMd0ZPSjQ4WDNDTGxhTmU0QnVIU19fYkR6cXVGaUd4YXF4cER5WGk5bmJranpSdllUTHJWaXh5WVl5cEFMeVROQWxmLWI0cnpzYUFjZzg3cjhlX0hGTG0xSXN4NVFYQURfMEs2cHkwXS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_12">マイグレーション：入出庫履歴・棚卸テーブルの作成<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<details>
<summary>V016__create_stock_movement_tables.sql</summary>

<div class="highlight"><pre><span></span><code><span class="c1">-- src/main/resources/db/migration/V016__create_stock_movement_tables.sql</span>

<span class="c1">-- 移動区分</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TYPE</span><span class="w"> </span><span class="err">移動区分</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ENUM</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="s1">&#39;入荷入庫&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;出荷出庫&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;倉庫間移動出&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;倉庫間移動入&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;棚卸調整増&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;棚卸調整減&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;返品入庫&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;廃棄&#39;</span>
<span class="p">);</span>

<span class="c1">-- 棚卸ステータス</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TYPE</span><span class="w"> </span><span class="err">棚卸ステータス</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ENUM</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;作成中&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;実施中&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;確定&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;取消&#39;</span><span class="p">);</span>

<span class="c1">-- 入出庫履歴データ</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;入出庫履歴データ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ID&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;倉庫コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;商品コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;移動日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;移動区分&quot;</span><span class="w"> </span><span class="err">移動区分</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;移動数量&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;移動前在庫数&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;移動後在庫数&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;伝票番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;伝票種別&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;移動理由&quot;</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;ロケーションコード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;ロット番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_入出庫履歴_倉庫&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;倉庫コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;倉庫マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;倉庫コード&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_入出庫履歴_商品&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;商品コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;商品マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;商品コード&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- 棚卸データ（ヘッダ）</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;棚卸データ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ID&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;棚卸番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;倉庫コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;棚卸日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;棚卸開始日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;棚卸終了日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;ステータス&quot;</span><span class="w"> </span><span class="err">棚卸ステータス</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;作成中&#39;</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;備考&quot;</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_棚卸_倉庫&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;倉庫コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;倉庫マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;倉庫コード&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- 棚卸明細データ</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;棚卸明細データ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ID&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;棚卸ID&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;棚卸行番号&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;商品コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;ロケーションコード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;ロット番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;帳簿在庫数&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;実棚数&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;差異数&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;差異理由&quot;</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;調整済フラグ&quot;</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">FALSE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_棚卸明細_棚卸&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;棚卸ID&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;棚卸データ&quot;</span><span class="p">(</span><span class="ss">&quot;ID&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_棚卸明細_商品&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;商品コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;商品マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;商品コード&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;uk_棚卸明細_棚卸_行&quot;</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;棚卸ID&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;棚卸行番号&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- 差異数を自動計算するトリガー</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="k">REPLACE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">calculate_stocktaking_difference</span><span class="p">()</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TRIGGER</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="err">$$</span>
<span class="k">BEGIN</span>
<span class="w">    </span><span class="k">IF</span><span class="w"> </span><span class="k">NEW</span><span class="p">.</span><span class="ss">&quot;実棚数&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">THEN</span>
<span class="w">        </span><span class="k">NEW</span><span class="p">.</span><span class="ss">&quot;差異数&quot;</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="k">NEW</span><span class="p">.</span><span class="ss">&quot;実棚数&quot;</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">NEW</span><span class="p">.</span><span class="ss">&quot;帳簿在庫数&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">END</span><span class="w"> </span><span class="k">IF</span><span class="p">;</span>
<span class="w">    </span><span class="k">RETURN</span><span class="w"> </span><span class="k">NEW</span><span class="p">;</span>
<span class="k">END</span><span class="p">;</span>
<span class="err">$$</span><span class="w"> </span><span class="k">LANGUAGE</span><span class="w"> </span><span class="n">plpgsql</span><span class="p">;</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TRIGGER</span><span class="w"> </span><span class="n">trg_棚卸明細_差異計算</span>
<span class="w">    </span><span class="k">BEFORE</span><span class="w"> </span><span class="k">INSERT</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;棚卸明細データ&quot;</span>
<span class="w">    </span><span class="k">FOR</span><span class="w"> </span><span class="k">EACH</span><span class="w"> </span><span class="k">ROW</span>
<span class="w">    </span><span class="k">EXECUTE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">calculate_stocktaking_difference</span><span class="p">();</span>

<span class="c1">-- インデックス</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_入出庫履歴_倉庫コード&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;入出庫履歴データ&quot;</span><span class="p">(</span><span class="ss">&quot;倉庫コード&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_入出庫履歴_商品コード&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;入出庫履歴データ&quot;</span><span class="p">(</span><span class="ss">&quot;商品コード&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_入出庫履歴_移動日時&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;入出庫履歴データ&quot;</span><span class="p">(</span><span class="ss">&quot;移動日時&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_入出庫履歴_伝票番号&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;入出庫履歴データ&quot;</span><span class="p">(</span><span class="ss">&quot;伝票番号&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_棚卸_倉庫コード&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;棚卸データ&quot;</span><span class="p">(</span><span class="ss">&quot;倉庫コード&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_棚卸_棚卸日&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;棚卸データ&quot;</span><span class="p">(</span><span class="ss">&quot;棚卸日&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_棚卸_ステータス&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;棚卸データ&quot;</span><span class="p">(</span><span class="ss">&quot;ステータス&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_棚卸明細_商品コード&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;棚卸明細データ&quot;</span><span class="p">(</span><span class="ss">&quot;商品コード&quot;</span><span class="p">);</span>

<span class="c1">-- テーブルコメント</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;入出庫履歴データ&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;在庫の入出庫履歴を記録するテーブル&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;棚卸データ&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;棚卸作業のヘッダ情報を管理するテーブル&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;棚卸明細データ&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;棚卸明細・差異情報を管理するテーブル&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;棚卸データ&quot;</span><span class="p">.</span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;楽観ロック用バージョン番号&#39;</span><span class="p">;</span>
</code></pre></div>

</details>

<h3 id="_13">入出庫履歴・棚卸エンティティの実装<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<details>
<summary>移動区分 ENUM</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sales/domain/model/inventory/MovementType.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.inventory</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Getter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>

<span class="nd">@Getter</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">MovementType</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">RECEIPT</span><span class="p">(</span><span class="s">&quot;入荷入庫&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">SHIPMENT</span><span class="p">(</span><span class="s">&quot;出荷出庫&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">TRANSFER_OUT</span><span class="p">(</span><span class="s">&quot;倉庫間移動出&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">TRANSFER_IN</span><span class="p">(</span><span class="s">&quot;倉庫間移動入&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">ADJUSTMENT_PLUS</span><span class="p">(</span><span class="s">&quot;棚卸調整増&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">ADJUSTMENT_MINUS</span><span class="p">(</span><span class="s">&quot;棚卸調整減&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">RETURN_RECEIPT</span><span class="p">(</span><span class="s">&quot;返品入庫&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">DISPOSAL</span><span class="p">(</span><span class="s">&quot;廃棄&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">MovementType</span><span class="w"> </span><span class="nf">fromDisplayName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">MovementType</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">values</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">type</span><span class="p">.</span><span class="na">displayName</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">displayName</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">type</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;Unknown movement type: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">displayName</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 入庫系の移動かどうか</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isInbound</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">RECEIPT</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">TRANSFER_IN</span><span class="w"> </span><span class="o">||</span>
<span class="w">               </span><span class="k">this</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">ADJUSTMENT_PLUS</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">RETURN_RECEIPT</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 出庫系の移動かどうか</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isOutbound</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">SHIPMENT</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">TRANSFER_OUT</span><span class="w"> </span><span class="o">||</span>
<span class="w">               </span><span class="k">this</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">ADJUSTMENT_MINUS</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">DISPOSAL</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>棚卸ステータス ENUM</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sales/domain/model/inventory/StocktakingStatus.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.inventory</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Getter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>

<span class="nd">@Getter</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">StocktakingStatus</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">DRAFT</span><span class="p">(</span><span class="s">&quot;作成中&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">IN_PROGRESS</span><span class="p">(</span><span class="s">&quot;実施中&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">CONFIRMED</span><span class="p">(</span><span class="s">&quot;確定&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">CANCELLED</span><span class="p">(</span><span class="s">&quot;取消&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">StocktakingStatus</span><span class="w"> </span><span class="nf">fromDisplayName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">StocktakingStatus</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">values</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="p">.</span><span class="na">displayName</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">displayName</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;Unknown stocktaking status: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">displayName</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 実施開始可能かどうか</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">canStart</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">DRAFT</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 確定可能かどうか</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">canConfirm</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">IN_PROGRESS</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 取消可能かどうか</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">canCancel</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">DRAFT</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">IN_PROGRESS</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>入出庫履歴エンティティ</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sales/domain/model/inventory/StockMovement.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.inventory</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StockMovement</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">warehouseCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">movementDateTime</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">MovementType</span><span class="w"> </span><span class="n">movementType</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">movementQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">beforeQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">afterQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">documentNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">documentType</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">movementReason</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">locationCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">lotNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">createdBy</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// リレーション</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Warehouse</span><span class="w"> </span><span class="n">warehouse</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="n">product</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>棚卸データ・棚卸明細エンティティ</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sales/domain/model/inventory/Stocktaking.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.inventory</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.AllArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.NoArgsConstructor</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@AllArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Stocktaking</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">stocktakingNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">warehouseCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">stocktakingDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">startDateTime</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">endDateTime</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">StocktakingStatus</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">remarks</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">createdBy</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">updatedBy</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// 楽観ロック用バージョン</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// リレーション</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">StocktakingDetail</span><span class="o">&gt;</span><span class="w"> </span><span class="n">details</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 差異がある明細があるかどうか</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">hasDifference</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">details</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">anyMatch</span><span class="p">(</span><span class="n">d</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="na">getDifferenceQuantity</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">                         </span><span class="n">d</span><span class="p">.</span><span class="na">getDifferenceQuantity</span><span class="p">().</span><span class="na">signum</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 全明細が調整済みかどうか</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isAllAdjusted</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">details</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">allMatch</span><span class="p">(</span><span class="n">StocktakingDetail</span><span class="p">::</span><span class="n">getAdjustedFlag</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sms/domain/model/inventory/StocktakingDetail.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.inventory</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.AllArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.NoArgsConstructor</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@AllArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StocktakingDetail</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">stocktakingId</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">lineNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">locationCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">lotNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">bookQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">actualQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">differenceQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">differenceReason</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Boolean</span><span class="w"> </span><span class="n">adjustedFlag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 実棚数を入力</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setActualQuantityAndCalculateDifference</span><span class="p">(</span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">actualQty</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">actualQuantity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">actualQty</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">differenceQuantity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">actualQty</span><span class="p">.</span><span class="na">subtract</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">bookQuantity</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 差異があるかどうか</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">hasDifference</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">differenceQuantity</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">differenceQuantity</span><span class="p">.</span><span class="na">signum</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="_14">棚卸サービスの実装<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<details>
<summary>棚卸サービス</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sales/application/service/StocktakingService.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.application.service</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sms.application.port.out.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.inventory.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Service</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.transaction.annotation.Transactional</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.format.DateTimeFormatter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Optional</span><span class="p">;</span>

<span class="nd">@Service</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StocktakingService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StocktakingRepository</span><span class="w"> </span><span class="n">stocktakingRepository</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">InventoryRepository</span><span class="w"> </span><span class="n">inventoryRepository</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StockMovementRepository</span><span class="w"> </span><span class="n">stockMovementRepository</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 棚卸を作成する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Stocktaking</span><span class="w"> </span><span class="nf">createStocktaking</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">warehouseCode</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">stocktakingDate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">stocktakingNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">generateStocktakingNumber</span><span class="p">(</span><span class="n">stocktakingDate</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// 倉庫の在庫から棚卸明細を作成</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;</span><span class="w"> </span><span class="n">inventories</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryRepository</span><span class="p">.</span><span class="na">findByWarehouseCode</span><span class="p">(</span><span class="n">warehouseCode</span><span class="p">);</span>

<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">StocktakingDetail</span><span class="o">&gt;</span><span class="w"> </span><span class="n">details</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Inventory</span><span class="w"> </span><span class="n">inv</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">inventories</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">StocktakingDetail</span><span class="w"> </span><span class="n">detail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StocktakingDetail</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">stocktakingNumber</span><span class="p">(</span><span class="n">stocktakingNumber</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">productCode</span><span class="p">(</span><span class="n">inv</span><span class="p">.</span><span class="na">getProductCode</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">locationCode</span><span class="p">(</span><span class="n">inv</span><span class="p">.</span><span class="na">getLocationCode</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">lotNumber</span><span class="p">(</span><span class="n">inv</span><span class="p">.</span><span class="na">getLotNumber</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">bookQuantity</span><span class="p">(</span><span class="n">inv</span><span class="p">.</span><span class="na">getCurrentQuantity</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">adjustedFlag</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">            </span><span class="n">details</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">detail</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">Stocktaking</span><span class="w"> </span><span class="n">stocktaking</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Stocktaking</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">stocktakingNumber</span><span class="p">(</span><span class="n">stocktakingNumber</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">warehouseCode</span><span class="p">(</span><span class="n">warehouseCode</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">stocktakingDate</span><span class="p">(</span><span class="n">stocktakingDate</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">status</span><span class="p">(</span><span class="n">StocktakingStatus</span><span class="p">.</span><span class="na">DRAFT</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">details</span><span class="p">(</span><span class="n">details</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">        </span><span class="n">stocktakingRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">stocktaking</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">stocktaking</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 棚卸を開始する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">startStocktaking</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">stocktakingNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Stocktaking</span><span class="w"> </span><span class="n">stocktaking</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findByStocktakingNumber</span><span class="p">(</span><span class="n">stocktakingNumber</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">orElseThrow</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span>
<span class="w">                        </span><span class="s">&quot;棚卸が見つかりません: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">stocktakingNumber</span><span class="p">));</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">stocktaking</span><span class="p">.</span><span class="na">getStatus</span><span class="p">().</span><span class="na">canStart</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalStateException</span><span class="p">(</span>
<span class="w">                    </span><span class="s">&quot;この棚卸は開始できません。現在のステータス: &quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">                    </span><span class="n">stocktaking</span><span class="p">.</span><span class="na">getStatus</span><span class="p">().</span><span class="na">getDisplayName</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">stocktakingRepository</span><span class="p">.</span><span class="na">updateStatus</span><span class="p">(</span>
<span class="w">                </span><span class="n">stocktakingNumber</span><span class="p">,</span><span class="w"> </span><span class="n">StocktakingStatus</span><span class="p">.</span><span class="na">IN_PROGRESS</span><span class="p">);</span>
<span class="w">        </span><span class="n">stocktakingRepository</span><span class="p">.</span><span class="na">updateStartDateTime</span><span class="p">(</span>
<span class="w">                </span><span class="n">stocktakingNumber</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 実棚数を入力する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">inputActualQuantity</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">stocktakingNumber</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">,</span>
<span class="w">                                     </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">actualQuantity</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">differenceReason</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">stocktakingRepository</span><span class="p">.</span><span class="na">updateActualQuantity</span><span class="p">(</span>
<span class="w">                </span><span class="n">stocktakingNumber</span><span class="p">,</span><span class="w"> </span><span class="n">productCode</span><span class="p">,</span><span class="w"> </span><span class="n">actualQuantity</span><span class="p">,</span><span class="w"> </span><span class="n">differenceReason</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 棚卸を確定する（在庫調整を実行）</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">confirmStocktaking</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">stocktakingNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Stocktaking</span><span class="w"> </span><span class="n">stocktaking</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findByStocktakingNumber</span><span class="p">(</span><span class="n">stocktakingNumber</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">orElseThrow</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span>
<span class="w">                        </span><span class="s">&quot;棚卸が見つかりません: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">stocktakingNumber</span><span class="p">));</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">stocktaking</span><span class="p">.</span><span class="na">getStatus</span><span class="p">().</span><span class="na">canConfirm</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalStateException</span><span class="p">(</span>
<span class="w">                    </span><span class="s">&quot;この棚卸は確定できません。現在のステータス: &quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">                    </span><span class="n">stocktaking</span><span class="p">.</span><span class="na">getStatus</span><span class="p">().</span><span class="na">getDisplayName</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// 差異がある明細の在庫を調整</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">StocktakingDetail</span><span class="w"> </span><span class="n">detail</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">stocktaking</span><span class="p">.</span><span class="na">getDetails</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">detail</span><span class="p">.</span><span class="na">hasDifference</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">adjustInventory</span><span class="p">(</span><span class="n">stocktaking</span><span class="p">.</span><span class="na">getWarehouseCode</span><span class="p">(),</span><span class="w"> </span><span class="n">detail</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">stocktakingRepository</span><span class="p">.</span><span class="na">updateStatus</span><span class="p">(</span>
<span class="w">                </span><span class="n">stocktakingNumber</span><span class="p">,</span><span class="w"> </span><span class="n">StocktakingStatus</span><span class="p">.</span><span class="na">CONFIRMED</span><span class="p">);</span>
<span class="w">        </span><span class="n">stocktakingRepository</span><span class="p">.</span><span class="na">updateEndDateTime</span><span class="p">(</span>
<span class="w">                </span><span class="n">stocktakingNumber</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 在庫を調整する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">adjustInventory</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">warehouseCode</span><span class="p">,</span><span class="w"> </span><span class="n">StocktakingDetail</span><span class="w"> </span><span class="n">detail</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;</span><span class="w"> </span><span class="n">inventoryOpt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryRepository</span>
<span class="w">                </span><span class="p">.</span><span class="na">findByWarehouseAndProduct</span><span class="p">(</span><span class="n">warehouseCode</span><span class="p">,</span><span class="w"> </span><span class="n">detail</span><span class="p">.</span><span class="na">getProductCode</span><span class="p">());</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">inventoryOpt</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">Inventory</span><span class="w"> </span><span class="n">inventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryOpt</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>
<span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">difference</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">detail</span><span class="p">.</span><span class="na">getDifferenceQuantity</span><span class="p">();</span>
<span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">beforeQuantity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventory</span><span class="p">.</span><span class="na">getCurrentQuantity</span><span class="p">();</span>
<span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">afterQuantity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">beforeQuantity</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">difference</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// 在庫を更新</span>
<span class="w">        </span><span class="n">inventoryRepository</span><span class="p">.</span><span class="na">updateCurrentQuantity</span><span class="p">(</span>
<span class="w">                </span><span class="n">inventory</span><span class="p">.</span><span class="na">getId</span><span class="p">(),</span><span class="w"> </span><span class="n">afterQuantity</span><span class="p">,</span><span class="w"> </span><span class="n">detail</span><span class="p">.</span><span class="na">getDifferenceReason</span><span class="p">());</span>

<span class="w">        </span><span class="c1">// 入出庫履歴を記録</span>
<span class="w">        </span><span class="n">MovementType</span><span class="w"> </span><span class="n">movementType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">difference</span><span class="p">.</span><span class="na">signum</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span>
<span class="w">                </span><span class="o">?</span><span class="w"> </span><span class="n">MovementType</span><span class="p">.</span><span class="na">ADJUSTMENT_PLUS</span>
<span class="w">                </span><span class="p">:</span><span class="w"> </span><span class="n">MovementType</span><span class="p">.</span><span class="na">ADJUSTMENT_MINUS</span><span class="p">;</span>

<span class="w">        </span><span class="n">StockMovement</span><span class="w"> </span><span class="n">movement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StockMovement</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">warehouseCode</span><span class="p">(</span><span class="n">warehouseCode</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">productCode</span><span class="p">(</span><span class="n">detail</span><span class="p">.</span><span class="na">getProductCode</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">movementDateTime</span><span class="p">(</span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">movementType</span><span class="p">(</span><span class="n">movementType</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">movementQuantity</span><span class="p">(</span><span class="n">difference</span><span class="p">.</span><span class="na">abs</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">beforeQuantity</span><span class="p">(</span><span class="n">beforeQuantity</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">afterQuantity</span><span class="p">(</span><span class="n">afterQuantity</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">movementReason</span><span class="p">(</span><span class="n">detail</span><span class="p">.</span><span class="na">getDifferenceReason</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">locationCode</span><span class="p">(</span><span class="n">detail</span><span class="p">.</span><span class="na">getLocationCode</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">lotNumber</span><span class="p">(</span><span class="n">detail</span><span class="p">.</span><span class="na">getLotNumber</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">        </span><span class="n">stockMovementRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">movement</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// 調整済みフラグを更新</span>
<span class="w">        </span><span class="n">stocktakingRepository</span><span class="p">.</span><span class="na">markAsAdjusted</span><span class="p">(</span>
<span class="w">                </span><span class="n">detail</span><span class="p">.</span><span class="na">getStocktakingNumber</span><span class="p">(),</span><span class="w"> </span><span class="n">detail</span><span class="p">.</span><span class="na">getProductCode</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">Stocktaking</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByStocktakingNumber</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">stocktakingNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">stocktakingRepository</span><span class="p">.</span><span class="na">findByStocktakingNumber</span><span class="p">(</span><span class="n">stocktakingNumber</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">generateStocktakingNumber</span><span class="p">(</span><span class="n">LocalDate</span><span class="w"> </span><span class="n">stocktakingDate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;ST-&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">stocktakingDate</span><span class="p">.</span><span class="na">format</span><span class="p">(</span>
<span class="w">                </span><span class="n">DateTimeFormatter</span><span class="p">.</span><span class="na">ofPattern</span><span class="p">(</span><span class="s">&quot;yyyyMM&quot;</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;-&quot;</span><span class="p">;</span>
<span class="w">        </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">latestNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stocktakingRepository</span>
<span class="w">                </span><span class="p">.</span><span class="na">findLatestStocktakingNumber</span><span class="p">(</span><span class="n">prefix</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;%&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">sequence</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">latestNumber</span><span class="p">.</span><span class="na">isPresent</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">latest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">latestNumber</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">currentSequence</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Integer</span><span class="p">.</span><span class="na">parseInt</span><span class="p">(</span>
<span class="w">                    </span><span class="n">latest</span><span class="p">.</span><span class="na">substring</span><span class="p">(</span><span class="n">latest</span><span class="p">.</span><span class="na">length</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">4</span><span class="p">));</span>
<span class="w">            </span><span class="n">sequence</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">currentSequence</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;%04d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">sequence</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="93">9.3 リレーションと楽観ロックの設計<a class="headerlink" href="#93" title="Permanent link">&para;</a></h2>
<h3 id="mybatis-resultmap">MyBatis ネストした ResultMap による関連付け<a class="headerlink" href="#mybatis-resultmap" title="Permanent link">&para;</a></h3>
<p>棚卸データは、棚卸（ヘッダ）→ 棚卸明細の2層構造を持ちます。N+1 問題を回避するため、JOIN クエリで一括取得します。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjMzOHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NjA5cHg7aGVpZ2h0OjMzOHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDYwOSAzMzgiIHdpZHRoPSI2MDlweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPk4rMSAmIzIxODM5OyYjMzg5ODg7JiMxMjM5ODsmIzIyMjM4OyYjMzY5OTE7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA4LjA2MjIiIHg9IjI0My40Njg5IiB5PSIyMi45OTUxIj5OKzEgJiMyMTgzOTsmIzM4OTg4OyYjMTIzOTg7JiMyMjIzODsmIzM2OTkxOzwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgTisxID8/Pz8/Pz8tLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1lbnRpdHk9Ik4uMSAuLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIzIiBkYXRhLXVpZD0iZW50MDAwMiIgaWQ9ImNsdXN0ZXJfTi4xIC4uLi4uLi4iPjxyZWN0IGZpbGw9IiNGRkNDQ0MiIGhlaWdodD0iMjcyLjM3IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iMjcyIiB4PSI3IiB5PSI2MC41OTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzNi4wNjIxIiB4PSI3NC45NjkiIHk9Ijc1LjU5MiI+TisxICYjMjE4Mzk7JiMzODk4ODsmIzY1Mjg4OyYjMzg3NTA7JiMyMTE3NzsmIzI5NTc1OyYjNjUyODk7PC90ZXh0PjwvZz48IS0tY2x1c3RlciA/Pz8/Sk9JTj8/Pz8/Pz8tLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1lbnRpdHk9Ii4uLi5KT0lOLi4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iOCIgZGF0YS11aWQ9ImVudDAwMDUiIGlkPSJjbHVzdGVyXy4uLi5KT0lOLi4uLi4uLiI+PHJlY3QgZmlsbD0iI0NDRkZDQyIgaGVpZ2h0PSIxMzguNDgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIzMDAiIHg9IjMwMyIgeT0iNDQuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxODguMDM1NSIgeD0iMzU4Ljk4MjMiIHk9IjU5LjI5MiI+JiMzNTI5OTsmIzI3NzcwOyYjMzE1NzQ7JiM2NTMwNjtKT0lOJiMxMjM5NTsmIzEyNDI0OyYjMTI0Mjc7JiMxOTk2ODsmIzI1MzI0OyYjMjE0NjI7JiMyNDQ3MTs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgcTEtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0icTEiIGRhdGEtc291cmNlLWxpbmU9IjQiIGRhdGEtdWlkPSJlbnQwMDAzIiBpZD0iZW50aXR5X3ExIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjU0Ljg5MDYiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjIxMi44MzQ3IiB4PSIzNi41OCIgeT0iOTUuNTk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNS44MDcyIiB4PSI0Ni41OCIgeT0iMTExLjU5MiI+MS4gJiMyNjg0MjsmIzIxMzY4OyYjMTI1MDQ7JiMxMjQ4MzsmIzEyNDgwOyYjMjE0NjI7JiMyNDQ3MTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgzLjkzNDMiIHg9IjU1LjQ4MDQiIHk9IjEyNy44ODg5Ij5TRUxFQ1QgKiBGUk9NICYjMjY4NDI7JiMyMTM2ODsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzMuODMxIiB4PSI1NS40ODA0IiB5PSIxNDQuMTg1NyI+KDEmIzIyMjM4Oyk8L3RleHQ+PC9nPjwhLS1lbnRpdHkgcTItLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0icTIiIGRhdGEtc291cmNlLWxpbmU9IjUiIGRhdGEtdWlkPSJlbnQwMDA0IiBpZD0iZW50aXR5X3EyIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjcxLjE4NzUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjI0MC44MzQ1IiB4PSIyMi41OCIgeT0iMjQ1Ljc3NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjkuODA3MSIgeD0iMzIuNTgiIHk9IjI2MS43NzIiPjIuICYjMjE1MDg7JiMyNjg0MjsmIzIxMzY4OyYjMTIzOTg7JiMyNjEyNjsmIzMyMDQ4OyYjMjE0NjI7JiMyNDQ3MTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjExLjkzNDEiIHg9IjQxLjQ4MDQiIHk9IjI3OC4wNjg5Ij5TRUxFQ1QgKiBGUk9NICYjMjY4NDI7JiMyMTM2ODsmIzI2MTI2OyYjMzIwNDg7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0MC4zMDA1IiB4PSI0MS40ODA0IiB5PSIyOTQuMzY1NyI+V0hFUkUgJiMyNjg0MjsmIzIxMzY4OyYjMzAwNTg7JiMyMTQ5NTsgPSA/PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM1LjM5NjQiIHg9IjQxLjQ4MDQiIHk9IjMxMC42NjI2Ij4oTiYjMjIyMzg7KTwvdGV4dD48L2c+PCEtLWVudGl0eSBzb2wtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0ic29sIiBkYXRhLXNvdXJjZS1saW5lPSI5IiBkYXRhLXVpZD0iZW50MDAwNiIgaWQ9ImVudGl0eV9zb2wiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iODcuNDg0NCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMjY4LjY2MzYiIHg9IjMxOC42NyIgeT0iNzkuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMi42NTY5IiB4PSIzMjguNjciIHk9Ijk1LjI5MiI+MSYjMjIyMzg7JiMxMjM5ODtKT0lOJiMxMjQ2MzsmIzEyNDU2OyYjMTI1MjI7JiMxMjM5MTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMzI4LjY3IiB5PSIxMTEuNTg4OSI+JiMyMDg0MDsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsmIzEyNDM0OyYjMjE0NjI7JiMyNDQ3MTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIzLjQwOTIiIHg9IjMzNy41NzA0IiB5PSIxMjcuODg1NyI+U0VMRUNUIHN0LiosIHN0ZC4qPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMi41NjIyIiB4PSIzMzcuNTcwNCIgeT0iMTQ0LjE4MjYiPkZST00gJiMyNjg0MjsmIzIxMzY4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyBzdDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMzkuNzYzMiIgeD0iMzM3LjU3MDQiIHk9IjE2MC40Nzk1Ij5MRUZUIEpPSU4gJiMyNjg0MjsmIzIxMzY4OyYjMjYxMjY7JiMzMjA0ODsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsgc3RkIE9OIC4uLjwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkdNTjgiIGRhdGEtc291cmNlLWxpbmU9IjE0IiBkYXRhLXVpZD0iZW50MDAwOSIgaWQ9ImVudGl0eV9HTU44Ij48cGF0aCBkPSJNMjk4LjczLDI2MS4yMzY5IEwyOTguNzMsMjc3LjM3NjkgTDI2My42LDI4MS4zNzY5IEwyOTguNzMsMjg1LjM3NjkgTDI5OC43MywzMDEuNTAyNSBBMCwwIDAgMCAwIDI5OC43MywzMDEuNTAyNSBMNDUzLjI3MjEsMzAxLjUwMjUgQTAsMCAwIDAgMCA0NTMuMjcyMSwzMDEuNTAyNSBMNDUzLjI3MjEsMjcxLjIzNjkgTDQ0My4yNzIxLDI2MS4yMzY5IEwyOTguNzMsMjYxLjIzNjkgQTAsMCAwIDAgMCAyOTguNzMsMjYxLjIzNjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik00NDMuMjcyMSwyNjEuMjM2OSBMNDQzLjI3MjEsMjcxLjIzNjkgTDQ1My4yNzIxLDI3MS4yMzY5IEw0NDMuMjcyMSwyNjEuMjM2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIwLjU0MjEiIHg9IjMwNC43MyIgeT0iMjc4LjMwMzgiPjEwJiMyMDIxNDsmIzEyMzk4OyYjMjY4NDI7JiMyMTM2ODsmIzEyMzY0OyYjMTIzNTQ7JiMxMjQyODsmIzEyNDAwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzMuNTQyMSIgeD0iMzA0LjczIiB5PSIyOTMuNDM2NiI+JiMyMTUxMjsmIzM1MzM2OzExJiMyMjIzODsmIzEyMzk4OyYjMTI0NjM7JiMxMjQ1NjsmIzEyNTIyOyYjMzAzMzA7JiMzNDg5Mjs8L3RleHQ+PC9nPjwhLS1saW5rIHExIHRvIHEyLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9InExIiBkYXRhLWVudGl0eS0yPSJxMiIgZGF0YS1zb3VyY2UtbGluZT0iMTIiIGRhdGEtdWlkPSJsbms3IiBpZD0ibGlua19xMV9xMiI+PHBhdGggZD0iTTE0MywxNTAuOTE2OSBDMTQzLDE3Ny4wMTY5IDE0MywyMTAuNzg2OSAxNDMsMjM5LjM0NjkiIGZpbGw9Im5vbmUiIGlkPSJxMS10by1xMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTQzLDI0NS4zNDY5LDE0NywyMzYuMzQ2OSwxNDMsMjQwLjM0NjksMTM5LDIzNi4zNDY5LDE0MywyNDUuMzQ2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIyLjcyNDYiIHg9IjE0NCIgeT0iMjExLjg0MzgiPk4mIzIwMjE0OzwvdGV4dD48L2c+PCEtLVNSQz1bVlA5MUltOTE1Q1ZsLW9hVVRZZEJmVktPTDBUUGdSMExKRVpZSE5HcEdMUktsS05XeFhQUWNhZ1djUDRXN1hHaEN1V29hX21tdXhYd3lZaXFldWlZSU5EdVhfY18tUl90LXBEb0swdzk4QW5wV0ZGUEtJTURiMlAtQTgtSzdpRDRIUF9pYkc5NERpdHJTSlN2VVlwWndveXphblh0aHFvbU9oVlJvODRwbmtVRC1pNzRpSjJlYmwxRDZzYjVmNmI4WS1EaTBWX1NVSUkwOHp4MXN6blcxaGxCVUpYaElvMmpZekdVUkxaYm9GMHI0dFhaNEU0Q0dvaUJFN1RYRDJsREdKNlpseFYtenZwc0IzV1Z4XzRrdGYzclYwRGRGczRSVFlTcFhWYkNBdEUtbTNzaUxHVGw3VnNiQ0V3TTNmcHgwYkFVYTlmNFFnaFZaV3pJcHpDakkwT3M2cXJYZFc1bjlBakVOZ1lsSUFxWmhPNktjYVYyYl9OUExhWXpfS0NIYXJkcDFnYi1yYW5sYnlMNEwyZXZVQmlSdzgzYm9ERzNkMEFtQjNpWFl1TDM1MnQyV1NNb0dwWFgydUotem1TWlhNS0hlaTcwZ0dwWDR5aEZSUDloNmhFSERfYUdBYjk5Uko0dWJucE1hdm0xRG1GSnhwbDNJZmVIOUp6R2pyeTBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<details>
<summary>棚卸データのリレーション設定（StocktakingMapper.xml）</summary>

<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE mapper</span>
<span class="cp">        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
<span class="cp">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span>
<span class="nt">&lt;mapper</span><span class="w"> </span><span class="na">namespace=</span><span class="s">&quot;com.example.sms.infrastructure.persistence.mapper.StocktakingMapper&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- 棚卸（ヘッダ）の ResultMap --&gt;</span>
<span class="w">    </span><span class="nt">&lt;resultMap</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;StocktakingWithDetailsResultMap&quot;</span>
<span class="w">               </span><span class="na">type=</span><span class="s">&quot;com.example.sms.domain.model.inventory.Stocktaking&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;id</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;st_id&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;stocktakingNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;st_棚卸番号&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;warehouseCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;st_倉庫コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;stocktakingDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;st_棚卸日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;startDateTime&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;st_棚卸開始日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;endDateTime&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;st_棚卸終了日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;status&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;st_ステータス&quot;</span>
<span class="w">                </span><span class="na">typeHandler=</span><span class="s">&quot;com.example.sms.infrastructure.persistence.typehandler.StocktakingStatusTypeHandler&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;remarks&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;st_備考&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;version&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;st_バージョン&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;createdAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;st_作成日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;updatedAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;st_更新日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="cm">&lt;!-- 棚卸明細との1:N関連 --&gt;</span>
<span class="w">        </span><span class="nt">&lt;collection</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;details&quot;</span>
<span class="w">                    </span><span class="na">ofType=</span><span class="s">&quot;com.example.sms.domain.model.inventory.StocktakingDetail&quot;</span>
<span class="w">                    </span><span class="na">resultMap=</span><span class="s">&quot;StocktakingDetailNestedResultMap&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/resultMap&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- 棚卸明細のネスト ResultMap --&gt;</span>
<span class="w">    </span><span class="nt">&lt;resultMap</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;StocktakingDetailNestedResultMap&quot;</span>
<span class="w">               </span><span class="na">type=</span><span class="s">&quot;com.example.sms.domain.model.inventory.StocktakingDetail&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;id</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;std_id&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;stocktakingId&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;std_棚卸ID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;lineNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;std_棚卸行番号&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;productCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;std_商品コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;locationCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;std_ロケーションコード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;lotNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;std_ロット番号&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;bookQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;std_帳簿在庫数&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;actualQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;std_実棚数&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;differenceQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;std_差異数&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;differenceReason&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;std_差異理由&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;adjustedFlag&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;std_調整済フラグ&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/resultMap&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- JOIN による一括取得クエリ --&gt;</span>
<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findWithDetailsByStocktakingNumber&quot;</span>
<span class="w">            </span><span class="na">resultMap=</span><span class="s">&quot;StocktakingWithDetailsResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT
<span class="w">            </span>st.&quot;ID&quot;<span class="w"> </span>AS<span class="w"> </span>st_id,
<span class="w">            </span>st.&quot;棚卸番号&quot;<span class="w"> </span>AS<span class="w"> </span>st_棚卸番号,
<span class="w">            </span>st.&quot;倉庫コード&quot;<span class="w"> </span>AS<span class="w"> </span>st_倉庫コード,
<span class="w">            </span>st.&quot;棚卸日&quot;<span class="w"> </span>AS<span class="w"> </span>st_棚卸日,
<span class="w">            </span>st.&quot;棚卸開始日時&quot;<span class="w"> </span>AS<span class="w"> </span>st_棚卸開始日時,
<span class="w">            </span>st.&quot;棚卸終了日時&quot;<span class="w"> </span>AS<span class="w"> </span>st_棚卸終了日時,
<span class="w">            </span>st.&quot;ステータス&quot;<span class="w"> </span>AS<span class="w"> </span>st_ステータス,
<span class="w">            </span>st.&quot;備考&quot;<span class="w"> </span>AS<span class="w"> </span>st_備考,
<span class="w">            </span>st.&quot;バージョン&quot;<span class="w"> </span>AS<span class="w"> </span>st_バージョン,
<span class="w">            </span>st.&quot;作成日時&quot;<span class="w"> </span>AS<span class="w"> </span>st_作成日時,
<span class="w">            </span>st.&quot;更新日時&quot;<span class="w"> </span>AS<span class="w"> </span>st_更新日時,
<span class="w">            </span>std.&quot;ID&quot;<span class="w"> </span>AS<span class="w"> </span>std_id,
<span class="w">            </span>std.&quot;棚卸ID&quot;<span class="w"> </span>AS<span class="w"> </span>std_棚卸ID,
<span class="w">            </span>std.&quot;棚卸行番号&quot;<span class="w"> </span>AS<span class="w"> </span>std_棚卸行番号,
<span class="w">            </span>std.&quot;商品コード&quot;<span class="w"> </span>AS<span class="w"> </span>std_商品コード,
<span class="w">            </span>std.&quot;ロケーションコード&quot;<span class="w"> </span>AS<span class="w"> </span>std_ロケーションコード,
<span class="w">            </span>std.&quot;ロット番号&quot;<span class="w"> </span>AS<span class="w"> </span>std_ロット番号,
<span class="w">            </span>std.&quot;帳簿在庫数&quot;<span class="w"> </span>AS<span class="w"> </span>std_帳簿在庫数,
<span class="w">            </span>std.&quot;実棚数&quot;<span class="w"> </span>AS<span class="w"> </span>std_実棚数,
<span class="w">            </span>std.&quot;差異数&quot;<span class="w"> </span>AS<span class="w"> </span>std_差異数,
<span class="w">            </span>std.&quot;差異理由&quot;<span class="w"> </span>AS<span class="w"> </span>std_差異理由,
<span class="w">            </span>std.&quot;調整済フラグ&quot;<span class="w"> </span>AS<span class="w"> </span>std_調整済フラグ
<span class="w">        </span>FROM<span class="w"> </span>&quot;棚卸データ&quot;<span class="w"> </span>st
<span class="w">        </span>LEFT<span class="w"> </span>JOIN<span class="w"> </span>&quot;棚卸明細データ&quot;<span class="w"> </span>std
<span class="w">            </span>ON<span class="w"> </span>st.&quot;ID&quot;<span class="w"> </span>=<span class="w"> </span>std.&quot;棚卸ID&quot;
<span class="w">        </span>WHERE<span class="w"> </span>st.&quot;棚卸番号&quot;<span class="w"> </span>=<span class="w"> </span>#{stocktakingNumber}
<span class="w">        </span>ORDER<span class="w"> </span>BY<span class="w"> </span>std.&quot;棚卸行番号&quot;
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="nt">&lt;/mapper&gt;</span>
</code></pre></div>

</details>

<h3 id="_15">リレーション設定のポイント<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>設定項目</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;collection&gt;</code></td>
<td>1:N 関連のマッピング</td>
</tr>
<tr>
<td><code>&lt;id&gt;</code></td>
<td>主キーの識別（MyBatis が重複排除に使用）</td>
</tr>
<tr>
<td><code>resultMap</code></td>
<td>ネストした ResultMap の参照</td>
</tr>
<tr>
<td>エイリアス（AS）</td>
<td>カラム名の重複を避けるためのプレフィックス</td>
</tr>
<tr>
<td><code>ORDER BY</code></td>
<td>コレクションの順序を保証</td>
</tr>
</tbody>
</table>
<h3 id="optimistic-locking">楽観ロック（Optimistic Locking）の実装<a class="headerlink" href="#optimistic-locking" title="Permanent link">&para;</a></h3>
<p>複数ユーザーが同時に在庫データや棚卸データを編集する場合、データの整合性を保つために楽観ロックを実装します。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNFUVVFTkNFIiBoZWlnaHQ9IjU1MHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MzcxcHg7aGVpZ2h0OjU1MHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDM3MSA1NTAiIHdpZHRoPSIzNzFweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjcwMDU7JiMzNTI1MTsmIzEyNTI1OyYjMTI0ODM7JiMxMjQ2MzsmIzEyMzk4OyYjMjEyMDU7JiMyMDMxNjsmIzEyNDcxOyYjMTI1NDA7JiMxMjQ2NTsmIzEyNTMxOyYjMTI0NzM7PC90aXRsZT48ZGVmcy8+PGc+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4MS45OTkyIiB4PSI5Ni4xNjY4IiB5PSIyNy45OTUxIj4mIzI3MDA1OyYjMzUyNTE7JiMxMjUyNTsmIzEyNDgzOyYjMTI0NjM7JiMxMjM5ODsmIzIxMjA1OyYjMjAzMTY7JiMxMjQ3MTsmIzEyNTQwOyYjMTI0NjU7JiMxMjUzMTsmIzEyNDczOzwvdGV4dD48Zz48dGl0bGU+Li4uQTwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjM1MS40NjA5IiB3aWR0aD0iOCIgeD0iMjkuNzg4NSIgeT0iMTE4LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSIzMyIgeDI9IjMzIiB5MT0iMTE4LjU5MzgiIHkyPSI0NzAuMDU0NyIvPjwvZz48Zz48dGl0bGU+Li4uQjwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjM1MS40NjA5IiB3aWR0aD0iOCIgeD0iMTIxLjc4ODYiIHk9IjExOC41OTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LDU7IiB4MT0iMTI0Ljk4NjQiIHgyPSIxMjQuOTg2NCIgeTE9IjExOC41OTM4IiB5Mj0iNDcwLjA1NDciLz48L2c+PGc+PHRpdGxlPi4uLi4uLjwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjM1MS40NjA5IiB3aWR0aD0iOCIgeD0iMzIxLjMzMyIgeT0iMTE4LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSIzMjQuMzMzMiIgeDI9IjMyNC4zMzMyIiB5MT0iMTE4LjU5MzgiIHkyPSI0NzAuMDU0NyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1wYXJ0aWNpcGFudD0idXNlckEiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUxLjU3NyIgeD0iNSIgeT0iMTE1LjI5MiI+JiMyNTI4NTsmIzI0NDAzOyYjMzI3NzM7QTwvdGV4dD48ZWxsaXBzZSBjeD0iMzMuNzg4NSIgY3k9IjUwLjc5NjkiIGZpbGw9IiNFMkUyRjAiIHJ4PSI4IiByeT0iOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTMzLjc4ODUsNTguNzk2OSBMMzMuNzg4NSw4NS43OTY5IE0yMC43ODg1LDY2Ljc5NjkgTDQ2Ljc4ODUsNjYuNzk2OSBNMzMuNzg4NSw4NS43OTY5IEwyMC43ODg1LDEwMC43OTY5IE0zMy43ODg1LDg1Ljc5NjkgTDQ2Ljc4ODUsMTAwLjc5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1wYXJ0aWNpcGFudD0idXNlckEiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUxLjU3NyIgeD0iNSIgeT0iNDgyLjA0OTgiPiYjMjUyODU7JiMyNDQwMzsmIzMyNzczO0E8L3RleHQ+PGVsbGlwc2UgY3g9IjMzLjc4ODUiIGN5PSI0OTMuODUxNiIgZmlsbD0iI0UyRTJGMCIgcng9IjgiIHJ5PSI4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMzMuNzg4NSw1MDEuODUxNiBMMzMuNzg4NSw1MjguODUxNiBNMjAuNzg4NSw1MDkuODUxNiBMNDYuNzg4NSw1MDkuODUxNiBNMzMuNzg4NSw1MjguODUxNiBMMjAuNzg4NSw1NDMuODUxNiBNMzMuNzg4NSw1MjguODUxNiBMNDYuNzg4NSw1NDMuODUxNiIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC1oZWFkIiBkYXRhLXBhcnRpY2lwYW50PSJ1c2VyQiI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTEuNjA0MyIgeD0iOTYuOTg2NCIgeT0iMTE1LjI5MiI+JiMyNTI4NTsmIzI0NDAzOyYjMzI3NzM7QjwvdGV4dD48ZWxsaXBzZSBjeD0iMTI1Ljc4ODYiIGN5PSI1MC43OTY5IiBmaWxsPSIjRTJFMkYwIiByeD0iOCIgcnk9IjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0xMjUuNzg4Niw1OC43OTY5IEwxMjUuNzg4Niw4NS43OTY5IE0xMTIuNzg4Niw2Ni43OTY5IEwxMzguNzg4Niw2Ni43OTY5IE0xMjUuNzg4Niw4NS43OTY5IEwxMTIuNzg4NiwxMDAuNzk2OSBNMTI1Ljc4ODYsODUuNzk2OSBMMTM4Ljc4ODYsMTAwLjc5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1wYXJ0aWNpcGFudD0idXNlckIiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUxLjYwNDMiIHg9Ijk2Ljk4NjQiIHk9IjQ4Mi4wNDk4Ij4mIzI1Mjg1OyYjMjQ0MDM7JiMzMjc3MztCPC90ZXh0PjxlbGxpcHNlIGN4PSIxMjUuNzg4NiIgY3k9IjQ5My44NTE2IiBmaWxsPSIjRTJFMkYwIiByeD0iOCIgcnk9IjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0xMjUuNzg4Niw1MDEuODUxNiBMMTI1Ljc4ODYsNTI4Ljg1MTYgTTExMi43ODg2LDUwOS44NTE2IEwxMzguNzg4Niw1MDkuODUxNiBNMTI1Ljc4ODYsNTI4Ljg1MTYgTDExMi43ODg2LDU0My44NTE2IE0xMjUuNzg4Niw1MjguODUxNiBMMTM4Ljc4ODYsNTQzLjg1MTYiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1wYXJ0aWNpcGFudD0iZGIiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjI4MC4zMzMyIiB5PSIxMTUuMjkyIj4mIzIyMzEyOyYjMjQyMzU7JiMxMjQ4NjsmIzEyNTQwOyYjMTI1MDI7JiMxMjUyMzs8L3RleHQ+PHBhdGggZD0iTTMwNy4zMzMsNjYuMjk2OSBDMzA3LjMzMyw1Ni4yOTY5IDMyNS4zMzMsNTYuMjk2OSAzMjUuMzMzLDU2LjI5NjkgQzMyNS4zMzMsNTYuMjk2OSAzNDMuMzMzLDU2LjI5NjkgMzQzLjMzMyw2Ni4yOTY5IEwzNDMuMzMzLDkyLjI5NjkgQzM0My4zMzMsMTAyLjI5NjkgMzI1LjMzMywxMDIuMjk2OSAzMjUuMzMzLDEwMi4yOTY5IEMzMjUuMzMzLDEwMi4yOTY5IDMwNy4zMzMsMTAyLjI5NjkgMzA3LjMzMyw5Mi4yOTY5IEwzMDcuMzMzLDY2LjI5NjkiIGZpbGw9IiNFMkUyRjAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0zMDcuMzMzLDY2LjI5NjkgQzMwNy4zMzMsNzYuMjk2OSAzMjUuMzMzLDc2LjI5NjkgMzI1LjMzMyw3Ni4yOTY5IEMzMjUuMzMzLDc2LjI5NjkgMzQzLjMzMyw3Ni4yOTY5IDM0My4zMzMsNjYuMjk2OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLXBhcnRpY2lwYW50PSJkYiI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMjgwLjMzMzIiIHk9IjQ4Mi4wNDk4Ij4mIzIyMzEyOyYjMjQyMzU7JiMxMjQ4NjsmIzEyNTQwOyYjMTI1MDI7JiMxMjUyMzs8L3RleHQ+PHBhdGggZD0iTTMwNy4zMzMsNDk1LjM1MTYgQzMwNy4zMzMsNDg1LjM1MTYgMzI1LjMzMyw0ODUuMzUxNiAzMjUuMzMzLDQ4NS4zNTE2IEMzMjUuMzMzLDQ4NS4zNTE2IDM0My4zMzMsNDg1LjM1MTYgMzQzLjMzMyw0OTUuMzUxNiBMMzQzLjMzMyw1MjEuMzUxNiBDMzQzLjMzMyw1MzEuMzUxNiAzMjUuMzMzLDUzMS4zNTE2IDMyNS4zMzMsNTMxLjM1MTYgQzMyNS4zMzMsNTMxLjM1MTYgMzA3LjMzMyw1MzEuMzUxNiAzMDcuMzMzLDUyMS4zNTE2IEwzMDcuMzMzLDQ5NS4zNTE2IiBmaWxsPSIjRTJFMkYwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMzA3LjMzMyw0OTUuMzUxNiBDMzA3LjMzMyw1MDUuMzUxNiAzMjUuMzMzLDUwNS4zNTE2IDMyNS4zMzMsNTA1LjM1MTYgQzMyNS4zMzMsNTA1LjM1MTYgMzQzLjMzMyw1MDUuMzUxNiAzNDMuMzMzLDQ5NS4zNTE2IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0idXNlckEiIGRhdGEtcGFydGljaXBhbnQtMj0iZGIiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzEzLjMzMywxNDUuNzI2NiwzMjMuMzMzLDE0OS43MjY2LDMxMy4zMzMsMTUzLjcyNjYsMzE3LjMzMywxNDkuNzI2NiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMy43ODg1IiB4Mj0iMzE5LjMzMyIgeTE9IjE0OS43MjY2IiB5Mj0iMTQ5LjcyNjYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDEuNzE3OCIgeD0iNDAuNzg4NSIgeT0iMTQ0LjY2MDYiPlNFTEVDVCYjNjUyODg7dmVyc2lvbj0xJiM2NTI4OTs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9InVzZXJCIiBkYXRhLXBhcnRpY2lwYW50LTI9ImRiIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMxMy4zMzMsMTc0Ljg1OTQsMzIzLjMzMywxNzguODU5NCwzMTMuMzMzLDE4Mi44NTk0LDMxNy4zMzMsMTc4Ljg1OTQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTI1Ljc4ODYiIHgyPSIzMTkuMzMzIiB5MT0iMTc4Ljg1OTQiIHkyPSIxNzguODU5NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0MS43MTc4IiB4PSIxMzIuNzg4NiIgeT0iMTczLjc5MzUiPlNFTEVDVCYjNjUyODg7dmVyc2lvbj0xJiM2NTI4OTs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9InVzZXJBIiBkYXRhLXBhcnRpY2lwYW50LTI9InVzZXJBIj48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzMuNzg4NSIgeDI9Ijc1Ljc4ODUiIHkxPSIyMDcuOTkyMiIgeTI9IjIwNy45OTIyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijc1Ljc4ODUiIHgyPSI3NS43ODg1IiB5MT0iMjA3Ljk5MjIiIHkyPSIyMjAuOTkyMiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzNC43ODg1IiB4Mj0iNzUuNzg4NSIgeTE9IjIyMC45OTIyIiB5Mj0iMjIwLjk5MjIiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjQ0Ljc4ODUsMjE2Ljk5MjIsMzQuNzg4NSwyMjAuOTkyMiw0NC43ODg1LDIyNC45OTIyLDQwLjc4ODUsMjIwLjk5MjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OC4wMDAxIiB4PSI0MC43ODg1IiB5PSIyMDIuOTI2MyI+JiMyMjMxMjsmIzI0MjM1OyYjMjU5Njg7JiMxMjQzNDsmIzMyMjMyOyYjMzg1OTg7PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJ1c2VyQiIgZGF0YS1wYXJ0aWNpcGFudC0yPSJ1c2VyQiI+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEyNS43ODg2IiB4Mj0iMTY3Ljc4ODYiIHkxPSIyNTAuMTI1IiB5Mj0iMjUwLjEyNSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNjcuNzg4NiIgeDI9IjE2Ny43ODg2IiB5MT0iMjUwLjEyNSIgeTI9IjI2My4xMjUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTI2Ljc4ODYiIHgyPSIxNjcuNzg4NiIgeTE9IjI2My4xMjUiIHkyPSIyNjMuMTI1Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMzYuNzg4NiwyNTkuMTI1LDEyNi43ODg2LDI2My4xMjUsMTM2Ljc4ODYsMjY3LjEyNSwxMzIuNzg4NiwyNjMuMTI1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzguMDAwMSIgeD0iMTMyLjc4ODYiIHk9IjI0NS4wNTkxIj4mIzIyMzEyOyYjMjQyMzU7JiMyNTk2ODsmIzEyNDM0OyYjMzIyMzI7JiMzODU5ODs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9InVzZXJBIiBkYXRhLXBhcnRpY2lwYW50LTI9ImRiIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMxMy4zMzMsMzAzLjM5MDYsMzIzLjMzMywzMDcuMzkwNiwzMTMuMzMzLDMxMS4zOTA2LDMxNy4zMzMsMzA3LjM5MDYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzMuNzg4NSIgeDI9IjMxOS4zMzMiIHkxPSIzMDcuMzkwNiIgeTI9IjMwNy4zOTA2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTc1LjU0NDQiIHg9IjQwLjc4ODUiIHk9IjI4Ny4xOTE5Ij5VUERBVEUgV0hFUkUgdmVyc2lvbj0xPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNC45MzQ2IiB4PSI0MC43ODg1IiB5PSIzMDIuMzI0NyI+JiM4NTk0OyB2ZXJzaW9uPTIgJiMxMjM5NTsmIzI2MzU2OyYjMjYwMzI7PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJkYiIgZGF0YS1wYXJ0aWNpcGFudC0yPSJ1c2VyQSI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0NC43ODg1LDMzMi41MjM0LDM0Ljc4ODUsMzM2LjUyMzQsNDQuNzg4NSwzNDAuNTIzNCw0MC43ODg1LDMzNi41MjM0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjM4Ljc4ODUiIHgyPSIzMjQuMzMzIiB5MT0iMzM2LjUyMzQiIHkyPSIzMzYuNTIzNCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk5LjI3MTEiIHg9IjUwLjc4ODUiIHk9IjMzMS40NTc1Ij4mIzI2MzU2OyYjMjYwMzI7JiMyNTEwNDsmIzIxMTUxOyYjNjUyODg7MSYjMzQ4OTI7JiM2NTI4OTs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9InVzZXJCIiBkYXRhLXBhcnRpY2lwYW50LTI9ImRiIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMxMy4zMzMsMzYxLjY1NjMsMzIzLjMzMywzNjUuNjU2MywzMTMuMzMzLDM2OS42NTYzLDMxNy4zMzMsMzY1LjY1NjMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTI1Ljc4ODYiIHgyPSIzMTkuMzMzIiB5MT0iMzY1LjY1NjMiIHkyPSIzNjUuNjU2MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE3NS41NDQ0IiB4PSIxMzIuNzg4NiIgeT0iMzYwLjU5MDMiPlVQREFURSBXSEVSRSB2ZXJzaW9uPTE8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9ImRiIiBkYXRhLXBhcnRpY2lwYW50LTI9InVzZXJCIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjEzNi43ODg2LDQwNS45MjE5LDEyNi43ODg2LDQwOS45MjE5LDEzNi43ODg2LDQxMy45MjE5LDEzMi43ODg2LDQwOS45MjE5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEzMC43ODg2IiB4Mj0iMzI0LjMzMyIgeTE9IjQwOS45MjE5IiB5Mj0iNDA5LjkyMTkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5OS4yNzExIiB4PSIxNDIuNzg4NiIgeT0iMzg5LjcyMzEiPiYjMjYzNTY7JiMyNjAzMjsmIzIyODMzOyYjMjU5NDM7JiM2NTI4ODswJiMzNDg5MjsmIzY1Mjg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MS4wMDAxIiB4PSIxNDIuNzg4NiIgeT0iNDA0Ljg1NiI+JiMyNzAwNTsmIzM1MjUxOyYjMTI1MjU7JiMxMjQ4MzsmIzEyNDYzOyYjMjAzNjM7JiMyMjgwNjs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9InVzZXJCIiBkYXRhLXBhcnRpY2lwYW50LTI9InVzZXJCIj48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTI1Ljc4ODYiIHgyPSIxNjcuNzg4NiIgeTE9IjQzOS4wNTQ3IiB5Mj0iNDM5LjA1NDciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTY3Ljc4ODYiIHgyPSIxNjcuNzg4NiIgeTE9IjQzOS4wNTQ3IiB5Mj0iNDUyLjA1NDciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTI2Ljc4ODYiIHgyPSIxNjcuNzg4NiIgeTE9IjQ1Mi4wNTQ3IiB5Mj0iNDUyLjA1NDciLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjEzNi43ODg2LDQ0OC4wNTQ3LDEyNi43ODg2LDQ1Mi4wNTQ3LDEzNi43ODg2LDQ1Ni4wNTQ3LDEzMi43ODg2LDQ1Mi4wNTQ3IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA0LjAwMDEiIHg9IjEzMi43ODg2IiB5PSI0MzMuOTg4OCI+JiMyMDg3NzsmIzM1NTAxOyYjMTI0MTU7JiMzNjc5NjsmIzEyNDE1OyYjMTI0MzQ7JiMyMDQxOTsmIzEyMzc3OzwvdGV4dD48L2c+PCEtLVNSQz1bQXlhaW9LYkxVQlBxeHVqYmNueXRodHRTdEZvdVFWdFpuZExGa3dTLXNKbGRTVEZzbnlyeDdaVGpWRG95LU43SkpZd2tuRUlJXzI4NWZNVlRoS190SmR4SHFFZ2VmOTFPaDUxUWQ1aGFZMjdkMTlUcHVhZjlCNGJDSVluRUxMMXdFY1Y1cXJzaDdwVXRXR25rZGxRdVVKTE9NS2VJNW5WTzYwTFRFbzE3bUtlWHNETjdySmRhX1B3RWlqSVl1aXB5RjVsM3p0aXdtTWdTWTUwM0RXVjJpNUEwc0ZiaXdlUjdKUEVVUnJfblNkT1JtWG04MHdTUVg3ajIwcm1TR3JtTG1aclNXcm1MdUZSNXYzcmdjbUpkNllheVJicHpSRlFNUHpDc1MwNHI4SmExOGxZaU95QkpobGIwem5nLU1EWTN3SHRpTFkyUHYwR3R3VWNJWlMtY0pXVVFQMDBuQUlPRkJHd1Z4RWota2NHUTVkLXN6UnZPalZQbnVfdU4tX08wSVExbGQtbmxWam11NG0wMF0tLT48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_16">バージョンカラムによる同時更新制御<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<details>
<summary>楽観ロック対応の MyBatis Mapper</summary>

<div class="highlight"><pre><span></span><code><span class="cm">&lt;!-- 楽観ロック対応の在庫更新 --&gt;</span>
<span class="nt">&lt;update</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;updateWithOptimisticLock&quot;</span>
<span class="w">        </span><span class="na">parameterType=</span><span class="s">&quot;com.example.sms.domain.model.inventory.Inventory&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span>UPDATE<span class="w"> </span>&quot;在庫データ&quot;
<span class="w">    </span>SET
<span class="w">        </span>&quot;現在庫数&quot;<span class="w"> </span>=<span class="w"> </span>#{currentQuantity},
<span class="w">        </span>&quot;引当数&quot;<span class="w"> </span>=<span class="w"> </span>#{allocatedQuantity},
<span class="w">        </span>&quot;発注残数&quot;<span class="w"> </span>=<span class="w"> </span>#{orderedQuantity},
<span class="w">        </span>&quot;最終入庫日&quot;<span class="w"> </span>=<span class="w"> </span>#{lastReceiptDate},
<span class="w">        </span>&quot;最終出庫日&quot;<span class="w"> </span>=<span class="w"> </span>#{lastShipmentDate},
<span class="w">        </span>&quot;更新日時&quot;<span class="w"> </span>=<span class="w"> </span>CURRENT_TIMESTAMP,
<span class="w">        </span>&quot;バージョン&quot;<span class="w"> </span>=<span class="w"> </span>&quot;バージョン&quot;<span class="w"> </span>+<span class="w"> </span>1
<span class="w">    </span>WHERE<span class="w"> </span>&quot;ID&quot;<span class="w"> </span>=<span class="w"> </span>#{id}
<span class="w">    </span>AND<span class="w"> </span>&quot;バージョン&quot;<span class="w"> </span>=<span class="w"> </span>#{version}
<span class="nt">&lt;/update&gt;</span>

<span class="cm">&lt;!-- 楽観ロック対応の棚卸更新 --&gt;</span>
<span class="nt">&lt;update</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;updateStocktakingWithOptimisticLock&quot;</span>
<span class="w">        </span><span class="na">parameterType=</span><span class="s">&quot;com.example.sms.domain.model.inventory.Stocktaking&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span>UPDATE<span class="w"> </span>&quot;棚卸データ&quot;
<span class="w">    </span>SET
<span class="w">        </span>&quot;ステータス&quot;<span class="w"> </span>=<span class="w"> </span>#{status,
<span class="w">            </span>typeHandler=com.example.sms.infrastructure.persistence.typehandler.StocktakingStatusTypeHandler}::棚卸ステータス,
<span class="w">        </span>&quot;棚卸終了日時&quot;<span class="w"> </span>=<span class="w"> </span>#{endDateTime},
<span class="w">        </span>&quot;備考&quot;<span class="w"> </span>=<span class="w"> </span>#{remarks},
<span class="w">        </span>&quot;更新日時&quot;<span class="w"> </span>=<span class="w"> </span>CURRENT_TIMESTAMP,
<span class="w">        </span>&quot;バージョン&quot;<span class="w"> </span>=<span class="w"> </span>&quot;バージョン&quot;<span class="w"> </span>+<span class="w"> </span>1
<span class="w">    </span>WHERE<span class="w"> </span>&quot;棚卸番号&quot;<span class="w"> </span>=<span class="w"> </span>#{stocktakingNumber}
<span class="w">    </span>AND<span class="w"> </span>&quot;バージョン&quot;<span class="w"> </span>=<span class="w"> </span>#{version}
<span class="nt">&lt;/update&gt;</span>
</code></pre></div>

</details>

<details>
<summary>Repository 実装：楽観ロック対応</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sales/infrastructure/persistence/repository/InventoryRepositoryImpl.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.infrastructure.persistence.repository</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sms.application.port.out.InventoryRepository</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sms.domain.exception.OptimisticLockException</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.inventory.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sms.infrastructure.persistence.mapper.InventoryMapper</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Repository</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.transaction.annotation.Transactional</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Optional</span><span class="p">;</span>

<span class="nd">@Repository</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">InventoryRepositoryImpl</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">InventoryRepository</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">InventoryMapper</span><span class="w"> </span><span class="n">inventoryMapper</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">save</span><span class="p">(</span><span class="n">Inventory</span><span class="w"> </span><span class="n">inventory</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">inventoryMapper</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">inventory</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByWarehouseAndProduct</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">warehouseCode</span><span class="p">,</span>
<span class="w">                                                          </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;</span><span class="w"> </span><span class="n">inventories</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryMapper</span>
<span class="w">                </span><span class="p">.</span><span class="na">findByWarehouseAndProduct</span><span class="p">(</span><span class="n">warehouseCode</span><span class="p">,</span><span class="w"> </span><span class="n">productCode</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">inventories</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">()</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">Optional</span><span class="p">.</span><span class="na">empty</span><span class="p">()</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">inventories</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByWarehouseCode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">warehouseCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">inventoryMapper</span><span class="p">.</span><span class="na">findByWarehouseCode</span><span class="p">(</span><span class="n">warehouseCode</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByProductCode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">inventoryMapper</span><span class="p">.</span><span class="na">findByProductCode</span><span class="p">(</span><span class="n">productCode</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 楽観ロック対応の更新</span>
<span class="cm">     * @throws OptimisticLockException 他のユーザーによって更新された場合</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="n">Inventory</span><span class="w"> </span><span class="n">inventory</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">updatedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryMapper</span><span class="p">.</span><span class="na">updateWithOptimisticLock</span><span class="p">(</span><span class="n">inventory</span><span class="p">);</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">updatedCount</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Integer</span><span class="w"> </span><span class="n">currentVersion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryMapper</span><span class="p">.</span><span class="na">findVersionById</span><span class="p">(</span><span class="n">inventory</span><span class="p">.</span><span class="na">getId</span><span class="p">());</span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">currentVersion</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OptimisticLockException</span><span class="p">(</span><span class="s">&quot;在庫&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">inventory</span><span class="p">.</span><span class="na">getId</span><span class="p">().</span><span class="na">toString</span><span class="p">());</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OptimisticLockException</span><span class="p">(</span>
<span class="w">                        </span><span class="s">&quot;在庫&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="n">inventory</span><span class="p">.</span><span class="na">getId</span><span class="p">().</span><span class="na">toString</span><span class="p">(),</span>
<span class="w">                        </span><span class="n">inventory</span><span class="p">.</span><span class="na">getVersion</span><span class="p">(),</span>
<span class="w">                        </span><span class="n">currentVersion</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">allocate</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">quantity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryMapper</span><span class="p">.</span><span class="na">allocate</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">quantity</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">updated</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalStateException</span><span class="p">(</span><span class="s">&quot;引当に失敗しました。有効在庫不足の可能性があります。&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">deallocate</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">quantity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryMapper</span><span class="p">.</span><span class="na">deallocate</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">quantity</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">updated</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalStateException</span><span class="p">(</span><span class="s">&quot;引当解除に失敗しました。&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">receive</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">quantity</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">receiptDate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">inventoryMapper</span><span class="p">.</span><span class="na">receive</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">quantity</span><span class="p">,</span><span class="w"> </span><span class="n">receiptDate</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">ship</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">quantity</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">shipmentDate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryMapper</span><span class="p">.</span><span class="na">ship</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">quantity</span><span class="p">,</span><span class="w"> </span><span class="n">shipmentDate</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">updated</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalStateException</span><span class="p">(</span><span class="s">&quot;出庫に失敗しました。在庫不足の可能性があります。&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">updateCurrentQuantity</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">newQuantity</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">reason</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">inventoryMapper</span><span class="p">.</span><span class="na">updateCurrentQuantity</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">newQuantity</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="_17">楽観ロックのテスト<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h3>
<details>
<summary>楽観ロックのテストコード</summary>

<div class="highlight"><pre><span></span><code><span class="nd">@Nested</span>
<span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;楽観ロックの在庫更新テスト&quot;</span><span class="p">)</span>
<span class="kd">class</span> <span class="nc">OptimisticLockInventoryTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;正しいバージョンで更新できる&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldUpdateWithCorrectVersion</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Given: 在庫を登録</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">inventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createTestInventory</span><span class="p">(</span><span class="s">&quot;WH001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PROD-001&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">inventoryRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">inventory</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// When: バージョン1で更新</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryRepository</span>
<span class="w">                </span><span class="p">.</span><span class="na">findByWarehouseAndProduct</span><span class="p">(</span><span class="s">&quot;WH001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PROD-001&quot;</span><span class="p">).</span><span class="na">orElseThrow</span><span class="p">();</span>
<span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">saved</span><span class="p">.</span><span class="na">getVersion</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w">        </span><span class="n">saved</span><span class="p">.</span><span class="na">setCurrentQuantity</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;150&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">inventoryRepository</span><span class="p">.</span><span class="na">update</span><span class="p">(</span><span class="n">saved</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Then: バージョンが2に増加</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryRepository</span>
<span class="w">                </span><span class="p">.</span><span class="na">findByWarehouseAndProduct</span><span class="p">(</span><span class="s">&quot;WH001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PROD-001&quot;</span><span class="p">).</span><span class="na">orElseThrow</span><span class="p">();</span>
<span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">updated</span><span class="p">.</span><span class="na">getVersion</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">updated</span><span class="p">.</span><span class="na">getCurrentQuantity</span><span class="p">()).</span><span class="na">isEqualByComparingTo</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;150&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;古いバージョンで更新すると楽観ロック例外がスローされる&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldThrowOptimisticLockExceptionWithOldVersion</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Given: 在庫を登録して、別のセッションで更新</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">inventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createTestInventory</span><span class="p">(</span><span class="s">&quot;WH001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PROD-002&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">inventoryRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">inventory</span><span class="p">);</span>

<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">sessionA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryRepository</span>
<span class="w">                </span><span class="p">.</span><span class="na">findByWarehouseAndProduct</span><span class="p">(</span><span class="s">&quot;WH001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PROD-002&quot;</span><span class="p">).</span><span class="na">orElseThrow</span><span class="p">();</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">sessionB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryRepository</span>
<span class="w">                </span><span class="p">.</span><span class="na">findByWarehouseAndProduct</span><span class="p">(</span><span class="s">&quot;WH001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PROD-002&quot;</span><span class="p">).</span><span class="na">orElseThrow</span><span class="p">();</span>

<span class="w">        </span><span class="c1">// セッションAで更新</span>
<span class="w">        </span><span class="n">sessionA</span><span class="p">.</span><span class="na">setCurrentQuantity</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;200&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">inventoryRepository</span><span class="p">.</span><span class="na">update</span><span class="p">(</span><span class="n">sessionA</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// When/Then: セッションBで更新すると例外</span>
<span class="w">        </span><span class="n">sessionB</span><span class="p">.</span><span class="na">setCurrentQuantity</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;300&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">assertThatThrownBy</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">inventoryRepository</span><span class="p">.</span><span class="na">update</span><span class="p">(</span><span class="n">sessionB</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">isInstanceOf</span><span class="p">(</span><span class="n">OptimisticLockException</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">hasMessageContaining</span><span class="p">(</span><span class="s">&quot;他のユーザーによって更新されました&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="_18">楽観ロックのベストプラクティス<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>ポイント</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>バージョンカラム</strong></td>
<td>INTEGER 型で十分（オーバーフローは現実的に発生しない）</td>
</tr>
<tr>
<td><strong>WHERE 条件</strong></td>
<td>必ず <code>AND "バージョン" = #{version}</code> を含める</td>
</tr>
<tr>
<td><strong>インクリメント</strong></td>
<td><code>"バージョン" = "バージョン" + 1</code> でアトミックに更新</td>
</tr>
<tr>
<td><strong>例外処理</strong></td>
<td>更新件数が0の場合は楽観ロック例外をスロー</td>
</tr>
<tr>
<td><strong>エラーメッセージ</strong></td>
<td>ユーザーにわかりやすいメッセージで再読み込みを促す</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="9_1">第9章のまとめ<a class="headerlink" href="#9_1" title="Permanent link">&para;</a></h2>
<p>本章では、在庫管理の核心部分である在庫情報管理、入出庫履歴、棚卸処理について学びました。</p>
<h3 id="_19">学んだこと<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>在庫数量の種類</strong></li>
<li>
<p>現在庫数、引当数、有効在庫数、発注残数の関係</p>
</li>
<li>
<p><strong>倉庫・ロケーション管理</strong></p>
</li>
<li>倉庫マスタの設計</li>
<li>
<p>ロケーションによる細かな在庫管理</p>
</li>
<li>
<p><strong>入出庫履歴の設計</strong></p>
</li>
<li>移動区分による分類</li>
<li>
<p>トレーサビリティの確保</p>
</li>
<li>
<p><strong>棚卸業務の設計</strong></p>
</li>
<li>帳簿在庫と実棚の差異管理</li>
<li>
<p>在庫調整処理</p>
</li>
<li>
<p><strong>リレーションと楽観ロック</strong></p>
</li>
<li>N+1 問題の回避</li>
<li>同時更新の競合制御</li>
</ol>
<h3 id="er_1">在庫管理の ER 図（全体像）<a class="headerlink" href="#er_1" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjYwOHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NjkzcHg7aGVpZ2h0OjYwOHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDY5MyA2MDgiIHdpZHRoPSI2OTNweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjIzMTI7JiMyNDIzNTsmIzMxNjQ5OyYjMjk3MDI7JiMxMjM5ODtFUiYjMjIyNTk7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA0LjM0MzQiIHg9IjI4Ny42MjgxIiB5PSIyMi45OTUxIj4mIzIyMzEyOyYjMjQyMzU7JiMzMTY0OTsmIzI5NzAyOyYjMTIzOTg7RVImIzIyMjU5OzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9Ii4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIzIiBkYXRhLXVpZD0iZW50MDAwMiIgaWQ9ImVudGl0eV8uLi4uLiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI5Ni44OTA2IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjEuMjAzOCIgeD0iMjMzIiB5PSI0NC4yOTY5Ii8+PGVsbGlwc2UgY3g9IjI1Ni42NDE4IiBjeT0iNjAuMjk2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMjYwLjc1MTIsNjYuMjk2OSBMMjUzLjAzMjUsNjYuMjk2OSBMMjUzLjAzMjUsNTMuOTA2MyBMMjYwLjc1MTIsNTMuOTA2MyBMMjYwLjc1MTIsNTYuMDYyNSBMMjU1LjQ4NTYsNTYuMDYyNSBMMjU1LjQ4NTYsNTguNzM0NCBMMjYwLjI1MTIsNTguNzM0NCBMMjYwLjI1MTIsNjAuODkwNiBMMjU1LjQ4NTYsNjAuODkwNiBMMjU1LjQ4NTYsNjQuMTQwNiBMMjYwLjc1MTIsNjQuMTQwNiBMMjYwLjc1MTIsNjYuMjk2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjI3Mi41NjIzIiB5PSI2NS4xNDM2Ij4mIzIwNDg5OyYjMjQyMzU7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjIzNCIgeDI9IjM1My4yMDM4IiB5MT0iNzYuMjk2OSIgeTI9Ijc2LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDkuMjAzOCIgeD0iMjM5IiB5PSI5My4yOTIiPiYjMjA0ODk7JiMyNDIzNTsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7UEsmIzE4Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIzNCIgeDI9IjM1My4yMDM4IiB5MT0iMTAwLjU5MzgiIHkyPSIxMDAuNTkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjk5OTgiIHg9IjIzOSIgeT0iMTE3LjU4ODkiPiYjMjA0ODk7JiMyNDIzNTsmIzIxNTE3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIyMzkiIHk9IjEzMy44ODU3Ij4mIzIwNDg5OyYjMjQyMzU7JiMyMTMwNjsmIzIwOTk4OzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSIuLi4uLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjEwIiBkYXRhLXVpZD0iZW50MDAwMyIgaWQ9ImVudGl0eV8uLi4uLi4uLi4iPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTEzLjE4NzUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE3Ny4yMDM2IiB4PSI3IiB5PSIyMTcuNDc2OSIvPjxlbGxpcHNlIGN4PSIzMC42NDE4IiBjeT0iMjMzLjQ3NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTM0Ljc1MTIsMjM5LjQ3NjkgTDI3LjAzMjUsMjM5LjQ3NjkgTDI3LjAzMjUsMjI3LjA4NjMgTDM0Ljc1MTIsMjI3LjA4NjMgTDM0Ljc1MTIsMjI5LjI0MjUgTDI5LjQ4NTYsMjI5LjI0MjUgTDI5LjQ4NTYsMjMxLjkxNDQgTDM0LjI1MTIsMjMxLjkxNDQgTDM0LjI1MTIsMjM0LjA3MDYgTDI5LjQ4NTYsMjM0LjA3MDYgTDI5LjQ4NTYsMjM3LjMyMDYgTDM0Ljc1MTIsMjM3LjMyMDYgTDM0Ljc1MTIsMjM5LjQ3NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjUuOTk5NSIgeD0iNDYuNTYyMyIgeT0iMjM4LjMyMzYiPiYjMTI1MjU7JiMxMjQ2NTsmIzEyNTQwOyYjMTI0NzE7JiMxMjUxOTsmIzEyNTMxOyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI4IiB4Mj0iMTgzLjIwMzYiIHkxPSIyNDkuNDc2OSIgeTI9IjI0OS40NzY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY1LjIwMzYiIHg9IjEzIiB5PSIyNjYuNDcyIj4mIzEyNTI1OyYjMTI0NjU7JiMxMjU0MDsmIzEyNDcxOyYjMTI1MTk7JiMxMjUzMTsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7UEsmIzE4Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjgiIHgyPSIxODMuMjAzNiIgeTE9IjI3My43NzM4IiB5Mj0iMjczLjc3MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDguODE0MSIgeD0iMTMiIHk9IjI5MC43Njg5Ij4mIzIwNDg5OyYjMjQyMzU7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7ICYjMTcxO0ZLJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ljk5OTkiIHg9IjEzIiB5PSIzMDcuMDY1NyI+JiMyNjg0MjsmIzMwMDU4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIxMyIgeT0iMzIzLjM2MjYiPiYjMTI0Nzg7JiMxMjU0MDsmIzEyNTMxOzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9Ii4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIxOCIgZGF0YS11aWQ9ImVudDAwMDQiIGlkPSJlbnRpdHlfLi4uLi4iPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iODAuNTkzOCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTIxLjIwMzgiIHg9IjQ0NiIgeT0iMjMzLjc3NjkiLz48ZWxsaXBzZSBjeD0iNDY5LjY0MTgiIGN5PSIyNDkuNzc2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNNDczLjc1MTIsMjU1Ljc3NjkgTDQ2Ni4wMzI1LDI1NS43NzY5IEw0NjYuMDMyNSwyNDMuMzg2MyBMNDczLjc1MTIsMjQzLjM4NjMgTDQ3My43NTEyLDI0NS41NDI1IEw0NjguNDg1NiwyNDUuNTQyNSBMNDY4LjQ4NTYsMjQ4LjIxNDQgTDQ3My4yNTEyLDI0OC4yMTQ0IEw0NzMuMjUxMiwyNTAuMzcwNiBMNDY4LjQ4NTYsMjUwLjM3MDYgTDQ2OC40ODU2LDI1My42MjA2IEw0NzMuNzUxMiwyNTMuNjIwNiBMNDczLjc1MTIsMjU1Ljc3NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSI0ODUuNTYyMyIgeT0iMjU0LjYyMzYiPiYjMjE4MzA7JiMyMTY5NzsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNDQ3IiB4Mj0iNTY2LjIwMzgiIHkxPSIyNjUuNzc2OSIgeTI9IjI2NS43NzY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA5LjIwMzgiIHg9IjQ1MiIgeT0iMjgyLjc3MiI+JiMyMTgzMDsmIzIxNjk3OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDQ3IiB4Mj0iNTY2LjIwMzgiIHkxPSIyOTAuMDczOCIgeTI9IjI5MC4wNzM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iNDUyIiB5PSIzMDcuMDY4OSI+JiMyMTgzMDsmIzIxNjk3OyYjMjE1MTc7PC90ZXh0PjwvZz48IS0tY2xhc3MgPz8/Pz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjI0IiBkYXRhLXVpZD0iZW50MDAwNSIgaWQ9ImVudGl0eV8uLi4uLiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxOTQuNjcxOSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTc2LjgxMzkiIHg9IjE0OS4xOSIgeT0iNDA2Ljk2NjkiLz48ZWxsaXBzZSBjeD0iMTk4LjM0NzEiIGN5PSI0MjIuOTY2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMjAyLjQ1NjUsNDI4Ljk2NjkgTDE5NC43Mzc3LDQyOC45NjY5IEwxOTQuNzM3Nyw0MTYuNTc2MyBMMjAyLjQ1NjUsNDE2LjU3NjMgTDIwMi40NTY1LDQxOC43MzI1IEwxOTcuMTkwOSw0MTguNzMyNSBMMTk3LjE5MDksNDIxLjQwNDQgTDIwMS45NTY1LDQyMS40MDQ0IEwyMDEuOTU2NSw0MjMuNTYwNiBMMTk3LjE5MDksNDIzLjU2MDYgTDE5Ny4xOTA5LDQyNi44MTA2IEwyMDIuNDU2NSw0MjYuODEwNiBMMjAyLjQ1NjUsNDI4Ljk2NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyMTguODQ3MSIgeT0iNDI3LjgxMzYiPiYjMjIzMTI7JiMyNDIzNTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTUwLjE5IiB4Mj0iMzI1LjAwMzkiIHkxPSI0MzguOTY2OSIgeTI9IjQzOC45NjY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTQuMTEzMyIgeD0iMTU1LjE5IiB5PSI0NTUuOTYyIj5JRCAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTUwLjE5IiB4Mj0iMzI1LjAwMzkiIHkxPSI0NjMuMjYzOCIgeTI9IjQ2My4yNjM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA4LjgxNDEiIHg9IjE1NS4xOSIgeT0iNDgwLjI1ODkiPiYjMjA0ODk7JiMyNDIzNTsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA4LjgxNDEiIHg9IjE1NS4xOSIgeT0iNDk2LjU1NTciPiYjMjE4MzA7JiMyMTY5NzsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY0LjgxMzkiIHg9IjE1NS4xOSIgeT0iNTEyLjg1MjYiPiYjMTI1MjU7JiMxMjQ2NTsmIzEyNTQwOyYjMTI0NzE7JiMxMjUxOTsmIzEyNTMxOyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyAmIzE3MTtGSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxNTUuMTkiIHk9IjUyOS4xNDk1Ij4mIzI5Njk0OyYjMjIzMTI7JiMyNDIzNTsmIzI1OTY4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIxNTUuMTkiIHk9IjU0NS40NDY0Ij4mIzI0MzQxOyYjMjQ0MDM7JiMyNTk2ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTU1LjE5IiB5PSI1NjEuNzQzMiI+JiMzMDMzMDsmIzI3ODgwOyYjMjc1MzE7JiMyNTk2ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTU1LjE5IiB5PSI1NzguMDQwMSI+JiMxMjUyNTsmIzEyNDgzOyYjMTI0ODg7JiMzMDA1ODsmIzIxNDk1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIxNTUuMTkiIHk9IjU5NC4zMzciPiYjMTI0OTY7JiMxMjU0MDsmIzEyNDcyOyYjMTI1MTk7JiMxMjUzMTs8L3RleHQ+PC9nPjwhLS1jbGFzcyA/Pz8/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSIuLi4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMzciIGRhdGEtdWlkPSJlbnQwMDA2IiBpZD0iZW50aXR5Xy4uLi4uLi4uIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjE5NC42NzE5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNDMuOTk5NSIgeD0iNTQyLjYiIHk9IjQwNi45NjY5Ii8+PGVsbGlwc2UgY3g9IjU1Ny42IiBjeT0iNDIyLjk2NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTU2MS43MDk0LDQyOC45NjY5IEw1NTMuOTkwNiw0MjguOTY2OSBMNTUzLjk5MDYsNDE2LjU3NjMgTDU2MS43MDk0LDQxNi41NzYzIEw1NjEuNzA5NCw0MTguNzMyNSBMNTU2LjQ0MzgsNDE4LjczMjUgTDU1Ni40NDM4LDQyMS40MDQ0IEw1NjEuMjA5NCw0MjEuNDA0NCBMNTYxLjIwOTQsNDIzLjU2MDYgTDU1Ni40NDM4LDQyMy41NjA2IEw1NTYuNDQzOCw0MjYuODEwNiBMNTYxLjcwOTQsNDI2LjgxMDYgTDU2MS43MDk0LDQyOC45NjY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTExLjk5OTUiIHg9IjU3MS42IiB5PSI0MjcuODEzNiI+JiMyMDgzNzsmIzIwOTg2OyYjMjQyMzU7JiMyMzY1MzsmIzI3NTA4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI1NDMuNiIgeDI9IjY4NS41OTk1IiB5MT0iNDM4Ljk2NjkiIHkyPSI0MzguOTY2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU0LjExMzMiIHg9IjU0OC42IiB5PSI0NTUuOTYyIj5JRCAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTQzLjYiIHgyPSI2ODUuNTk5NSIgeTE9IjQ2My4yNjM4IiB5Mj0iNDYzLjI2MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDguODE0MSIgeD0iNTQ4LjYiIHk9IjQ4MC4yNTg5Ij4mIzIwNDg5OyYjMjQyMzU7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7ICYjMTcxO0ZLJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOC44MTQxIiB4PSI1NDguNiIgeT0iNDk2LjU1NTciPiYjMjE4MzA7JiMyMTY5NzsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iNTQ4LjYiIHk9IjUxMi44NTI2Ij4mIzMxMjI3OyYjMjEyMDU7JiMyNjA4NTsmIzI2MTc4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI1NDguNiIgeT0iNTI5LjE0OTUiPiYjMzEyMjc7JiMyMTIwNTsmIzIxMzA2OyYjMjA5OTg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjU0OC42IiB5PSI1NDUuNDQ2NCI+JiMzMTIyNzsmIzIxMjA1OyYjMjU5Njg7JiMzNzMyNzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iNTQ4LjYiIHk9IjU2MS43NDMyIj4mIzMxMjI3OyYjMjEyMDU7JiMyMTA2OTsmIzIyMzEyOyYjMjQyMzU7JiMyNTk2ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iNTQ4LjYiIHk9IjU3OC4wNDAxIj4mIzMxMjI3OyYjMjEyMDU7JiMyNDQ2MDsmIzIyMzEyOyYjMjQyMzU7JiMyNTk2ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iNTQ4LjYiIHk9IjU5NC4zMzciPiYjMjAyNTM7JiMzMTA4MDsmIzMwMDU4OyYjMjE0OTU7PC90ZXh0PjwvZz48IS0tY2xhc3MgPz8/Pz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjUwIiBkYXRhLXVpZD0iZW50MDAwNyIgaWQ9ImVudGl0eV8uLi4uLiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxNDUuNzgxMyIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTIwLjgxNDEiIHg9IjI5MC4xOSIgeT0iMjAxLjE4NjkiLz48ZWxsaXBzZSBjeD0iMzEzLjY1NjUiIGN5PSIyMTcuMTg2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMzE3Ljc2NTksMjIzLjE4NjkgTDMxMC4wNDcxLDIyMy4xODY5IEwzMTAuMDQ3MSwyMTAuNzk2MyBMMzE3Ljc2NTksMjEwLjc5NjMgTDMxNy43NjU5LDIxMi45NTI1IEwzMTIuNTAwMywyMTIuOTUyNSBMMzEyLjUwMDMsMjE1LjYyNDQgTDMxNy4yNjU5LDIxNS42MjQ0IEwzMTcuMjY1OSwyMTcuNzgwNiBMMzEyLjUwMDMsMjE3Ljc4MDYgTDMxMi41MDAzLDIyMS4wMzA2IEwzMTcuNzY1OSwyMjEuMDMwNiBMMzE3Ljc2NTksMjIzLjE4NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIzMjkuNTM3OSIgeT0iMjIyLjAzMzYiPiYjMjY4NDI7JiMyMTM2ODsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjkxLjE5IiB4Mj0iNDEwLjAwNDEiIHkxPSIyMzMuMTg2OSIgeTI9IjIzMy4xODY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTQuMTEzMyIgeD0iMjk2LjE5IiB5PSIyNTAuMTgyIj5JRCAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjkxLjE5IiB4Mj0iNDEwLjAwNDEiIHkxPSIyNTcuNDgzOCIgeTI9IjI1Ny40ODM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjk2LjE5IiB5PSIyNzQuNDc4OSI+JiMyNjg0MjsmIzIxMzY4OyYjMzAwNTg7JiMyMTQ5NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA4LjgxNDEiIHg9IjI5Ni4xOSIgeT0iMjkwLjc3NTciPiYjMjA0ODk7JiMyNDIzNTsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iMjk2LjE5IiB5PSIzMDcuMDcyNiI+JiMyNjg0MjsmIzIxMzY4OyYjMjYwODU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjI5Ni4xOSIgeT0iMzIzLjM2OTUiPiYjMTI0NzM7JiMxMjQ4NjsmIzEyNTQwOyYjMTI0Nzk7JiMxMjQ3Mzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMjk2LjE5IiB5PSIzMzkuNjY2NCI+JiMxMjQ5NjsmIzEyNTQwOyYjMTI0NzI7JiMxMjUxOTsmIzEyNTMxOzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8/Pz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iLi4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iNjAiIGRhdGEtdWlkPSJlbnQwMDA4IiBpZD0iZW50aXR5Xy4uLi4uLi4iPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTc4LjM3NSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTI5Ljk5OTYiIHg9IjM3MS42IiB5PSI0MTUuMTE2OSIvPjxlbGxpcHNlIGN4PSIzODYuNiIgY3k9IjQzMS4xMTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0zOTAuNzA5NCw0MzcuMTE2OSBMMzgyLjk5MDYsNDM3LjExNjkgTDM4Mi45OTA2LDQyNC43MjYzIEwzOTAuNzA5NCw0MjQuNzI2MyBMMzkwLjcwOTQsNDI2Ljg4MjUgTDM4NS40NDM4LDQyNi44ODI1IEwzODUuNDQzOCw0MjkuNTU0NCBMMzkwLjIwOTQsNDI5LjU1NDQgTDM5MC4yMDk0LDQzMS43MTA2IEwzODUuNDQzOCw0MzEuNzEwNiBMMzg1LjQ0MzgsNDM0Ljk2MDYgTDM5MC43MDk0LDQzNC45NjA2IEwzOTAuNzA5NCw0MzcuMTE2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjQwMC42IiB5PSI0MzUuOTYzNiI+JiMyNjg0MjsmIzIxMzY4OyYjMjYxMjY7JiMzMjA0ODsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMzcyLjYiIHgyPSI1MDAuNTk5NiIgeTE9IjQ0Ny4xMTY5IiB5Mj0iNDQ3LjExNjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NC4xMTMzIiB4PSIzNzcuNiIgeT0iNDY0LjExMiI+SUQgJiMxNzE7UEsmIzE4Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjM3Mi42IiB4Mj0iNTAwLjU5OTYiIHkxPSI0NzEuNDEzOCIgeTI9IjQ3MS40MTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODEuNzIzNSIgeD0iMzc3LjYiIHk9IjQ4OC40MDg5Ij4mIzI2ODQyOyYjMjEzNjg7SUQgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMzc3LjYiIHk9IjUwNC43MDU3Ij4mIzI2ODQyOyYjMjEzNjg7JiMzNDg5MjsmIzMwMDU4OyYjMjE0OTU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOC44MTQxIiB4PSIzNzcuNiIgeT0iNTIxLjAwMjYiPiYjMjE4MzA7JiMyMTY5NzsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMzc3LjYiIHk9IjUzNy4yOTk1Ij4mIzI0MTE1OyYjMzE4MDc7JiMyMjMxMjsmIzI0MjM1OyYjMjU5Njg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjk5OTgiIHg9IjM3Ny42IiB5PSI1NTMuNTk2NCI+JiMyMzQ1NTsmIzI2ODQyOyYjMjU5Njg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjk5OTgiIHg9IjM3Ny42IiB5PSI1NjkuODkzMiI+JiMyNDA0NjsmIzMwMDY0OyYjMjU5Njg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjM3Ny42IiB5PSI1ODYuMTkwMSI+JiMzNTUxOTsmIzI1OTcyOyYjMjgxNjg7JiMxMjUwMTsmIzEyNTIxOyYjMTI0NjQ7PC90ZXh0PjwvZz48IS0tbGluayA/Pz8/PyB0byA/Pz8/Pz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iLi4uLi4iIGRhdGEtZW50aXR5LTI9Ii4uLi4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iNzIiIGRhdGEtdWlkPSJsbms5IiBpZD0ibGlua18uLi4uLl8uLi4uLi4uLi4iPjxwYXRoIGNvZGVMaW5lPSI3MiIgZD0iTTIzNC44NzE2LDE0Ni45Mjg1IEMyMDkuMjExNiwxNzAuMTc4NSAxOTcuNDgwNiwxODAuNzkyNiAxNzAuNzIwNiwyMDUuMDMyNiIgZmlsbD0ibm9uZSIgaWQ9IiYjMjA0ODk7JiMyNDIzNTsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTstJiMxMjUyNTsmIzEyNDY1OyYjMTI1NDA7JiMxMjQ3MTsmIzEyNTE5OyYjMTI1MzE7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIzNS4xNSIgeDI9IjI0MC41MjE2IiB5MT0iMTQxLjI3ODUiIHkyPSIxNDcuMjA2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMzIuOTI2OSIgeDI9IjIzOC4yOTg1IiB5MT0iMTQzLjI5MjgiIHkyPSIxNDkuMjIxMiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMzQuODcxNiIgeDI9IjI0MC44IiB5MT0iMTQ2LjkyODUiIHkyPSIxNDEuNTU2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNjMuMzA5MSIgeDI9IjE2MS40MDgxIiB5MT0iMjExLjc0NjEiIHkyPSIyMjEuNTYzNyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNjMuMzA5MSIgeDI9IjE1My4zNTE5IiB5MT0iMjExLjc0NjEiIHkyPSIyMTIuNjciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTYzLjMwOTEiIHgyPSIxNTcuMzgiIHkxPSIyMTEuNzQ2MSIgeTI9IjIxNy4xMTY5Ii8+PGVsbGlwc2UgY3g9IjE2Ny43NTYiIGN5PSIyMDcuNzE4IiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgPz8/Pz8gdG8gPz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iLi4uLi4iIGRhdGEtZW50aXR5LTI9Ii4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSI3MyIgZGF0YS11aWQ9ImxuazEwIiBpZD0ibGlua18uLi4uLl8uLi4uLiI+PHBhdGggY29kZUxpbmU9IjczIiBkPSJNMjgxLjg3MTMsMTQ5LjMwOTYgQzI3OC4xMzEzLDE2Ny44ODk2IDI3NS42NSwxODEuNTU2OSAyNzIuNiwyMDEuMTg2OSBDMjYxLjk2LDI2OS42NjY5IDI1NC44OTE0LDMyOS40MzM0IDI0OC43MTE0LDM4OC44NzM0IiBmaWxsPSJub25lIiBpZD0iJiMyMDQ4OTsmIzI0MjM1OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5Oy0mIzIyMzEyOyYjMjQyMzU7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI3OC43MzkzIiB4Mj0iMjg2LjU4MiIgeTE9IjE0NC41OTg5IiB5Mj0iMTQ2LjE3NzYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjc4LjE0NzMiIHgyPSIyODUuOTkiIHkxPSIxNDcuNTM5OSIgeTI9IjE0OS4xMTg2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI4MS44NzEzIiB4Mj0iMjgzLjQ1IiB5MT0iMTQ5LjMwOTYiIHkyPSIxNDEuNDY2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNDcuNjc3MyIgeDI9IjI1Mi44MTc4IiB5MT0iMzk4LjgxOTgiIHkyPSI0MDcuMzk3NCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNDcuNjc3MyIgeDI9IjI0MC44ODIyIiB5MT0iMzk4LjgxOTgiIHkyPSI0MDYuMTU2NCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNDcuNjc3MyIgeDI9IjI0Ni44NSIgeTE9IjM5OC44MTk4IiB5Mj0iNDA2Ljc3NjkiLz48ZWxsaXBzZSBjeD0iMjQ4LjI5NzgiIGN5PSIzOTIuODUxOSIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rID8/Pz8/IHRvID8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9Ii4uLi4uIiBkYXRhLWVudGl0eS0yPSIuLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iNzQiIGRhdGEtdWlkPSJsbmsxMSIgaWQ9ImxpbmtfLi4uLi5fLi4uLi4iPjxwYXRoIGNvZGVMaW5lPSI3NCIgZD0iTTQ1OC42NTU1LDMyMC4xNjY1IEM0NDcuMTM1NSwzMzAuNzc2NSA0NDAuNDQsMzM2LjcyNjkgNDI4LjYsMzQ2Ljk2NjkgQzM5Ni41NywzNzQuNjU2OSAzODcuMzksMzgwLjE3NjkgMzU0LjYsNDA2Ljk2NjkgQzM0NS40Myw0MTQuNDU2OSAzNDkuNzc3OCw0MTAuODYgMzQwLjI0NzgsNDE4LjY5IiBmaWxsPSJub25lIiBpZD0iJiMyMTgzMDsmIzIxNjk3OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5Oy0mIzIyMzEyOyYjMjQyMzU7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQ1OC44ODc5IiB4Mj0iNDY0LjMwNzYiIHkxPSIzMTQuNTE0NSIgeTI9IjMyMC4zOTkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDU2LjY4MTIiIHgyPSI0NjIuMTAwOSIgeTE9IjMxNi41NDY4IiB5Mj0iMzIyLjQzMTMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDU4LjY1NTUiIHgyPSI0NjQuNTQiIHkxPSIzMjAuMTY2NSIgeTI9IjMxNC43NDY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMzMi41MjEyIiB4Mj0iMzMwLjE0OSIgeTE9IjQyNS4wMzgzIiB5Mj0iNDM0Ljc1MjgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzMyLjUyMTIiIHgyPSIzMjIuNTMxIiB5MT0iNDI1LjAzODMiIHkyPSI0MjUuNDgwOSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMzIuNTIxMiIgeDI9IjMyNi4zNCIgeTE9IjQyNS4wMzgzIiB5Mj0iNDMwLjExNjkiLz48ZWxsaXBzZSBjeD0iMzM3LjE1NzIiIGN5PSI0MjEuMjI5MyIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rID8/Pz8/Pz8/PyB0byA/Pz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSIuLi4uLi4uLi4iIGRhdGEtZW50aXR5LTI9Ii4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSI3NSIgZGF0YS11aWQ9ImxuazEyIiBpZD0ibGlua18uLi4uLi4uLi5fLi4uLi4iPjxwYXRoIGNvZGVMaW5lPSI3NSIgZD0iTTEzNC41NjUzLDMzNy43IEMxNDguNzY1MywzNjAuNTMgMTUxLjg5NTEsMzY1LjUzMSAxNjcuOTc1MSwzOTEuMzkxIiBmaWxsPSJub25lIiBpZD0iJiMxMjUyNTsmIzEyNDY1OyYjMTI1NDA7JiMxMjQ3MTsmIzEyNTE5OyYjMTI1MzE7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7LSYjMjIzMTI7JiMyNDIzNTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTI5LjA1NjEiIHgyPSIxMzUuODQ5MiIgeTE9IjMzNi40MTYxIiB5Mj0iMzMyLjE5MDgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTMwLjY0MDUiIHgyPSIxMzcuNDMzNyIgeTE9IjMzOC45NjM1IiB5Mj0iMzM0LjczODMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTM0LjU2NTMiIHgyPSIxMzAuMzQiIHkxPSIzMzcuNyIgeTI9IjMzMC45MDY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE3My4yNTU2IiB4Mj0iMTgyLjU3NTMiIHkxPSIzOTkuODgzMiIgeTI9IjQwMy41MDg2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE3My4yNTU2IiB4Mj0iMTcyLjM4NDciIHkxPSIzOTkuODgzMiIgeTI9IjQwOS44NDUyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE3My4yNTU2IiB4Mj0iMTc3LjQ4IiB5MT0iMzk5Ljg4MzIiIHkyPSI0MDYuNjc2OSIvPjxlbGxpcHNlIGN4PSIxNzAuMDg3MyIgY3k9IjM5NC43ODc5IiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgPz8/Pz8gdG8gPz8/Pz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iLi4uLi4iIGRhdGEtZW50aXR5LTI9Ii4uLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSI3NiIgZGF0YS11aWQ9ImxuazEzIiBpZD0ibGlua18uLi4uLl8uLi4uLi4uLiI+PHBhdGggY29kZUxpbmU9Ijc2IiBkPSJNMzYyLjM1MzgsOTguNzczNyBDNDMwLjE0MzgsMTA2Ljg1MzcgNTI5LjUyLDEyOS45MTY5IDU4NC42LDIwMS4xODY5IEM2MjkuMDksMjU4LjczNjkgNjM1LjYxNDgsMzI0LjA3MjggNjMwLjk5NDgsMzg4LjYzMjgiIGZpbGw9Im5vbmUiIGlkPSImIzIwNDg5OyYjMjQyMzU7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7LSYjMjA4Mzc7JiMyMDk4NjsmIzI0MjM1OyYjMjM2NTM7JiMyNzUwODsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzU3LjkwODUiIHgyPSIzNTguODU1MyIgeTE9IjEwMi4yNzIyIiB5Mj0iOTQuMzI4NCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzNjAuODg3NCIgeDI9IjM2MS44MzQyIiB5MT0iMTAyLjYyNzIiIHkyPSI5NC42ODM1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjM2Mi4zNTM4IiB4Mj0iMzU0LjQxIiB5MT0iOTguNzczNyIgeTI9Ijk3LjgyNjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjMwLjI4MSIgeDI9IjYzNS42OTQ3IiB5MT0iMzk4LjYwNzMiIHkyPSI0MDcuMDE1MSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI2MzAuMjgxIiB4Mj0iNjIzLjcyNTMiIHkxPSIzOTguNjA3MyIgeTI9IjQwNi4xNTg2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjYzMC4yODEiIHgyPSI2MjkuNzEiIHkxPSIzOTguNjA3MyIgeTI9IjQwNi41ODY5Ii8+PGVsbGlwc2UgY3g9IjYzMC43MDkzIiBjeT0iMzkyLjYyMjYiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayA/Pz8/PyB0byA/Pz8/Pz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSIuLi4uLiIgZGF0YS1lbnRpdHktMj0iLi4uLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9Ijc3IiBkYXRhLXVpZD0ibG5rMTQiIGlkPSJsaW5rXy4uLi4uXy4uLi4uLi4uIj48cGF0aCBjb2RlTGluZT0iNzciIGQ9Ik01MjguODMyMSwzMjIuMDU4IEM1NDAuODYyMSwzNDcuNDc4IDU0NS44OTE0LDM1OC4xMDYzIDU2MS4xNDE0LDM5MC4zMzYzIiBmaWxsPSJub25lIiBpZD0iJiMyMTgzMDsmIzIxNjk3OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5Oy0mIzIwODM3OyYjMjA5ODY7JiMyNDIzNTsmIzIzNjUzOyYjMjc1MDg7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjUyMy41MDU1IiB4Mj0iNTMwLjczNjYiIHkxPSIzMjAuMTUzNSIgeTI9IjMxNi43MzE0Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjUyNC43ODg4IiB4Mj0iNTMyLjAxOTkiIHkxPSIzMjIuODY1MiIgeTI9IjMxOS40NDMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTI4LjgzMjEiIHgyPSI1MjUuNDEiIHkxPSIzMjIuMDU4IiB5Mj0iMzE0LjgyNjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTY1LjQxODQiIHgyPSI1NzQuMjYzNSIgeTE9IjM5OS4zNzU1IiB5Mj0iNDA0LjA0MDciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTY1LjQxODQiIHgyPSI1NjMuNDE2NSIgeTE9IjM5OS4zNzU1IiB5Mj0iNDA5LjE3MzEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTY1LjQxODQiIHgyPSI1NjguODQiIHkxPSIzOTkuMzc1NSIgeTI9IjQwNi42MDY5Ii8+PGVsbGlwc2UgY3g9IjU2Mi44NTIyIiBjeT0iMzkzLjk1MiIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rID8/Pz8/IHRvID8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9Ii4uLi4uIiBkYXRhLWVudGl0eS0yPSIuLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iNzgiIGRhdGEtdWlkPSJsbmsxNSIgaWQ9ImxpbmtfLi4uLi5fLi4uLi4iPjxwYXRoIGNvZGVMaW5lPSI3OCIgZD0iTTMxMS4xNTE4LDE0OC45NTE1IEMzMTYuOTUxOCwxNjcuMjExNSAzMTUuODM0NSwxNjMuNzEzNSAzMjIuMjE0NSwxODMuNzczNSIgZmlsbD0ibm9uZSIgaWQ9IiYjMjA0ODk7JiMyNDIzNTsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTstJiMyNjg0MjsmIzIxMzY4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMDYuMTI4NiIgeDI9IjMxMy43NTMyIiB5MT0iMTQ2LjM1MDEiIHkyPSIxNDMuOTI4MyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMDcuMDM2OCIgeDI9IjMxNC42NjE0IiB5MT0iMTQ5LjIwOTMiIHkyPSIxNDYuNzg3NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMTEuMTUxOCIgeDI9IjMwOC43MyIgeTE9IjE0OC45NTE1IiB5Mj0iMTQxLjMyNjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzI1LjI0NTMiIHgyPSIzMzMuMzg3OCIgeTE9IjE5My4zMDMyIiB5Mj0iMTk5LjEwODQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzI1LjI0NTMiIHgyPSIzMjEuOTUyMiIgeTE9IjE5My4zMDMyIiB5Mj0iMjAyLjc0NTQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzI1LjI0NTMiIHgyPSIzMjcuNjciIHkxPSIxOTMuMzAzMiIgeTI9IjIwMC45MjY5Ii8+PGVsbGlwc2UgY3g9IjMyMy40MjY4IiBjeT0iMTg3LjU4NTQiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayA/Pz8/PyB0byA/Pz8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9Ii4uLi4uIiBkYXRhLWVudGl0eS0yPSIuLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSI3OSIgZGF0YS11aWQ9ImxuazE2IiBpZD0ibGlua18uLi4uLl8uLi4uLi4uIj48cGF0aCBjb2RlTGluZT0iNzkiIGQ9Ik0zODAuNjMwNSwzNTQuNzczMiBDMzg4LjcwMDUsMzc2LjE5MzIgMzg4LjQ3NTgsMzc1LjU2MiAzOTYuODg1OCwzOTcuODkyIiBmaWxsPSJub25lIiBpZD0iJiMyNjg0MjsmIzIxMzY4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5Oy0mIzI2ODQyOyYjMjEzNjg7JiMyNjEyNjsmIzMyMDQ4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzNzUuNDc3MSIgeDI9IjM4Mi45NjM0IiB5MT0iMzUyLjQ0MDMiIHkyPSIzNDkuNjE5OCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzNzYuNTM0OCIgeDI9IjM4NC4wMjExIiB5MT0iMzU1LjI0NzYiIHkyPSIzNTIuNDI3MiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzODAuNjMwNSIgeDI9IjM3Ny44MSIgeTE9IjM1NC43NzMyIiB5Mj0iMzQ3LjI4NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDAwLjQxMDQiIHgyPSI0MDguODQ1IiB5MT0iNDA3LjI1MDIiIHkyPSI0MTIuNjIyMSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI0MDAuNDEwNCIgeDI9IjM5Ny42MTUiIHkxPSI0MDcuMjUwMiIgeTI9IjQxNi44NTE2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQwMC40MTA0IiB4Mj0iNDAzLjIzIiB5MT0iNDA3LjI1MDIiIHkyPSI0MTQuNzM2OSIvPjxlbGxpcHNlIGN4PSIzOTguMjk1NiIgY3k9IjQwMS42MzUzIiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgPz8/Pz8gdG8gPz8/Pz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSIuLi4uLiIgZGF0YS1lbnRpdHktMj0iLi4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iODAiIGRhdGEtdWlkPSJsbmsxNyIgaWQ9ImxpbmtfLi4uLi5fLi4uLi4uLiI+PHBhdGggY29kZUxpbmU9IjgwIiBkPSJNNDkyLjA2NDcsMzIyLjQ3NTQgQzQ4My42MDQ3LDM1MC4wNjU0IDQ3OS42MTk1LDM2My4wNTg2IDQ2OS4wMTk1LDM5Ny42MDg2IiBmaWxsPSJub25lIiBpZD0iJiMyMTgzMDsmIzIxNjk3OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5Oy0mIzI2ODQyOyYjMjEzNjg7JiMyNjEyNjsmIzMyMDQ4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI0ODkuNDEzMSIgeDI9IjQ5Ny4wNjE2IiB5MT0iMzE3LjQ3ODUiIHkyPSIzMTkuODIzOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI0ODguNTMzNiIgeDI9IjQ5Ni4xODIxIiB5MT0iMzIwLjM0NjciIHkyPSIzMjIuNjkyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQ5Mi4wNjQ3IiB4Mj0iNDk0LjQxIiB5MT0iMzIyLjQ3NTQiIHkyPSIzMTQuODI2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI0NjYuMDg2NSIgeDI9IjQ2OS40NzYxIiB5MT0iNDA3LjE2ODciIHkyPSI0MTYuNTc2NyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI0NjYuMDg2NSIgeDI9IjQ1OC4wMDM5IiB5MT0iNDA3LjE2ODciIHkyPSI0MTMuMDU3Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQ2Ni4wODY1IiB4Mj0iNDYzLjc0IiB5MT0iNDA3LjE2ODciIHkyPSI0MTQuODE2OSIvPjxlbGxpcHNlIGN4PSI0NjcuODQ2MyIgY3k9IjQwMS40MzI2IiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLVNSQz1baExGREppOTA0QnhsS19HNS1XUTRhdmVPQnlQdHU0MVl6REFCMEhGam5XODFYOEhpNTd6M0owRFlRNGZBR2dxODN4RmtCaHc1dFVxWWZOUkJuVGxpVjNGVlZCQ3BPbklEdXU5NjdXT2FVNkRFWnhLalZFZGk3ZjV4M3UzMllMNHFwWkhvS0dqMTM5LW0tT3hEWExPMnFjRHc2Q3VtaDZjdnRFNTFGV3pxTklBYXRMblBaTzFLQk4zLUl1UlgyOWpaZGNURUNVblp3Q005S3IxYmFKWW9ubjd3U2lWRzQ2MXBCbG5VaDJmMTVrYlNSaEdHVVRCTzFTOVJZRU1CX3k2bThnSm5fRnNUeE9CLXJYM2t4MlA1MjZsRGV2OEtrTzNDNEZkaVM4anIwLWVEZzVGZDNxdTM4T1JMaTZkSWNlUmxqazNxOHl3dS1Za1JMMDgtWlI1REh2RF9RZUZyRnFXVHFIa1JUYXR2YURFTTI3QV9Bd3FMS2NrazZ2QWtVTUZqLWZlekNkaVdFcmFoM3FUQWNodklTMEpCQkZMTVgzNlhKQzFkM3dzOEFSR3BGYXBjdDV3cFlSa2JrNzM1MllyeFpQTVV6NnlabGlWU0hNb3dwZEVPQVFvZm12M0JoVUxtR1Q2NC1iS0M0T1FsczdJdmtFR1RiaWt3VmJoQWtZWExJY0FUR1Y4eTU2NVBqd2pZTFdYR1JBSElZSjgtZEotbkRvMnZIbmpYWUpjaERBRzZfbTAwXS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_20">次章の予告<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h3>
<p>第10章では、債務管理の設計に進みます。買掛金残高の管理、支払処理のデータベース設計と実装を行います。</p>
<hr />
<p><a href="../chapter08/">← 第8章：調達管理の設計</a> | <a href="../chapter10/">第10章：債務管理の設計 →</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/k2works/practical-database-design" target="_blank" rel="noopener" title="GitHub Repository" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
      
        <script src="../../../docs/assets/js/extra.js"></script>
      
    
  </body>
</html>