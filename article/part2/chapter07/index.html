
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="基幹業務システム（販売管理・財務会計・生産管理）のデータベース設計を体系的に解説">
      
      
        <meta name="author" content="k2works">
      
      
      
        <link rel="prev" href="../chapter06/">
      
      
        <link rel="next" href="../chapter08/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>第7章 債権管理の設計 - 実践データベース設計：基幹業務システム編</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../docs/mkdocs/assets/css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#7" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="実践データベース設計：基幹業務システム編" class="md-header__button md-logo" aria-label="実践データベース設計：基幹業務システム編" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            実践データベース設計：基幹業務システム編
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              第7章 債権管理の設計
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/k2works/practical-database-design" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    practical-database-design
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
  実践データベース設計

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="実践データベース設計：基幹業務システム編" class="md-nav__button md-logo" aria-label="実践データベース設計：基幹業務システム編" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    実践データベース設計：基幹業務システム編
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/k2works/practical-database-design" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    practical-database-design
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    実践データベース設計
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    実践データベース設計
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../techstack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    技術スタック
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    アウトライン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    執筆ワークフロー
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    運用ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../project-setup-instruction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    プロジェクトセットアップ手順書
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7" >
        
          
          <label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    デプロイ
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    デプロイ
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-sms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SMS デモデプロイ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-fas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FAS デモデプロイ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-pms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PMS デモデプロイ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_8" >
        
          
          <label class="md-nav__link" for="__nav_1_8" id="__nav_1_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第1部 基幹業務システムの全体像
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    第1部 基幹業務システムの全体像
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第1章 基幹業務システムとは
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第2章 基幹業務システムの業務領域
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第3章 業務フローの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_9" checked>
        
          
          <label class="md-nav__link" for="__nav_1_9" id="__nav_1_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第2部 販売管理システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    第2部 販売管理システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第4章 販売管理システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter05/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第5章 マスタ情報の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter06/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第6章 受注・出荷・売上の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    第7章 債権管理の設計
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    第7章 債権管理の設計
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        債権管理の全体像
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="債権管理の全体像">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        債権管理で扱うデータ
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#71-db" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.1 請求業務の DB 設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.1 請求業務の DB 設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        請求業務フローの理解
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        締処理の概念
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        請求データ・請求明細の構造
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="請求データ・請求明細の構造">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#er" class="md-nav__link">
    <span class="md-ellipsis">
      
        請求データの ER 図
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        請求ステータスの定義
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        マイグレーション：請求関連テーブルの作成
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        請求エンティティの実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        締処理サービスの実装
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#72-db" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.2 回収業務の DB 設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.2 回収業務の DB 設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
        入金業務フローの理解
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
        入金方法の種類
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
        入金消込のパターン
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      
        入金データ・入金消込明細の構造
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="入金データ・入金消込明細の構造">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#er_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        入金データの ER 図
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      
        入金ステータスの定義
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      
        マイグレーション：入金関連テーブルの作成
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      
        入金エンティティの実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      
        入金消込サービスの実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      
        債権残高管理サービス
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#73" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.3 リレーションと楽観ロックの設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.3 リレーションと楽観ロックの設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#n1" class="md-nav__link">
    <span class="md-ellipsis">
      
        N+1 問題とその解決
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mybatis-resultmap" class="md-nav__link">
    <span class="md-ellipsis">
      
        MyBatis ネストした ResultMap による関連付け
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      
        リレーション設定のポイント
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optimistic-locking" class="md-nav__link">
    <span class="md-ellipsis">
      
        楽観ロック（Optimistic Locking）の実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      
        バージョンカラムによる同時更新制御
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      
        楽観ロックのテスト
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      
        楽観ロックのベストプラクティス
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        第7章のまとめ
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第7章のまとめ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      
        学んだこと
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#er_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        債権管理の ER 図（全体像）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      
        次章の予告
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter08/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第8章 調達管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter09/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第9章 在庫管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第10章 債務管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第11章 共通処理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第12章 販売管理データ設計（B社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第13章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_10" >
        
          
          <label class="md-nav__link" for="__nav_1_10" id="__nav_1_10_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第3部 財務会計システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    第3部 財務会計システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章 財務会計システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章 勘定科目の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章 仕訳の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章 勘定科目残高の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter19/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章 赤黒とログの設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter20/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章 財務会計データ設計（D社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter21/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_11" >
        
          
          <label class="md-nav__link" for="__nav_1_11" id="__nav_1_11_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第4部 生産管理システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    第4部 生産管理システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter22/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第22章 生産管理システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter23/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第23章 マスタ情報の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter24/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第24章 生産計画の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter25/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第25章 購買管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter26/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第26章 外注委託管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter27/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第27章 工程管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter28/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第28章 在庫管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第29章 品質管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter30/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第30章 製造原価管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter31/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第31章 生産管理データ設計（E社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter32/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第32章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_12" >
        
          
          <label class="md-nav__link" for="__nav_1_12" id="__nav_1_12_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第5部 エンタープライズインテグレーション
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    第5部 エンタープライズインテグレーション
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter33/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第33章 システム統合の概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter34/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第34章 メッセージングパターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter35/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第35章 システム間連携パターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter36/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第36章 マスタデータ管理（MDM）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter37/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第37章 イベント駆動アーキテクチャ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter38/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第38章 API設計とサービス連携
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter39/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第39章 データ連携の実装パターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_13" >
        
          
          <label class="md-nav__link" for="__nav_1_13" id="__nav_1_13_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 販売管理システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 販売管理システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究5 AxonCQRS/ESの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_14" >
        
          
          <label class="md-nav__link" for="__nav_1_14" id="__nav_1_14_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 財務会計システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 財務会計システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究5 AxonCQRS/ESの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_15" >
        
          
          <label class="md-nav__link" for="__nav_1_15" id="__nav_1_15_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 生産管理システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 生産管理システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究5 AxonCQRS/ESの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_16" >
        
          
          <label class="md-nav__link" for="__nav_1_16" id="__nav_1_16_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 財務会計システムORM実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_16">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 財務会計システムORM実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter14-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章 財務会計システムの全体像【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter15-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章 勘定科目の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter16-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章 仕訳の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter17-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter18-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章 勘定科目残高の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter19-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章 赤黒とログの設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter20-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章 財務会計データ設計（D社事例）【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter21-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章 APIサービスの実装【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter22-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第22章 Axon CQRS/ESの実装【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_17" >
        
          
          <label class="md-nav__link" for="__nav_1_17" id="__nav_1_17_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    付録
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_17">
            <span class="md-nav__icon md-icon"></span>
            
  
    付録
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/er-diagrams.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    A 全体ER図
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/table-definitions.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    B テーブル定義一覧
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/glossary.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C 用語集
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_18" >
        
          
          <label class="md-nav__link" for="__nav_1_18" id="__nav_1_18_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    データベース
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_18">
            <span class="md-nav__icon md-icon"></span>
            
  
    データベース
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../assets/schemaspy-output/sms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SchemaSpy ER図（SMS）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../assets/schemaspy-output/fas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SchemaSpy ER図（FAS）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../assets/schemaspy-output/pms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SchemaSpy ER図（PMS）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="7">第7章：債権管理の設計<a class="headerlink" href="#7" title="Permanent link">&para;</a></h1>
<p>販売管理システムにおいて、売上が発生した後の請求・入金管理は経営の根幹を支える重要な業務です。本章では、請求業務と回収業務のデータベース設計と実装を行います。</p>
<h2 id="_1">債権管理の全体像<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>債権管理は「売上 → 請求 → 入金 → 消込」という一連のフローで構成されます。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkFDVElWSVRZIiBoZWlnaHQ9IjYxOHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6ODI3cHg7aGVpZ2h0OjYxOHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDgyNyA2MTgiIHdpZHRoPSI4MjdweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjA2NjE7JiMyNzE3NzsmIzMxNjQ5OyYjMjk3MDI7JiMxMjUwMTsmIzEyNTI1OyYjMTI1NDA7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMzYzLjI2NzUiIHk9IjMyLjk5NTEiPiYjMjA2NjE7JiMyNzE3NzsmIzMxNjQ5OyYjMjk3MDI7JiMxMjUwMTsmIzEyNTI1OyYjMTI1NDA7PC90ZXh0PjwvZz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjIwLjk1MzEiIHN0eWxlPSJzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI3OTQuNTM0NiIgeD0iMTUiIHk9IjUwLjA0MiIvPjxlbGxpcHNlIGN4PSI1NS4wMDAyIiBjeT0iODUuOTk1MSIgZmlsbD0iIzIyMjIyMiIgcng9IjEwIiByeT0iMTAiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMTA5LjAwMDQsMTEyLjg0NjcgTDEwOS4wMDA0LDEyOC45Nzk1IEw4OS4wMDA0LDEzMi45Nzk1IEwxMDkuMDAwNCwxMzYuOTc5NSBMMTA5LjAwMDQsMTUzLjExMjMgQTAsMCAwIDAgMCAxMDkuMDAwNCwxNTMuMTEyMyBMMjI5LjI3MTUsMTUzLjExMjMgQTAsMCAwIDAgMCAyMjkuMjcxNSwxNTMuMTEyMyBMMjI5LjI3MTUsMTIyLjg0NjcgTDIxOS4yNzE1LDExMi44NDY3IEwxMDkuMDAwNCwxMTIuODQ2NyBBMCwwIDAgMCAwIDEwOS4wMDA0LDExMi44NDY3IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMjE5LjI3MTUsMTEyLjg0NjcgTDIxOS4yNzE1LDEyMi44NDY3IEwyMjkuMjcxNSwxMjIuODQ2NyBMMjE5LjI3MTUsMTEyLjg0NjciIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk5LjI3MTEiIHg9IjExNS4wMDA0IiB5PSIxMjkuOTEzNiI+JiMzMTUzMjs2JiMzMTQ1NjsmIzEyMzkxOyYjMjM0NTU7JiMzNTAxMzsmIzEyMzc1OyYjMTIzODM7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY1LjAwMDEiIHg9IjExNS4wMDA0IiB5PSIxNDUuMDQ2NCI+JiMyMjc3MDsmIzE5OTc4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNjguMDAwNCIgeD0iMjEiIHk9IjExNS45OTUxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDguMDAwNCIgeD0iMzEiIHk9IjEzNy4xMzM4Ij4mIzIyNzcwOyYjMTk5Nzg7JiMzNTMzNjsmIzE5OTc4OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIxNSIgeDI9IjE1IiB5MT0iNTAuMDQyIiB5Mj0iNjA2Ljk0ODIiLz48cGF0aCBkPSJNMzY0LjI3MjEsMTY5Ljk2MzkgTDM2NC4yNzIxLDE4Ni4wOTY3IEwzNDQuMjcyMSwxOTAuMDk2NyBMMzY0LjI3MjEsMTk0LjA5NjcgTDM2NC4yNzIxLDIxMC4yMjk1IEEwLDAgMCAwIDAgMzY0LjI3MjEsMjEwLjIyOTUgTDUxMC44MzUyLDIxMC4yMjk1IEEwLDAgMCAwIDAgNTEwLjgzNTIsMjEwLjIyOTUgTDUxMC44MzUyLDE3OS45NjM5IEw1MDAuODM1MiwxNjkuOTYzOSBMMzY0LjI3MjEsMTY5Ljk2MzkgQTAsMCAwIDAgMCAzNjQuMjcyMSwxNjkuOTYzOSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTUwMC44MzUyLDE2OS45NjM5IEw1MDAuODM1MiwxNzkuOTYzOSBMNTEwLjgzNTIsMTc5Ljk2MzkgTDUwMC44MzUyLDE2OS45NjM5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjUuNTYzMSIgeD0iMzcwLjI3MjEiIHk9IjE4Ny4wMzA4Ij4mIzM3MTE3OyYjMjQyMzA7JiMzNTUzMTsmIzI3NzE0OyBvciAmIzMyMjI0OyYjMTI0MTc7JiMzNTUzMTsmIzI3NzE0OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDQuMDAwMSIgeD0iMzcwLjI3MjEiIHk9IjIwMi4xNjM2Ij4mIzIyMjM4OyYjMjE0NTQ7JiMyMDEwNDsmIzIzNDUwOyYjMjYwODU7JiMxMjM5ODsmIzM1MzczOyYjMjM0NTA7PC90ZXh0PjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDQuMDAwNiIgeD0iMjQwLjI3MTUiIHk9IjE3My4xMTIzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODQuMDAwNiIgeD0iMjUwLjI3MTUiIHk9IjE5NC4yNTEiPiYjMzU1MzE7JiMyNzcxNDsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsmIzIwMzE2OyYjMjUxMDQ7PC90ZXh0PjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI4MC4wMDA1IiB4PSIyNTIuMjcxNiIgeT0iMjMwLjIyOTUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2MC4wMDA1IiB4PSIyNjIuMjcxNiIgeT0iMjUxLjM2ODIiPiYjMzU1MzE7JiMyNzcxNDsmIzI2MzYwOyYjMzAzMzA7JiMzNDg5Mjs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMjM0LjI3MTUiIHgyPSIyMzQuMjcxNSIgeTE9IjUwLjA0MiIgeTI9IjYwNi45NDgyIi8+PHBhdGggZD0iTTY1Ni43NTQ2LDI3NC4xOTgyIEw2NTYuNzU0NiwyOTcuODk3NSBMNjM2Ljc1NDYsMzAxLjg5NzUgTDY1Ni43NTQ2LDMwNS44OTc1IEw2NTYuNzU0NiwzMjkuNTk2NyBBMCwwIDAgMCAwIDY1Ni43NTQ2LDMyOS41OTY3IEw3MjkuNzU0NywzMjkuNTk2NyBBMCwwIDAgMCAwIDcyOS43NTQ3LDMyOS41OTY3IEw3MjkuNzU0NywyODQuMTk4MiBMNzE5Ljc1NDcsMjc0LjE5ODIgTDY1Ni43NTQ2LDI3NC4xOTgyIEEwLDAgMCAwIDAgNjU2Ljc1NDYsMjc0LjE5ODIiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik03MTkuNzU0NywyNzQuMTk4MiBMNzE5Ljc1NDcsMjg0LjE5ODIgTDcyOS43NTQ3LDI4NC4xOTgyIEw3MTkuNzU0NywyNzQuMTk4MiIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIuMDAwMSIgeD0iNjYyLjc1NDYiIHk9IjI5MS4yNjUxIj4mIzM3NTA0OyYjMzQ4OTI7JiMyNTM5MTsmIzM2Nzk2OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNiIgeD0iNjYyLjc1NDYiIHk9IjMwNi4zOTc5Ij4mIzI5Njk0OyYjMzczMjk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI2IiB4PSI2NjIuNzU0NiIgeT0iMzIxLjUzMDgiPiYjMjUxNjM7JiMyNDQxODs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjY4LjAwMDQiIHg9IjU2OC43NTQzIiB5PSIyODQuOTEzMSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ4LjAwMDQiIHg9IjU3OC43NTQzIiB5PSIzMDYuMDUxOCI+JiMyMDgzNzsmIzM3MzI5OyYjMzA5MDY7JiMzNTQ2OTs8L3RleHQ+PHBhdGggZD0iTTY1Ni43NTQ2LDM0Ni40NDgyIEw2NTYuNzU0NiwzNjIuNTgxMSBMNjM2Ljc1NDYsMzY2LjU4MTEgTDY1Ni43NTQ2LDM3MC41ODExIEw2NTYuNzU0NiwzODYuNzEzOSBBMCwwIDAgMCAwIDY1Ni43NTQ2LDM4Ni43MTM5IEw3NTUuNzU0NywzODYuNzEzOSBBMCwwIDAgMCAwIDc1NS43NTQ3LDM4Ni43MTM5IEw3NTUuNzU0NywzNTYuNDQ4MiBMNzQ1Ljc1NDcsMzQ2LjQ0ODIgTDY1Ni43NTQ2LDM0Ni40NDgyIEEwLDAgMCAwIDAgNjU2Ljc1NDYsMzQ2LjQ0ODIiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik03NDUuNzU0NywzNDYuNDQ4MiBMNzQ1Ljc1NDcsMzU2LjQ0ODIgTDc1NS43NTQ3LDM1Ni40NDgyIEw3NDUuNzU0NywzNDYuNDQ4MiIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzguMDAwMSIgeD0iNjYyLjc1NDYiIHk9IjM2My41MTUxIj4mIzM1NTMxOyYjMjc3MTQ7JiMxMjM5MjsmIzIwODM3OyYjMzczMjk7JiMxMjQzNDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjUuMDAwMSIgeD0iNjYyLjc1NDYiIHk9IjM3OC42NDc5Ij4mIzMxMzYxOyYjMjE1MTI7JiMxMjUzOTsmIzI4MDQwOyYjMzY3OTY7PC90ZXh0PjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI2OC4wMDA0IiB4PSI1NjguNzU0MyIgeT0iMzQ5LjU5NjciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OC4wMDA0IiB4PSI1NzguNzU0MyIgeT0iMzcwLjczNTQiPiYjMjA4Mzc7JiMzNzMyOTsmIzI4MDQwOyYjMzY3OTY7PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNGMUYxRjEiIHBvaW50cz0iNTc3LjgzNTQsNDA2LjcxMzksNjI3LjY3MzUsNDA2LjcxMzksNjM5LjY3MzUsNDE4LjcxMzksNjI3LjY3MzUsNDMwLjcxMzksNTc3LjgzNTQsNDMwLjcxMzksNTY1LjgzNTQsNDE4LjcxMzksNTc3LjgzNTQsNDA2LjcxMzkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ5LjgzODEiIHg9IjU3Ny44MzU0IiB5PSI0MjIuNTIyIj4mIzIwODQwOyYjMzg5ODk7JiMyMDgzNzsmIzM3MzI5Oz88L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTkuMDA4MyIgeD0iNTQ2LjgyNzEiIHk9IjQxNi4xMTk2Ij55ZXM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMuNzAxNyIgeD0iNjM5LjY3MzUiIHk9IjQxNi4xMTk2Ij5ubzwvdGV4dD48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNjguMDAwNCIgeD0iNTIxLjgzNTIiIHk9IjQ0MC43MTM5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDguMDAwNCIgeD0iNTMxLjgzNTIiIHk9IjQ2MS44NTI1Ij4mIzM1NTMxOyYjMjc3MTQ7JiMyMzQzNjsmIzIwMTAyOzwvdGV4dD48cGF0aCBkPSJNNzAzLjY3MzcsNDQwLjcxMzkgTDcwMy42NzM3LDQ1Ni44NDY3IEw2ODMuNjczNyw0NjAuODQ2NyBMNzAzLjY3MzcsNDY0Ljg0NjcgTDcwMy42NzM3LDQ4MC45Nzk1IEEwLDAgMCAwIDAgNzAzLjY3MzcsNDgwLjk3OTUgTDgwMi42NzM4LDQ4MC45Nzk1IEEwLDAgMCAwIDAgODAyLjY3MzgsNDgwLjk3OTUgTDgwMi42NzM4LDQ1MC43MTM5IEw3OTIuNjczOCw0NDAuNzEzOSBMNzAzLjY3MzcsNDQwLjcxMzkgQTAsMCAwIDAgMCA3MDMuNjczNyw0NDAuNzEzOSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTc5Mi42NzM4LDQ0MC43MTM5IEw3OTIuNjczOCw0NTAuNzEzOSBMODAyLjY3MzgsNDUwLjcxMzkgTDc5Mi42NzM4LDQ0MC43MTM5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OC4wMDAxIiB4PSI3MDkuNjczNyIgeT0iNDU3Ljc4MDgiPiYjMjI3NzA7JiMyNTQ5OTsmIzM3MzI5OyYjMjc1MzE7JiMzOTY0MDsmIzEyNDM0OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNiIgeD0iNzA5LjY3MzciIHk9IjQ3Mi45MTM2Ij4mIzI2MzU2OyYjMjYwMzI7PC90ZXh0PjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI2OC4wMDA0IiB4PSI2MTUuNjczMyIgeT0iNDQzLjg2MjMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OC4wMDA0IiB4PSI2MjUuNjczMyIgeT0iNDY1LjAwMSI+JiMyNzUzMTsmIzM5NjQwOyYjMzE2NDk7JiMyOTcwMjs8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0YxRjFGMSIgcG9pbnRzPSI2MDIuNzU0NCw0ODYuOTc5NSw2MTQuNzU0NCw0OTguOTc5NSw2MDIuNzU0NCw1MTAuOTc5NSw1OTAuNzU0NCw0OTguOTc5NSw2MDIuNzU0NCw0ODYuOTc5NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExNi4wMDA3IiB4PSI1NDQuNzU0MSIgeT0iNTMwLjk3OTUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ni4wMDA3IiB4PSI1NTQuNzU0MSIgeT0iNTUyLjExODIiPiYjMjYzNzY7JiMyNzQyNTsmIzIwNjYxOyYjMjcxNzc7JiMxMjUyNDsmIzEyNTA5OyYjMTI1NDA7JiMxMjQ4ODs8L3RleHQ+PGVsbGlwc2UgY3g9IjYwMi43NTQ0IiBjeT0iNTk1Ljk0ODIiIGZpbGw9Im5vbmUiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMyMjIyMjI7c3Ryb2tlLXdpZHRoOjE7Ii8+PGVsbGlwc2UgY3g9IjYwMi43NTQ0IiBjeT0iNTk1Ljk0ODIiIGZpbGw9IiMyMjIyMjIiIHJ4PSI2IiByeT0iNiIgc3R5bGU9InN0cm9rZTojMjIyMjIyO3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjUxNS44MzUyIiB4Mj0iNTE1LjgzNTIiIHkxPSI1MC4wNDIiIHkyPSI2MDYuOTQ4MiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjgwNy42NzM4IiB4Mj0iODA3LjY3MzgiIHkxPSI1MC4wNDIiIHkyPSI2MDYuOTQ4MiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI1NS4wMDAyIiB4Mj0iNTUuMDAwMiIgeTE9Ijk1Ljk5NTEiIHkyPSIxMTUuOTk1MSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTEuMDAwMiwxMDUuOTk1MSw1NS4wMDAyLDExNS45OTUxLDU5LjAwMDIsMTA1Ljk5NTEsNTUuMDAwMiwxMDkuOTk1MSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyOTIuMjcxOCIgeDI9IjI5Mi4yNzE4IiB5MT0iMjA3LjA4MTEiIHkyPSIyMzAuMjI5NSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjg4LjI3MTgsMjIwLjIyOTUsMjkyLjI3MTgsMjMwLjIyOTUsMjk2LjI3MTgsMjIwLjIyOTUsMjkyLjI3MTgsMjI0LjIyOTUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjAyLjc1NDQiIHgyPSI2MDIuNzU0NCIgeTE9IjMxOC44ODE4IiB5Mj0iMzQ5LjU5NjciLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjU5OC43NTQ0LDMzOS41OTY3LDYwMi43NTQ0LDM0OS41OTY3LDYwNi43NTQ0LDMzOS41OTY3LDYwMi43NTQ0LDM0My41OTY3IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjU2NS44MzU0IiB4Mj0iNTU1LjgzNTQiIHkxPSI0MTguNzEzOSIgeTI9IjQxOC43MTM5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjU1NS44MzU0IiB4Mj0iNTU1LjgzNTQiIHkxPSI0MTguNzEzOSIgeTI9IjQ0MC43MTM5Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1NTEuODM1NCw0MzAuNzEzOSw1NTUuODM1NCw0NDAuNzEzOSw1NTkuODM1NCw0MzAuNzEzOSw1NTUuODM1NCw0MzQuNzEzOSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI2MzkuNjczNSIgeDI9IjY0OS42NzM1IiB5MT0iNDE4LjcxMzkiIHkyPSI0MTguNzEzOSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI2NDkuNjczNSIgeDI9IjY0OS42NzM1IiB5MT0iNDE4LjcxMzkiIHkyPSI0NDMuODYyMyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNjQ1LjY3MzUsNDMzLjg2MjMsNjQ5LjY3MzUsNDQzLjg2MjMsNjUzLjY3MzUsNDMzLjg2MjMsNjQ5LjY3MzUsNDM3Ljg2MjMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTU1LjgzNTQiIHgyPSI1NTUuODM1NCIgeTE9IjQ3NC42ODI2IiB5Mj0iNDk4Ljk3OTUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTU1LjgzNTQiIHgyPSI1OTAuNzU0NCIgeTE9IjQ5OC45Nzk1IiB5Mj0iNDk4Ljk3OTUiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjU4MC43NTQ0LDQ5NC45Nzk1LDU5MC43NTQ0LDQ5OC45Nzk1LDU4MC43NTQ0LDUwMi45Nzk1LDU4NC43NTQ0LDQ5OC45Nzk1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjY0OS42NzM1IiB4Mj0iNjQ5LjY3MzUiIHkxPSI0NzcuODMxMSIgeTI9IjQ5OC45Nzk1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjY0OS42NzM1IiB4Mj0iNjE0Ljc1NDQiIHkxPSI0OTguOTc5NSIgeTI9IjQ5OC45Nzk1Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI2MjQuNzU0NCw0OTQuOTc5NSw2MTQuNzU0NCw0OTguOTc5NSw2MjQuNzU0NCw1MDIuOTc5NSw2MjAuNzU0NCw0OTguOTc5NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI2MDIuNzU0NCIgeDI9IjYwMi43NTQ0IiB5MT0iMzgzLjU2NTQiIHkyPSI0MDYuNzEzOSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTk4Ljc1NDQsMzk2LjcxMzksNjAyLjc1NDQsNDA2LjcxMzksNjA2Ljc1NDQsMzk2LjcxMzksNjAyLjc1NDQsNDAwLjcxMzkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjAyLjc1NDQiIHgyPSI2MDIuNzU0NCIgeTE9IjUxMC45Nzk1IiB5Mj0iNTMwLjk3OTUiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjU5OC43NTQ0LDUyMC45Nzk1LDYwMi43NTQ0LDUzMC45Nzk1LDYwNi43NTQ0LDUyMC45Nzk1LDYwMi43NTQ0LDUyNC45Nzk1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjYwMi43NTQ0IiB4Mj0iNjAyLjc1NDQiIHkxPSI1NjQuOTQ4MiIgeTI9IjU4NC45NDgyIi8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1OTguNzU0NCw1NzQuOTQ4Miw2MDIuNzU0NCw1ODQuOTQ4Miw2MDYuNzU0NCw1NzQuOTQ4Miw2MDIuNzU0NCw1NzguOTQ4MiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI1NS4wMDAyIiB4Mj0iNTUuMDAwMiIgeTE9IjE0OS45NjM5IiB5Mj0iMTU4LjExMjMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTUuMDAwMiIgeDI9IjI5Mi4yNzE4IiB5MT0iMTU4LjExMjMiIHkyPSIxNTguMTEyMyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyOTIuMjcxOCIgeDI9IjI5Mi4yNzE4IiB5MT0iMTU4LjExMjMiIHkyPSIxNzMuMTEyMyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjg4LjI3MTgsMTYzLjExMjMsMjkyLjI3MTgsMTczLjExMjMsMjk2LjI3MTgsMTYzLjExMjMsMjkyLjI3MTgsMTY3LjExMjMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjkyLjI3MTgiIHgyPSIyOTIuMjcxOCIgeTE9IjI2NC4xOTgyIiB5Mj0iMjY5LjE5ODIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjkyLjI3MTgiIHgyPSI2MDIuNzU0NCIgeTE9IjI2OS4xOTgyIiB5Mj0iMjY5LjE5ODIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjAyLjc1NDQiIHgyPSI2MDIuNzU0NCIgeTE9IjI2OS4xOTgyIiB5Mj0iMjg0LjkxMzEiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjU5OC43NTQ0LDI3NC45MTMxLDYwMi43NTQ0LDI4NC45MTMxLDYwNi43NTQ0LDI3NC45MTMxLDYwMi43NTQ0LDI3OC45MTMxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTgiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzEuOTk5NiIgeD0iODguNjM1OSIgeT0iNjYuNzUiPiYjMjE5NDI7JiMyNjk4OTsmIzM3MDk2OyYjMzgyNzI7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE4IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcxLjk5OTYiIHg9IjMzOS4wNTM2IiB5PSI2Ni43NSI+JiMzMjA3NjsmIzI5NzAyOyYjMzcwOTY7JiMzODI3Mjs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTgiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzEuOTk5NiIgeD0iNjI1Ljc1NDciIHk9IjY2Ljc1Ij4mIzM2MDAxOyYjMjEyMDk7JiMzNzA5NjsmIzM4MjcyOzwvdGV4dD48P3BsYW50dW1sLXNyYyBMUDlESlc4bjU4M3RGS01OUzA0TmlGMGk5V3YyR2kzMFI0bk9DREMwOHlFVjllODgyV0QxSG5YNjlPOWExM25Dd1NfU21jODFPVEVxd1ZWVXpydlZyUFdRTG8zSGZ6SC1QUXg1UWRjQ3haMFFPeEcwODRGZ0NwZU8teVpzd3phQ0lBamRBSE00STctb2RYVXZST1dyMzE5OUxPNmZzNExLMVNubkpqWWVZeEtOdWRQdUZ1VXIxak93R0Y4TzVLSEVoRnkwOU40RURyNFlGdmtNWDc2TkZ5SDc5bHRHei1Id3NRUDZ4S1pYZW9ObmRZSzdhb2Q4bGhmT3ItR1BhRE9KZ0xSTWRhN1MxemVPT0N0YnpiWmkzdW5SMU10RE1URlpMWWFpWWswSll2WkRWSDRhRF8wQkR3cGR5TTd2czV0Q1lXWFFVa0VoMU0zTGJRMDBsSlI5aWRTZWFFNXFQV1pnQTdwUmQ2UEIwa2t0VzBxcktaQ20tZlJ1R1BmTzEwUDhwbFFqaWdIRldyMkRBV2FPazVCSW1McU5uMnNqbE5tT0FGNnEwV0U5ZkJZV2hrY0Z4a0tXWi1uWTJCSklzYkpzSHNwaWpGTDl3LV9fS2g2OUhLRzdqNnJHbnY5VjBZQzdleVZERTkwWHRZZ2o5WXpfMEcwMD8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_2">債権管理で扱うデータ<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>データ</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>請求データ</strong></td>
<td>顧客への請求情報（請求金額、請求日、回収予定日）</td>
</tr>
<tr>
<td><strong>請求明細</strong></td>
<td>請求に含まれる売上データの明細</td>
</tr>
<tr>
<td><strong>入金データ</strong></td>
<td>顧客からの入金情報（入金金額、入金方法）</td>
</tr>
<tr>
<td><strong>入金消込明細</strong></td>
<td>入金と請求の突合情報</td>
</tr>
<tr>
<td><strong>売掛金残高</strong></td>
<td>顧客別の債権残高</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="71-db">7.1 請求業務の DB 設計<a class="headerlink" href="#71-db" title="Permanent link">&para;</a></h2>
<h3 id="_3">請求業務フローの理解<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>請求業務には「都度請求」と「締め請求」の2つのパターンがあります。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjMzN3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6ODI3cHg7aGVpZ2h0OjMzN3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDgyNyAzMzciIHdpZHRoPSI4MjdweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMzU1MzE7JiMyNzcxNDsmIzEyNDk3OyYjMTI0Nzk7JiMxMjU0MDsmIzEyNTMxOyYjMTIzOTg7JiMyNzYwNDsmIzM2NjExOzwvdGl0bGU+PGRlZnMvPjxnPjxnIGNsYXNzPSJ0aXRsZSIgZGF0YS1zb3VyY2UtbGluZT0iMSI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNS45OTk1IiB4PSIzNDMuNTAwMyIgeT0iMjIuOTk1MSI+JiMzNTUzMTsmIzI3NzE0OyYjMTI0OTc7JiMxMjQ3OTsmIzEyNTQwOyYjMTI1MzE7JiMxMjM5ODsmIzI3NjA0OyYjMzY2MTE7PC90ZXh0PjwvZz48IS0tY2x1c3RlciA/Pz8/LS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjMiIGlkPSJlbnQwMDAyIj48cmVjdCBmaWxsPSIjQ0NGRkNDIiBoZWlnaHQ9IjE4OC4xNCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjE0MyIgeD0iNyIgeT0iNDQuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI1MC41MDAxIiB5PSI1OS4yOTIiPiYjMzcxMTc7JiMyNDIzMDsmIzM1NTMxOyYjMjc3MTQ7PC90ZXh0PjwvZz48IS0tY2x1c3RlciA/Pz8/Pz8/Py0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iOSIgaWQ9ImVudDAwMDYiPjxyZWN0IGZpbGw9IiNDQ0NDRkYiIGhlaWdodD0iMjg2Ljk5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iMzA4IiB4PSIzNzYiIHk9IjQ0LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTExLjk5OTUiIHg9IjQ3NC4wMDAyIiB5PSI1OS4yOTIiPiYjMzIyMjQ7JiMxMjQxNzsmIzM1NTMxOyYjMjc3MTQ7JiM2NTI4ODsmIzI2Mzc2OyYjMjc0MjU7JiM2NTI4OTs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgczEtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLnMxIiBkYXRhLXNvdXJjZS1saW5lPSI0IiBpZD0iZW50MDAwMyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyMi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI3NS45OTk4IiB4PSIzMSIgeT0iODcuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjQxIiB5PSIxMDMuMjkyIj4mIzIyNzcwOyYjMTk5Nzg7JiMzMDMzMDsmIzI5OTgzOzwvdGV4dD48L2c+PCEtLWVudGl0eSBpMS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uaTEiIGRhdGEtc291cmNlLWxpbmU9IjUiIGlkPSJlbnQwMDA0Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIyLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9Ijc1Ljk5OTgiIHg9IjMxIiB5PSIxODYuMTQ2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjQxIiB5PSIyMDIuMTQyIj4mIzIxMzYzOyYjMjYxNzg7JiMzNTUzMTsmIzI3NzE0OzwvdGV4dD48L2c+PCEtLWVudGl0eSBzMmEtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLi4uLi5zMmEiIGRhdGEtc291cmNlLWxpbmU9IjEwIiBpZD0iZW50MDAwNyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyMi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI1Ni45MDcxIiB4PSIzOTkuNTUiIHk9Ijg3LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNi45MDcxIiB4PSI0MDkuNTUiIHk9IjEwMy4yOTIiPiYjMjI3NzA7JiMxOTk3ODsxPC90ZXh0PjwvZz48IS0tZW50aXR5IHMyYi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uLi4uLnMyYiIgZGF0YS1zb3VyY2UtbGluZT0iMTEiIGlkPSJlbnQwMDA4Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIyLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjU2LjkwNzEiIHg9IjQ5MS41NSIgeT0iODcuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM2LjkwNzEiIHg9IjUwMS41NSIgeT0iMTAzLjI5MiI+JiMyMjc3MDsmIzE5OTc4OzI8L3RleHQ+PC9nPjwhLS1lbnRpdHkgczJjLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLi4uczJjIiBkYXRhLXNvdXJjZS1saW5lPSIxMiIgaWQ9ImVudDAwMDkiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjIuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNTYuOTA3MSIgeD0iNTgzLjU1IiB5PSI4Ny4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzYuOTA3MSIgeD0iNTkzLjU1IiB5PSIxMDMuMjkyIj4mIzIyNzcwOyYjMTk5Nzg7MzwvdGV4dD48L2c+PCEtLWVudGl0eSBjLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLi4uYyIgZGF0YS1zb3VyY2UtbGluZT0iMTMiIGlkPSJlbnQwMDEwIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIyLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjYxLjk5OTgiIHg9IjQ4OSIgeT0iMTg2LjE0NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSI0OTkiIHk9IjIwMi4xNDIiPiYjMzIyMjQ7JiMyMDk2NjsmIzI5NzAyOzwvdGV4dD48L2c+PCEtLWVudGl0eSBpMi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uLi4uLmkyIiBkYXRhLXNvdXJjZS1saW5lPSIxNCIgaWQ9ImVudDAwMTEiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjIuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNzUuOTk5OCIgeD0iNDgyIiB5PSIyODQuOTg2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjQ5MiIgeT0iMzAwLjk4MiI+JiMyNjM3NjsmIzI3NDI1OyYjMzU1MzE7JiMyNzcxNDs8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkdNTjE2IiBkYXRhLXNvdXJjZS1saW5lPSIyMiIgaWQ9ImVudDAwMTciPjxwYXRoIGQ9Ik0xNzQuNSwxNjkuNTg2OSBMMTc0LjUsMjI0Ljk4NTMgTDM1MS41MDAyLDIyNC45ODUzIEwzNTEuNTAwMiwxNzkuNTg2OSBMMzQxLjUwMDIsMTY5LjU4NjkgTDE3NC41LDE2OS41ODY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMzQxLjUwMDIsMTY5LjU4NjkgTDM0MS41MDAyLDE3OS41ODY5IEwzNTEuNTAwMiwxNzkuNTg2OSBMMzQxLjUwMDIsMTY5LjU4NjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTYuMDAwMiIgeD0iMTgwLjUiIHk9IjE4Ni42NTM4Ij4mIzIxNDYyOyYjMjQzNDE7JiMxMjM5ODsmIzM3MTE3OyYjMjQyMzA7JiMxMjI4OTsmIzM1NTMxOyYjMjc3MTQ7JiMyNjM2MDsmIzEyNDM0OyYjMzAzMzA7JiMzNDg5Mjs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjAuODIzMyIgeD0iMTgwLjUiIHk9IjIwMS43ODY2Ij4tICYjMjEzMzY7JiMzMDMzMDsmIzIxNDYyOyYjMjQzNDE7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYwLjgyMzMiIHg9IjE4MC41IiB5PSIyMTYuOTE5NCI+LSAmIzI5Njk0OyYjMzczMjk7JiMyMTQ2MjsmIzI0MzQxOzwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iR01OMTkiIGRhdGEtc291cmNlLWxpbmU9IjI4IiBpZD0iZW50MDAyMCI+PHBhdGggZD0iTTcwOCwxNjkuNTg2OSBMNzA4LDIyNC45ODUzIEw4MjAuMDAwMSwyMjQuOTg1MyBMODIwLjAwMDEsMTc5LjU4NjkgTDgxMC4wMDAxLDE2OS41ODY5IEw3MDgsMTY5LjU4NjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik04MTAuMDAwMSwxNjkuNTg2OSBMODEwLjAwMDEsMTc5LjU4NjkgTDgyMC4wMDAxLDE3OS41ODY5IEw4MTAuMDAwMSwxNjkuNTg2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxLjAwMDEiIHg9IjcxNCIgeT0iMTg2LjY1MzgiPiYjMjYzNzY7JiMyNjQxMTsmIzEyMzk1OyYjMTk5Njg7JiMyNTMyNDsmIzM1NTMxOyYjMjc3MTQ7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYwLjgyMzMiIHg9IjcxNCIgeT0iMjAxLjc4NjYiPi0gJiMzMjE1MzsmIzMyMTU0OyYjMjE0NjI7JiMyNDM0MTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDcuODIzMyIgeD0iNzE0IiB5PSIyMTYuOTE5NCI+LSAmIzI1NDk5OyYjMjE0NjI7JiMyNDM0MTs8L3RleHQ+PC9nPjwhLS1saW5rIHMxIHRvIGkxLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDMiIGRhdGEtZW50aXR5LTI9ImVudDAwMDQiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI2IiBpZD0ibG5rNSI+PHBhdGggZD0iTTY5LDEwOS44MDY5IEM2OSwxMjguMzQ2OSA2OSwxNjEuMDA2OSA2OSwxNzkuNzA2OSIgZmlsbD0ibm9uZSIgaWQ9InMxLXRvLWkxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI2OSwxODUuNzA2OSw3MywxNzYuNzA2OSw2OSwxODAuNzA2OSw2NSwxNzYuNzA2OSw2OSwxODUuNzA2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBzMmEgdG8gYy0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA3IiBkYXRhLWVudGl0eS0yPSJlbnQwMDEwIiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMTUiIGlkPSJsbmsxMiI+PHBhdGggZD0iTTQzNy44NSwxMDkuODA2OSBDNDU1LjQ2LDEyOC4zNDY5IDQ4OC4wNDY5LDE2Mi42NTc1IDUwNS44MTY5LDE4MS4zNTc1IiBmaWxsPSJub25lIiBpZD0iczJhLXRvLWMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjUwOS45NSwxODUuNzA2OSw1MDYuNjQ5OSwxNzYuNDI3Myw1MDYuNTA1NywxODIuMDgyNCw1MDAuODUwNywxODEuOTM4Miw1MDkuOTUsMTg1LjcwNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgczJiIHRvIGMtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwOCIgZGF0YS1lbnRpdHktMj0iZW50MDAxMCIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjE2IiBpZD0ibG5rMTMiPjxwYXRoIGQ9Ik01MjAsMTA5LjgwNjkgQzUyMCwxMjguMzQ2OSA1MjAsMTYxLjAwNjkgNTIwLDE3OS43MDY5IiBmaWxsPSJub25lIiBpZD0iczJiLXRvLWMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjUyMCwxODUuNzA2OSw1MjQsMTc2LjcwNjksNTIwLDE4MC43MDY5LDUxNiwxNzYuNzA2OSw1MjAsMTg1LjcwNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgczJjIHRvIGMtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwOSIgZGF0YS1lbnRpdHktMj0iZW50MDAxMCIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjE3IiBpZD0ibG5rMTQiPjxwYXRoIGQ9Ik02MDIuMTUsMTA5LjgwNjkgQzU4NC41NCwxMjguMzQ2OSA1NTEuOTUzMSwxNjIuNjU3NSA1MzQuMTgzMSwxODEuMzU3NSIgZmlsbD0ibm9uZSIgaWQ9InMyYy10by1jIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1MzAuMDUsMTg1LjcwNjksNTM5LjE0OTMsMTgxLjkzODIsNTMzLjQ5NDMsMTgyLjA4MjQsNTMzLjM1MDEsMTc2LjQyNzMsNTMwLjA1LDE4NS43MDY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIGMgdG8gaTItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAxMCIgZGF0YS1lbnRpdHktMj0iZW50MDAxMSIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjE4IiBpZD0ibG5rMTUiPjxwYXRoIGQ9Ik01MjAsMjA4LjY1NjkgQzUyMCwyMjcuMTk2OSA1MjAsMjU5Ljg1NjkgNTIwLDI3OC41NTY5IiBmaWxsPSJub25lIiBpZD0iYy10by1pMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTIwLDI4NC41NTY5LDUyNCwyNzUuNTU2OSw1MjAsMjc5LjU1NjksNTE2LDI3NS41NTY5LDUyMCwyODQuNTU2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayA/Pz8/IHRvIEdNTjE2LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDIiIGRhdGEtZW50aXR5LTI9ImVudDAwMTciIGRhdGEtbGluay10eXBlPSJhc3NvY2lhdGlvbiIgZGF0YS1zb3VyY2UtbGluZT0iMjIiIGlkPSJsbmsxOCI+PHBhdGggZD0iTTE1MC4wNDQ3LDEwNS44Nzk5IEMxNTAuMTI0NSwxMDUuOTQzOCAxNTAuMjA0NywxMDYuMDA4IDE1MC4yODU1LDEwNi4wNzI2IEMxNTAuNDQ3MSwxMDYuMjAxOSAxNTAuNjEwNiwxMDYuMzMyOCAxNTAuNzc2MiwxMDYuNDY1MyBDMTUxLjEwNzQsMTA2LjczMDMgMTUxLjQ0NjYsMTA3LjAwMTcgMTUxLjc5MzYsMTA3LjI3OTQgQzE1Ny4zNDUzLDExMS43MjE5IDE2NC44ODk0LDExNy43NTk0IDE3My40NTEzLDEyNC42MTE5IEMxOTAuNTc1LDEzOC4zMTY5IDIxMS43NywxNTUuMjgxOSAyMjkuMjQsMTY5LjI2NjkiIGZpbGw9Im5vbmUiIGlkPSImIzM3MTE3OyYjMjQyMzA7JiMzNTUzMTsmIzI3NzE0Oy1HTU4xNiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6Nyw3OyIvPjwvZz48IS0tbGluayA/Pz8/Pz8/PyB0byBHTU4xOS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA2IiBkYXRhLWVudGl0eS0yPSJlbnQwMDIwIiBkYXRhLWxpbmstdHlwZT0iYXNzb2NpYXRpb24iIGRhdGEtc291cmNlLWxpbmU9IjI4IiBpZD0ibG5rMjEiPjxwYXRoIGQ9Ik02ODQuMDkyNCwxMDguMzQ5NCBDNjg0LjE1OSwxMDguNDIyNyA2ODQuMjI1OSwxMDguNDk2MyA2ODQuMjkzMSwxMDguNTcwMiBDNjg0LjQyNzYsMTA4LjcxODIgNjg0LjU2MzQsMTA4Ljg2NzYgNjg0LjcwMDYsMTA5LjAxODYgQzY4NS4yNDkyLDEwOS42MjIyIDY4NS44MTkxLDExMC4yNDkyIDY4Ni40MDg5LDExMC44OTgxIEM2ODcuNTg4NCwxMTIuMTk1OSA2ODguODQ3MywxMTMuNTgxMyA2OTAuMTc0NywxMTUuMDQxOSBDNjkyLjgyOTUsMTE3Ljk2MzEgNjk1Ljc1NzgsMTIxLjE4NTYgNjk4Ljg3MTMsMTI0LjYxMTkgQzcxMS4zMjUsMTM4LjMxNjkgNzI2Ljc0LDE1NS4yODE5IDczOS40NSwxNjkuMjY2OSIgZmlsbD0ibm9uZSIgaWQ9IiYjMzIyMjQ7JiMxMjQxNzsmIzM1NTMxOyYjMjc3MTQ7JiM2NTI4ODsmIzI2Mzc2OyYjMjc0MjU7JiM2NTI4OTstR01OMTkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjcsNzsiLz48L2c+PD9wbGFudHVtbC1zcmMgVFAzMUlpRDA1NE50eW5MM042VUhrN1NKdzd5YVFQSTI5ajNDSmVHYzBMa2pqTFFnNjVsRzhkSUplalgyM0lOZ25xbmRhZ3h3MnF1b0lKNEhMdEZWVk5WVWNOY2VXT3VEYzBIVC1rdllSdTNUUi1uNXM1ald2dk0tM1BGODB3MWZ3NFdyWnJYQ3M3WVZQM05iUUc3a0FLZ2pmWVptNUVYZ2ltdTV5WjlWWHZVbmx1ZzdKbTlLUk1YQkhRVXRlQnZSdDZFVFhXSGkyT2hZR1FoRUllcHV1bmN4M2l6a2VtdVRULVhpaWVxa0NidkFoRjBhWmZCTGFZbGRoYlBvenRETnBydDY4a3JmVjdFVS1PTkJhUnpWQW1Dc0Z0a2twZklzS3Rnay1DYll4MmtjWEdvZU1HWFA5ejB3aEVtQ2FGdXpZVXhPVGhjRE1fYkZ3SVo0eFl0Uk5KQXYwWThhbEdVY1VQWUxTVnpocW54YWZNN01PR2h2WV9mdFRJMkx1bTB4bUpmaXFVd0NIekIxSXB6VUZrdXV6N2ZLV1ZtMD8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<table>
<thead>
<tr>
<th>請求パターン</th>
<th>特徴</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>都度請求</strong></td>
<td>売上発生時に即座に請求</td>
<td>単発取引、現金取引</td>
</tr>
<tr>
<td><strong>締め請求</strong></td>
<td>月末など締日にまとめて請求</td>
<td>継続取引、掛売り</td>
</tr>
</tbody>
</table>
<h3 id="_4">締処理の概念<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p>締め請求では、顧客ごとに設定された締日に基づいて売上を集約します。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjI1NHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MTI1OHB4O2hlaWdodDoyNTRweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMjU4IDI1NCIgd2lkdGg9IjEyNThweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMzIyMjQ7JiMyMDk2NjsmIzI5NzAyOyYjMTIzOTg7JiMxMjQ3OTsmIzEyNDUyOyYjMTI1MTI7JiMxMjUyMTsmIzEyNDUyOyYjMTI1MzE7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM5Ljk5OTQiIHg9IjU1Mi41MDAxIiB5PSIyMi45OTUxIj4mIzMyMjI0OyYjMjA5NjY7JiMyOTcwMjsmIzEyMzk4OyYjMTI0Nzk7JiMxMjQ1MjsmIzEyNTEyOyYjMTI1MjE7JiMxMjQ1MjsmIzEyNTMxOzwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgMT8tLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iMS4iIGRhdGEtc291cmNlLWxpbmU9IjMiIGlkPSJlbnQwMDAyIj48cmVjdCBmaWxsPSIjRkZGRkNDIiBoZWlnaHQ9IjE4Ny4yOCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjU0NyIgeD0iNyIgeT0iNDQuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMy43NDExIiB4PSIyNjguNjI5NCIgeT0iNTkuMjkyIj4xJiMyNjM3Njs8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIDI/LS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IjIuIiBkYXRhLXNvdXJjZS1saW5lPSIxMCIgaWQ9ImVudDAwMDciPjxyZWN0IGZpbGw9IiNDQ0ZGRkYiIGhlaWdodD0iMTg3LjI4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iMzcwIiB4PSI3MjYiIHk9IjQ0LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjMuNzQxMSIgeD0iODk5LjEyOTQiIHk9IjU5LjI5MiI+MiYjMjYzNzY7PC90ZXh0PjwvZz48IS0tZW50aXR5IHMxLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iMS4uczEiIGRhdGEtc291cmNlLWxpbmU9IjQiIGlkPSJlbnQwMDAzIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIyLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE0Mi40MTc4IiB4PSIyMi43OSIgeT0iNzkuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMi40MTc4IiB4PSIzMi43OSIgeT0iOTUuMjkyIj4xLzUgJiMyMjc3MDsmIzE5OTc4OyAxMCwwMDAmIzIwODcwOzwvdGV4dD48L2c+PCEtLWVudGl0eSBzMi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IjEuLnMyIiBkYXRhLXNvdXJjZS1saW5lPSI1IiBpZD0iZW50MDAwNCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyMi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNTEuMzI1IiB4PSIyMDAuMzQiIHk9Ijc5LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzEuMzI1IiB4PSIyMTAuMzQiIHk9Ijk1LjI5MiI+MS8xNSAmIzIyNzcwOyYjMTk5Nzg7IDI1LDAwMCYjMjA4NzA7PC90ZXh0PjwvZz48IS0tZW50aXR5IHMzLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iMS4uczMiIGRhdGEtc291cmNlLWxpbmU9IjYiIGlkPSJlbnQwMDA1Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIyLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1MS4zMjUiIHg9IjM4Ni4zNCIgeT0iNzkuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMS4zMjUiIHg9IjM5Ni4zNCIgeT0iOTUuMjkyIj4xLzI1ICYjMjI3NzA7JiMxOTk3ODsgMTUsMDAwJiMyMDg3MDs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgYzEtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIxLi5jMSIgZGF0YS1zb3VyY2UtbGluZT0iNyIgaWQ9ImVudDAwMDYiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjIuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iOTcuODg4NSIgeD0iMzIwLjA2IiB5PSIxOTMuMjc2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc3Ljg4ODUiIHg9IjMzMC4wNiIgeT0iMjA5LjI3MiI+MS8zMSAmIzMyMjI0OyYjMjA5NjY7JiMyOTcwMjs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgczQtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIyLi5zNCIgZGF0YS1zb3VyY2UtbGluZT0iMTEiIGlkPSJlbnQwMDA4Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIyLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1MS4zMjUiIHg9Ijc0Mi4zNCIgeT0iNzkuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMS4zMjUiIHg9Ijc1Mi4zNCIgeT0iOTUuMjkyIj4yLzEwICYjMjI3NzA7JiMxOTk3ODsgMjAsMDAwJiMyMDg3MDs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgczUtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIyLi5zNSIgZGF0YS1zb3VyY2UtbGluZT0iMTIiIGlkPSJlbnQwMDA5Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIyLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1MS4zMjUiIHg9IjkyOC4zNCIgeT0iNzkuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMS4zMjUiIHg9IjkzOC4zNCIgeT0iOTUuMjkyIj4yLzIwICYjMjI3NzA7JiMxOTk3ODsgMzAsMDAwJiMyMDg3MDs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgYzItLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIyLi5jMiIgZGF0YS1zb3VyY2UtbGluZT0iMTMiIGlkPSJlbnQwMDEwIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIyLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9Ijk3Ljg4ODUiIHg9Ijk1NS4wNiIgeT0iMTkzLjI3NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3Ny44ODg1IiB4PSI5NjUuMDYiIHk9IjIwOS4yNzIiPjIvMjggJiMzMjIyNDsmIzIwOTY2OyYjMjk3MDI7PC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJHTU4xNiIgZGF0YS1zb3VyY2UtbGluZT0iMjMiIGlkPSJlbnQwMDE3Ij48cGF0aCBkPSJNNTcwLDE2OS4xNjY5IEw1NzAsMjAwLjQyNjkgTDQxOC4yMiwyMDQuNDI2OSBMNTcwLDIwOC40MjY5IEw1NzAsMjM5LjY5ODEgQTAsMCAwIDAgMCA1NzAsMjM5LjY5ODEgTDcwOS45OTk2LDIzOS42OTgxIEEwLDAgMCAwIDAgNzA5Ljk5OTYsMjM5LjY5ODEgTDcwOS45OTk2LDE3OS4xNjY5IEw2OTkuOTk5NiwxNjkuMTY2OSBMNTcwLDE2OS4xNjY5IEEwLDAgMCAwIDAgNTcwLDE2OS4xNjY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNjk5Ljk5OTYsMTY5LjE2NjkgTDY5OS45OTk2LDE3OS4xNjY5IEw3MDkuOTk5NiwxNzkuMTY2OSBMNjk5Ljk5OTYsMTY5LjE2NjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ3LjI3MSIgeD0iNTc2IiB5PSIxODYuMjMzOCI+MSYjMjYzNzY7JiMzNTUzMTsmIzI3NzE0OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTguOTk5NiIgeD0iNTc2IiB5PSIyMDEuMzY2NiI+JiMyMjc3MDsmIzE5OTc4OyYjMjE1MTI7JiMzNTMzNjs6IDUwLDAwMCYjMjA4NzA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3LjcyODYiIHg9IjU3NiIgeT0iMjE2LjQ5OTQiPiYjMjgwNDA7JiMzNjAyNzsmIzMxMjQ2OzogNSwwMDAmIzIwODcwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDUuOTk5NiIgeD0iNTc2IiB5PSIyMzEuNjMyMiI+JiMzNTUzMTsmIzI3NzE0OyYjMzg5ODk7OiA1NSwwMDAmIzIwODcwOzwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iR01OMTkiIGRhdGEtc291cmNlLWxpbmU9IjMwIiBpZD0iZW50MDAyMCI+PHBhdGggZD0iTTExMTIsMTYxLjU5NjkgTDExMTIsMjAwLjQyNjkgTDEwNTMuMzcsMjA0LjQyNjkgTDExMTIsMjA4LjQyNjkgTDExMTIsMjQ3LjI2MDkgQTAsMCAwIDAgMCAxMTEyLDI0Ny4yNjA5IEwxMjUxLjk5OTYsMjQ3LjI2MDkgQTAsMCAwIDAgMCAxMjUxLjk5OTYsMjQ3LjI2MDkgTDEyNTEuOTk5NiwxNzEuNTk2OSBMMTI0MS45OTk2LDE2MS41OTY5IEwxMTEyLDE2MS41OTY5IEEwLDAgMCAwIDAgMTExMiwxNjEuNTk2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTEyNDEuOTk5NiwxNjEuNTk2OSBMMTI0MS45OTk2LDE3MS41OTY5IEwxMjUxLjk5OTYsMTcxLjU5NjkgTDEyNDEuOTk5NiwxNjEuNTk2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDcuMjcxIiB4PSIxMTE4IiB5PSIxNzguNjYzOCI+MiYjMjYzNzY7JiMzNTUzMTsmIzI3NzE0OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTguOTk5NiIgeD0iMTExOCIgeT0iMTkzLjc5NjYiPiYjMzIzNjg7JiMzNjIzNDsmIzI3NTMxOyYjMzk2NDA7OiA1NSwwMDAmIzIwODcwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTguOTk5NiIgeD0iMTExOCIgeT0iMjA4LjkyOTQiPiYjMjAxNzA7JiMyNjM3NjsmIzIyNzcwOyYjMTk5Nzg7OiA1MCwwMDAmIzIwODcwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny43Mjg2IiB4PSIxMTE4IiB5PSIyMjQuMDYyMiI+JiMyODA0MDsmIzM2MDI3OyYjMzEyNDY7OiA1LDAwMCYjMjA4NzA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNC4yNzA2IiB4PSIxMTE4IiB5PSIyMzkuMTk1Ij4mIzM1NTMxOyYjMjc3MTQ7JiMzODk4OTs6IDExMCwwMDAmIzIwODcwOzwvdGV4dD48L2c+PCEtLWxpbmsgczEgdG8gYzEtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMyIgZGF0YS1lbnRpdHktMj0iZW50MDAwNiIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjE2IiBpZD0ibG5rMTEiPjxwYXRoIGQ9Ik0xMTkuODcsMTAxLjk4NjkgQzE3Mi4yOCwxMjMuMzI2OSAyODQuOTEyNywxNjkuMTk1IDMzNy40NDI3LDE5MC41NzUiIGZpbGw9Im5vbmUiIGlkPSJzMS10by1jMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzQzLDE5Mi44MzY5LDMzNi4xNzE5LDE4NS43MzkyLDMzOC4zNjg5LDE5MC45NTIsMzMzLjE1NjEsMTkzLjE0OSwzNDMsMTkyLjgzNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgczIgdG8gYzEtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNCIgZGF0YS1lbnRpdHktMj0iZW50MDAwNiIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjE3IiBpZD0ibG5rMTIiPjxwYXRoIGQ9Ik0yODQuNTgsMTAxLjc4NjkgQzMwMi4yMSwxMjMuMDA2OSAzMzguNDk2NSwxNjYuNzAxMiAzNTYuMzM2NSwxODguMTgxMiIgZmlsbD0ibm9uZSIgaWQ9InMyLXRvLWMxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzNjAuMTcsMTkyLjc5NjksMzU3LjQ5NjksMTgzLjMxNzcsMzU2Ljk3NTQsMTg4Ljk1MDUsMzUxLjM0MjcsMTg4LjQyOSwzNjAuMTcsMTkyLjc5NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgczMgdG8gYzEtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNSIgZGF0YS1lbnRpdHktMj0iZW50MDAwNiIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjE4IiBpZD0ibG5rMTMiPjxwYXRoIGQ9Ik00NTMuNDIsMTAxLjc4NjkgQzQzNS43OSwxMjMuMDA2OSAzOTkuNTAzNSwxNjYuNzAxMiAzODEuNjYzNSwxODguMTgxMiIgZmlsbD0ibm9uZSIgaWQ9InMzLXRvLWMxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzNzcuODMsMTkyLjc5NjksMzg2LjY1NzMsMTg4LjQyOSwzODEuMDI0NiwxODguOTUwNSwzODAuNTAzMSwxODMuMzE3NywzNzcuODMsMTkyLjc5NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgczQgdG8gYzItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwOCIgZGF0YS1lbnRpdHktMj0iZW50MDAxMCIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjE5IiBpZD0ibG5rMTQiPjxwYXRoIGQ9Ik04MzUuNSwxMDEuOTg2OSBDODcwLjk1LDEyMy4zMjY5IDk0NS43NDk0LDE2OC4zNjI3IDk4MS4yNjk0LDE4OS43NDI3IiBmaWxsPSJub25lIiBpZD0iczQtdG8tYzIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9Ijk4Ni40MSwxOTIuODM2OSw5ODAuNzYxOSwxODQuNzY4NSw5ODIuMTI2MiwxOTAuMjU4NCw5NzYuNjM2MywxOTEuNjIyNiw5ODYuNDEsMTkyLjgzNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgczUgdG8gYzItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwOSIgZGF0YS1lbnRpdHktMj0iZW50MDAxMCIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjIwIiBpZD0ibG5rMTUiPjxwYXRoIGQ9Ik0xMDA0LDEwMS43ODY5IEMxMDA0LDEyMy4wMDY5IDEwMDQsMTY1LjMxNjkgMTAwNCwxODYuNzk2OSIgZmlsbD0ibm9uZSIgaWQ9InM1LXRvLWMyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMDA0LDE5Mi43OTY5LDEwMDgsMTgzLjc5NjksMTAwNCwxODcuNzk2OSwxMDAwLDE4My43OTY5LDEwMDQsMTkyLjc5NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PD9wbGFudHVtbC1zcmMgYlA3RElpRDA1OE50eW5JTmtCS3FTekUwazcwSnkzcjI2Y2oxS2FZb2Fvd1FHV21mSWZTa041R0tnSElBTGdYQTVwdkNjZi0tWEpDRGtKNndDZ2wzY016b0ZYQV94cl9PYUJfRnFna2RWMWVjZXNLSVYyTjFPcEFVOVVGZFZOWFpwQktqdHRId1diSHVUWFNmUzcwZzdpRTBJc1FQUmJVcVJIdElYek5zOG1RazdnZ2djZVFYMGdPNzdZVTI0dTl3MHE1Mmk3dkI0ejQ4cU5YamtwLXBFMWlzM0I0cUQwcGZJOFJPdlloakRuS3hYMjBYTVhGSFEtSmV6cHhBVk96M2d0S1lQSm9hZjU3Z2IwY1BmclU5RUdGVjFoVlZFX1RYUzJPZi1NY0JuSUh4M0xYZmFLd1pPWHVUV3J4OWk2bVQ1UWpERmh5SFBUTUxMdFJ0cndBWnFkUXc4MFYtcDIzM1VZUl9WMmRNU1JRU3gxUXRGc3psRHg2MEllYl9wN0Z3enhKXzNHMDA/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_5">請求データ・請求明細の構造<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<h4 id="er">請求データの ER 図<a class="headerlink" href="#er" title="Permanent link">&para;</a></h4>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjY2M3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MzA0cHg7aGVpZ2h0OjY2M3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDMwNCA2NjMiIHdpZHRoPSIzMDRweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMzU1MzE7JiMyNzcxNDsmIzM4MzA2OyYjMzY4OTk7JiMxMjQ4NjsmIzEyNTQwOyYjMTI1MDI7JiMxMjUyMzs8L3RpdGxlPjxkZWZzLz48Zz48ZyBjbGFzcz0idGl0bGUiIGRhdGEtc291cmNlLWxpbmU9IjEiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTEuOTk5NSIgeD0iODkuNDA3MyIgeT0iMjIuOTk1MSI+JiMzNTUzMTsmIzI3NzE0OyYjMzgzMDY7JiMzNjg5OTsmIzEyNDg2OyYjMTI1NDA7JiMxMjUwMjsmIzEyNTIzOzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjMiIGlkPSJlbnQwMDAyIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjE3OC4zNzUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyMC44MTQxIiB4PSI3IiB5PSIxMzMuOTI2OSIvPjxlbGxpcHNlIGN4PSIzMC40NjY1IiBjeT0iMTQ5LjkyNjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTM0LjU3NTksMTU1LjkyNjkgTDI2Ljg1NzEsMTU1LjkyNjkgTDI2Ljg1NzEsMTQzLjUzNjMgTDM0LjU3NTksMTQzLjUzNjMgTDM0LjU3NTksMTQ1LjY5MjUgTDI5LjMxMDMsMTQ1LjY5MjUgTDI5LjMxMDMsMTQ4LjM2NDQgTDM0LjA3NTksMTQ4LjM2NDQgTDM0LjA3NTksMTUwLjUyMDYgTDI5LjMxMDMsMTUwLjUyMDYgTDI5LjMxMDMsMTUzLjc3MDYgTDM0LjU3NTksMTUzLjc3MDYgTDM0LjU3NTksMTU1LjkyNjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSI0Ni4zNDc5IiB5PSIxNTQuNzczNiI+JiMyMjc3MDsmIzE5OTc4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI4IiB4Mj0iMTI2LjgxNDEiIHkxPSIxNjUuOTI2OSIgeTI9IjE2NS45MjY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTQuMTEzMyIgeD0iMTMiIHk9IjE4Mi45MjIiPklEICYjMTcxO1BLJiMxODc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI4IiB4Mj0iMTI2LjgxNDEiIHkxPSIxOTAuMjIzOCIgeTI9IjE5MC4yMjM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuMDA4NSIgeD0iMTMiIHk9IjIwNy4yMTg5Ij4mIzIyNzcwOyYjMTk5Nzg7JiMzMDA1ODsmIzIxNDk1OyAmIzE3MTtVSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIxMyIgeT0iMjIzLjUxNTciPiYjMjI3NzA7JiMxOTk3ODsmIzI2MDg1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDguODE0MSIgeD0iMTMiIHk9IjIzOS44MTI2Ij4mIzM5MDE1OyYjMjM0NTg7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7ICYjMTcxO0ZLJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjEzIiB5PSIyNTYuMTA5NSI+JiMyMjc3MDsmIzE5OTc4OyYjMzczMjk7JiMzODk4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTMiIHk9IjI3Mi40MDY0Ij4mIzI4MDQwOyYjMzYwMjc7JiMzMTI0NjsmIzM4OTg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxMyIgeT0iMjg4LjcwMzIiPiYjMjI3NzA7JiMxOTk3ODsmIzIxNTEyOyYjMzUzMzY7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjEzIiB5PSIzMDUuMDAwMSI+JiMxMjQ3MzsmIzEyNDg2OyYjMTI1NDA7JiMxMjQ3OTsmIzEyNDczOzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjE1IiBpZD0iZW50MDAwMyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzNTcuNjQwNiIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTM0LjgxNDEiIHg9IjE2MyIgeT0iNDQuMjk2OSIvPjxlbGxpcHNlIGN4PSIxOTIuNzY2NSIgY3k9IjYwLjI5NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTE5Ni44NzU5LDY2LjI5NjkgTDE4OS4xNTcxLDY2LjI5NjkgTDE4OS4xNTcxLDUzLjkwNjMgTDE5Ni44NzU5LDUzLjkwNjMgTDE5Ni44NzU5LDU2LjA2MjUgTDE5MS42MTAyLDU2LjA2MjUgTDE5MS42MTAyLDU4LjczNDQgTDE5Ni4zNzU5LDU4LjczNDQgTDE5Ni4zNzU5LDYwLjg5MDYgTDE5MS42MTAyLDYwLjg5MDYgTDE5MS42MTAyLDY0LjE0MDYgTDE5Ni44NzU5LDY0LjE0MDYgTDE5Ni44NzU5LDY2LjI5NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyMTAuMDQ3OSIgeT0iNjUuMTQzNiI+JiMzNTUzMTsmIzI3NzE0OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxNjQiIHgyPSIyOTYuODE0MSIgeTE9Ijc2LjI5NjkiIHkyPSI3Ni4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTQuMTEzMyIgeD0iMTY5IiB5PSI5My4yOTIiPklEICYjMTcxO1BLJiMxODc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNjQiIHgyPSIyOTYuODE0MSIgeTE9IjEwMC41OTM4IiB5Mj0iMTAwLjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny4wMDg1IiB4PSIxNjkiIHk9IjExNy41ODg5Ij4mIzM1NTMxOyYjMjc3MTQ7JiMzMDA1ODsmIzIxNDk1OyAmIzE3MTtVSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIxNjkiIHk9IjEzMy44ODU3Ij4mIzM1NTMxOyYjMjc3MTQ7JiMyNjA4NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIyLjgxNDEiIHg9IjE2OSIgeT0iMTUwLjE4MjYiPiYjMzU1MzE7JiMyNzcxNDsmIzIwODA4OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyAmIzE3MTtGSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDguODE0MSIgeD0iMTY5IiB5PSIxNjYuNDc5NSI+JiMzOTAxNTsmIzIzNDU4OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyAmIzE3MTtGSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSIxNjkiIHk9IjE4Mi43NzY0Ij4mIzMyMjI0OyYjMjYwODU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjE2OSIgeT0iMTk5LjA3MzIiPiYjMzU1MzE7JiMyNzcxNDsmIzIxMzA2OyYjMjA5OTg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjE2OSIgeT0iMjE1LjM3MDEiPiYjMjEwNjk7JiMyMjIzODsmIzM1NTMxOyYjMjc3MTQ7JiMyNzUzMTsmIzM5NjQwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIxNjkiIHk9IjIzMS42NjciPiYjMjA4Mzc7JiMzNzMyOTsmIzM4OTg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxNjkiIHk9IjI0Ny45NjM5Ij4mIzMyMzY4OyYjMzYyMzQ7JiMyNzUzMTsmIzM5NjQwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIxNjkiIHk9IjI2NC4yNjA3Ij4mIzIwMTcwOyYjMjIyMzg7JiMyMjc3MDsmIzE5OTc4OyYjMzg5ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjE2OSIgeT0iMjgwLjU1NzYiPiYjMjAxNzA7JiMyMjIzODsmIzI4MDQwOyYjMzYwMjc7JiMzMTI0NjsmIzM4OTg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIxNjkiIHk9IjI5Ni44NTQ1Ij4mIzIwMTcwOyYjMjIyMzg7JiMzNTUzMTsmIzI3NzE0OyYjMzg5ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjE2OSIgeT0iMzEzLjE1MTQiPiYjMzU1MzE7JiMyNzcxNDsmIzI3NTMxOyYjMzk2NDA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjE2OSIgeT0iMzI5LjQ0ODIiPiYjMjIyMzg7JiMyMTQ1NDsmIzIwMTA0OyYjMjM0NTA7JiMyNjA4NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTY5IiB5PSIzNDUuNzQ1MSI+JiMxMjQ3MzsmIzEyNDg2OyYjMTI1NDA7JiMxMjQ3OTsmIzEyNDczOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIxNjkiIHk9IjM2Mi4wNDIiPiYjMTI0OTY7JiMxMjU0MDsmIzEyNDcyOyYjMTI1MTk7JiMxMjUzMTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTY5IiB5PSIzNzguMzM4OSI+JiMyMDMxNjsmIzI1MTA0OyYjMjYwODU7JiMyNjE3ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTY5IiB5PSIzOTQuNjM1NyI+JiMyNjM1NjsmIzI2MDMyOyYjMjYwODU7JiMyNjE3ODs8L3RleHQ+PC9nPjwhLS1jbGFzcyA/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMzgiIGlkPSJlbnQwMDA0Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjE5NC42NzE5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI5My43MjM1IiB4PSIzMS41NSIgeT0iNDYxLjkzNjkiLz48ZWxsaXBzZSBjeD0iNDkuMTI1NyIgY3k9IjQ3Ny45MzY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik01My4yMzUxLDQ4My45MzY5IEw0NS41MTYzLDQ4My45MzY5IEw0NS41MTYzLDQ3MS41NDYzIEw1My4yMzUxLDQ3MS41NDYzIEw1My4yMzUxLDQ3My43MDI1IEw0Ny45Njk0LDQ3My43MDI1IEw0Ny45Njk0LDQ3Ni4zNzQ0IEw1Mi43MzUxLDQ3Ni4zNzQ0IEw1Mi43MzUxLDQ3OC41MzA2IEw0Ny45Njk0LDQ3OC41MzA2IEw0Ny45Njk0LDQ4MS43ODA2IEw1My4yMzUxLDQ4MS43ODA2IEw1My4yMzUxLDQ4My45MzY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iNjMuNjk4MSIgeT0iNDgyLjc4MzYiPiYjMzU1MzE7JiMyNzcxNDsmIzI2MTI2OyYjMzIwNDg7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjMyLjU1IiB4Mj0iMTI0LjI3MzUiIHkxPSI0OTMuOTM2OSIgeTI9IjQ5My45MzY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTQuMTEzMyIgeD0iMzcuNTUiIHk9IjUxMC45MzIiPklEICYjMTcxO1BLJiMxODc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMi41NSIgeDI9IjEyNC4yNzM1IiB5MT0iNTE4LjIzMzgiIHkyPSI1MTguMjMzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgxLjcyMzUiIHg9IjM3LjU1IiB5PSI1MzUuMjI4OSI+JiMzNTUzMTsmIzI3NzE0O0lEICYjMTcxO0ZLJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjk5OTgiIHg9IjM3LjU1IiB5PSI1NTEuNTI1NyI+JiMzNDg5MjsmIzMwMDU4OyYjMjE0OTU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgxLjcyMzUiIHg9IjM3LjU1IiB5PSI1NjcuODIyNiI+JiMyMjc3MDsmIzE5OTc4O0lEICYjMTcxO0ZLJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjM3LjU1IiB5PSI1ODQuMTE5NSI+JiMyMjc3MDsmIzE5OTc4OyYjMzAwNTg7JiMyMTQ5NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iMzcuNTUiIHk9IjYwMC40MTY0Ij4mIzIyNzcwOyYjMTk5Nzg7JiMyNjA4NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMzcuNTUiIHk9IjYxNi43MTMyIj4mIzIyNzcwOyYjMTk5Nzg7JiMzNzMyOTsmIzM4OTg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIzNy41NSIgeT0iNjMzLjAxMDEiPiYjMjgwNDA7JiMzNjAyNzsmIzMxMjQ2OyYjMzg5ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjM3LjU1IiB5PSI2NDkuMzA3Ij4mIzIxNTEyOyYjMzUzMzY7JiMzNzMyOTsmIzM4OTg5OzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjUxIiBpZD0iZW50MDAwNSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxOTQuNjcxOSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTIwLjgxNDEiIHg9IjE3MCIgeT0iNDYxLjkzNjkiLz48ZWxsaXBzZSBjeD0iMTkzLjQ2NjUiIGN5PSI0NzcuOTM2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMTk3LjU3NTksNDgzLjkzNjkgTDE4OS44NTcxLDQ4My45MzY5IEwxODkuODU3MSw0NzEuNTQ2MyBMMTk3LjU3NTksNDcxLjU0NjMgTDE5Ny41NzU5LDQ3My43MDI1IEwxOTIuMzEwMyw0NzMuNzAyNSBMMTkyLjMxMDMsNDc2LjM3NDQgTDE5Ny4wNzU5LDQ3Ni4zNzQ0IEwxOTcuMDc1OSw0NzguNTMwNiBMMTkyLjMxMDMsNDc4LjUzMDYgTDE5Mi4zMTAzLDQ4MS43ODA2IEwxOTcuNTc1OSw0ODEuNzgwNiBMMTk3LjU3NTksNDgzLjkzNjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyMDkuMzQ3OSIgeT0iNDgyLjc4MzYiPiYjMzU1MzE7JiMyNzcxNDsmIzMyMjI0OyYjMjM2NTM7JiMyNzUwODs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTcxIiB4Mj0iMjg5LjgxNDEiIHkxPSI0OTMuOTM2OSIgeTI9IjQ5My45MzY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTQuMTEzMyIgeD0iMTc2IiB5PSI1MTAuOTMyIj5JRCAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTcxIiB4Mj0iMjg5LjgxNDEiIHkxPSI1MTguMjMzOCIgeTI9IjUxOC4yMzM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA4LjgxNDEiIHg9IjE3NiIgeT0iNTM1LjIyODkiPiYjMzkwMTU7JiMyMzQ1ODsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iMTc2IiB5PSI1NTEuNTI1NyI+JiMzMjIyNDsmIzI0MTgwOyYjMjYzNzY7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ljk5OTkiIHg9IjE3NiIgeT0iNTY3LjgyMjYiPiYjMzIyMjQ7JiMyNjA4NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTc2IiB5PSI1ODQuMTE5NSI+JiMyMjc3MDsmIzE5OTc4OyYjMjAyMTQ7JiMyNTk2ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTc2IiB5PSI2MDAuNDE2NCI+JiMyMjc3MDsmIzE5OTc4OyYjMjE1MTI7JiMzNTMzNjs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTc2IiB5PSI2MTYuNzEzMiI+JiMyODA0MDsmIzM2MDI3OyYjMzEyNDY7JiMyMTUxMjsmIzM1MzM2OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4MS43MjM1IiB4PSIxNzYiIHk9IjYzMy4wMTAxIj4mIzM1NTMxOyYjMjc3MTQ7SUQgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTc2IiB5PSI2NDkuMzA3Ij4mIzIwOTY2OyYjMjk3MDI7JiMyNjA4NTsmIzI2MTc4OzwvdGV4dD48L2c+PCEtLWxpbmsgPz8/Pz8gdG8gPz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAyIiBkYXRhLWVudGl0eS0yPSJlbnQwMDA0IiBkYXRhLWxpbmstdHlwZT0iY3Jvd2Zvb3QiIGRhdGEtc291cmNlLWxpbmU9IjY0IiBpZD0ibG5rNiI+PHBhdGggY29kZUxpbmU9IjY0IiBkPSJNNzAuNTkxOCwzMjAuNzgyNiBDNzIuMDkxOCwzNjYuNjAyNiA3My4wODk4LDM5Ni42MTY2IDc0LjYyOTgsNDQzLjU1NjYiIGZpbGw9Im5vbmUiIGlkPSImIzIyNzcwOyYjMTk5Nzg7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7LSYjMzU1MzE7JiMyNzcxNDsmIzI2MTI2OyYjMzIwNDg7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjY2LjQ2MyIgeDI9Ijc0LjQ1ODciIHkxPSIzMTYuOTE1NiIgeTI9IjMxNi42NTM5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjY2LjU2MTIiIHgyPSI3NC41NTY5IiB5MT0iMzE5LjkxNCIgeTI9IjMxOS42NTIyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjcwLjU5MTgiIHgyPSI3MC4zMyIgeTE9IjMyMC43ODI2IiB5Mj0iMzEyLjc4NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNzQuOTU3NyIgeDI9IjgxLjIxNjgiIHkxPSI0NTMuNTUxMiIgeTI9IjQ2MS4zNTAxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijc0Ljk1NzciIHgyPSI2OS4yMjMyIiB5MT0iNDUzLjU1MTIiIHkyPSI0NjEuNzQzNiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI3NC45NTc3IiB4Mj0iNzUuMjIiIHkxPSI0NTMuNTUxMiIgeTI9IjQ2MS41NDY5Ii8+PGVsbGlwc2UgY3g9Ijc0Ljc2MDkiIGN5PSI0NDcuNTU0NCIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rID8/Pz8/IHRvID8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMyIgZGF0YS1lbnRpdHktMj0iZW50MDAwNCIgZGF0YS1saW5rLXR5cGU9ImNyb3dmb290IiBkYXRhLXNvdXJjZS1saW5lPSI2NSIgaWQ9ImxuazciPjxwYXRoIGNvZGVMaW5lPSI2NSIgZD0iTTE1OS4zMTg4LDM4MC4zOTk1IEMxNDUuNjI4OCw0MTAuNTA5NSAxNDIuMzMzNCw0MTcuNzQyNSAxMjkuNzIzNCw0NDUuNDYyNSIgZmlsbD0ibm9uZSIgaWQ9IiYjMzU1MzE7JiMyNzcxNDsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTstJiMzNTUzMTsmIzI3NzE0OyYjMjYxMjY7JiMzMjA0ODsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTU3LjMzMzEiIHgyPSIxNjQuNjE1NyIgeTE9IjM3NS4xMDI2IiB5Mj0iMzc4LjQxMzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTU2LjA5MTQiIHgyPSIxNjMuMzc0IiB5MT0iMzc3LjgzMzYiIHkyPSIzODEuMTQ0NyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNTkuMzE4OCIgeDI9IjE2Mi42MyIgeTE9IjM4MC4zOTk1IiB5Mj0iMzczLjExNjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTI1LjU4MjYiIHgyPSIxMjcuNzMxNSIgeTE9IjQ1NC41NjQ5IiB5Mj0iNDY0LjMzMTMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTI1LjU4MjYiIHgyPSIxMTYuODA4NSIgeTE9IjQ1NC41NjQ5IiB5Mj0iNDU5LjM2MjQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTI1LjU4MjYiIHgyPSIxMjIuMjciIHkxPSI0NTQuNTY0OSIgeTI9IjQ2MS44NDY5Ii8+PGVsbGlwc2UgY3g9IjEyOC4wNjcxIiBjeT0iNDQ5LjEwMzUiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayA/Pz8/PyB0byA/Pz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAzIiBkYXRhLWVudGl0eS0yPSJlbnQwMDA1IiBkYXRhLWxpbmstdHlwZT0iYXNzb2NpYXRpb24iIGRhdGEtc291cmNlLWxpbmU9IjY2IiBpZD0ibG5rOCI+PHBhdGggY29kZUxpbmU9IjY2IiBkPSJNMjMwLjQxLDQwOS45NTY5IEMyMzAuNDEsNDMwLjUyNjkgMjMwLjQxLDQyNy44ODY5IDIzMC40MSw0NDYuNzY2OSIgZmlsbD0ibm9uZSIgaWQ9IiYjMzU1MzE7JiMyNzcxNDsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTstJiMzNTUzMTsmIzI3NzE0OyYjMzIyMjQ7JiMyMzY1MzsmIzI3NTA4OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMjYuNDEiIHgyPSIyMzQuNDEiIHkxPSI0MDUuOTU2OSIgeTI9IjQwNS45NTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIyNi40MSIgeDI9IjIzNC40MSIgeTE9IjQwOC45NTY5IiB5Mj0iNDA4Ljk1NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjMwLjQxIiB4Mj0iMjMwLjQxIiB5MT0iNDA5Ljk1NjkiIHkyPSI0MDEuOTU2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMzAuNDEiIHgyPSIyMzAuNDEiIHkxPSI0NTAuNzY2OSIgeTI9IjQ2MS43NjY5Ii8+PGVsbGlwc2UgY3g9IjIzMC40MSIgY3k9IjQ1MC43NjY5IiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjM0LjQxIiB4Mj0iMjI2LjQxIiB5MT0iNDU3Ljc2NjkiIHkyPSI0NTcuNzY2OSIvPjwvZz48P3BsYW50dW1sLXNyYyBaTEJCSlc4bjVEdFZodldWYzN5V2g4bzlTVUY2SnMxMU9kR3A2bUNjUFhnVzg4em4wUThHOG4yNEkySjM4cG1yVjRvZGRQY19pM0VqbTVHbnhkaEZrTXRGRlVTUUlVQ1llTmMzRXBPb19MaFJsLXFHYjJOZVd3MFFHR0UwbkFNSERBdXJzWGF4WW05MWtPMG9EcmVBSmV3cU1FcGlEMXU3TkdUMWt6S3RNZmJwLTNvMDFTT1VrazJ0VWRKTzlrT2FWM1ZGNnV2dDNOeGt0Yy1MV0NzbURyd3hfTjlHMjhQUXNFalo4RVBJSVo4dF8wbXRNcjUyeks1SFdld0E0YldXSWZuZTFsX0dUSzJrRXRfUGtyVFNLUG01Y1lfSG5oRHlUN1pkMy1mMENycXZhaGtxbExiMW1pd3dtM2xibzltS1RNSGcwU2FlVTFyemJiLWtiOXFMZmlFZEc4UmcyYTVNTTJtOHdYNHEwVVVwb1IzNUV6Y1oyUW1uUEpMUjVnZl9oNXZzZl9SbHZlTEdFQnROQVdlZFBKV3hQWl94bFQzX0kzVkNMSkFnNmt1bzdOTlAtckdMVDNXTGtmb285bHhFSF9waGg2VWlRYVNOUUlqMnJrZzhERlZnTWpjVEktaEVmekV3VmZNQWswUmcybHd4OXd0RS1tSzA/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_6">請求ステータスの定義<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNUQVRFIiBoZWlnaHQ9IjY0NHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MzM3cHg7aGVpZ2h0OjY0NHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDMzNyA2NDQiIHdpZHRoPSIzMzdweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMzU1MzE7JiMyNzcxNDsmIzEyNDczOyYjMTI0ODY7JiMxMjU0MDsmIzEyNDc5OyYjMTI0NzM7JiMzNjk4MzsmIzMxMjI3OyYjMjIyNTk7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM5Ljk5OTQiIHg9IjkxLjgzMDQiIHk9IjIyLjk5NTEiPiYjMzU1MzE7JiMyNzcxNDsmIzEyNDczOyYjMTI0ODY7JiMxMjU0MDsmIzEyNDc5OyYjMTI0NzM7JiMzNjk4MzsmIzMxMjI3OyYjMjIyNTk7PC90ZXh0PjwvZz48ZWxsaXBzZSBjeD0iMTM2IiBjeT0iNTMuMjk2OSIgZmlsbD0iIzIyMjIyMiIgcng9IjEwIiByeT0iMTAiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48Zz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjUwIiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjYxLjk5OTgiIHg9IjEwNSIgeT0iMTI0LjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxMDUiIHgyPSIxNjYuOTk5OCIgeTE9IjE1MC41OTM4IiB5Mj0iMTUwLjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIxMTUiIHk9IjE0Mi4yOTIiPiYjMjY0MTA7JiMzMDMzMDsmIzM0ODkyOzwvdGV4dD48L2c+PGc+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI1MCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI2MS45OTk4IiB4PSIxMDUiIHk9IjI1MS4yOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTA1IiB4Mj0iMTY2Ljk5OTgiIHkxPSIyNzcuNTkzOCIgeTI9IjI3Ny41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iMTE1IiB5PSIyNjkuMjkyIj4mIzMwMzMwOyYjMzQ4OTI7JiMyODE2ODs8L3RleHQ+PC9nPjxnPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNTAiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNzUuOTk5OCIgeD0iOTgiIHk9IjM3OC4yOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iOTgiIHgyPSIxNzMuOTk5OCIgeTE9IjQwNC41OTM4IiB5Mj0iNDA0LjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxMDgiIHk9IjM5Ni4yOTIiPiYjMTk5Njg7JiMzNzA5NjsmIzIwODM3OyYjMzczMjk7PC90ZXh0PjwvZz48Zz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjUwIiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjYxLjk5OTgiIHg9IjciIHk9IjUwNS4yOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNyIgeDI9IjY4Ljk5OTgiIHkxPSI1MzEuNTkzOCIgeTI9IjUzMS41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iMTciIHk9IjUyMy4yOTIiPiYjMjA4Mzc7JiMzNzMyOTsmIzI4MTY4OzwvdGV4dD48L2c+PGVsbGlwc2UgY3g9IjM4IiBjeT0iNjI3LjI5NjkiIGZpbGw9Im5vbmUiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMyMjIyMjI7c3Ryb2tlLXdpZHRoOjE7Ii8+PGVsbGlwc2UgY3g9IjM4IiBjeT0iNjI3LjI5NjkiIGZpbGw9IiMyMjIyMjIiIHJ4PSI2IiByeT0iNiIgc3R5bGU9InN0cm9rZTojMjIyMjIyO3N0cm9rZS13aWR0aDoxOyIvPjxnPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNTAiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNzUuOTk5OCIgeD0iMTI4IiB5PSI1MDUuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjEyOCIgeDI9IjIwMy45OTk4IiB5MT0iNTMxLjU5MzgiIHkyPSI1MzEuNTkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjEzOCIgeT0iNTIzLjI5MiI+JiMyMjIzODsmIzIxNDU0OyYjMzY5MzM7JiMyNDMxMDs8L3RleHQ+PC9nPjwhLS1saW5rICpzdGFydCogdG8gPz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDIiIGRhdGEtZW50aXR5LTI9ImVudDAwMDMiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIzIiBpZD0ibG5rNCI+PHBhdGggZD0iTTEzNiw2My42NTY5IEMxMzYsNzcuNTg2OSAxMzYsOTguMjQ2OSAxMzYsMTE3Ljk0NjkiIGZpbGw9Im5vbmUiIGlkPSIqc3RhcnQqLXRvLSYjMjY0MTA7JiMzMDMzMDsmIzM0ODkyOyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTM2LDEyMy45NDY5LDE0MCwxMTQuOTQ2OSwxMzYsMTE4Ljk0NjksMTMyLDExNC45NDY5LDEzNiwxMjMuOTQ2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayA/Pz8gdG8gPz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDMiIGRhdGEtZW50aXR5LTI9ImVudDAwMDUiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI1IiBpZD0ibG5rNiI+PHBhdGggZD0iTTEzNiwxNzQuNjk2OSBDMTM2LDE5Ni43MTY5IDEzNiwyMjIuOTU2OSAxMzYsMjQ0Ljk1NjkiIGZpbGw9Im5vbmUiIGlkPSImIzI2NDEwOyYjMzAzMzA7JiMzNDg5MjstdG8tJiMzMDMzMDsmIzM0ODkyOyYjMjgxNjg7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMzYsMjUwLjk1NjksMTQwLDI0MS45NTY5LDEzNiwyNDUuOTU2OSwxMzIsMjQxLjk1NjksMTM2LDI1MC45NTY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjUuMDAwMSIgeD0iMTM3IiB5PSIyMTcuMzYzOCI+JiMzNTUzMTsmIzI3NzE0OyYjMjYzNjA7JiMzMDMzMDsmIzM0ODkyOzwvdGV4dD48L2c+PCEtLWxpbmsgPz8/IHRvID8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNSIgZGF0YS1lbnRpdHktMj0iZW50MDAwNyIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjciIGlkPSJsbms4Ij48cGF0aCBkPSJNMTM2LDMwMS42OTY5IEMxMzYsMzIzLjcxNjkgMTM2LDM0OS45NTY5IDEzNiwzNzEuOTU2OSIgZmlsbD0ibm9uZSIgaWQ9IiYjMzAzMzA7JiMzNDg5MjsmIzI4MTY4Oy10by0mIzE5OTY4OyYjMzcwOTY7JiMyMDgzNzsmIzM3MzI5OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTM2LDM3Ny45NTY5LDE0MCwzNjguOTU2OSwxMzYsMzcyLjk1NjksMTMyLDM2OC45NTY5LDEzNiwzNzcuOTU2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyLjAwMDEiIHg9IjEzNyIgeT0iMzQ0LjM2MzgiPiYjMTk5Njg7JiMzNzA5NjsmIzIwODM3OyYjMzczMjk7PC90ZXh0PjwvZz48IS0tbGluayA/Pz8gdG8gPz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDUiIGRhdGEtZW50aXR5LTI9ImVudDAwMDkiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI4IiBpZD0ibG5rMTAiPjxwYXRoIGQ9Ik0xMDQuNjgsMjk1Ljc5NjkgQzc4LjQxLDMxMy4zMDY5IDQyLjc1LDM0Mi4yNDY5IDI3LDM3OC4yOTY5IEM4Ljg1LDQxOS44NDY5IDE4LjQyOTgsNDY4LjIyMTggMjcuNzI5OCw0OTkuMTAxOCIgZmlsbD0ibm9uZSIgaWQ9IiYjMzAzMzA7JiMzNDg5MjsmIzI4MTY4Oy10by0mIzIwODM3OyYjMzczMjk7JiMyODE2ODsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI5LjQ2LDUwNC44NDY5LDMwLjY5NDcsNDk1LjA3NTcsMjguMDE4MSw1MDAuMDU5MywyMy4wMzQ2LDQ5Ny4zODI3LDI5LjQ2LDUwNC44NDY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIuMDAwMSIgeD0iMjgiIHk9IjQwNy44NjM4Ij4mIzIwODQwOyYjMzg5ODk7JiMyMDgzNzsmIzM3MzI5OzwvdGV4dD48L2c+PCEtLWxpbmsgPz8/PyB0byA/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNyIgZGF0YS1lbnRpdHktMj0iZW50MDAwOSIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjEwIiBpZD0ibG5rMTEiPjxwYXRoIGQ9Ik0xMDguNTksNDI4LjU5NjkgQzk5LjMxLDQzNy40NzY5IDg5LjIyLDQ0Ny45MDY5IDgxLDQ1OC4yOTY5IEM2OS40Niw0NzIuODc2OSA2MS41NDg2LDQ4NS41NDQ1IDUzLjY0ODYsNDk5LjczNDUiIGZpbGw9Im5vbmUiIGlkPSImIzE5OTY4OyYjMzcwOTY7JiMyMDgzNzsmIzM3MzI5Oy10by0mIzIwODM3OyYjMzczMjk7JiMyODE2ODsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjUwLjczLDUwNC45NzY5LDU4LjYwMjcsNDk5LjA1OTEsNTMuMTYyMSw1MDAuNjA4Myw1MS42MTMsNDk1LjE2NzcsNTAuNzMsNTA0Ljk3NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1Mi4wMDAxIiB4PSI4MiIgeT0iNDcxLjM2MzgiPiYjMjc1MzE7JiMzODk4OTsmIzIwODM3OyYjMzczMjk7PC90ZXh0PjwvZz48IS0tbGluayA/Pz8gdG8gKmVuZCotLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwOSIgZGF0YS1lbnRpdHktMj0iZW50MDAxMiIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjEyIiBpZD0ibG5rMTMiPjxwYXRoIGQ9Ik0zOCw1NTUuNzU2OSBDMzgsNTc1LjMzNjkgMzgsNTk1Ljc4NjkgMzgsNjEwLjA5NjkiIGZpbGw9Im5vbmUiIGlkPSImIzIwODM3OyYjMzczMjk7JiMyODE2ODstdG8tKmVuZCoiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM4LDYxNi4wOTY5LDQyLDYwNy4wOTY5LDM4LDYxMS4wOTY5LDM0LDYwNy4wOTY5LDM4LDYxNi4wOTY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rID8/PyB0byA/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDUiIGRhdGEtZW50aXR5LTI9ImVudDAwMTQiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIxNCIgaWQ9ImxuazE1Ij48cGF0aCBkPSJNMTY3LjQyLDI5OS4zMzY5IEMxNzguMywzMDguMjM2OSAxODkuODEsMzE5LjI1NjkgMTk4LDMzMS4yOTY5IEMyMzEuNjgsMzgwLjgwNjkgMjMyLjg1LDM5OS4yNzY5IDI0Myw0NTguMjk2OSBDMjQ0LjI4LDQ2NS43NDY5IDI0Ni40OSw0NjguNTk2OSAyNDMsNDc1LjI5NjkgQzIzNC43MSw0OTEuMjI2OSAyMjQuNTAwOSw1MDAuNDAzNSAyMDkuNjUwOSw1MDkuMTQzNSIgZmlsbD0ibm9uZSIgaWQ9IiYjMzAzMzA7JiMzNDg5MjsmIzI4MTY4Oy10by0mIzIyMjM4OyYjMjE0NTQ7JiMzNjkzMzsmIzI0MzEwOyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjA0LjQ4LDUxMi4xODY5LDIxNC4yNjUyLDUxMS4wNjkxLDIwOC43ODkxLDUwOS42NTA4LDIxMC4yMDc0LDUwNC4xNzQ2LDIwNC40OCw1MTIuMTg2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxLjAwMDEiIHg9IjIzOC42NiIgeT0iNDA3Ljg2MzgiPiYjMjIyMzg7JiMyMTQ1NDsmIzIwMTA0OyYjMjM0NTA7JiMyNjA4NTsmIzM2MjI5OyYjMzY5NDI7PC90ZXh0PjwvZz48IS0tbGluayA/Pz8/IHRvID8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNyIgZGF0YS1lbnRpdHktMj0iZW50MDAxNCIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjE1IiBpZD0ibG5rMTYiPjxwYXRoIGQ9Ik0xMzguMTEsNDI4LjUzNjkgQzEzOS42NCw0NDIuMzc2OSAxNDIuMTMsNDU5Ljk2NjkgMTQ2LDQ3NS4yOTY5IEMxNDguNSw0ODUuMTg2OSAxNTAuMDIwNCw0OTAuMTY5IDE1My41NTA0LDQ5OS4zMTkiIGZpbGw9Im5vbmUiIGlkPSImIzE5OTY4OyYjMzcwOTY7JiMyMDgzNzsmIzM3MzI5Oy10by0mIzIyMjM4OyYjMjE0NTQ7JiMzNjkzMzsmIzI0MzEwOyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTU1LjcxLDUwNC45MTY5LDE1Ni4yMDI1LDQ5NS4wODAzLDE1My45MTAzLDUwMC4yNTIsMTQ4LjczODcsNDk3Ljk1OTgsMTU1LjcxLDUwNC45MTY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEuMDAwMSIgeD0iMTQ3IiB5PSI0NzEuMzYzOCI+JiMyMjIzODsmIzIxNDU0OyYjMjAxMDQ7JiMyMzQ1MDsmIzI2MDg1OyYjMzYyMjk7JiMzNjk0Mjs8L3RleHQ+PC9nPjw/cGxhbnR1bWwtc3JjIEF5YWlvS2JMVUI2dy16ZDZmaVRERW55dGpwcmt0bEV1UUotR19SOW4tX0Zia3ZfRXRpcDU1UXFMZ3cyaFF3Vm1SQ3dndnBEdGxMWk9teUs1UHU4YjhDbmRFcGVLaEEyNkZQa3owd09LOEdiSS1jSDdteWxjNUt6UmJ4dmlkbVhLWlNuNUttYUhYMVp3ajdONW91TXpLNkxTQTZRV0F0c3NoWGo5QUs4NmYweGU0Tkp0RjlxenhzYl90eWw2cmdVeGp1NGkwZEVWeEVmdWtjeE1pLWJCTnNuaFZUZE9YeUwyOGRHMTAwMDA/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<table>
<thead>
<tr>
<th>ステータス</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>未発行</strong></td>
<td>請求データ作成済み、請求書未発行</td>
</tr>
<tr>
<td><strong>発行済</strong></td>
<td>請求書を発行した状態</td>
</tr>
<tr>
<td><strong>一部入金</strong></td>
<td>一部入金があり、残高がある状態</td>
</tr>
<tr>
<td><strong>入金済</strong></td>
<td>全額入金が完了した状態</td>
</tr>
<tr>
<td><strong>回収遅延</strong></td>
<td>回収予定日を過ぎても未回収の状態</td>
</tr>
</tbody>
</table>
<h3 id="_7">マイグレーション：請求関連テーブルの作成<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<details>
<summary>V011__create_invoice_tables.sql</summary>

<div class="highlight"><pre><span></span><code><span class="c1">-- src/main/resources/db/migration/V011__create_invoice_tables.sql</span>

<span class="c1">-- 請求ステータス</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TYPE</span><span class="w"> </span><span class="err">請求ステータス</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ENUM</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;未発行&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;発行済&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;一部入金&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;入金済&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;回収遅延&#39;</span><span class="p">);</span>

<span class="c1">-- 請求区分は V001 で既に定義済み（&#39;都度&#39;, &#39;締め&#39;）</span>

<span class="c1">-- 請求データ（ヘッダ）</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;請求データ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ID&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;請求番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;請求日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;請求先コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;顧客コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;顧客枝番&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;締日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;請求区分&quot;</span><span class="w"> </span><span class="err">請求区分</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;前回請求残高&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;入金額&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;繰越残高&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;今回売上額&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;今回消費税額&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;今回請求額&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;請求残高&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;回収予定日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;ステータス&quot;</span><span class="w"> </span><span class="err">請求ステータス</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;未発行&#39;</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;備考&quot;</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_請求データ_顧客&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;顧客コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;顧客枝番&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;顧客マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;顧客コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;顧客枝番&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- 請求明細</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;請求明細&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ID&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;請求ID&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;行番号&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;売上ID&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;売上番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;売上日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;売上金額&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;消費税額&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;合計金額&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_請求明細_請求&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;請求ID&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;請求データ&quot;</span><span class="p">(</span><span class="ss">&quot;ID&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_請求明細_売上&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;売上ID&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;売上データ&quot;</span><span class="p">(</span><span class="ss">&quot;ID&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;uk_請求明細_請求_行&quot;</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;請求ID&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;行番号&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- 請求締履歴</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;請求締履歴&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ID&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;顧客コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;顧客枝番&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;締年月&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;締日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;売上件数&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;売上合計&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;消費税合計&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;請求ID&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;処理日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_請求締履歴_顧客&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;顧客コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;顧客枝番&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;顧客マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;顧客コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;顧客枝番&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_請求締履歴_請求&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;請求ID&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;請求データ&quot;</span><span class="p">(</span><span class="ss">&quot;ID&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;uk_請求締履歴_顧客_年月&quot;</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;顧客コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;顧客枝番&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;締年月&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- 売掛金残高</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;売掛金残高&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ID&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;顧客コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;顧客枝番&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;基準日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;前月残高&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;当月売上&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;当月入金&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;当月残高&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_売掛金残高_顧客&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;顧客コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;顧客枝番&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;顧客マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;顧客コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;顧客枝番&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;uk_売掛金残高_顧客_基準日&quot;</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;顧客コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;顧客枝番&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;基準日&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- インデックス</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_請求データ_顧客コード&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;請求データ&quot;</span><span class="p">(</span><span class="ss">&quot;顧客コード&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_請求データ_請求日&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;請求データ&quot;</span><span class="p">(</span><span class="ss">&quot;請求日&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_請求データ_ステータス&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;請求データ&quot;</span><span class="p">(</span><span class="ss">&quot;ステータス&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_請求明細_請求ID&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;請求明細&quot;</span><span class="p">(</span><span class="ss">&quot;請求ID&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_売掛金残高_基準日&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;売掛金残高&quot;</span><span class="p">(</span><span class="ss">&quot;基準日&quot;</span><span class="p">);</span>

<span class="c1">-- テーブルコメント</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;請求データ&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;請求ヘッダ情報を管理するテーブル&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;請求明細&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;請求に含まれる売上明細を管理するテーブル&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;請求締履歴&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;月次締処理の履歴を管理するテーブル&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;売掛金残高&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;顧客別月次売掛金残高を管理するテーブル&#39;</span><span class="p">;</span>

<span class="c1">-- カラムコメント</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;請求データ&quot;</span><span class="p">.</span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;楽観ロック用バージョン番号&#39;</span><span class="p">;</span>
</code></pre></div>

</details>

<h3 id="_8">請求エンティティの実装<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<details>
<summary>請求ステータス ENUM</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sms/domain/model/invoice/InvoiceStatus.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.invoice</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Getter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 請求ステータス.</span>
<span class="cm"> */</span>
<span class="nd">@Getter</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">InvoiceStatus</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">DRAFT</span><span class="p">(</span><span class="s">&quot;未発行&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">ISSUED</span><span class="p">(</span><span class="s">&quot;発行済&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">PARTIALLY_PAID</span><span class="p">(</span><span class="s">&quot;一部入金&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">PAID</span><span class="p">(</span><span class="s">&quot;入金済&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">OVERDUE</span><span class="p">(</span><span class="s">&quot;回収遅延&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 表示名から請求ステータスを取得する.</span>
<span class="cm">     *</span>
<span class="cm">     * @param displayName 表示名</span>
<span class="cm">     * @return 請求ステータス</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">InvoiceStatus</span><span class="w"> </span><span class="nf">fromDisplayName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">InvoiceStatus</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">values</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="p">.</span><span class="na">displayName</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">displayName</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;不正な請求ステータス: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">displayName</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>請求区分 ENUM</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sms/domain/model/invoice/InvoiceType.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.invoice</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Getter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 請求区分.</span>
<span class="cm"> */</span>
<span class="nd">@Getter</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">InvoiceType</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">IMMEDIATE</span><span class="p">(</span><span class="s">&quot;都度&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">CLOSING</span><span class="p">(</span><span class="s">&quot;締め&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 表示名から請求区分を取得する.</span>
<span class="cm">     *</span>
<span class="cm">     * @param displayName 表示名</span>
<span class="cm">     * @return 請求区分</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">InvoiceType</span><span class="w"> </span><span class="nf">fromDisplayName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">InvoiceType</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">values</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">type</span><span class="p">.</span><span class="na">displayName</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">displayName</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">type</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;不正な請求区分: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">displayName</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>請求エンティティ</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sms/domain/model/invoice/Invoice.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.invoice</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.AllArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.NoArgsConstructor</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 請求エンティティ.</span>
<span class="cm"> */</span>
<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@AllArgsConstructor</span>
<span class="nd">@SuppressWarnings</span><span class="p">(</span><span class="s">&quot;PMD.RedundantFieldInitializer&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Invoice</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">invoiceNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">invoiceDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">billingCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">customerCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">customerBranchNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">closingDate</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">InvoiceType</span><span class="w"> </span><span class="n">invoiceType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">InvoiceType</span><span class="p">.</span><span class="na">CLOSING</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">previousBalance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">receiptAmount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">carriedBalance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">currentSalesAmount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">currentTaxAmount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">currentInvoiceAmount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">invoiceBalance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">dueDate</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">InvoiceStatus</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">InvoiceStatus</span><span class="p">.</span><span class="na">DRAFT</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">remarks</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">createdBy</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">updatedBy</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/** 楽観ロック用バージョン. */</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">InvoiceDetail</span><span class="o">&gt;</span><span class="w"> </span><span class="n">details</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 請求残高を計算する.</span>
<span class="cm">     *</span>
<span class="cm">     * @return 請求残高</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="nf">calculateInvoiceBalance</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">carriedBalance</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">currentInvoiceAmount</span><span class="p">).</span><span class="na">subtract</span><span class="p">(</span><span class="n">receiptAmount</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 繰越残高を計算する.</span>
<span class="cm">     *</span>
<span class="cm">     * @return 繰越残高</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="nf">calculateCarriedBalance</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">previousBalance</span><span class="p">.</span><span class="na">subtract</span><span class="p">(</span><span class="n">receiptAmount</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>請求明細エンティティ</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sms/domain/model/invoice/InvoiceDetail.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.invoice</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.AllArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.NoArgsConstructor</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 請求明細エンティティ.</span>
<span class="cm"> */</span>
<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@AllArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">InvoiceDetail</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">invoiceId</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">lineNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">salesId</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">salesNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">salesDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">salesAmount</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">taxAmount</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">totalAmount</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="_9">締処理サービスの実装<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<details>
<summary>締処理サービス</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sms/application/service/ClosingService.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.application.service</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sms.application.port.out.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.invoice.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.sales.Sales</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Service</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.transaction.annotation.Transactional</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.YearMonth</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="nd">@Service</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ClosingService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">InvoiceRepository</span><span class="w"> </span><span class="n">invoiceRepository</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">SalesRepository</span><span class="w"> </span><span class="n">salesRepository</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">CustomerRepository</span><span class="w"> </span><span class="n">customerRepository</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ClosingHistoryRepository</span><span class="w"> </span><span class="n">closingHistoryRepository</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 月次締処理を実行する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Invoice</span><span class="w"> </span><span class="nf">executeMonthlyClosing</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">customerCode</span><span class="p">,</span><span class="w"> </span><span class="n">YearMonth</span><span class="w"> </span><span class="n">yearMonth</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">closingDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yearMonth</span><span class="p">.</span><span class="na">atEndOfMonth</span><span class="p">();</span>

<span class="w">        </span><span class="c1">// 既に締処理済みかチェック</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">closingHistoryRepository</span><span class="p">.</span><span class="na">existsByCustomerAndYearMonth</span><span class="p">(</span><span class="n">customerCode</span><span class="p">,</span><span class="w"> </span><span class="n">yearMonth</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalStateException</span><span class="p">(</span><span class="s">&quot;既に締処理が実行されています: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">yearMonth</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// 対象期間の売上を取得</span>
<span class="w">        </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">fromDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yearMonth</span><span class="p">.</span><span class="na">atDay</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w">        </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">toDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yearMonth</span><span class="p">.</span><span class="na">atEndOfMonth</span><span class="p">();</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Sales</span><span class="o">&gt;</span><span class="w"> </span><span class="n">salesList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">salesRepository</span><span class="p">.</span><span class="na">findByCustomerCodeAndDateRange</span><span class="p">(</span>
<span class="w">                </span><span class="n">customerCode</span><span class="p">,</span><span class="w"> </span><span class="n">fromDate</span><span class="p">,</span><span class="w"> </span><span class="n">toDate</span><span class="p">);</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">salesList</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalStateException</span><span class="p">(</span><span class="s">&quot;対象期間の売上がありません&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// 売上合計・消費税を集計</span>
<span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">totalSales</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">salesList</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">Sales</span><span class="p">::</span><span class="n">getSalesAmount</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">reduce</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">,</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">::</span><span class="n">add</span><span class="p">);</span>
<span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">totalTax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">salesList</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">Sales</span><span class="p">::</span><span class="n">getTaxAmount</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">reduce</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">,</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">::</span><span class="n">add</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// 前回請求残高を取得</span>
<span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">previousBalance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">invoiceRepository</span>
<span class="w">                </span><span class="p">.</span><span class="na">findLatestByCustomerCode</span><span class="p">(</span><span class="n">customerCode</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">Invoice</span><span class="p">::</span><span class="n">getInvoiceBalance</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">orElse</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// 顧客の回収サイトから回収予定日を計算</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">customer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">customerRepository</span><span class="p">.</span><span class="na">findByCustomerCode</span><span class="p">(</span><span class="n">customerCode</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">orElseThrow</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;顧客が見つかりません&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">dueDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculateDueDate</span><span class="p">(</span><span class="n">closingDate</span><span class="p">,</span><span class="w"> </span><span class="n">customer</span><span class="p">.</span><span class="na">getCollectionSite</span><span class="p">());</span>

<span class="w">        </span><span class="c1">// 請求データを作成</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">invoice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Invoice</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">invoiceNumber</span><span class="p">(</span><span class="n">generateInvoiceNumber</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">invoiceDate</span><span class="p">(</span><span class="n">closingDate</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">billingCode</span><span class="p">(</span><span class="n">customerCode</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">customerCode</span><span class="p">(</span><span class="n">customerCode</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">closingDate</span><span class="p">(</span><span class="n">closingDate</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">invoiceType</span><span class="p">(</span><span class="n">InvoiceType</span><span class="p">.</span><span class="na">CLOSING</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">previousBalance</span><span class="p">(</span><span class="n">previousBalance</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">receiptAmount</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">carriedBalance</span><span class="p">(</span><span class="n">previousBalance</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">currentSalesAmount</span><span class="p">(</span><span class="n">totalSales</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">currentTaxAmount</span><span class="p">(</span><span class="n">totalTax</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">currentInvoiceAmount</span><span class="p">(</span><span class="n">totalSales</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">totalTax</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">invoiceBalance</span><span class="p">(</span><span class="n">previousBalance</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">totalSales</span><span class="p">).</span><span class="na">add</span><span class="p">(</span><span class="n">totalTax</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">dueDate</span><span class="p">(</span><span class="n">dueDate</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">status</span><span class="p">(</span><span class="n">InvoiceStatus</span><span class="p">.</span><span class="na">DRAFT</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">        </span><span class="n">invoiceRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">invoice</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// 請求明細を作成</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">lineNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Sales</span><span class="w"> </span><span class="n">sales</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">salesList</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">detail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">InvoiceDetail</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">invoiceId</span><span class="p">(</span><span class="n">invoice</span><span class="p">.</span><span class="na">getId</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">lineNumber</span><span class="p">(</span><span class="n">lineNumber</span><span class="o">++</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">salesId</span><span class="p">(</span><span class="n">sales</span><span class="p">.</span><span class="na">getId</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">salesNumber</span><span class="p">(</span><span class="n">sales</span><span class="p">.</span><span class="na">getSalesNumber</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">salesDate</span><span class="p">(</span><span class="n">sales</span><span class="p">.</span><span class="na">getSalesDate</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">salesAmount</span><span class="p">(</span><span class="n">sales</span><span class="p">.</span><span class="na">getSalesAmount</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">taxAmount</span><span class="p">(</span><span class="n">sales</span><span class="p">.</span><span class="na">getTaxAmount</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">totalAmount</span><span class="p">(</span><span class="n">sales</span><span class="p">.</span><span class="na">getSalesTotal</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">            </span><span class="n">invoiceRepository</span><span class="p">.</span><span class="na">saveDetail</span><span class="p">(</span><span class="n">detail</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// 締履歴を保存</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">history</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ClosingHistory</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">customerCode</span><span class="p">(</span><span class="n">customerCode</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">closingYearMonth</span><span class="p">(</span><span class="n">yearMonth</span><span class="p">.</span><span class="na">toString</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">closingDate</span><span class="p">(</span><span class="n">closingDate</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">salesCount</span><span class="p">(</span><span class="n">salesList</span><span class="p">.</span><span class="na">size</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">salesTotal</span><span class="p">(</span><span class="n">totalSales</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">taxTotal</span><span class="p">(</span><span class="n">totalTax</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">invoiceId</span><span class="p">(</span><span class="n">invoice</span><span class="p">.</span><span class="na">getId</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">        </span><span class="n">closingHistoryRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">history</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">invoice</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="nf">calculateDueDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="w"> </span><span class="n">closingDate</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">collectionSite</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">collectionSite</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">collectionSite</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span><span class="p">;</span><span class="w"> </span><span class="c1">// デフォルト30日</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">closingDate</span><span class="p">.</span><span class="na">plusDays</span><span class="p">(</span><span class="n">collectionSite</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">generateInvoiceNumber</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;INV-%d-%04d&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">().</span><span class="na">getYear</span><span class="p">(),</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">()</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">10000</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="72-db">7.2 回収業務の DB 設計<a class="headerlink" href="#72-db" title="Permanent link">&para;</a></h2>
<h3 id="_10">入金業務フローの理解<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<p>入金業務は、顧客からの入金を記録し、請求と突合（消込）する業務です。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkFDVElWSVRZIiBoZWlnaHQ9IjY5MHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDAwcHg7aGVpZ2h0OjY5MHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQwMCA2OTAiIHdpZHRoPSI0MDBweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjA4Mzc7JiMzNzMyOTsmIzI2OTg5OyYjMjEyMDk7JiMxMjUwMTsmIzEyNTI1OyYjMTI1NDA7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMTQ5Ljc5MDEiIHk9IjMyLjk5NTEiPiYjMjA4Mzc7JiMzNzMyOTsmIzI2OTg5OyYjMjEyMDk7JiMxMjUwMTsmIzEyNTI1OyYjMTI1NDA7PC90ZXh0PjwvZz48ZWxsaXBzZSBjeD0iMTk3LjU3OTMiIGN5PSI1Ny4yOTY5IiBmaWxsPSIjMjIyMjIyIiByeD0iMTAiIHJ5PSIxMCIgc3R5bGU9InN0cm9rZTojMjIyMjIyO3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0yNjMuNTc5Niw4NC4xNDg0IEwyNjMuNTc5NiwxMDAuMjgxMyBMMjQzLjU3OTYsMTA0LjI4MTMgTDI2My41Nzk2LDEwOC4yODEzIEwyNjMuNTc5NiwxMjQuNDE0MSBBMCwwIDAgMCAwIDI2My41Nzk2LDEyNC40MTQxIEwzODguNTc5NywxMjQuNDE0MSBBMCwwIDAgMCAwIDM4OC41Nzk3LDEyNC40MTQxIEwzODguNTc5Nyw5NC4xNDg0IEwzNzguNTc5Nyw4NC4xNDg0IEwyNjMuNTc5Niw4NC4xNDg0IEEwLDAgMCAwIDAgMjYzLjU3OTYsODQuMTQ4NCIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTM3OC41Nzk3LDg0LjE0ODQgTDM3OC41Nzk3LDk0LjE0ODQgTDM4OC41Nzk3LDk0LjE0ODQgTDM3OC41Nzk3LDg0LjE0ODQiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNC4wMDAxIiB4PSIyNjkuNTc5NiIgeT0iMTAxLjIxNTMiPiYjMjc1OTg7JiMyNjA4NTsmIzEyMzk4OyYjMjA4Mzc7JiMzNzMyOTsmIzI0NzczOyYjMjI1Nzc7JiMxMjQzNDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzguMDAwMSIgeD0iMjY5LjU3OTYiIHk9IjExNi4zNDgxIj4mIzM3NTA0OyYjMzQ4OTI7JiMxMjM2MzsmIzEyNDI1OyYjMjE0NjI7JiMyNDQ3MTs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjkyLjAwMDUiIHg9IjE1MS41NzkiIHk9Ijg3LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3Mi4wMDA1IiB4PSIxNjEuNTc5IiB5PSIxMDguNDM1NSI+JiMzNzUwNDsmIzM0ODkyOyYjMjYxMjY7JiMzMjA0ODsmIzMwOTA2OyYjMzU0Njk7PC90ZXh0PjxwYXRoIGQ9Ik0yNjkuNTc5NiwxMzQuNDE0MSBMMjY5LjU3OTYsMTY1LjY3OTcgTDI0OS41Nzk2LDE2OS42Nzk3IEwyNjkuNTc5NiwxNzMuNjc5NyBMMjY5LjU3OTYsMjA0Ljk0NTMgQTAsMCAwIDAgMCAyNjkuNTc5NiwyMDQuOTQ1MyBMMzU1LjU3OTcsMjA0Ljk0NTMgQTAsMCAwIDAgMCAzNTUuNTc5NywyMDQuOTQ1MyBMMzU1LjU3OTcsMTQ0LjQxNDEgTDM0NS41Nzk3LDEzNC40MTQxIEwyNjkuNTc5NiwxMzQuNDE0MSBBMCwwIDAgMCAwIDI2OS41Nzk2LDEzNC40MTQxIiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMzQ1LjU3OTcsMTM0LjQxNDEgTDM0NS41Nzk3LDE0NC40MTQxIEwzNTUuNTc5NywxNDQuNDE0MSBMMzQ1LjU3OTcsMTM0LjQxNDEiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM5IiB4PSIyNzUuNTc5NiIgeT0iMTUxLjQ4MSI+JiMyMDgzNzsmIzM3MzI5OyYjMjYwODU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY1LjAwMDEiIHg9IjI3NS41Nzk2IiB5PSIxNjYuNjEzOCI+JiMzOTAxNTsmIzIzNDU4OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1Mi4wMDAxIiB4PSIyNzUuNTc5NiIgeT0iMTgxLjc0NjYiPiYjMjA4Mzc7JiMzNzMyOTsmIzM3MzI5OyYjMzg5ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyLjAwMDEiIHg9IjI3NS41Nzk2IiB5PSIxOTYuODc5NCI+JiMyMDgzNzsmIzM3MzI5OyYjMjYwNDE7JiMyNzg2MTs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEwNC4wMDA2IiB4PSIxNDUuNTc5IiB5PSIxNTIuNjk1MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg0LjAwMDYiIHg9IjE1NS41NzkiIHk9IjE3My44MzQiPiYjMjA4Mzc7JiMzNzMyOTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsmIzMwMzMxOyYjMzc2ODI7PC90ZXh0PjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI2OC4wMDA0IiB4PSIxNjMuNTc5MSIgeT0iMjI0Ljk0NTMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OC4wMDA0IiB4PSIxNzMuNTc5MSIgeT0iMjQ2LjA4NCI+JiMyMDgzNzsmIzM3MzI5OyYjMjgwNDA7JiMzNjc5Njs8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0YxRjFGMSIgcG9pbnRzPSIxNzIuNjYwMiwyNzguOTE0MSwyMjIuNDk4MywyNzguOTE0MSwyMzQuNDk4MywyOTAuOTE0MSwyMjIuNDk4MywzMDIuOTE0MSwxNzIuNjYwMiwzMDIuOTE0MSwxNjAuNjYwMiwyOTAuOTE0MSwxNzIuNjYwMiwyNzguOTE0MSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDkuODM4MSIgeD0iMTcyLjY2MDIiIHk9IjI5NC43MjIyIj4mIzI4MDQwOyYjMzY3OTY7JiMyNjA0MTsmIzI3ODYxOz88L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDMuOTk5NyIgeD0iMTE2LjY2MDYiIHk9IjI4OC4zMTk4Ij4mIzMzMjU4OyYjMjEyMDU7JiMyODA0MDsmIzM2Nzk2OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0My45OTk3IiB4PSIyMzQuNDk4MyIgeT0iMjg4LjMxOTgiPiYjMjUxNjM7JiMyMTIwNTsmIzI4MDQwOyYjMzY3OTY7PC90ZXh0PjxwYXRoIGQ9Ik0xMzUuMDAwNiwzMTIuOTE0MSBMMTM1LjAwMDYsMzI5LjA0NjkgTDExNS4wMDA2LDMzMy4wNDY5IEwxMzUuMDAwNiwzMzcuMDQ2OSBMMTM1LjAwMDYsMzUzLjE3OTcgQTAsMCAwIDAgMCAxMzUuMDAwNiwzNTMuMTc5NyBMMjY2LjE1OCwzNTMuMTc5NyBBMCwwIDAgMCAwIDI2Ni4xNTgsMzUzLjE3OTcgTDI2Ni4xNTgsMzIyLjkxNDEgTDI1Ni4xNTgsMzEyLjkxNDEgTDEzNS4wMDA2LDMxMi45MTQxIEEwLDAgMCAwIDAgMTM1LjAwMDYsMzEyLjkxNDEiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0yNTYuMTU4LDMxMi45MTQxIEwyNTYuMTU4LDMyMi45MTQxIEwyNjYuMTU4LDMyMi45MTQxIEwyNTYuMTU4LDMxMi45MTQxIiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTAuMTU3MyIgeD0iMTQxLjAwMDYiIHk9IjMyOS45ODEiPiYjMzkwMTU7JiMyMzQ1ODsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgKyAmIzM3MzI5OyYjMzg5ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY1LjAwMDEiIHg9IjE0MS4wMDA2IiB5PSIzNDUuMTEzOCI+JiMxMjM5MTsmIzMzMjU4OyYjMjEyMDU7JiMyODA0MDsmIzM2Nzk2OzwvdGV4dD48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTA0LjAwMDYiIHg9IjExIiB5PSIzMTYuMDYyNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg0LjAwMDYiIHg9IjIxIiB5PSIzMzcuMjAxMiI+JiMzMzI1ODsmIzIxMjA1OyYjMTI1MTA7JiMxMjQ4MzsmIzEyNDgxOyYjMTI1MzE7JiMxMjQ2NDs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjY4LjAwMDQiIHg9IjI5OC4xNTgxIiB5PSIzMTIuOTE0MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ4LjAwMDQiIHg9IjMwOC4xNTgxIiB5PSIzMzQuMDUyNyI+JiMzNTUzMTsmIzI3NzE0OyYjMzY5ODQ7JiMyNTI0Njs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjkyLjAwMDUiIHg9IjI4Ni4xNTgiIHk9IjM3My4xNzk3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzIuMDAwNSIgeD0iMjk2LjE1OCIgeT0iMzk0LjMxODQiPiYjMjgwNDA7JiMzNjc5NjsmIzM3MzI5OyYjMzg5ODk7JiMyMDgzNzsmIzIxMTQ3OzwvdGV4dD48cG9seWdvbiBmaWxsPSIjRjFGMUYxIiBwb2ludHM9IjE5Ny41NzkzLDQxMy4xNDg0LDIwOS41NzkzLDQyNS4xNDg0LDE5Ny41NzkzLDQzNy4xNDg0LDE4NS41NzkzLDQyNS4xNDg0LDE5Ny41NzkzLDQxMy4xNDg0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iODAuMDAwNSIgeD0iMTU3LjU3OTEiIHk9IjUwNS41NTA4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjAuMDAwNSIgeD0iMTY3LjU3OTEiIHk9IjUyNi42ODk1Ij4mIzIxMDY5OyYjMjE0NjM7JiMzNzMyOTsmIzM1MzM2OyYjMTk5Nzg7PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNGMUYxRjEiIHBvaW50cz0iMTc4LjE2MDIsNDU3LjE0ODQsMjE2Ljk5ODQsNDU3LjE0ODQsMjI4Ljk5ODQsNDY5LjE0ODQsMjE2Ljk5ODQsNDgxLjE0ODQsMTc4LjE2MDIsNDgxLjE0ODQsMTY2LjE2MDIsNDY5LjE0ODQsMTc4LjE2MDIsNDU3LjE0ODQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5LjAwODMiIHg9IjIwMS41NzkzIiB5PSI0OTEuMzU4OSI+eWVzPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM4LjgzODIiIHg9IjE3OC4xNjAyIiB5PSI0NzIuOTU2NSI+JiMzNjk0MjsmIzIwODM3OyYjMzczMjk7PzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMy43MDE3IiB4PSIyMjguOTk4NCIgeT0iNDY2LjU1NDIiPm5vPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNGMUYxRjEiIHBvaW50cz0iMTk3LjU3OTMsNTU5LjUxOTUsMjA5LjU3OTMsNTcxLjUxOTUsMTk3LjU3OTMsNTgzLjUxOTUsMTg1LjU3OTMsNTcxLjUxOTUsMTk3LjU3OTMsNTU5LjUxOTUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI2OC4wMDA0IiB4PSIxNjMuNTc5MSIgeT0iNjAzLjUxOTUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OC4wMDA0IiB4PSIxNzMuNTc5MSIgeT0iNjI0LjY1ODIiPiYjMjgwNDA7JiMzNjc5NjsmIzIzNDM2OyYjMjAxMDI7PC90ZXh0PjxlbGxpcHNlIGN4PSIxOTcuNTc5MyIgY3k9IjY2OC40ODgzIiBmaWxsPSJub25lIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMjIyMjIyO3N0cm9rZS13aWR0aDoxOyIvPjxlbGxpcHNlIGN4PSIxOTcuNTc5MyIgY3k9IjY2OC40ODgzIiBmaWxsPSIjMjIyMjIyIiByeD0iNiIgcnk9IjYiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTk3LjU3OTMiIHgyPSIxOTcuNTc5MyIgeTE9IjY3LjI5NjkiIHkyPSI4Ny4yOTY5Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxOTMuNTc5Myw3Ny4yOTY5LDE5Ny41NzkzLDg3LjI5NjksMjAxLjU3OTMsNzcuMjk2OSwxOTcuNTc5Myw4MS4yOTY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE5Ny41NzkzIiB4Mj0iMTk3LjU3OTMiIHkxPSIxMjEuMjY1NiIgeTI9IjE1Mi42OTUzIi8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxOTMuNTc5MywxNDIuNjk1MywxOTcuNTc5MywxNTIuNjk1MywyMDEuNTc5MywxNDIuNjk1MywxOTcuNTc5MywxNDYuNjk1MyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxOTcuNTc5MyIgeDI9IjE5Ny41NzkzIiB5MT0iMTg2LjY2NDEiIHkyPSIyMjQuOTQ1MyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTkzLjU3OTMsMjE0Ljk0NTMsMTk3LjU3OTMsMjI0Ljk0NTMsMjAxLjU3OTMsMjE0Ljk0NTMsMTk3LjU3OTMsMjE4Ljk0NTMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzMyLjE1ODIiIHgyPSIzMzIuMTU4MiIgeTE9IjM0Ni44ODI4IiB5Mj0iMzczLjE3OTciLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMyOC4xNTgyLDM2My4xNzk3LDMzMi4xNTgyLDM3My4xNzk3LDMzNi4xNTgyLDM2My4xNzk3LDMzMi4xNTgyLDM2Ny4xNzk3IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE2MC42NjAyIiB4Mj0iNjMuMDAwMyIgeTE9IjI5MC45MTQxIiB5Mj0iMjkwLjkxNDEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjMuMDAwMyIgeDI9IjYzLjAwMDMiIHkxPSIyOTAuOTE0MSIgeTI9IjMxNi4wNjI1Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1OS4wMDAzLDMwNi4wNjI1LDYzLjAwMDMsMzE2LjA2MjUsNjcuMDAwMywzMDYuMDYyNSw2My4wMDAzLDMxMC4wNjI1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIzNC40OTgzIiB4Mj0iMzMyLjE1ODIiIHkxPSIyOTAuOTE0MSIgeTI9IjI5MC45MTQxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMzMi4xNTgyIiB4Mj0iMzMyLjE1ODIiIHkxPSIyOTAuOTE0MSIgeTI9IjMxMi45MTQxIi8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzMjguMTU4MiwzMDIuOTE0MSwzMzIuMTU4MiwzMTIuOTE0MSwzMzYuMTU4MiwzMDIuOTE0MSwzMzIuMTU4MiwzMDYuOTE0MSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI2My4wMDAzIiB4Mj0iNjMuMDAwMyIgeTE9IjM1MC4wMzEzIiB5Mj0iNDI1LjE0ODQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjMuMDAwMyIgeDI9IjE4NS41NzkzIiB5MT0iNDI1LjE0ODQiIHkyPSI0MjUuMTQ4NCIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTc1LjU3OTMsNDIxLjE0ODQsMTg1LjU3OTMsNDI1LjE0ODQsMTc1LjU3OTMsNDI5LjE0ODQsMTc5LjU3OTMsNDI1LjE0ODQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzMyLjE1ODIiIHgyPSIzMzIuMTU4MiIgeTE9IjQwNy4xNDg0IiB5Mj0iNDI1LjE0ODQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzMyLjE1ODIiIHgyPSIyMDkuNTc5MyIgeTE9IjQyNS4xNDg0IiB5Mj0iNDI1LjE0ODQiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIxOS41NzkzLDQyMS4xNDg0LDIwOS41NzkzLDQyNS4xNDg0LDIxOS41NzkzLDQyOS4xNDg0LDIxNS41NzkzLDQyNS4xNDg0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE5Ny41NzkzIiB4Mj0iMTk3LjU3OTMiIHkxPSIyNTguOTE0MSIgeTI9IjI3OC45MTQxIi8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxOTMuNTc5MywyNjguOTE0MSwxOTcuNTc5MywyNzguOTE0MSwyMDEuNTc5MywyNjguOTE0MSwxOTcuNTc5MywyNzIuOTE0MSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxOTcuNTc5MyIgeDI9IjE5Ny41NzkzIiB5MT0iNDgxLjE0ODQiIHkyPSI1MDUuNTUwOCIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTkzLjU3OTMsNDk1LjU1MDgsMTk3LjU3OTMsNTA1LjU1MDgsMjAxLjU3OTMsNDk1LjU1MDgsMTk3LjU3OTMsNDk5LjU1MDgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjI4Ljk5ODQiIHgyPSIyNDcuNTc5NSIgeTE9IjQ2OS4xNDg0IiB5Mj0iNDY5LjE0ODQiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI0My41Nzk1LDUxMi41MzUyLDI0Ny41Nzk1LDUyMi41MzUyLDI1MS41Nzk1LDUxMi41MzUyLDI0Ny41Nzk1LDUxNi41MzUyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI0Ny41Nzk1IiB4Mj0iMjQ3LjU3OTUiIHkxPSI0NjkuMTQ4NCIgeTI9IjU3MS41MTk1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI0Ny41Nzk1IiB4Mj0iMjA5LjU3OTMiIHkxPSI1NzEuNTE5NSIgeTI9IjU3MS41MTk1Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMTkuNTc5Myw1NjcuNTE5NSwyMDkuNTc5Myw1NzEuNTE5NSwyMTkuNTc5Myw1NzUuNTE5NSwyMTUuNTc5Myw1NzEuNTE5NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxOTcuNTc5MyIgeDI9IjE5Ny41NzkzIiB5MT0iNTM5LjUxOTUiIHkyPSI1NTkuNTE5NSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTkzLjU3OTMsNTQ5LjUxOTUsMTk3LjU3OTMsNTU5LjUxOTUsMjAxLjU3OTMsNTQ5LjUxOTUsMTk3LjU3OTMsNTUzLjUxOTUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTk3LjU3OTMiIHgyPSIxOTcuNTc5MyIgeTE9IjQzNy4xNDg0IiB5Mj0iNDU3LjE0ODQiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjE5My41NzkzLDQ0Ny4xNDg0LDE5Ny41NzkzLDQ1Ny4xNDg0LDIwMS41NzkzLDQ0Ny4xNDg0LDE5Ny41NzkzLDQ1MS4xNDg0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE5Ny41NzkzIiB4Mj0iMTk3LjU3OTMiIHkxPSI1ODMuNTE5NSIgeTI9IjYwMy41MTk1Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxOTMuNTc5Myw1OTMuNTE5NSwxOTcuNTc5Myw2MDMuNTE5NSwyMDEuNTc5Myw1OTMuNTE5NSwxOTcuNTc5Myw1OTcuNTE5NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxOTcuNTc5MyIgeDI9IjE5Ny41NzkzIiB5MT0iNjM3LjQ4ODMiIHkyPSI2NTcuNDg4MyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTkzLjU3OTMsNjQ3LjQ4ODMsMTk3LjU3OTMsNjU3LjQ4ODMsMjAxLjU3OTMsNjQ3LjQ4ODMsMTk3LjU3OTMsNjUxLjQ4ODMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48P3BsYW50dW1sLXNyYyBQUDNUUWk5MDQ4Tmx6b2RzS2thUjkxVHpiYTlaM0tYSXBEdUtsMzFQaDJSblhuT3FiTzhxR2IwaU1kekFpTFJpbXVveFBqLVkySGxSc2lCVXBDb1B4dm5QZWZFSVhiYWo0bEt4N2FzUHRtVlExSmU1a2FNZTRZXzNmMkZlTUZJZzVNSUhZcDkxWWwyZ1NUWmEzLXQzd19tbXRDSUpiZWVDYXNZdWg1eUwyVThsUkh2NE9DeW9BQXNuZm1LdXpxWmtXVXMzdXg5RVotcTJmMWNORTVyNUk5NWdlRk40NlBwRkdfejNEOVNkdThtTkg0WTQ4cE9SV2hEQWpUSkQ5a2FCTXFUUHh2c2xrbHlELTVpWnRjckxYRkcycGliMklpX3BjMUdyMC1WWS1lSnZOSmRBOHFNTUcwVDBBTDBSdzBnUy1LY2tGc2RtNlN3SVczdHczVmk5ZXZLaUJONXRfSEVaUHZ5bDc2NmxrSlRHYUlCeGFmSDRQendaY1dCcVdlbWt4Qk95dzNsdFpNT2I1RVFzTTJUOC1sNnVpTHp4UWtQYmNGZFpUYVBjaS1QLVN2anlYNE5Dd295MD8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_11">入金方法の種類<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjI1MXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NzAxcHg7aGVpZ2h0OjI1MXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDcwMSAyNTEiIHdpZHRoPSI3MDFweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjA4Mzc7JiMzNzMyOTsmIzI2MDQxOyYjMjc4NjE7JiMxMjM5ODsmIzIwOTk4OyYjMzkwMDY7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMjk0Ljc1MDIiIHk9IjIyLjk5NTEiPiYjMjA4Mzc7JiMzNzMyOTsmIzI2MDQxOyYjMjc4NjE7JiMxMjM5ODsmIzIwOTk4OyYjMzkwMDY7PC90ZXh0PjwvZz48IS0tY2x1c3RlciA/Pz8/LS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjMiIGlkPSJlbnQwMDAyIj48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjE0MC4yOSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjY0OSIgeD0iNDYuNSIgeT0iNDQuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIzNDMuMDAwMSIgeT0iNTkuMjkyIj4mIzIwODM3OyYjMzczMjk7JiMyNjA0MTsmIzI3ODYxOzwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgPz8/Py0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjQiIGlkPSJlbnQwMDAzIj48cmVjdCBmaWxsPSIjQ0NGRkNDIiBoZWlnaHQ9IjczLjI5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iMzU4IiB4PSI3MC41IiB5PSI4Ny4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjIyMS41MDAxIiB5PSIxMDIuMjkyIj4mIzIxMzYzOyYjMjYxNzg7JiMyMDgzNzsmIzM3MzI5OzwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgPz8/Py0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjEwIiBpZD0iZW50MDAwNyI+PHJlY3QgZmlsbD0iI0ZGRkZDQyIgaGVpZ2h0PSI3My4yOSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjIxOSIgeD0iNDUyLjUiIHk9Ijg3LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iNTM0LjAwMDEiIHk9IjEwMi4yOTIiPiYjMjYzOTk7JiMyNjA4NTsmIzIwODM3OyYjMzczMjk7PC90ZXh0PjwvZz48IS0tZW50aXR5IGNhc2gtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLi4uLi4uY2FzaCIgZGF0YS1zb3VyY2UtbGluZT0iNSIgaWQ9ImVudDAwMDQiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjIuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNDcuOTk5OSIgeD0iODYuNSIgeT0iMTIyLjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSI5Ni41IiB5PSIxMzguMjkyIj4mIzI5Njk0OyYjMzczMjk7PC90ZXh0PjwvZz48IS0tZW50aXR5IHRyYW5zZmVyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLi4uLnRyYW5zZmVyIiBkYXRhLXNvdXJjZS1saW5lPSI2IiBpZD0iZW50MDAwNSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyMi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI3NS45OTk4IiB4PSIxNjkuNSIgeT0iMTIyLjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxNzkuNSIgeT0iMTM4LjI5MiI+JiMzNzUwNDsmIzM0ODkyOyYjMjUzOTE7JiMzNjc5Njs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgY3JlZGl0LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLi4uLmNyZWRpdCIgZGF0YS1zb3VyY2UtbGluZT0iNyIgaWQ9ImVudDAwMDYiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjIuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTMxLjk5OTUiIHg9IjI4MC41IiB5PSIxMjIuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMS45OTk1IiB4PSIyOTAuNSIgeT0iMTM4LjI5MiI+JiMxMjQ2MzsmIzEyNTI0OyYjMTI0NzI7JiMxMjQ4MzsmIzEyNDg4OyYjMTI0NTk7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48L2c+PCEtLWVudGl0eSBiaWxsLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLi4uLmJpbGwiIGRhdGEtc291cmNlLWxpbmU9IjExIiBpZD0iZW50MDAwOCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyMi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0Ny45OTk5IiB4PSI0NjguNSIgeT0iMTIyLjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSI0NzguNSIgeT0iMTM4LjI5MiI+JiMyNTE2MzsmIzI0NDE4OzwvdGV4dD48L2c+PCEtLWVudGl0eSBkZW5zaGktLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLi4uLi4uZGVuc2hpIiBkYXRhLXNvdXJjZS1saW5lPSIxMiIgaWQ9ImVudDAwMDkiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjIuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTAzLjk5OTYiIHg9IjU1MS41IiB5PSIxMjIuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjU2MS41IiB5PSIxMzguMjkyIj4mIzM4NjUxOyYjMjMzNzY7JiMzNTM1MjsmIzM3NjgyOyYjMjA2NjE7JiMyNzE3Nzs8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkdNTjEwIiBkYXRhLXNvdXJjZS1saW5lPSIxNyIgaWQ9ImVudDAwMTEiPjxwYXRoIGQ9Ik02LDIxMi4xNTY5IEw2LDIzNy4yODk3IEEwLDAgMCAwIDAgNiwyMzcuMjg5NyBMMTMxLjAwMDEsMjM3LjI4OTcgQTAsMCAwIDAgMCAxMzEuMDAwMSwyMzcuMjg5NyBMMTMxLjAwMDEsMjIyLjE1NjkgTDEyMS4wMDAxLDIxMi4xNTY5IEw3OC4xNCwyMTIuMTU2OSBMMTA1LjUyLDE0NS4wMzY5IEw3MC4xNCwyMTIuMTU2OSBMNiwyMTIuMTU2OSBBMCwwIDAgMCAwIDYsMjEyLjE1NjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0xMjEuMDAwMSwyMTIuMTU2OSBMMTIxLjAwMDEsMjIyLjE1NjkgTDEzMS4wMDAxLDIyMi4xNTY5IEwxMjEuMDAwMSwyMTIuMTU2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA0LjAwMDEiIHg9IjEyIiB5PSIyMjkuMjIzOCI+JiMyNDIxNTsmIzM4OTU3OyYjMTIzOTE7JiMxMjM5ODsmIzI5Njk0OyYjMzczMjk7JiMyMTQ2MzsmIzIxNDYyOzwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iR01OMTMiIGRhdGEtc291cmNlLWxpbmU9IjIxIiBpZD0iZW50MDAxNCI+PHBhdGggZD0iTTE2Ni41LDIwNC41ODY5IEwxNjYuNSwyNDQuODUyNSBBMCwwIDAgMCAwIDE2Ni41LDI0NC44NTI1IEwzMzAuNTAwMiwyNDQuODUyNSBBMCwwIDAgMCAwIDMzMC41MDAyLDI0NC44NTI1IEwzMzAuNTAwMiwyMTQuNTg2OSBMMzIwLjUwMDIsMjA0LjU4NjkgTDI0My42MSwyMDQuNTg2OSBMMjEyLjM2LDE0NS4wMzY5IEwyMzUuNjEsMjA0LjU4NjkgTDE2Ni41LDIwNC41ODY5IEEwLDAgMCAwIDAgMTY2LjUsMjA0LjU4NjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0zMjAuNTAwMiwyMDQuNTg2OSBMMzIwLjUwMDIsMjE0LjU4NjkgTDMzMC41MDAyLDIxNC41ODY5IEwzMjAuNTAwMiwyMDQuNTg2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE3LjAwMDEiIHg9IjE3Mi41IiB5PSIyMjEuNjUzOCI+JiMzNzUwNDsmIzM0ODkyOyYjMjUzOTE7JiMzNjc5NjsmIzEyMzk1OyYjMTI0MjQ7JiMxMjQyNzsmIzIwODM3OyYjMzczMjk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0My4wMDAyIiB4PSIxNzIuNSIgeT0iMjM2Ljc4NjYiPiYjMjUzOTE7JiMzNjc5NjsmIzI1MTYzOyYjMjU5Njg7JiMyNjAwOTsmIzEyMzk4OyYjMjUyMDE7JiMxMjM1NjsmIzEyMzk1OyYjMjc4ODA7JiMyNDg0Nzs8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkdNTjE2IiBkYXRhLXNvdXJjZS1saW5lPSIyNiIgaWQ9ImVudDAwMTciPjxwYXRoIGQ9Ik00NDkuNSwyMDQuNTg2OSBMNDQ5LjUsMjQ0Ljg1MjUgQTAsMCAwIDAgMCA0NDkuNSwyNDQuODUyNSBMNTM1LjUwMDEsMjQ0Ljg1MjUgQTAsMCAwIDAgMCA1MzUuNTAwMSwyNDQuODUyNSBMNTM1LjUwMDEsMjE0LjU4NjkgTDUyNS41MDAxLDIwNC41ODY5IEw0OTYuNSwyMDQuNTg2OSBMNDkyLjUsMTQ1LjAzNjkgTDQ4OC41LDIwNC41ODY5IEw0NDkuNSwyMDQuNTg2OSBBMCwwIDAgMCAwIDQ0OS41LDIwNC41ODY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNTI1LjUwMDEsMjA0LjU4NjkgTDUyNS41MDAxLDIxNC41ODY5IEw1MzUuNTAwMSwyMTQuNTg2OSBMNTI1LjUwMDEsMjA0LjU4NjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyLjAwMDEiIHg9IjQ1NS41IiB5PSIyMjEuNjUzOCI+JiMzMjAwNDsmIzI2NDYzOyYjMjUxNjM7JiMyNDQxODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjUuMDAwMSIgeD0iNDU1LjUiIHk9IjIzNi43ODY2Ij4mIzI2Mzk5OyYjMjYwODU7JiMxMjM5NTsmIzI1NTYzOyYjMzczMjk7PC90ZXh0PjwvZz48P3BsYW50dW1sLXNyYyBUUDNUSmk5MDQ4TmwtbklSLVlYRC1Yd2JOUUc5amFjeFR5UjRqZ1dXY0VlNTg0NTVKOFdPSDVHcXlHVHZjU2FFeExrdXhHQTE2NnpkcFpicGxjNHNBckYyWm1SZm9HTXNGZDdRWEUyOUx1X0pfZXNZVURIYVhoQ2gxRWdjR1lOeE13a3BBTlAyQUwzOVpnUmZrZ085WU1idTViNE55Sm9WNnB1bjNSLXFkQVFkWHFjX1dPcjlDZl9iRS1PUFpiLWF0ZDhGdUdJWUhtV184OGVXZ2E4dVdjVzZLS3RjVURJb2NOQW1MSDJsVWpXVWg1bGUtYk9CaEROdnBydGtCalpieWdmNXp2a0ZwdkZYUFRmdXZVNHgzWHpvWEtLVGxzSUJWNzcxU0hhYjFQU25UdS11SE9kMGx6aGZ4SFkyVV80Z1lTVlpEZXpSMmRLaWFYZC1zRFBxY3ptR1oyMEtRN0xQTWY1SnFISVJwelpnWTcyaWxLMUc0SmdTM2g0SV92LVZDb3RVQWRaVGF3SUFWNFRjWlJqUC1DaHcybTAwPz48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<table>
<thead>
<tr>
<th>入金方法</th>
<th>特徴</th>
<th>手数料</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>現金</strong></td>
<td>即時入金、店頭取引</td>
<td>なし</td>
</tr>
<tr>
<td><strong>銀行振込</strong></td>
<td>最も一般的、振込手数料が発生</td>
<td>振込手数料（顧客負担 or 当社負担）</td>
</tr>
<tr>
<td><strong>クレジットカード</strong></td>
<td>カード会社経由で入金</td>
<td>カード手数料</td>
</tr>
<tr>
<td><strong>手形</strong></td>
<td>期日に換金、不渡りリスク</td>
<td>なし</td>
</tr>
<tr>
<td><strong>電子記録債権</strong></td>
<td>電子的な債権管理</td>
<td>利用料</td>
</tr>
</tbody>
</table>
<h3 id="_12">入金消込のパターン<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<p>入金と請求の消込には、以下のパターンがあります。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjIyMnB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MTAxNHB4O2hlaWdodDoyMjJweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMDE0IDIyMiIgd2lkdGg9IjEwMTRweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjA4Mzc7JiMzNzMyOTsmIzI4MDQwOyYjMzY3OTY7JiMxMjM5ODsmIzEyNDk3OyYjMTI0Nzk7JiMxMjU0MDsmIzEyNTMxOzwvdGl0bGU+PGRlZnMvPjxnPjxnIGNsYXNzPSJ0aXRsZSIgZGF0YS1zb3VyY2UtbGluZT0iMSI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNS45OTk1IiB4PSI0MzcuMDAwMyIgeT0iMjIuOTk1MSI+JiMyMDgzNzsmIzM3MzI5OyYjMjgwNDA7JiMzNjc5NjsmIzEyMzk4OyYjMTI0OTc7JiMxMjQ3OTsmIzEyNTQwOyYjMTI1MzE7PC90ZXh0PjwvZz48IS0tY2x1c3RlciAxOjEgPz8tLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iMS4xIC4uIiBkYXRhLXNvdXJjZS1saW5lPSIzIiBpZD0iZW50MDAwMiI+PHJlY3QgZmlsbD0iI0NDRkZDQyIgaGVpZ2h0PSIxNzIuNTkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIxNTYiIHg9IjciIHk9IjQ0LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTcuOTU1IiB4PSI1Ni4wMjI1IiB5PSI1OS4yOTIiPjE6MSAmIzI4MDQwOyYjMzY3OTY7PC90ZXh0PjwvZz48IS0tY2x1c3RlciAxOk4gPz8/Pz8/Py0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSIxLk4gLi4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iOSIgaWQ9ImVudDAwMDYiPjxyZWN0IGZpbGw9IiNGRkZGQ0MiIGhlaWdodD0iMTcyLjU5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNDgyIiB4PSIxODciIHk9IjQ0LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI5LjkzMDIiIHg9IjM2My4wMzQ5IiB5PSI1OS4yOTIiPjE6TiAmIzI4MDQwOyYjMzY3OTY7JiM2NTI4ODsmIzM2OTQyOyYjMjA4Mzc7JiMzNzMyOTsmIzY1Mjg5OzwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgTjoxID8/Pz8/Pz8/LS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ik4uMSAuLi4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMTkiIGlkPSJlbnQwMDE0Ij48cmVjdCBmaWxsPSIjRkZDQ0NDIiBoZWlnaHQ9IjE3Mi41OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjMxNSIgeD0iNjkzIiB5PSI0NC4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0My45MzAyIiB4PSI3NzguNTM0OSIgeT0iNTkuMjkyIj5OOjEgJiMyODA0MDsmIzM2Nzk2OyYjNjUyODg7JiMyMDk5ODsmIzIxMTA2OyYjMjA4Mzc7JiMzNzMyOTsmIzY1Mjg5OzwvdGV4dD48L2c+PCEtLWVudGl0eSByMS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IjEuMSAuLi5yMSIgZGF0YS1zb3VyY2UtbGluZT0iNCIgaWQ9ImVudDAwMDMiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjIuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTI0LjM0MzYiIHg9IjIyLjgzIiB5PSI3OS4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA0LjM0MzYiIHg9IjMyLjgzIiB5PSI5NS4yOTIiPiYjMjA4Mzc7JiMzNzMyOTsgMTAwLDAwMCYjMjA4NzA7PC90ZXh0PjwvZz48IS0tZW50aXR5IGkxLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iMS4xIC4uLmkxIiBkYXRhLXNvdXJjZS1saW5lPSI1IiBpZD0iZW50MDAwNCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyMi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjQuMzQzNiIgeD0iMjIuODMiIHk9IjE3OC41ODY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA0LjM0MzYiIHg9IjMyLjgzIiB5PSIxOTQuNTgyIj4mIzM1NTMxOyYjMjc3MTQ7IDEwMCwwMDAmIzIwODcwOzwvdGV4dD48L2c+PCEtLWVudGl0eSByMi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IjEuTiAuLi4uLi4uLnIyIiBkYXRhLXNvdXJjZS1saW5lPSIxMCIgaWQ9ImVudDAwMDciPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjIuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTI0LjM0MzYiIHg9IjM2My44MyIgeT0iNzkuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNC4zNDM2IiB4PSIzNzMuODMiIHk9Ijk1LjI5MiI+JiMyMDgzNzsmIzM3MzI5OyAyMDAsMDAwJiMyMDg3MDs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgaTJhLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iMS5OIC4uLi4uLi4uaTJhIiBkYXRhLXNvdXJjZS1saW5lPSIxMSIgaWQ9ImVudDAwMDgiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjIuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTI1LjAxMzUiIHg9IjIwMy40OSIgeT0iMTc4LjU4NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDUuMDEzNSIgeD0iMjEzLjQ5IiB5PSIxOTQuNTgyIj4mIzM1NTMxOyYjMjc3MTQ7QSA4MCwwMDAmIzIwODcwOzwvdGV4dD48L2c+PCEtLWVudGl0eSBpMmItLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIxLk4gLi4uLi4uLi5pMmIiIGRhdGEtc291cmNlLWxpbmU9IjEyIiBpZD0iZW50MDAwOSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyMi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjUuMDQwOCIgeD0iMzYzLjQ4IiB5PSIxNzguNTg2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNS4wNDA4IiB4PSIzNzMuNDgiIHk9IjE5NC41ODIiPiYjMzU1MzE7JiMyNzcxNDtCIDgwLDAwMCYjMjA4NzA7PC90ZXh0PjwvZz48IS0tZW50aXR5IGFkdi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IjEuTiAuLi4uLi4uLmFkdiIgZGF0YS1zb3VyY2UtbGluZT0iMTMiIGlkPSJlbnQwMDEwIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIyLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyOS40MzYzIiB4PSI1MjMuMjgiIHk9IjE3OC41ODY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA5LjQzNjMiIHg9IjUzMy4yOCIgeT0iMTk0LjU4MiI+JiMyMTA2OTsmIzIxNDYzOyYjMzczMjk7IDQwLDAwMCYjMjA4NzA7PC90ZXh0PjwvZz48IS0tZW50aXR5IHIzYS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ik4uMSAuLi4uLi4uLi5yM2EiIGRhdGEtc291cmNlLWxpbmU9IjIwIiBpZD0iZW50MDAxNSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyMi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjQuMzQzNiIgeD0iNzA4LjgzIiB5PSI3OS4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA0LjM0MzYiIHg9IjcxOC44MyIgeT0iOTUuMjkyIj4mIzIwODM3OyYjMzczMjk7MSA1MCwwMDAmIzIwODcwOzwvdGV4dD48L2c+PCEtLWVudGl0eSByM2ItLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJOLjEgLi4uLi4uLi4ucjNiIiBkYXRhLXNvdXJjZS1saW5lPSIyMSIgaWQ9ImVudDAwMTYiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjIuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTI0LjM0MzYiIHg9Ijg2Ny44MyIgeT0iNzkuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNC4zNDM2IiB4PSI4NzcuODMiIHk9Ijk1LjI5MiI+JiMyMDgzNzsmIzM3MzI5OzIgNTAsMDAwJiMyMDg3MDs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgaTMtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJOLjEgLi4uLi4uLi4uaTMiIGRhdGEtc291cmNlLWxpbmU9IjIyIiBpZD0iZW50MDAxNyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyMi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjQuMzQzNiIgeD0iNzY5LjgzIiB5PSIxNzguNTg2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNC4zNDM2IiB4PSI3NzkuODMiIHk9IjE5NC41ODIiPiYjMzU1MzE7JiMyNzcxNDsgMTAwLDAwMCYjMjA4NzA7PC90ZXh0PjwvZz48IS0tbGluayByMSB0byBpMS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAzIiBkYXRhLWVudGl0eS0yPSJlbnQwMDA0IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iNiIgaWQ9ImxuazUiPjxwYXRoIGQ9Ik04NSwxMDEuODU2OSBDODUsMTIwLjQ4NjkgODUsMTUzLjMxNjkgODUsMTcyLjEwNjkiIGZpbGw9Im5vbmUiIGlkPSJyMS10by1pMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iODUsMTc4LjEwNjksODksMTY5LjEwNjksODUsMTczLjEwNjksODEsMTY5LjEwNjksODUsMTc4LjEwNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1Mi4wMDAxIiB4PSI4NiIgeT0iMTQ0LjY1MzgiPiYjMjA4NDA7JiMzODk4OTsmIzI4MDQwOyYjMzY3OTY7PC90ZXh0PjwvZz48IS0tbGluayByMiB0byBpMmEtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNyIgZGF0YS1lbnRpdHktMj0iZW50MDAwOCIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjE0IiBpZD0ibG5rMTEiPjxwYXRoIGQ9Ik00MDguNTcsMTAyLjAzNjkgQzM3Ny44LDEyMC43NTY5IDMxOS4yOTYyLDE1Ni4zMjg4IDI4OC41MzYyLDE3NS4wMzg4IiBmaWxsPSJub25lIiBpZD0icjItdG8taTJhIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyODMuNDEsMTc4LjE1NjksMjkzLjE3OCwxNzYuODk3MywyODcuNjgxOCwxNzUuNTU4NSwyODkuMDIwNiwxNzAuMDYyNCwyODMuNDEsMTc4LjE1NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0NS40ODczIiB4PSIzNTYuNTgiIHk9IjE0NC42NTM4Ij44MCwwMDA8L3RleHQ+PC9nPjwhLS1saW5rIHIyIHRvIGkyYi0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA3IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA5IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMTUiIGlkPSJsbmsxMiI+PHBhdGggZD0iTTQyNiwxMDEuODU2OSBDNDI2LDEyMC40ODY5IDQyNiwxNTMuMzE2OSA0MjYsMTcyLjEwNjkiIGZpbGw9Im5vbmUiIGlkPSJyMi10by1pMmIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjQyNiwxNzguMTA2OSw0MzAsMTY5LjEwNjksNDI2LDE3My4xMDY5LDQyMiwxNjkuMTA2OSw0MjYsMTc4LjEwNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0NS40ODczIiB4PSI0MjciIHk9IjE0NC42NTM4Ij44MCwwMDA8L3RleHQ+PC9nPjwhLS1saW5rIHIyIHRvIGFkdi0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA3IiBkYXRhLWVudGl0eS0yPSJlbnQwMDEwIiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMTYiIGlkPSJsbmsxMyI+PHBhdGggZD0iTTQ0My42NSwxMDIuMDM2OSBDNDc0LjgxLDEyMC43NTY5IDUzNC4wODY1LDE1Ni4zNTc1IDU2NS4yMzY1LDE3NS4wNjc1IiBmaWxsPSJub25lIiBpZD0icjItdG8tYWR2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1NzAuMzgsMTc4LjE1NjksNTY0LjcyNDQsMTcwLjA5MzgsNTY2LjA5MzcsMTc1LjU4MjQsNTYwLjYwNTEsMTc2Ljk1MTgsNTcwLjM4LDE3OC4xNTY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDUuNDg3MyIgeD0iNTE3LjciIHk9IjE0NC42NTM4Ij40MCwwMDA8L3RleHQ+PC9nPjwhLS1saW5rIHIzYSB0byBpMy0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDE1IiBkYXRhLWVudGl0eS0yPSJlbnQwMDE3IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMjMiIGlkPSJsbmsxOCI+PHBhdGggZD0iTTc3Ny41MywxMDEuODU2OSBDNzg5LjIxLDEyMC40ODY5IDgxMC4zNzQ5LDE1NC4yMzIxIDgyMi4xNDQ5LDE3My4wMjIxIiBmaWxsPSJub25lIiBpZD0icjNhLXRvLWkzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI4MjUuMzMsMTc4LjEwNjksODIzLjk0MjIsMTY4LjM1NjMsODIyLjY3NTcsMTczLjg2OTUsODE3LjE2MjUsMTcyLjYwMzEsODI1LjMzLDE3OC4xMDY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDUuNDg3MyIgeD0iODA2LjE1IiB5PSIxNDQuNjUzOCI+NTAsMDAwPC90ZXh0PjwvZz48IS0tbGluayByM2IgdG8gaTMtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAxNiIgZGF0YS1lbnRpdHktMj0iZW50MDAxNyIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjI0IiBpZD0ibG5rMTkiPjxwYXRoIGQ9Ik05MTkuNTEsMTAxLjg1NjkgQzkwMC43NSwxMjAuNDg2OSA4NjUuODg3MiwxNTUuMDg4OSA4NDYuOTY3MiwxNzMuODc4OSIgZmlsbD0ibm9uZSIgaWQ9InIzYi10by1pMyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iODQyLjcxLDE3OC4xMDY5LDg1MS45MTQ1LDE3NC42MDMxLDg0Ni4yNTc3LDE3NC41ODM2LDg0Ni4yNzcyLDE2OC45MjY3LDg0Mi43MSwxNzguMTA2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ1LjQ4NzMiIHg9Ijg4Ny44NyIgeT0iMTQ0LjY1MzgiPjUwLDAwMDwvdGV4dD48L2c+PD9wbGFudHVtbC1zcmMgQXlhaW9LYkxVRGd3ejZOeG42VlJFYnhpc19FdVNUdFp2ZWNGY19PX1JqeHBrN2FwNXJUSFFkOTlPYnV3SzljSWVQTVgwYUlMYWVBb2l4RVJjeEVwR1pMTlNjOUhZZThJbjBtNUdtQzM3R0MzV3dUalJLZUFZU0tBSE9QR3dIVWhrdnpqUjRBTnBaSmFBWjlLcURNcjB4OEtoODNrTUY1b09JXzQxZ3ZRREFsemU1UV90ekZuaWg0Rk9qdHhGUHIwYnhZdk9ORTk0UGZCWjUxU3VnWFdXVWVJZXFHS1VJU0MtSUlPeVBzekpfa2RXc21tR0w2SGM1QjZMTUc0eU9uSDhqMHQ0MENHT2FhT09hMGpHMzY4Q01aLXpPQzdEVDJfSnBsUWRkUGtHbE1vaXBFNmJtcUxKNTZ6UjlvODhjLTQ4UC00RnRRQ2tPMTZHNW5sMzdJZUFUSm5uYWFPT2hLMD8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<table>
<thead>
<tr>
<th>パターン</th>
<th>説明</th>
<th>処理</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1:1</strong></td>
<td>1件の入金で1件の請求を消込</td>
<td>通常の消込</td>
</tr>
<tr>
<td><strong>1:N</strong></td>
<td>1件の入金で複数の請求を消込</td>
<td>古い請求から順に消込、余剰は前受金</td>
</tr>
<tr>
<td><strong>N:1</strong></td>
<td>複数の入金で1件の請求を消込</td>
<td>分割入金、一部入金状態の管理</td>
</tr>
</tbody>
</table>
<h3 id="_13">入金データ・入金消込明細の構造<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<h4 id="er_1">入金データの ER 図<a class="headerlink" href="#er_1" title="Permanent link">&para;</a></h4>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjY2M3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6Mjg4cHg7aGVpZ2h0OjY2M3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDI4OCA2NjMiIHdpZHRoPSIyODhweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjA4Mzc7JiMzNzMyOTsmIzM4MzA2OyYjMzY4OTk7JiMxMjQ4NjsmIzEyNTQwOyYjMTI1MDI7JiMxMjUyMzs8L3RpdGxlPjxkZWZzLz48Zz48ZyBjbGFzcz0idGl0bGUiIGRhdGEtc291cmNlLWxpbmU9IjEiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTEuOTk5NSIgeD0iODEuMjU0NSIgeT0iMjIuOTk1MSI+JiMyMDgzNzsmIzM3MzI5OyYjMzgzMDY7JiMzNjg5OTsmIzEyNDg2OyYjMTI1NDA7JiMxMjUwMjsmIzEyNTIzOzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjMiIGlkPSJlbnQwMDAyIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEyOS40ODQ0IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDEuOTk5NyIgeD0iMTQiIHk9IjE0Mi4wNzY5Ii8+PGVsbGlwc2UgY3g9IjI5IiBjeT0iMTU4LjA3NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTMzLjEwOTQsMTY0LjA3NjkgTDI1LjM5MDYsMTY0LjA3NjkgTDI1LjM5MDYsMTUxLjY4NjIgTDMzLjEwOTQsMTUxLjY4NjIgTDMzLjEwOTQsMTUzLjg0MjUgTDI3Ljg0MzgsMTUzLjg0MjUgTDI3Ljg0MzgsMTU2LjUxNDQgTDMyLjYwOTQsMTU2LjUxNDQgTDMyLjYwOTQsMTU4LjY3MDYgTDI3Ljg0MzgsMTU4LjY3MDYgTDI3Ljg0MzgsMTYxLjkyMDYgTDMzLjEwOTQsMTYxLjkyMDYgTDMzLjEwOTQsMTY0LjA3NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSI0MyIgeT0iMTYyLjkyMzYiPiYjMzU1MzE7JiMyNzcxNDsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTUiIHgyPSIxMTQuOTk5NyIgeTE9IjE3NC4wNzY5IiB5Mj0iMTc0LjA3NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NC4xMTMzIiB4PSIyMCIgeT0iMTkxLjA3MiI+SUQgJiMxNzE7UEsmIzE4Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE1IiB4Mj0iMTE0Ljk5OTciIHkxPSIxOTguMzczNyIgeTI9IjE5OC4zNzM3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjAiIHk9IjIxNS4zNjg5Ij4mIzM1NTMxOyYjMjc3MTQ7JiMzMDA1ODsmIzIxNDk1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyMCIgeT0iMjMxLjY2NTciPiYjMzkwMTU7JiMyMzQ1ODsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjAiIHk9IjI0Ny45NjI2Ij4mIzM1NTMxOyYjMjc3MTQ7JiMyNzUzMTsmIzM5NjQwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyMCIgeT0iMjY0LjI1OTUiPiYjMTI0NzM7JiMxMjQ4NjsmIzEyNTQwOyYjMTI0Nzk7JiMxMjQ3Mzs8L3RleHQ+PC9nPjwhLS1jbGFzcyA/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIxMiIgaWQ9ImVudDAwMDMiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzI1LjA0NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyMC44MTQxIiB4PSIxNTQuNTkiIHk9IjQ0LjI5NjkiLz48ZWxsaXBzZSBjeD0iMTc4LjA1NjUiIGN5PSI2MC4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0xODIuMTY1OSw2Ni4yOTY5IEwxNzQuNDQ3MSw2Ni4yOTY5IEwxNzQuNDQ3MSw1My45MDYzIEwxODIuMTY1OSw1My45MDYzIEwxODIuMTY1OSw1Ni4wNjI1IEwxNzYuOTAwMyw1Ni4wNjI1IEwxNzYuOTAwMyw1OC43MzQ0IEwxODEuNjY1OSw1OC43MzQ0IEwxODEuNjY1OSw2MC44OTA2IEwxNzYuOTAwMyw2MC44OTA2IEwxNzYuOTAwMyw2NC4xNDA2IEwxODIuMTY1OSw2NC4xNDA2IEwxODIuMTY1OSw2Ni4yOTY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTkzLjkzNzkiIHk9IjY1LjE0MzYiPiYjMjA4Mzc7JiMzNzMyOTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTU1LjU5IiB4Mj0iMjc0LjQwNDEiIHkxPSI3Ni4yOTY5IiB5Mj0iNzYuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU0LjExMzMiIHg9IjE2MC41OSIgeT0iOTMuMjkyIj5JRCAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTU1LjU5IiB4Mj0iMjc0LjQwNDEiIHkxPSIxMDAuNTkzOCIgeTI9IjEwMC41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuMDA4NSIgeD0iMTYwLjU5IiB5PSIxMTcuNTg4OSI+JiMyMDgzNzsmIzM3MzI5OyYjMzAwNTg7JiMyMTQ5NTsgJiMxNzE7VUsmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iMTYwLjU5IiB5PSIxMzMuODg1NyI+JiMyMDgzNzsmIzM3MzI5OyYjMjYwODU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOC44MTQxIiB4PSIxNjAuNTkiIHk9IjE1MC4xODI2Ij4mIzM5MDE1OyYjMjM0NTg7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7ICYjMTcxO0ZLJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjE2MC41OSIgeT0iMTY2LjQ3OTUiPiYjMjA4Mzc7JiMzNzMyOTsmIzI2MDQxOyYjMjc4NjE7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjE2MC41OSIgeT0iMTgyLjc3NjQiPiYjMjA4Mzc7JiMzNzMyOTsmIzM3MzI5OyYjMzg5ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjE2MC41OSIgeT0iMTk5LjA3MzIiPiYjMjgwNDA7JiMzNjc5NjsmIzI4MTY4OyYjMzczMjk7JiMzODk4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTYwLjU5IiB5PSIyMTUuMzcwMSI+JiMyNjQxMDsmIzI4MDQwOyYjMzY3OTY7JiMzNzMyOTsmIzM4OTg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIxNjAuNTkiIHk9IjIzMS42NjciPiYjMjUxNjM7JiMyNTk2ODsmIzI2MDA5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxNjAuNTkiIHk9IjI0Ny45NjM5Ij4mIzI1MzkxOyYjMzY3OTY7JiMyMTUxNzsmIzMyNjgxOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIxNjAuNTkiIHk9IjI2NC4yNjA3Ij4mIzM3NTA0OyYjMzQ4OTI7JiMyMTUxNzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTYwLjU5IiB5PSIyODAuNTU3NiI+JiMyMTQ3NTsmIzI0MjMxOyYjMzAwNTg7JiMyMTQ5NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTYwLjU5IiB5PSIyOTYuODU0NSI+JiMxMjQ3MzsmIzEyNDg2OyYjMTI1NDA7JiMxMjQ3OTsmIzEyNDczOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIxNjAuNTkiIHk9IjMxMy4xNTE0Ij4mIzEyNDk2OyYjMTI1NDA7JiMxMjQ3MjsmIzEyNTE5OyYjMTI1MzE7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ljk5OTkiIHg9IjE2MC41OSIgeT0iMzI5LjQ0ODIiPiYjMjA2MzM7JiMzMjc3MTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTYwLjU5IiB5PSIzNDUuNzQ1MSI+JiMyMDMxNjsmIzI1MTA0OyYjMjYwODU7JiMyNjE3ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTYwLjU5IiB5PSIzNjIuMDQyIj4mIzI2MzU2OyYjMjYwMzI7JiMyNjA4NTsmIzI2MTc4OzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMzMiIGlkPSJlbnQwMDA0Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjE5NC42NzE5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMTUuOTk5NiIgeD0iNyIgeT0iNDQ1LjYzNjkiLz48ZWxsaXBzZSBjeD0iMjIiIGN5PSI0NjEuNjM2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMjYuMTA5NCw0NjcuNjM2OSBMMTguMzkwNiw0NjcuNjM2OSBMMTguMzkwNiw0NTUuMjQ2MiBMMjYuMTA5NCw0NTUuMjQ2MiBMMjYuMTA5NCw0NTcuNDAyNSBMMjAuODQzOCw0NTcuNDAyNSBMMjAuODQzOCw0NjAuMDc0NCBMMjUuNjA5NCw0NjAuMDc0NCBMMjUuNjA5NCw0NjIuMjMwNiBMMjAuODQzOCw0NjIuMjMwNiBMMjAuODQzOCw0NjUuNDgwNiBMMjYuMTA5NCw0NjUuNDgwNiBMMjYuMTA5NCw0NjcuNjM2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjM2IiB5PSI0NjYuNDgzNiI+JiMyMDgzNzsmIzM3MzI5OyYjMjgwNDA7JiMzNjc5NjsmIzI2MTI2OyYjMzIwNDg7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjgiIHgyPSIxMjEuOTk5NiIgeTE9IjQ3Ny42MzY5IiB5Mj0iNDc3LjYzNjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NC4xMTMzIiB4PSIxMyIgeT0iNDk0LjYzMiI+SUQgJiMxNzE7UEsmIzE4Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjgiIHgyPSIxMjEuOTk5NiIgeTE9IjUwMS45MzM3IiB5Mj0iNTAxLjkzMzciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4MS43MjM1IiB4PSIxMyIgeT0iNTE4LjkyODkiPiYjMjA4Mzc7JiMzNzMyOTtJRCAmIzE3MTtGSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIxMyIgeT0iNTM1LjIyNTciPiYjMzQ4OTI7JiMzMDA1ODsmIzIxNDk1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4MS43MjM1IiB4PSIxMyIgeT0iNTUxLjUyMjYiPiYjMzU1MzE7JiMyNzcxNDtJRCAmIzE3MTtGSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIxMyIgeT0iNTY3LjgxOTUiPiYjMjgwNDA7JiMzNjc5NjsmIzI2MDg1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxMyIgeT0iNTg0LjExNjQiPiYjMjgwNDA7JiMzNjc5NjsmIzM3MzI5OyYjMzg5ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjEzIiB5PSI2MDAuNDEzMiI+JiMxMjQ5NjsmIzEyNTQwOyYjMTI0NzI7JiMxMjUxOTsmIzEyNTMxOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSIxMyIgeT0iNjE2LjcxMDEiPiYjMjA2MzM7JiMzMjc3MTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTMiIHk9IjYzMy4wMDciPiYjMjAzMTY7JiMyNTEwNDsmIzI2MDg1OyYjMjYxNzg7PC90ZXh0PjwvZz48IS0tY2xhc3MgPz8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSI0NiIgaWQ9ImVudDAwMDUiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjI3LjI2NTYiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyMy4wMDg1IiB4PSIxNTguNSIgeT0iNDI5LjMzNjkiLz48ZWxsaXBzZSBjeD0iMTc2LjY1NCIgY3k9IjQ0NS4zMzY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0xODAuNzYzNCw0NTEuMzM2OSBMMTczLjA0NDYsNDUxLjMzNjkgTDE3My4wNDQ2LDQzOC45NDYyIEwxODAuNzYzNCw0MzguOTQ2MiBMMTgwLjc2MzQsNDQxLjEwMjUgTDE3NS40OTc3LDQ0MS4xMDI1IEwxNzUuNDk3Nyw0NDMuNzc0NCBMMTgwLjI2MzQsNDQzLjc3NDQgTDE4MC4yNjM0LDQ0NS45MzA2IEwxNzUuNDk3Nyw0NDUuOTMwNiBMMTc1LjQ5NzcsNDQ5LjE4MDYgTDE4MC43NjM0LDQ0OS4xODA2IEwxODAuNzYzNCw0NTEuMzM2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjE5MS4zNTQ5IiB5PSI0NTAuMTgzNiI+JiMyMTA2OTsmIzIxNDYzOyYjMzczMjk7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjE1OS41IiB4Mj0iMjgwLjUwODUiIHkxPSI0NjEuMzM2OSIgeTI9IjQ2MS4zMzY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTQuMTEzMyIgeD0iMTY0LjUiIHk9IjQ3OC4zMzIiPklEICYjMTcxO1BLJiMxODc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNTkuNSIgeDI9IjI4MC41MDg1IiB5MT0iNDg1LjYzMzciIHkyPSI0ODUuNjMzNyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMS4wMDg1IiB4PSIxNjQuNSIgeT0iNTAyLjYyODkiPiYjMjEwNjk7JiMyMTQ2MzsmIzM3MzI5OyYjMzAwNTg7JiMyMTQ5NTsgJiMxNzE7VUsmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iMTY0LjUiIHk9IjUxOC45MjU3Ij4mIzMwMzMwOyYjMjk5ODM7JiMyNjA4NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA4LjgxNDEiIHg9IjE2NC41IiB5PSI1MzUuMjIyNiI+JiMzOTAxNTsmIzIzNDU4OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyAmIzE3MTtGSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4MS43MjM1IiB4PSIxNjQuNSIgeT0iNTUxLjUxOTUiPiYjMjA4Mzc7JiMzNzMyOTtJRCAmIzE3MTtGSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxNjQuNSIgeT0iNTY3LjgxNjQiPiYjMjEwNjk7JiMyMTQ2MzsmIzM3MzI5OyYjMzg5ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjE2NC41IiB5PSI1ODQuMTEzMiI+JiMyMDM1MTsmIzI5OTkyOyYjMjgxNjg7JiMzNzMyOTsmIzM4OTg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSIxNjQuNSIgeT0iNjAwLjQxMDEiPiYjMjc1MzE7JiMzOTY0MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjcuOTk5OSIgeD0iMTY0LjUiIHk9IjYxNi43MDciPiYjMjA2MzM7JiMzMjc3MTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTY0LjUiIHk9IjYzMy4wMDM5Ij4mIzIwMzE2OyYjMjUxMDQ7JiMyNjA4NTsmIzI2MTc4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxNjQuNSIgeT0iNjQ5LjMwMDciPiYjMjYzNTY7JiMyNjAzMjsmIzI2MDg1OyYjMjYxNzg7PC90ZXh0PjwvZz48IS0tbGluayA/Pz8/PyB0byA/Pz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMiIgZGF0YS1lbnRpdHktMj0iZW50MDAwNCIgZGF0YS1saW5rLXR5cGU9ImNyb3dmb290IiBkYXRhLXNvdXJjZS1saW5lPSI2MSIgaWQ9ImxuazYiPjxwYXRoIGNvZGVMaW5lPSI2MSIgZD0iTTY1LDI3OS44NDY5IEM2NSwzMjguOTM2OSA2NSwzNzEuNDc2OSA2NSw0MjcuMjM2OSIgZmlsbD0ibm9uZSIgaWQ9IiYjMzU1MzE7JiMyNzcxNDsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTstJiMyMDgzNzsmIzM3MzI5OyYjMjgwNDA7JiMzNjc5NjsmIzI2MTI2OyYjMzIwNDg7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjYxIiB4Mj0iNjkiIHkxPSIyNzUuODQ2OSIgeTI9IjI3NS44NDY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjYxIiB4Mj0iNjkiIHkxPSIyNzguODQ2OSIgeTI9IjI3OC44NDY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjY1IiB4Mj0iNjUiIHkxPSIyNzkuODQ2OSIgeTI9IjI3MS44NDY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjY1IiB4Mj0iNzEiIHkxPSI0MzcuMjM2OSIgeTI9IjQ0NS4yMzY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjY1IiB4Mj0iNTkiIHkxPSI0MzcuMjM2OSIgeTI9IjQ0NS4yMzY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjY1IiB4Mj0iNjUiIHkxPSI0MzcuMjM2OSIgeTI9IjQ0NS4yMzY5Ii8+PGVsbGlwc2UgY3g9IjY1IiBjeT0iNDMxLjIzNjkiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayA/Pz8/PyB0byA/Pz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMyIgZGF0YS1lbnRpdHktMj0iZW50MDAwNCIgZGF0YS1saW5rLXR5cGU9ImNyb3dmb290IiBkYXRhLXNvdXJjZS1saW5lPSI2MiIgaWQ9ImxuazciPjxwYXRoIGNvZGVMaW5lPSI2MiIgZD0iTTE1MC45MzQyLDM1MC41NDU0IEMxMzUuNTg0MiwzODQuNzQ1NCAxMzAuMDQ4MywzOTcuMDQ0MSAxMTUuNzU4Myw0MjguODk0MSIgZmlsbD0ibm9uZSIgaWQ9IiYjMjA4Mzc7JiMzNzMyOTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTstJiMyMDgzNzsmIzM3MzI5OyYjMjgwNDA7JiMzNjc5NjsmIzI2MTI2OyYjMzIwNDg7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE0OC45MjI4IiB4Mj0iMTU2LjIyMTQiIHkxPSIzNDUuMjU4MiIgeTI9IjM0OC41MzQxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE0Ny42OTQ0IiB4Mj0iMTU0Ljk5MjkiIHkxPSIzNDcuOTk1MiIgeTI9IjM1MS4yNzEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTUwLjkzNDIiIHgyPSIxNTQuMjEiIHkxPSIzNTAuNTQ1NCIgeTI9IjM0My4yNDY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjExMS42NjQ4IiB4Mj0iMTEzLjg2NDMiIHkxPSI0MzguMDE3OSIgeTI9IjQ0Ny43NzMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTExLjY2NDgiIHgyPSIxMDIuOTE1NyIgeTE9IjQzOC4wMTc5IiB5Mj0iNDQyLjg2MDgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTExLjY2NDgiIHgyPSIxMDguMzkiIHkxPSI0MzguMDE3OSIgeTI9IjQ0NS4zMTY5Ii8+PGVsbGlwc2UgY3g9IjExNC4xMjA5IiBjeT0iNDMyLjU0MzYiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayA/Pz8/PyB0byA/Pz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMyIgZGF0YS1lbnRpdHktMj0iZW50MDAwNSIgZGF0YS1saW5rLXR5cGU9ImFzc29jaWF0aW9uIiBkYXRhLXNvdXJjZS1saW5lPSI2MyIgaWQ9ImxuazgiPjxwYXRoIGNvZGVMaW5lPSI2MyIgZD0iTTIxNy41MzkxLDM3Ny41MTYgQzIxNy44MzkxLDM5Ny42NjYgMjE3Ljc5MzMsMzk0LjkzODYgMjE4LjA4MzMsNDE0LjEyODYiIGZpbGw9Im5vbmUiIGlkPSImIzIwODM3OyYjMzczMjk7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7LSYjMjEwNjk7JiMyMTQ2MzsmIzM3MzI5OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMTMuNDgiIHgyPSIyMjEuNDc5MSIgeTE9IjM3My41NzYiIHkyPSIzNzMuNDU2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMTMuNTI0NyIgeDI9IjIyMS41MjM4IiB5MT0iMzc2LjU3NTYiIHkyPSIzNzYuNDU2NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMTcuNTM5MSIgeDI9IjIxNy40MiIgeTE9IjM3Ny41MTYiIHkyPSIzNjkuNTE2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMTguMTQzOCIgeDI9IjIxOC4zMSIgeTE9IjQxOC4xMjgxIiB5Mj0iNDI5LjEyNjkiLz48ZWxsaXBzZSBjeD0iMjE4LjE0MzgiIGN5PSI0MTguMTI4MSIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIyMi4yNDkxIiB4Mj0iMjE0LjI1IiB5MT0iNDI1LjA2NjkiIHkyPSI0MjUuMTg3OCIvPjwvZz48P3BsYW50dW1sLXNyYyBiTEJEUWk5MDRCeEZLLUc1eVdSWWdISEFCeHRxNEptOGZMdm9BTGdHTkxnclFoTVdxTDJYZzhZaldoS2VoT2dRWHJidGFobjVEemRyQnpaTW1YeHMtc1FPLVVRUkNVQjZMS3BaVG5xbHktSVBCSV9UUGxJVXFKY1o5Z0R6V0RZcjRKVGtEQlVWbm1fMlFDT0Y0TGpCbWpjOTVlYlNkNFVaZUVpV21xd3JucWpWdTNNeFZEMVlQMUlLb1FhVzNsOVVsbXdDSjVLM09laV90NnZRSTBxX2pmMVhzS0JHYnB1akVRbnJtWnI1bWtiRVdaZDVLTEsxX3BNQlc5elBUcGQ3SU5RRDZwcjloTjRrWnpLWGNYUFd1THRHbDVucWJjX1dGUUpUUGE0MHVBS3NkdE5Mb0U2ZjYycTdPQzllYno0SFM2QXZRR2doSEdFcFBRNE5CR0J1RjRQcGc0M08xWU1sX2tZQ1h1VVQyQVhXSTI1OG9QMUVSb0VnWWwxZFJ4UFpyRXE4b1hMdmdWUmhRak9QLXpqbmg5YkpVVmJwRXJrdmNwZy1vRE4yVFlnbEVta0l6dEVDYS01WkpRTHFGUDR5dTJvNFItd1ZjUWEzdmRtMz8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_14">入金ステータスの定義<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNUQVRFIiBoZWlnaHQ9IjUxN3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6Mjg2cHg7aGVpZ2h0OjUxN3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDI4NiA1MTciIHdpZHRoPSIyODZweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjA4Mzc7JiMzNzMyOTsmIzEyNDczOyYjMTI0ODY7JiMxMjU0MDsmIzEyNDc5OyYjMTI0NzM7JiMzNjk4MzsmIzMxMjI3OyYjMjIyNTk7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM5Ljk5OTQiIHg9IjY2LjQ4NTMiIHk9IjIyLjk5NTEiPiYjMjA4Mzc7JiMzNzMyOTsmIzEyNDczOyYjMTI0ODY7JiMxMjU0MDsmIzEyNDc5OyYjMTI0NzM7JiMzNjk4MzsmIzMxMjI3OyYjMjIyNTk7PC90ZXh0PjwvZz48ZWxsaXBzZSBjeD0iMTMzLjczIiBjeT0iNTMuMjk2OSIgZmlsbD0iIzIyMjIyMiIgcng9IjEwIiByeT0iMTAiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48Zz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjUwIiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjYxLjk5OTgiIHg9IjEwMi43MyIgeT0iMTI0LjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxMDIuNzMiIHgyPSIxNjQuNzI5OCIgeTE9IjE1MC41OTM4IiB5Mj0iMTUwLjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIxMTIuNzMiIHk9IjE0Mi4yOTIiPiYjMjA4Mzc7JiMzNzMyOTsmIzI4MTY4OzwvdGV4dD48L2c+PGc+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI1MCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI2MS45OTk4IiB4PSIzNS43MyIgeT0iMzc4LjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIzNS43MyIgeDI9Ijk3LjcyOTgiIHkxPSI0MDQuNTkzOCIgeTI9IjQwNC41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iNDUuNzMiIHk9IjM5Ni4yOTIiPiYjMjgwNDA7JiMzNjc5NjsmIzI4MTY4OzwvdGV4dD48L2c+PGc+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI1MCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI3NS45OTk4IiB4PSI5NS43MyIgeT0iMjUxLjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI5NS43MyIgeDI9IjE3MS43Mjk4IiB5MT0iMjc3LjU5MzgiIHkyPSIyNzcuNTkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjEwNS43MyIgeT0iMjY5LjI5MiI+JiMxOTk2ODsmIzM3MDk2OyYjMjgwNDA7JiMzNjc5Njs8L3RleHQ+PC9nPjxnPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNTAiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNjEuOTk5OCIgeD0iMTMyLjczIiB5PSIzNzguMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjEzMi43MyIgeDI9IjE5NC43Mjk4IiB5MT0iNDA0LjU5MzgiIHkyPSI0MDQuNTkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjk5OTgiIHg9IjE0Mi43MyIgeT0iMzk2LjI5MiI+JiMzNjk0MjsmIzIwODM3OyYjMzczMjk7PC90ZXh0PjwvZz48ZWxsaXBzZSBjeD0iMTE0LjczIiBjeT0iNTAwLjI5NjkiIGZpbGw9Im5vbmUiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMyMjIyMjI7c3Ryb2tlLXdpZHRoOjE7Ii8+PGVsbGlwc2UgY3g9IjExNC43MyIgY3k9IjUwMC4yOTY5IiBmaWxsPSIjMjIyMjIyIiByeD0iNiIgcnk9IjYiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48IS0tbGluayAqc3RhcnQqIHRvID8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAyIiBkYXRhLWVudGl0eS0yPSJlbnQwMDAzIiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMyIgaWQ9ImxuazQiPjxwYXRoIGQ9Ik0xMzMuNzMsNjMuNjU2OSBDMTMzLjczLDc3LjU4NjkgMTMzLjczLDk4LjI0NjkgMTMzLjczLDExNy45NDY5IiBmaWxsPSJub25lIiBpZD0iKnN0YXJ0Ki10by0mIzIwODM3OyYjMzczMjk7JiMyODE2ODsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjEzMy43MywxMjMuOTQ2OSwxMzcuNzMsMTE0Ljk0NjksMTMzLjczLDExOC45NDY5LDEyOS43MywxMTQuOTQ2OSwxMzMuNzMsMTIzLjk0NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgPz8/IHRvID8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAzIiBkYXRhLWVudGl0eS0yPSJlbnQwMDA1IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iNSIgaWQ9ImxuazYiPjxwYXRoIGQ9Ik0xMDIuNCwxNjguNzk2OSBDNzYuMTQsMTg2LjMwNjkgNDAuNDcsMjE1LjI0NjkgMjQuNzMsMjUxLjI5NjkgQzYsMjk0LjE4NjkgMjguMjYxOCwzNDIuNDkzIDQ2Ljk0MTgsMzcyLjkzMyIgZmlsbD0ibm9uZSIgaWQ9IiYjMjA4Mzc7JiMzNzMyOTsmIzI4MTY4Oy10by0mIzI4MDQwOyYjMzY3OTY7JiMyODE2ODsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjUwLjA4LDM3OC4wNDY5LDQ4Ljc4MTksMzY4LjI4MzksNDcuNDY0OCwzNzMuNzg1Myw0MS45NjM0LDM3Mi40NjgyLDUwLjA4LDM3OC4wNDY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIuMDAwMSIgeD0iMjUuNzMiIHk9IjI4MC44NjM4Ij4mIzIwODQwOyYjMzg5ODk7JiMyODA0MDsmIzM2Nzk2OzwvdGV4dD48L2c+PCEtLWxpbmsgPz8/IHRvID8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMyIgZGF0YS1lbnRpdHktMj0iZW50MDAwNyIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjYiIGlkPSJsbms4Ij48cGF0aCBkPSJNMTMzLjczLDE3NC42OTY5IEMxMzMuNzMsMTk2LjcxNjkgMTMzLjczLDIyMi45NTY5IDEzMy43MywyNDQuOTU2OSIgZmlsbD0ibm9uZSIgaWQ9IiYjMjA4Mzc7JiMzNzMyOTsmIzI4MTY4Oy10by0mIzE5OTY4OyYjMzcwOTY7JiMyODA0MDsmIzM2Nzk2OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTMzLjczLDI1MC45NTY5LDEzNy43MywyNDEuOTU2OSwxMzMuNzMsMjQ1Ljk1NjksMTI5LjczLDI0MS45NTY5LDEzMy43MywyNTAuOTU2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyLjAwMDEiIHg9IjEzNC43MyIgeT0iMjE3LjM2MzgiPiYjMTk5Njg7JiMzNzA5NjsmIzI4MDQwOyYjMzY3OTY7PC90ZXh0PjwvZz48IS0tbGluayA/Pz8/IHRvID8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA3IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA1IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iOCIgaWQ9ImxuazkiPjxwYXRoIGQ9Ik0xMDYuOTcsMzAxLjY2NjkgQzk4LjgsMzEwLjMxNjkgOTAuNDcsMzIwLjU4NjkgODQuNzMsMzMxLjI5NjkgQzc2Ljk3LDM0NS43NDY5IDczLjUyNzEsMzU3Ljc2MjUgNzAuOTU3MSwzNzEuOTgyNSIgZmlsbD0ibm9uZSIgaWQ9IiYjMTk5Njg7JiMzNzA5NjsmIzI4MDQwOyYjMzY3OTY7LXRvLSYjMjgwNDA7JiMzNjc5NjsmIzI4MTY4OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNjkuODksMzc3Ljg4NjksNzUuNDI2OSwzNjkuNzQxOCw3MC43NzkzLDM3Mi45NjY2LDY3LjU1NDQsMzY4LjMxOSw2OS44OSwzNzcuODg2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyLjAwMDEiIHg9Ijg1LjczIiB5PSIzNDQuMzYzOCI+JiMyNzUzMTsmIzM4OTg5OyYjMjgwNDA7JiMzNjc5Njs8L3RleHQ+PC9nPjwhLS1saW5rID8/Pz8gdG8gPz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDciIGRhdGEtZW50aXR5LTI9ImVudDAwMTAiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI5IiBpZD0ibG5rMTEiPjxwYXRoIGQ9Ik0xMzkuNTgsMzAxLjY5NjkgQzE0NC44NywzMjMuNzE2OSAxNTEuMjA5OCwzNTAuMTIyNiAxNTYuNDg5OCwzNzIuMTIyNiIgZmlsbD0ibm9uZSIgaWQ9IiYjMTk5Njg7JiMzNzA5NjsmIzI4MDQwOyYjMzY3OTY7LXRvLSYjMzY5NDI7JiMyMDgzNzsmIzM3MzI5OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTU3Ljg5LDM3Ny45NTY5LDE1OS42NzkyLDM2OC4yNzE5LDE1Ni43MjMxLDM3My4wOTQ5LDE1MS45MDAxLDM3MC4xMzg5LDE1Ny44OSwzNzcuOTU2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyLjAwMDEiIHg9IjE1MS41MiIgeT0iMzQ0LjM2MzgiPiYjMjAzMTM7JiMyMTEwNDsmIzMwMzMwOyYjMjk5ODM7PC90ZXh0PjwvZz48IS0tbGluayA/Pz8gdG8gPz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDMiIGRhdGEtZW50aXR5LTI9ImVudDAwMTAiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIxMSIgaWQ9ImxuazEyIj48cGF0aCBkPSJNMTY0LjkzLDE3MC4yMTY5IEMxNzYuNDcsMTc5LjIwNjkgMTg4LjQ5LDE5MC44NDY5IDE5NS43MywyMDQuMjk2OSBDMjIyLjcxLDI1NC40NDY5IDIwOC45NCwyNzQuNDc2OSAyMTIuNzMsMzMxLjI5NjkgQzIxMy4yMywzMzguODM2OSAyMTUuNDUsMzQxLjI0NjkgMjEyLjczLDM0OC4yOTY5IEMyMDguNDksMzU5LjI3NjkgMjA0Ljk4MjMsMzY1LjA0NzIgMTk2Ljk5MjMsMzczLjQ5NzIiIGZpbGw9Im5vbmUiIGlkPSImIzIwODM3OyYjMzczMjk7JiMyODE2ODstdG8tJiMzNjk0MjsmIzIwODM3OyYjMzczMjk7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxOTIuODcsMzc3Ljg1NjksMjAxLjk1OTksMzc0LjA2NTYsMTk2LjMwNTMsMzc0LjIyMzgsMTk2LjE0NywzNjguNTY5MiwxOTIuODcsMzc3Ljg1NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NS4wMDAxIiB4PSIyMTMuOTciIHk9IjI4MC44NjM4Ij4mIzM2OTQyOyYjMjA4Mzc7JiMzNzMyOTsmIzMwMzMwOyYjMjk5ODM7PC90ZXh0PjwvZz48IS0tbGluayA/Pz8gdG8gKmVuZCotLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNSIgZGF0YS1lbnRpdHktMj0iZW50MDAxMyIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjEzIiBpZD0ibG5rMTQiPjxwYXRoIGQ9Ik03OS4wOSw0MjguNzU2OSBDODkuMiw0NDguNzc2OSAxMDAuMjQ1NCw0NzAuNjIxIDEwNy4zNDU0LDQ4NC42ODEiIGZpbGw9Im5vbmUiIGlkPSImIzI4MDQwOyYjMzY3OTY7JiMyODE2ODstdG8tKmVuZCoiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjExMC4wNSw0OTAuMDM2OSwxMDkuNTYzNyw0ODAuMiwxMDcuNzk2Miw0ODUuNTczNywxMDIuNDIyNSw0ODMuODA2MiwxMTAuMDUsNDkwLjAzNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgPz8/IHRvICplbmQqLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMTAiIGRhdGEtZW50aXR5LTI9ImVudDAwMTMiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIxNCIgaWQ9ImxuazE1Ij48cGF0aCBkPSJNMTUxLjExLDQyOC43NTY5IEMxNDAuNzksNDQ4Ljc3NjkgMTI5LjQ5OTgsNDcwLjY0NDEgMTIyLjI0OTgsNDg0LjcwNDEiIGZpbGw9Im5vbmUiIGlkPSImIzM2OTQyOyYjMjA4Mzc7JiMzNzMyOTstdG8tKmVuZCoiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjExOS41LDQ5MC4wMzY5LDEyNy4xNzk5LDQ4My44NzA5LDEyMS43OTE1LDQ4NS41OTI5LDEyMC4wNjk2LDQ4MC4yMDQ1LDExOS41LDQ5MC4wMzY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjw/cGxhbnR1bWwtc3JjIEF5YWlvS2JMVURnd3o2TnhuQ1RERW55dGpwcmt0bEV1UUotR19SOW4tX0Zia3ZfRXRpcDU1UXFMZ3cyaFFtVEx6c243MW5TTmQwY01VQlFqdXlNLUZJMlU1TDNIWWZTQlVvNFlRQ2dVeDZYdXNSbTI4V0xLWVNwYnVhQUhIM1Zxc1Jma1hBNE9BYnlzemE0aTBYY3dULVJKcFd0RlAtdndGY0sta1pFSHJTN1BDQUs4d3ExQVdMeGNHWVk3WVcwMD8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<table>
<thead>
<tr>
<th>ステータス</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>入金済</strong></td>
<td>入金登録完了、未消込状態</td>
</tr>
<tr>
<td><strong>一部消込</strong></td>
<td>一部が消込済み</td>
</tr>
<tr>
<td><strong>消込済</strong></td>
<td>全額が消込完了</td>
</tr>
<tr>
<td><strong>過入金</strong></td>
<td>入金額が請求額を超過</td>
</tr>
</tbody>
</table>
<h3 id="_15">マイグレーション：入金関連テーブルの作成<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h3>
<details>
<summary>V012__create_receipt_tables.sql</summary>

<div class="highlight"><pre><span></span><code><span class="c1">-- src/main/resources/db/migration/V012__create_receipt_tables.sql</span>

<span class="c1">-- 入金ステータス</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TYPE</span><span class="w"> </span><span class="err">入金ステータス</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ENUM</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;入金済&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;一部消込&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;消込済&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;過入金&#39;</span><span class="p">);</span>

<span class="c1">-- 入金方法（取引先の支払方法とは別）</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TYPE</span><span class="w"> </span><span class="err">入金方法</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ENUM</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;現金&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;銀行振込&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;クレジットカード&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;手形&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;電子記録債権&#39;</span><span class="p">);</span>

<span class="c1">-- 入金データ</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;入金データ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ID&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;入金番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;入金日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;顧客コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;顧客枝番&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;入金方法&quot;</span><span class="w"> </span><span class="err">入金方法</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;入金金額&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;消込済金額&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;未消込金額&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;手数料&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;振込名義&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;銀行名&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;口座番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;ステータス&quot;</span><span class="w"> </span><span class="err">入金ステータス</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;入金済&#39;</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;備考&quot;</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_入金データ_顧客&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;顧客コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;顧客枝番&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;顧客マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;顧客コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;顧客枝番&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- 入金消込明細</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;入金消込明細&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ID&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;入金ID&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;行番号&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;請求ID&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;消込日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;消込金額&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;備考&quot;</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_入金消込明細_入金&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;入金ID&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;入金データ&quot;</span><span class="p">(</span><span class="ss">&quot;ID&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_入金消込明細_請求&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;請求ID&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;請求データ&quot;</span><span class="p">(</span><span class="ss">&quot;ID&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;uk_入金消込明細_入金_行&quot;</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;入金ID&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;行番号&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- 前受金データ</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;前受金データ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ID&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;前受金番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;発生日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;顧客コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;顧客枝番&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;入金ID&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;前受金額&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;使用済金額&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;残高&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;備考&quot;</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_前受金データ_顧客&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;顧客コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;顧客枝番&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;顧客マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;顧客コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;顧客枝番&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_前受金データ_入金&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;入金ID&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;入金データ&quot;</span><span class="p">(</span><span class="ss">&quot;ID&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- インデックス</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_入金データ_顧客コード&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;入金データ&quot;</span><span class="p">(</span><span class="ss">&quot;顧客コード&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_入金データ_入金日&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;入金データ&quot;</span><span class="p">(</span><span class="ss">&quot;入金日&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_入金データ_ステータス&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;入金データ&quot;</span><span class="p">(</span><span class="ss">&quot;ステータス&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_入金消込明細_入金ID&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;入金消込明細&quot;</span><span class="p">(</span><span class="ss">&quot;入金ID&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_入金消込明細_請求ID&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;入金消込明細&quot;</span><span class="p">(</span><span class="ss">&quot;請求ID&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_前受金データ_顧客コード&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;前受金データ&quot;</span><span class="p">(</span><span class="ss">&quot;顧客コード&quot;</span><span class="p">);</span>

<span class="c1">-- テーブルコメント</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;入金データ&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;入金情報を管理するテーブル&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;入金消込明細&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;入金と請求の消込明細を管理するテーブル&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;前受金データ&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;過入金による前受金を管理するテーブル&#39;</span><span class="p">;</span>

<span class="c1">-- カラムコメント</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;入金データ&quot;</span><span class="p">.</span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;楽観ロック用バージョン番号&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;入金消込明細&quot;</span><span class="p">.</span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;楽観ロック用バージョン番号&#39;</span><span class="p">;</span>
</code></pre></div>

</details>

<h3 id="_16">入金エンティティの実装<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<details>
<summary>入金ステータス ENUM</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sms/domain/model/receipt/ReceiptStatus.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.receipt</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Getter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 入金ステータス.</span>
<span class="cm"> */</span>
<span class="nd">@Getter</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">ReceiptStatus</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">RECEIVED</span><span class="p">(</span><span class="s">&quot;入金済&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">PARTIALLY_APPLIED</span><span class="p">(</span><span class="s">&quot;一部消込&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">APPLIED</span><span class="p">(</span><span class="s">&quot;消込済&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">OVERPAID</span><span class="p">(</span><span class="s">&quot;過入金&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 表示名から入金ステータスを取得する.</span>
<span class="cm">     *</span>
<span class="cm">     * @param displayName 表示名</span>
<span class="cm">     * @return 入金ステータス</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">ReceiptStatus</span><span class="w"> </span><span class="nf">fromDisplayName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">ReceiptStatus</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">values</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="p">.</span><span class="na">displayName</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">displayName</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;不正な入金ステータス: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">displayName</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>入金方法 ENUM</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sms/domain/model/receipt/ReceiptMethod.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.receipt</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Getter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 入金方法.</span>
<span class="cm"> */</span>
<span class="nd">@Getter</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">ReceiptMethod</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">CASH</span><span class="p">(</span><span class="s">&quot;現金&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">BANK_TRANSFER</span><span class="p">(</span><span class="s">&quot;銀行振込&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">CREDIT_CARD</span><span class="p">(</span><span class="s">&quot;クレジットカード&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">BILL</span><span class="p">(</span><span class="s">&quot;手形&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">ELECTRONIC_BOND</span><span class="p">(</span><span class="s">&quot;電子記録債権&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 表示名から入金方法を取得する.</span>
<span class="cm">     *</span>
<span class="cm">     * @param displayName 表示名</span>
<span class="cm">     * @return 入金方法</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">ReceiptMethod</span><span class="w"> </span><span class="nf">fromDisplayName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">ReceiptMethod</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">values</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">method</span><span class="p">.</span><span class="na">displayName</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">displayName</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">method</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;不正な入金方法: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">displayName</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>入金エンティティ</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sms/domain/model/receipt/Receipt.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.receipt</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.AllArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.NoArgsConstructor</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 入金エンティティ.</span>
<span class="cm"> */</span>
<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@AllArgsConstructor</span>
<span class="nd">@SuppressWarnings</span><span class="p">(</span><span class="s">&quot;PMD.RedundantFieldInitializer&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Receipt</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">receiptNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">receiptDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">customerCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">customerBranchNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ReceiptMethod</span><span class="w"> </span><span class="n">receiptMethod</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">receiptAmount</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">appliedAmount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">unappliedAmount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">bankFee</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">payerName</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">bankName</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">accountNumber</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ReceiptStatus</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ReceiptStatus</span><span class="p">.</span><span class="na">RECEIVED</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">remarks</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">createdBy</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">updatedBy</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/** 楽観ロック用バージョン. */</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ReceiptApplication</span><span class="o">&gt;</span><span class="w"> </span><span class="n">applications</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 未消込金額を計算する.</span>
<span class="cm">     *</span>
<span class="cm">     * @return 未消込金額</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="nf">calculateUnappliedAmount</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">receiptAmount</span><span class="p">.</span><span class="na">subtract</span><span class="p">(</span><span class="n">appliedAmount</span><span class="p">).</span><span class="na">subtract</span><span class="p">(</span><span class="n">bankFee</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 消込可能かどうかを判定する.</span>
<span class="cm">     *</span>
<span class="cm">     * @param amount 消込金額</span>
<span class="cm">     * @return 消込可能な場合は true</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">canApply</span><span class="p">(</span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">amount</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">unappliedAmount</span><span class="p">.</span><span class="na">compareTo</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>入金消込明細エンティティ</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sms/domain/model/receipt/ReceiptApplication.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.receipt</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.AllArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.NoArgsConstructor</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 入金消込明細エンティティ.</span>
<span class="cm"> */</span>
<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@AllArgsConstructor</span>
<span class="nd">@SuppressWarnings</span><span class="p">(</span><span class="s">&quot;PMD.RedundantFieldInitializer&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ReceiptApplication</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">receiptId</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">lineNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">invoiceId</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">applicationDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">appliedAmount</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">remarks</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="_17">入金消込サービスの実装<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h3>
<details>
<summary>入金消込サービス</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sms/application/service/ReceiptService.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.application.service</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sms.application.port.out.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.invoice.Invoice</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.invoice.InvoiceStatus</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.receipt.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Service</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.transaction.annotation.Transactional</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="nd">@Service</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ReceiptService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ReceiptRepository</span><span class="w"> </span><span class="n">receiptRepository</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">InvoiceRepository</span><span class="w"> </span><span class="n">invoiceRepository</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">AdvanceReceiptRepository</span><span class="w"> </span><span class="n">advanceReceiptRepository</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 入金を登録する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Receipt</span><span class="w"> </span><span class="nf">registerReceipt</span><span class="p">(</span><span class="n">Receipt</span><span class="w"> </span><span class="n">receipt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">receipt</span><span class="p">.</span><span class="na">setUnappliedAmount</span><span class="p">(</span>
<span class="w">                </span><span class="n">receipt</span><span class="p">.</span><span class="na">getReceiptAmount</span><span class="p">().</span><span class="na">subtract</span><span class="p">(</span><span class="n">receipt</span><span class="p">.</span><span class="na">getBankFee</span><span class="p">()));</span>
<span class="w">        </span><span class="n">receipt</span><span class="p">.</span><span class="na">setAppliedAmount</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">);</span>
<span class="w">        </span><span class="n">receipt</span><span class="p">.</span><span class="na">setStatus</span><span class="p">(</span><span class="n">ReceiptStatus</span><span class="p">.</span><span class="na">RECEIVED</span><span class="p">);</span>
<span class="w">        </span><span class="n">receiptRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">receipt</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">receipt</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 入金を請求に消込する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ReceiptApplication</span><span class="w"> </span><span class="nf">applyReceipt</span><span class="p">(</span>
<span class="w">            </span><span class="n">Integer</span><span class="w"> </span><span class="n">receiptId</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">invoiceId</span><span class="p">,</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">amount</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">receipt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">receiptRepository</span><span class="p">.</span><span class="na">findById</span><span class="p">(</span><span class="n">receiptId</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">orElseThrow</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span>
<span class="w">                        </span><span class="s">&quot;入金が見つかりません: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">receiptId</span><span class="p">));</span>

<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">invoice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">invoiceRepository</span><span class="p">.</span><span class="na">findById</span><span class="p">(</span><span class="n">invoiceId</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">orElseThrow</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span>
<span class="w">                        </span><span class="s">&quot;請求が見つかりません: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">invoiceId</span><span class="p">));</span>

<span class="w">        </span><span class="c1">// バリデーション</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">receipt</span><span class="p">.</span><span class="na">canApply</span><span class="p">(</span><span class="n">amount</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalStateException</span><span class="p">(</span><span class="s">&quot;消込可能金額が不足しています&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">amount</span><span class="p">.</span><span class="na">compareTo</span><span class="p">(</span><span class="n">invoice</span><span class="p">.</span><span class="na">getInvoiceBalance</span><span class="p">())</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalStateException</span><span class="p">(</span><span class="s">&quot;消込金額が請求残高を超えています&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// 消込明細を作成</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">lineNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getNextLineNumber</span><span class="p">(</span><span class="n">receiptId</span><span class="p">);</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ReceiptApplication</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">receiptId</span><span class="p">(</span><span class="n">receiptId</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">lineNumber</span><span class="p">(</span><span class="n">lineNumber</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">invoiceId</span><span class="p">(</span><span class="n">invoiceId</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">applicationDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">appliedAmount</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">        </span><span class="n">receiptRepository</span><span class="p">.</span><span class="na">saveApplication</span><span class="p">(</span><span class="n">application</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// 入金の金額を更新</span>
<span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">newAppliedAmount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">receipt</span><span class="p">.</span><span class="na">getAppliedAmount</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="n">amount</span><span class="p">);</span>
<span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">newUnappliedAmount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">receipt</span><span class="p">.</span><span class="na">getUnappliedAmount</span><span class="p">().</span><span class="na">subtract</span><span class="p">(</span><span class="n">amount</span><span class="p">);</span>
<span class="w">        </span><span class="n">receiptRepository</span><span class="p">.</span><span class="na">updateAmounts</span><span class="p">(</span><span class="n">receiptId</span><span class="p">,</span><span class="w"> </span><span class="n">newAppliedAmount</span><span class="p">,</span><span class="w"> </span><span class="n">newUnappliedAmount</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// 入金ステータスを更新</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">newUnappliedAmount</span><span class="p">.</span><span class="na">compareTo</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">receiptRepository</span><span class="p">.</span><span class="na">updateStatus</span><span class="p">(</span><span class="n">receiptId</span><span class="p">,</span><span class="w"> </span><span class="n">ReceiptStatus</span><span class="p">.</span><span class="na">APPLIED</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// 請求の入金額を更新</span>
<span class="w">        </span><span class="n">invoiceRepository</span><span class="p">.</span><span class="na">updateReceiptAmount</span><span class="p">(</span><span class="n">invoiceId</span><span class="p">,</span><span class="w"> </span><span class="n">amount</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// 請求ステータスを更新</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">updatedInvoice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">invoiceRepository</span><span class="p">.</span><span class="na">findById</span><span class="p">(</span><span class="n">invoiceId</span><span class="p">).</span><span class="na">get</span><span class="p">();</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">updatedInvoice</span><span class="p">.</span><span class="na">getInvoiceBalance</span><span class="p">().</span><span class="na">compareTo</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">invoiceRepository</span><span class="p">.</span><span class="na">updateStatus</span><span class="p">(</span><span class="n">invoiceId</span><span class="p">,</span><span class="w"> </span><span class="n">InvoiceStatus</span><span class="p">.</span><span class="na">PAID</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">invoiceRepository</span><span class="p">.</span><span class="na">updateStatus</span><span class="p">(</span><span class="n">invoiceId</span><span class="p">,</span><span class="w"> </span><span class="n">InvoiceStatus</span><span class="p">.</span><span class="na">PARTIALLY_PAID</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">application</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 自動消込を実行する（古い請求から順に消込）</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ReceiptApplication</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">autoApply</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">receiptId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">receipt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">receiptRepository</span><span class="p">.</span><span class="na">findById</span><span class="p">(</span><span class="n">receiptId</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">orElseThrow</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span>
<span class="w">                        </span><span class="s">&quot;入金が見つかりません: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">receiptId</span><span class="p">));</span>

<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Invoice</span><span class="o">&gt;</span><span class="w"> </span><span class="n">unpaidInvoices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">invoiceRepository</span>
<span class="w">                </span><span class="p">.</span><span class="na">findUnpaidByCustomerCode</span><span class="p">(</span><span class="n">receipt</span><span class="p">.</span><span class="na">getCustomerCode</span><span class="p">());</span>

<span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">remainingAmount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">receipt</span><span class="p">.</span><span class="na">getUnappliedAmount</span><span class="p">();</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ReceiptApplication</span><span class="o">&gt;</span><span class="w"> </span><span class="n">applications</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Invoice</span><span class="w"> </span><span class="n">invoice</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">unpaidInvoices</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">remainingAmount</span><span class="p">.</span><span class="na">compareTo</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">applyAmount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">remainingAmount</span><span class="p">.</span><span class="na">min</span><span class="p">(</span><span class="n">invoice</span><span class="p">.</span><span class="na">getInvoiceBalance</span><span class="p">());</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">applyReceipt</span><span class="p">(</span><span class="n">receiptId</span><span class="p">,</span><span class="w"> </span><span class="n">invoice</span><span class="p">.</span><span class="na">getId</span><span class="p">(),</span><span class="w"> </span><span class="n">applyAmount</span><span class="p">);</span>
<span class="w">            </span><span class="n">applications</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">application</span><span class="p">);</span>

<span class="w">            </span><span class="n">remainingAmount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">remainingAmount</span><span class="p">.</span><span class="na">subtract</span><span class="p">(</span><span class="n">applyAmount</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// 過入金の場合は前受金として登録</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">remainingAmount</span><span class="p">.</span><span class="na">compareTo</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">createAdvanceReceipt</span><span class="p">(</span><span class="n">receipt</span><span class="p">.</span><span class="na">getCustomerCode</span><span class="p">(),</span><span class="w"> </span><span class="n">receiptId</span><span class="p">,</span><span class="w"> </span><span class="n">remainingAmount</span><span class="p">);</span>
<span class="w">            </span><span class="n">receiptRepository</span><span class="p">.</span><span class="na">updateStatus</span><span class="p">(</span><span class="n">receiptId</span><span class="p">,</span><span class="w"> </span><span class="n">ReceiptStatus</span><span class="p">.</span><span class="na">OVERPAID</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">applications</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">createAdvanceReceipt</span><span class="p">(</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">customerCode</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">receiptId</span><span class="p">,</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">amount</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">advanceReceipt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AdvanceReceipt</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">advanceReceiptNumber</span><span class="p">(</span><span class="n">generateAdvanceReceiptNumber</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">occurredDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">customerCode</span><span class="p">(</span><span class="n">customerCode</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">receiptId</span><span class="p">(</span><span class="n">receiptId</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">advanceAmount</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">usedAmount</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">balance</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">        </span><span class="n">advanceReceiptRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">advanceReceipt</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getNextLineNumber</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">receiptId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">applications</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">receiptRepository</span><span class="p">.</span><span class="na">findApplicationsByReceiptId</span><span class="p">(</span><span class="n">receiptId</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">applications</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">generateAdvanceReceiptNumber</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;ADV-%d-%04d&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">().</span><span class="na">getYear</span><span class="p">(),</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">()</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">10000</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="_18">債権残高管理サービス<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h3>
<details>
<summary>売掛金残高サービス</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sms/application/service/AccountsReceivableService.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.application.service</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sms.application.port.out.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.invoice.AccountsReceivable</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Service</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.transaction.annotation.Transactional</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.YearMonth</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="nd">@Service</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AccountsReceivableService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">AccountsReceivableRepository</span><span class="w"> </span><span class="n">arRepository</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">SalesRepository</span><span class="w"> </span><span class="n">salesRepository</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ReceiptRepository</span><span class="w"> </span><span class="n">receiptRepository</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">CustomerRepository</span><span class="w"> </span><span class="n">customerRepository</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 月次売掛金残高を更新する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">updateMonthlyBalance</span><span class="p">(</span><span class="n">YearMonth</span><span class="w"> </span><span class="n">yearMonth</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">baseDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yearMonth</span><span class="p">.</span><span class="na">atEndOfMonth</span><span class="p">();</span>
<span class="w">        </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">fromDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yearMonth</span><span class="p">.</span><span class="na">atDay</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w">        </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">toDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yearMonth</span><span class="p">.</span><span class="na">atEndOfMonth</span><span class="p">();</span>

<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">customers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">customerRepository</span><span class="p">.</span><span class="na">findAll</span><span class="p">();</span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="n">customer</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">customers</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// 前月残高を取得</span>
<span class="w">            </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">previousBalance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getPreviousMonthBalance</span><span class="p">(</span>
<span class="w">                    </span><span class="n">customer</span><span class="p">.</span><span class="na">getCustomerCode</span><span class="p">(),</span><span class="w"> </span><span class="n">yearMonth</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// 当月売上を集計</span>
<span class="w">            </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">currentSales</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">salesRepository</span>
<span class="w">                    </span><span class="p">.</span><span class="na">sumSalesByCustomerAndDateRange</span><span class="p">(</span>
<span class="w">                            </span><span class="n">customer</span><span class="p">.</span><span class="na">getCustomerCode</span><span class="p">(),</span><span class="w"> </span><span class="n">fromDate</span><span class="p">,</span><span class="w"> </span><span class="n">toDate</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// 当月入金を集計</span>
<span class="w">            </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">currentReceipts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">receiptRepository</span>
<span class="w">                    </span><span class="p">.</span><span class="na">sumReceiptsByCustomerAndDateRange</span><span class="p">(</span>
<span class="w">                            </span><span class="n">customer</span><span class="p">.</span><span class="na">getCustomerCode</span><span class="p">(),</span><span class="w"> </span><span class="n">fromDate</span><span class="p">,</span><span class="w"> </span><span class="n">toDate</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// 当月残高を計算</span>
<span class="w">            </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">currentBalance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">previousBalance</span>
<span class="w">                    </span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">currentSales</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">subtract</span><span class="p">(</span><span class="n">currentReceipts</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// 売掛金残高を更新</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">ar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AccountsReceivable</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">customerCode</span><span class="p">(</span><span class="n">customer</span><span class="p">.</span><span class="na">getCustomerCode</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">baseDate</span><span class="p">(</span><span class="n">baseDate</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">previousMonthBalance</span><span class="p">(</span><span class="n">previousBalance</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">currentMonthSales</span><span class="p">(</span><span class="n">currentSales</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">currentMonthReceipts</span><span class="p">(</span><span class="n">currentReceipts</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">currentMonthBalance</span><span class="p">(</span><span class="n">currentBalance</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">            </span><span class="n">arRepository</span><span class="p">.</span><span class="na">upsert</span><span class="p">(</span><span class="n">ar</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 顧客別売掛金残高を取得する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AccountsReceivable</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getCustomerBalances</span><span class="p">(</span><span class="n">LocalDate</span><span class="w"> </span><span class="n">baseDate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">arRepository</span><span class="p">.</span><span class="na">findByBaseDate</span><span class="p">(</span><span class="n">baseDate</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 滞留債権一覧を取得する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AccountsReceivable</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getOverdueBalances</span><span class="p">(</span>
<span class="w">            </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">currentDate</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">overdueDays</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">cutoffDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">currentDate</span><span class="p">.</span><span class="na">minusDays</span><span class="p">(</span><span class="n">overdueDays</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">arRepository</span><span class="p">.</span><span class="na">findOverdue</span><span class="p">(</span><span class="n">cutoffDate</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="nf">getPreviousMonthBalance</span><span class="p">(</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">customerCode</span><span class="p">,</span><span class="w"> </span><span class="n">YearMonth</span><span class="w"> </span><span class="n">yearMonth</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">previousMonthEnd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yearMonth</span><span class="p">.</span><span class="na">minusMonths</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="na">atEndOfMonth</span><span class="p">();</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">arRepository</span><span class="p">.</span><span class="na">findByCustomerCodeAndBaseDate</span><span class="p">(</span>
<span class="w">                        </span><span class="n">customerCode</span><span class="p">,</span><span class="w"> </span><span class="n">previousMonthEnd</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">AccountsReceivable</span><span class="p">::</span><span class="n">getCurrentMonthBalance</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">orElse</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="73">7.3 リレーションと楽観ロックの設計<a class="headerlink" href="#73" title="Permanent link">&para;</a></h2>
<h3 id="n1">N+1 問題とその解決<a class="headerlink" href="#n1" title="Permanent link">&para;</a></h3>
<p>請求データは、請求（ヘッダ）→ 請求明細の2層構造を持ちます。入金データも入金 → 入金消込明細の親子関係があります。これらのデータを効率的に取得するための設計を行います。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjMzOHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NTMxcHg7aGVpZ2h0OjMzOHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDUzMSAzMzgiIHdpZHRoPSI1MzFweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPk4rMSAmIzIxODM5OyYjMzg5ODg7JiMxMjM5ODsmIzMwMzMwOyYjMjk5ODM7JiMxMjQ5NzsmIzEyNDc5OyYjMTI1NDA7JiMxMjUzMTs8L3RpdGxlPjxkZWZzLz48Zz48ZyBjbGFzcz0idGl0bGUiIGRhdGEtc291cmNlLWxpbmU9IjEiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjQuMDYyIiB4PSIxNzYuNDY5IiB5PSIyMi45OTUxIj5OKzEgJiMyMTgzOTsmIzM4OTg4OyYjMTIzOTg7JiMzMDMzMDsmIzI5OTgzOyYjMTI0OTc7JiMxMjQ3OTsmIzEyNTQwOyYjMTI1MzE7PC90ZXh0PjwvZz48IS0tY2x1c3RlciBOKzEgPz8/Pz8/Py0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJOLjEgLi4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMyIgaWQ9ImVudDAwMDIiPjxyZWN0IGZpbGw9IiNGRkNDQ0MiIGhlaWdodD0iMjcyLjM3IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iMjQ0IiB4PSI3IiB5PSI2MC41OTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzNi4wNjIxIiB4PSI2MC45NjkiIHk9Ijc1LjU5MiI+TisxICYjMjE4Mzk7JiMzODk4ODsmIzY1Mjg4OyYjMzg3NTA7JiMyMTE3NzsmIzI5NTc1OyYjNjUyODk7PC90ZXh0PjwvZz48IS0tY2x1c3RlciA/Pz8/Sk9JTj8/Pz8/Pz8tLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLkpPSU4uLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSI4IiBpZD0iZW50MDAwNSI+PHJlY3QgZmlsbD0iI0NDRkZDQyIgaGVpZ2h0PSIxMzguNDgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIyNTAiIHg9IjI3NSIgeT0iNDQuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxODguMDM1NSIgeD0iMzA1Ljk4MjMiIHk9IjU5LjI5MiI+JiMzNTI5OTsmIzI3NzcwOyYjMzE1NzQ7JiM2NTMwNjtKT0lOJiMxMjM5NTsmIzEyNDI0OyYjMTI0Mjc7JiMxOTk2ODsmIzI1MzI0OyYjMjE0NjI7JiMyNDQ3MTs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgcTEtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJOLjEgLi4uLi4uLi5xMSIgZGF0YS1zb3VyY2UtbGluZT0iNCIgaWQ9ImVudDAwMDMiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNTQuODkwNiIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMjEyLjgzNDciIHg9IjIyLjU4IiB5PSI5NS41OTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE1LjgwNzIiIHg9IjMyLjU4IiB5PSIxMTEuNTkyIj4xLiAmIzM1NTMxOyYjMjc3MTQ7JiMxMjUwNDsmIzEyNDgzOyYjMTI0ODA7JiMyMTQ2MjsmIzI0NDcxOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxODMuOTM0MyIgeD0iNDEuNDgwNCIgeT0iMTI3Ljg4ODkiPlNFTEVDVCAqIEZST00gJiMzNTUzMTsmIzI3NzE0OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMy44MzEiIHg9IjQxLjQ4MDQiIHk9IjE0NC4xODU3Ij4oMSYjMjIyMzg7KTwvdGV4dD48L2c+PCEtLWVudGl0eSBxMi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ik4uMSAuLi4uLi4uLnEyIiBkYXRhLXNvdXJjZS1saW5lPSI1IiBpZD0iZW50MDAwNCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI3MS4xODc1IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxOTguODM0NyIgeD0iMzEuNTgiIHk9IjI0NS43NzY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI5LjgwNzEiIHg9IjQxLjU4IiB5PSIyNjEuNzcyIj4yLiAmIzIxNTA4OyYjMzU1MzE7JiMyNzcxNDsmIzEyMzk4OyYjMjYxMjY7JiMzMjA0ODsmIzIxNDYyOyYjMjQ0NzE7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2OS45MzQzIiB4PSI1MC40ODA0IiB5PSIyNzguMDY4OSI+U0VMRUNUICogRlJPTSAmIzM1NTMxOyYjMjc3MTQ7JiMyNjEyNjsmIzMyMDQ4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjcuMjA5OCIgeD0iNTAuNDgwNCIgeT0iMjk0LjM2NTciPldIRVJFICYjMzU1MzE7JiMyNzcxNDtJRCA9ID88L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzUuMzk2NCIgeD0iNTAuNDgwNCIgeT0iMzEwLjY2MjYiPihOJiMyMjIzODspPC90ZXh0PjwvZz48IS0tZW50aXR5IHNvbC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi5KT0lOLi4uLi4uLi5zb2wiIGRhdGEtc291cmNlLWxpbmU9IjkiIGlkPSJlbnQwMDA2Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9Ijg3LjQ4NDQiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjIxNy43NzAzIiB4PSIyOTEuMTEiIHk9Ijc5LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuNjU2OSIgeD0iMzAxLjExIiB5PSI5NS4yOTIiPjEmIzIyMjM4OyYjMTIzOTg7Sk9JTiYjMTI0NjM7JiMxMjQ1NjsmIzEyNTIyOyYjMTIzOTE7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjMwMS4xMSIgeT0iMTExLjU4ODkiPiYjMjA4NDA7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7JiMxMjQzNDsmIzIxNDYyOyYjMjQ0NzE7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNS42MjIxIiB4PSIzMTAuMDEwNCIgeT0iMTI3Ljg4NTciPlNFTEVDVCBpLiosIGlkLio8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIzLjY2ODYiIHg9IjMxMC4wMTA0IiB5PSIxNDQuMTgyNiI+RlJPTSAmIzM1NTMxOyYjMjc3MTQ7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7IGk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTg4Ljg2OTkiIHg9IjMxMC4wMTA0IiB5PSIxNjAuNDc5NSI+TEVGVCBKT0lOICYjMzU1MzE7JiMyNzcxNDsmIzI2MTI2OyYjMzIwNDg7IGlkIE9OIC4uLjwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iR01OOCIgZGF0YS1zb3VyY2UtbGluZT0iMTQiIGlkPSJlbnQwMDA5Ij48cGF0aCBkPSJNMjY2LjczLDI2MS4yMzY5IEwyNjYuNzMsMjc3LjM3NjkgTDIzMC44NCwyODEuMzc2OSBMMjY2LjczLDI4NS4zNzY5IEwyNjYuNzMsMzAxLjUwMjUgQTAsMCAwIDAgMCAyNjYuNzMsMzAxLjUwMjUgTDQyMS4yNzIxLDMwMS41MDI1IEEwLDAgMCAwIDAgNDIxLjI3MjEsMzAxLjUwMjUgTDQyMS4yNzIxLDI3MS4yMzY5IEw0MTEuMjcyMSwyNjEuMjM2OSBMMjY2LjczLDI2MS4yMzY5IEEwLDAgMCAwIDAgMjY2LjczLDI2MS4yMzY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNDExLjI3MjEsMjYxLjIzNjkgTDQxMS4yNzIxLDI3MS4yMzY5IEw0MjEuMjcyMSwyNzEuMjM2OSBMNDExLjI3MjEsMjYxLjIzNjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMC41NDIxIiB4PSIyNzIuNzMiIHk9IjI3OC4zMDM4Ij4xMCYjMjAyMTQ7JiMxMjM5ODsmIzM1NTMxOyYjMjc3MTQ7JiMxMjM2NDsmIzEyMzU0OyYjMTI0Mjg7JiMxMjQwMDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMzLjU0MjEiIHg9IjI3Mi43MyIgeT0iMjkzLjQzNjYiPiYjMjE1MTI7JiMzNTMzNjsxMSYjMjIyMzg7JiMxMjM5ODsmIzEyNDYzOyYjMTI0NTY7JiMxMjUyMjsmIzMwMzMwOyYjMzQ4OTI7PC90ZXh0PjwvZz48IS0tbGluayBxMSB0byBxMi0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAzIiBkYXRhLWVudGl0eS0yPSJlbnQwMDA0IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMTIiIGlkPSJsbms3Ij48cGF0aCBkPSJNMTI5LjM0LDE1MC45MTY5IEMxMjkuNjgsMTc3LjAxNjkgMTMwLjExNDQsMjEwLjc4NzQgMTMwLjQ3NDQsMjM5LjM0NzQiIGZpbGw9Im5vbmUiIGlkPSJxMS10by1xMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTMwLjU1LDI0NS4zNDY5LDEzNC40MzYyLDIzNi4yOTcyLDEzMC40ODcsMjQwLjM0NzMsMTI2LjQzNjksMjM2LjM5OCwxMzAuNTUsMjQ1LjM0NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMi43MjQ2IiB4PSIxMzEuMTIiIHk9IjIxMS44NDM4Ij5OJiMyMDIxNDs8L3RleHQ+PC9nPjw/cGxhbnR1bWwtc3JjIFZQOTFJbTlINENWbC1vYTZrdkpicWRlQ2dpRXNhYzRoY0QzNVktWGMyeEFZeFlxMlZMamU2TWZIUGFNNlQ1Mm9KMmNZSkZCM0ZEVkxhci1YenpHS0FOZzdUdlp2cHRfY0R1bWdncTQ5bjdhRXo4akNodFkydXJOWmdjNlN0czdqNUFDTXJmZk9VczZPWUVISmxLZzBJNHFKUlItUHhEcU16RUNGOHZ0ZUR1ekNDNkVweVVKMTdrRnBIbG5XdWJaZUxiQVRFaTlRN2NpUXJjOXc5Z1RfTk5lS1cydDE4VjFrQzhGRHZUbVNvbkFxOE1mSG1Jb2R0bkpjSkUyREdmV1I2TGZQcUJDNzh0NnlzaWNkWlRWUV92djMzU3JraG1pa09ISXJoeTRvaDB4UVk5Q3NMY1BfMmhMUmtrX0s2eVBKaGoteXRkM1FISG9sTzlKNEFETC1adExJWnlGNjE5bGRBVlc0Y3BZSXdHT0x3MWNaQ2pPVVNCcGFLVkozeVhXSGV4RFZXeWtpVUc1YUZza2NpUl9zMFpCREUwSVI2d1p4NTI4ZjFBUzhCQ2lFT0FBWDhBSzlTczJuaDEwcU0wQW5fVmQ2QTI1TFdlV1NzNUtYajRFSGtLS0k5a0YtUjlNUzBDQThfM0w2cG9ReHZJR3R1WGNwYTBGZjVheU9JVjQzVFZpNj8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h3 id="mybatis-resultmap">MyBatis ネストした ResultMap による関連付け<a class="headerlink" href="#mybatis-resultmap" title="Permanent link">&para;</a></h3>
<details>
<summary>請求データのリレーション設定（InvoiceMapper.xml）</summary>

<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE mapper</span>
<span class="cp">        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
<span class="cp">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span>
<span class="nt">&lt;mapper</span><span class="w"> </span><span class="na">namespace=</span><span class="s">&quot;com.example.sms.infrastructure.persistence.mapper.InvoiceMapper&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- 請求（ヘッダ）の ResultMap --&gt;</span>
<span class="w">    </span><span class="nt">&lt;resultMap</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;InvoiceWithDetailsResultMap&quot;</span>
<span class="w">               </span><span class="na">type=</span><span class="s">&quot;com.example.sms.domain.model.invoice.Invoice&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;id</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;i_id&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;invoiceNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;i_請求番号&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;invoiceDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;i_請求日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;billingCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;i_請求先コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;customerCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;i_顧客コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;closingDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;i_締日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;invoiceType&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;i_請求区分&quot;</span>
<span class="w">                </span><span class="na">typeHandler=</span><span class="s">&quot;com.example.sms.infrastructure.persistence.typehandler.InvoiceTypeTypeHandler&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;previousBalance&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;i_前回請求残高&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;receiptAmount&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;i_入金額&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;carriedBalance&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;i_繰越残高&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;currentSalesAmount&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;i_今回売上額&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;currentTaxAmount&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;i_今回消費税額&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;currentInvoiceAmount&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;i_今回請求額&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;invoiceBalance&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;i_請求残高&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;dueDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;i_回収予定日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;status&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;i_ステータス&quot;</span>
<span class="w">                </span><span class="na">typeHandler=</span><span class="s">&quot;com.example.sms.infrastructure.persistence.typehandler.InvoiceStatusTypeHandler&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;version&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;i_バージョン&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;createdAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;i_作成日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;updatedAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;i_更新日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="cm">&lt;!-- 請求明細との1:N関連 --&gt;</span>
<span class="w">        </span><span class="nt">&lt;collection</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;details&quot;</span>
<span class="w">                    </span><span class="na">ofType=</span><span class="s">&quot;com.example.sms.domain.model.invoice.InvoiceDetail&quot;</span>
<span class="w">                    </span><span class="na">resultMap=</span><span class="s">&quot;InvoiceDetailNestedResultMap&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/resultMap&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- 請求明細のネスト ResultMap --&gt;</span>
<span class="w">    </span><span class="nt">&lt;resultMap</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;InvoiceDetailNestedResultMap&quot;</span>
<span class="w">               </span><span class="na">type=</span><span class="s">&quot;com.example.sms.domain.model.invoice.InvoiceDetail&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;id</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;id_id&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;invoiceId&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;id_請求ID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;lineNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;id_行番号&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;salesId&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;id_売上ID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;salesNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;id_売上番号&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;salesDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;id_売上日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;salesAmount&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;id_売上金額&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;taxAmount&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;id_消費税額&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;totalAmount&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;id_合計金額&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/resultMap&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- JOIN による一括取得クエリ --&gt;</span>
<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findWithDetailsByInvoiceNumber&quot;</span>
<span class="w">            </span><span class="na">resultMap=</span><span class="s">&quot;InvoiceWithDetailsResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT
<span class="w">            </span>i.&quot;ID&quot;<span class="w"> </span>AS<span class="w"> </span>i_id,
<span class="w">            </span>i.&quot;請求番号&quot;<span class="w"> </span>AS<span class="w"> </span>i_請求番号,
<span class="w">            </span>i.&quot;請求日&quot;<span class="w"> </span>AS<span class="w"> </span>i_請求日,
<span class="w">            </span>i.&quot;請求先コード&quot;<span class="w"> </span>AS<span class="w"> </span>i_請求先コード,
<span class="w">            </span>i.&quot;顧客コード&quot;<span class="w"> </span>AS<span class="w"> </span>i_顧客コード,
<span class="w">            </span>i.&quot;締日&quot;<span class="w"> </span>AS<span class="w"> </span>i_締日,
<span class="w">            </span>i.&quot;請求区分&quot;<span class="w"> </span>AS<span class="w"> </span>i_請求区分,
<span class="w">            </span>i.&quot;前回請求残高&quot;<span class="w"> </span>AS<span class="w"> </span>i_前回請求残高,
<span class="w">            </span>i.&quot;入金額&quot;<span class="w"> </span>AS<span class="w"> </span>i_入金額,
<span class="w">            </span>i.&quot;繰越残高&quot;<span class="w"> </span>AS<span class="w"> </span>i_繰越残高,
<span class="w">            </span>i.&quot;今回売上額&quot;<span class="w"> </span>AS<span class="w"> </span>i_今回売上額,
<span class="w">            </span>i.&quot;今回消費税額&quot;<span class="w"> </span>AS<span class="w"> </span>i_今回消費税額,
<span class="w">            </span>i.&quot;今回請求額&quot;<span class="w"> </span>AS<span class="w"> </span>i_今回請求額,
<span class="w">            </span>i.&quot;請求残高&quot;<span class="w"> </span>AS<span class="w"> </span>i_請求残高,
<span class="w">            </span>i.&quot;回収予定日&quot;<span class="w"> </span>AS<span class="w"> </span>i_回収予定日,
<span class="w">            </span>i.&quot;ステータス&quot;<span class="w"> </span>AS<span class="w"> </span>i_ステータス,
<span class="w">            </span>i.&quot;バージョン&quot;<span class="w"> </span>AS<span class="w"> </span>i_バージョン,
<span class="w">            </span>i.&quot;作成日時&quot;<span class="w"> </span>AS<span class="w"> </span>i_作成日時,
<span class="w">            </span>i.&quot;更新日時&quot;<span class="w"> </span>AS<span class="w"> </span>i_更新日時,
<span class="w">            </span>id.&quot;ID&quot;<span class="w"> </span>AS<span class="w"> </span>id_id,
<span class="w">            </span>id.&quot;請求ID&quot;<span class="w"> </span>AS<span class="w"> </span>id_請求ID,
<span class="w">            </span>id.&quot;行番号&quot;<span class="w"> </span>AS<span class="w"> </span>id_行番号,
<span class="w">            </span>id.&quot;売上ID&quot;<span class="w"> </span>AS<span class="w"> </span>id_売上ID,
<span class="w">            </span>id.&quot;売上番号&quot;<span class="w"> </span>AS<span class="w"> </span>id_売上番号,
<span class="w">            </span>id.&quot;売上日&quot;<span class="w"> </span>AS<span class="w"> </span>id_売上日,
<span class="w">            </span>id.&quot;売上金額&quot;<span class="w"> </span>AS<span class="w"> </span>id_売上金額,
<span class="w">            </span>id.&quot;消費税額&quot;<span class="w"> </span>AS<span class="w"> </span>id_消費税額,
<span class="w">            </span>id.&quot;合計金額&quot;<span class="w"> </span>AS<span class="w"> </span>id_合計金額
<span class="w">        </span>FROM<span class="w"> </span>&quot;請求データ&quot;<span class="w"> </span>i
<span class="w">        </span>LEFT<span class="w"> </span>JOIN<span class="w"> </span>&quot;請求明細&quot;<span class="w"> </span>id
<span class="w">            </span>ON<span class="w"> </span>i.&quot;ID&quot;<span class="w"> </span>=<span class="w"> </span>id.&quot;請求ID&quot;
<span class="w">        </span>WHERE<span class="w"> </span>i.&quot;請求番号&quot;<span class="w"> </span>=<span class="w"> </span>#{invoiceNumber}
<span class="w">        </span>ORDER<span class="w"> </span>BY<span class="w"> </span>id.&quot;行番号&quot;
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="nt">&lt;/mapper&gt;</span>
</code></pre></div>

</details>

<h3 id="_19">リレーション設定のポイント<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>設定項目</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;collection&gt;</code></td>
<td>1:N 関連のマッピング</td>
</tr>
<tr>
<td><code>&lt;id&gt;</code></td>
<td>主キーの識別（MyBatis が重複排除に使用）</td>
</tr>
<tr>
<td><code>resultMap</code></td>
<td>ネストした ResultMap の参照</td>
</tr>
<tr>
<td>エイリアス（AS）</td>
<td>カラム名の重複を避けるためのプレフィックス</td>
</tr>
<tr>
<td><code>ORDER BY</code></td>
<td>コレクションの順序を保証</td>
</tr>
</tbody>
</table>
<h3 id="optimistic-locking">楽観ロック（Optimistic Locking）の実装<a class="headerlink" href="#optimistic-locking" title="Permanent link">&para;</a></h3>
<p>複数ユーザーが同時に請求データや入金データを編集する場合、データの整合性を保つために楽観ロックを実装します。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNFUVVFTkNFIiBoZWlnaHQ9IjU1OHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MzY3cHg7aGVpZ2h0OjU1OHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDM2NyA1NTgiIHdpZHRoPSIzNjdweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjcwMDU7JiMzNTI1MTsmIzEyNTI1OyYjMTI0ODM7JiMxMjQ2MzsmIzEyMzk4OyYjMjEyMDU7JiMyMDMxNjsmIzEyNDcxOyYjMTI1NDA7JiMxMjQ2NTsmIzEyNTMxOyYjMTI0NzM7PC90aXRsZT48ZGVmcy8+PGc+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4MS45OTkyIiB4PSI5NC40NjIiIHk9IjI3Ljk5NTEiPiYjMjcwMDU7JiMzNTI1MTsmIzEyNTI1OyYjMTI0ODM7JiMxMjQ2MzsmIzEyMzk4OyYjMjEyMDU7JiMyMDMxNjsmIzEyNDcxOyYjMTI1NDA7JiMxMjQ2NTsmIzEyNTMxOyYjMTI0NzM7PC90ZXh0PjxnIGNsYXNzPSJwYXJ0aWNpcGFudC1saWZlbGluZSIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0MSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0idXNlckEiIGlkPSJwYXJ0MS1saWZlbGluZSI+PGc+PHRpdGxlPi4uLi5BPC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iMzU5LjU5MzgiIHdpZHRoPSI4IiB4PSIzNi43ODg1IiB5PSIxMTguNTkzOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NSw1OyIgeDE9IjQwIiB4Mj0iNDAiIHkxPSIxMTguNTkzOCIgeTI9IjQ3OC4xODc1Ii8+PC9nPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQtbGlmZWxpbmUiIGRhdGEtZW50aXR5LXVpZD0icGFydDIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9InVzZXJCIiBpZD0icGFydDItbGlmZWxpbmUiPjxnPjx0aXRsZT4uLi4uQjwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjM1OS41OTM4IiB3aWR0aD0iOCIgeD0iMTE4LjM3OSIgeT0iMTE4LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSIxMjEuNTc2OSIgeDI9IjEyMS41NzY5IiB5MT0iMTE4LjU5MzgiIHkyPSI0NzguMTg3NSIvPjwvZz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50LWxpZmVsaW5lIiBkYXRhLWVudGl0eS11aWQ9InBhcnQzIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJkYiIgaWQ9InBhcnQzLWxpZmVsaW5lIj48Zz48dGl0bGU+Li4uLi4uPC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iMzU5LjU5MzgiIHdpZHRoPSI4IiB4PSIzMTcuOTIzNSIgeT0iMTE4LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSIzMjAuOTIzNiIgeDI9IjMyMC45MjM2IiB5MT0iMTE4LjU5MzgiIHkyPSI0NzguMTg3NSIvPjwvZz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtZW50aXR5LXVpZD0icGFydDEiIGRhdGEtcXVhbGlmaWVkLW5hbWU9InVzZXJBIiBpZD0icGFydDEtaGVhZCI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjUuNTc2OSIgeD0iNSIgeT0iMTE1LjI5MiI+JiMxMjUxODsmIzEyNTQwOyYjMTI0NzA7JiMxMjU0MDtBPC90ZXh0PjxlbGxpcHNlIGN4PSI0MC43ODg1IiBjeT0iNTAuNzk2OSIgZmlsbD0iI0UyRTJGMCIgcng9IjgiIHJ5PSI4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNDAuNzg4NSw1OC43OTY5IEw0MC43ODg1LDg1Ljc5NjkgTTI3Ljc4ODUsNjYuNzk2OSBMNTMuNzg4NSw2Ni43OTY5IE00MC43ODg1LDg1Ljc5NjkgTDI3Ljc4ODUsMTAwLjc5NjkgTTQwLjc4ODUsODUuNzk2OSBMNTMuNzg4NSwxMDAuNzk2OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLWVudGl0eS11aWQ9InBhcnQxIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJ1c2VyQSIgaWQ9InBhcnQxLXRhaWwiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY1LjU3NjkiIHg9IjUiIHk9IjQ5MC4xODI2Ij4mIzEyNTE4OyYjMTI1NDA7JiMxMjQ3MDsmIzEyNTQwO0E8L3RleHQ+PGVsbGlwc2UgY3g9IjQwLjc4ODUiIGN5PSI1MDEuOTg0NCIgZmlsbD0iI0UyRTJGMCIgcng9IjgiIHJ5PSI4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNDAuNzg4NSw1MDkuOTg0NCBMNDAuNzg4NSw1MzYuOTg0NCBNMjcuNzg4NSw1MTcuOTg0NCBMNTMuNzg4NSw1MTcuOTg0NCBNNDAuNzg4NSw1MzYuOTg0NCBMMjcuNzg4NSw1NTEuOTg0NCBNNDAuNzg4NSw1MzYuOTg0NCBMNTMuNzg4NSw1NTEuOTg0NCIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC1oZWFkIiBkYXRhLWVudGl0eS11aWQ9InBhcnQyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJ1c2VyQiIgaWQ9InBhcnQyLWhlYWQiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY1LjYwNDIiIHg9Ijg2LjU3NjkiIHk9IjExNS4yOTIiPiYjMTI1MTg7JiMxMjU0MDsmIzEyNDcwOyYjMTI1NDA7QjwvdGV4dD48ZWxsaXBzZSBjeD0iMTIyLjM3OSIgY3k9IjUwLjc5NjkiIGZpbGw9IiNFMkUyRjAiIHJ4PSI4IiByeT0iOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTEyMi4zNzksNTguNzk2OSBMMTIyLjM3OSw4NS43OTY5IE0xMDkuMzc5LDY2Ljc5NjkgTDEzNS4zNzksNjYuNzk2OSBNMTIyLjM3OSw4NS43OTY5IEwxMDkuMzc5LDEwMC43OTY5IE0xMjIuMzc5LDg1Ljc5NjkgTDEzNS4zNzksMTAwLjc5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0MiIgZGF0YS1xdWFsaWZpZWQtbmFtZT0idXNlckIiIGlkPSJwYXJ0Mi10YWlsIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NS42MDQyIiB4PSI4Ni41NzY5IiB5PSI0OTAuMTgyNiI+JiMxMjUxODsmIzEyNTQwOyYjMTI0NzA7JiMxMjU0MDtCPC90ZXh0PjxlbGxpcHNlIGN4PSIxMjIuMzc5IiBjeT0iNTAxLjk4NDQiIGZpbGw9IiNFMkUyRjAiIHJ4PSI4IiByeT0iOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTEyMi4zNzksNTA5Ljk4NDQgTDEyMi4zNzksNTM2Ljk4NDQgTTEwOS4zNzksNTE3Ljk4NDQgTDEzNS4zNzksNTE3Ljk4NDQgTTEyMi4zNzksNTM2Ljk4NDQgTDEwOS4zNzksNTUxLjk4NDQgTTEyMi4zNzksNTM2Ljk4NDQgTDEzNS4zNzksNTUxLjk4NDQiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0MyIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iZGIiIGlkPSJwYXJ0My1oZWFkIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSIyNzYuOTIzNiIgeT0iMTE1LjI5MiI+JiMzNTUzMTsmIzI3NzE0OyYjMTI0ODY7JiMxMjU0MDsmIzEyNTAyOyYjMTI1MjM7PC90ZXh0PjxwYXRoIGQ9Ik0zMDMuOTIzNSw2Ni4yOTY5IEMzMDMuOTIzNSw1Ni4yOTY5IDMyMS45MjM1LDU2LjI5NjkgMzIxLjkyMzUsNTYuMjk2OSBDMzIxLjkyMzUsNTYuMjk2OSAzMzkuOTIzNSw1Ni4yOTY5IDMzOS45MjM1LDY2LjI5NjkgTDMzOS45MjM1LDkyLjI5NjkgQzMzOS45MjM1LDEwMi4yOTY5IDMyMS45MjM1LDEwMi4yOTY5IDMyMS45MjM1LDEwMi4yOTY5IEMzMjEuOTIzNSwxMDIuMjk2OSAzMDMuOTIzNSwxMDIuMjk2OSAzMDMuOTIzNSw5Mi4yOTY5IEwzMDMuOTIzNSw2Ni4yOTY5IiBmaWxsPSIjRTJFMkYwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMzAzLjkyMzUsNjYuMjk2OSBDMzAzLjkyMzUsNzYuMjk2OSAzMjEuOTIzNSw3Ni4yOTY5IDMyMS45MjM1LDc2LjI5NjkgQzMyMS45MjM1LDc2LjI5NjkgMzM5LjkyMzUsNzYuMjk2OSAzMzkuOTIzNSw2Ni4yOTY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LXRhaWwiIGRhdGEtZW50aXR5LXVpZD0icGFydDMiIGRhdGEtcXVhbGlmaWVkLW5hbWU9ImRiIiBpZD0icGFydDMtdGFpbCI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMjc2LjkyMzYiIHk9IjQ5MC4xODI2Ij4mIzM1NTMxOyYjMjc3MTQ7JiMxMjQ4NjsmIzEyNTQwOyYjMTI1MDI7JiMxMjUyMzs8L3RleHQ+PHBhdGggZD0iTTMwMy45MjM1LDUwMy40ODQ0IEMzMDMuOTIzNSw0OTMuNDg0NCAzMjEuOTIzNSw0OTMuNDg0NCAzMjEuOTIzNSw0OTMuNDg0NCBDMzIxLjkyMzUsNDkzLjQ4NDQgMzM5LjkyMzUsNDkzLjQ4NDQgMzM5LjkyMzUsNTAzLjQ4NDQgTDMzOS45MjM1LDUyOS40ODQ0IEMzMzkuOTIzNSw1MzkuNDg0NCAzMjEuOTIzNSw1MzkuNDg0NCAzMjEuOTIzNSw1MzkuNDg0NCBDMzIxLjkyMzUsNTM5LjQ4NDQgMzAzLjkyMzUsNTM5LjQ4NDQgMzAzLjkyMzUsNTI5LjQ4NDQgTDMwMy45MjM1LDUwMy40ODQ0IiBmaWxsPSIjRTJFMkYwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMzAzLjkyMzUsNTAzLjQ4NDQgQzMwMy45MjM1LDUxMy40ODQ0IDMyMS45MjM1LDUxMy40ODQ0IDMyMS45MjM1LDUxMy40ODQ0IEMzMjEuOTIzNSw1MTMuNDg0NCAzMzkuOTIzNSw1MTMuNDg0NCAzMzkuOTIzNSw1MDMuNDg0NCIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MSIgZGF0YS1lbnRpdHktMj0icGFydDMiIGlkPSJtc2cxIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMwOS45MjM1LDE0NS43MjY2LDMxOS45MjM1LDE0OS43MjY2LDMwOS45MjM1LDE1My43MjY2LDMxMy45MjM1LDE0OS43MjY2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQwLjc4ODUiIHgyPSIzMTUuOTIzNSIgeTE9IjE0OS43MjY2IiB5Mj0iMTQ5LjcyNjYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDEuNzE3OCIgeD0iNDcuNzg4NSIgeT0iMTQ0LjY2MDYiPlNFTEVDVCYjNjUyODg7dmVyc2lvbj0xJiM2NTI4OTs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MiIgZGF0YS1lbnRpdHktMj0icGFydDMiIGlkPSJtc2cyIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMwOS45MjM1LDE3NC44NTk0LDMxOS45MjM1LDE3OC44NTk0LDMwOS45MjM1LDE4Mi44NTk0LDMxMy45MjM1LDE3OC44NTk0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEyMi4zNzkiIHgyPSIzMTUuOTIzNSIgeTE9IjE3OC44NTk0IiB5Mj0iMTc4Ljg1OTQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDEuNzE3OCIgeD0iMTI5LjM3OSIgeT0iMTczLjc5MzUiPlNFTEVDVCYjNjUyODg7dmVyc2lvbj0xJiM2NTI4OTs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MSIgZGF0YS1lbnRpdHktMj0icGFydDEiIGlkPSJtc2czIj48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDAuNzg4NSIgeDI9IjgyLjc4ODUiIHkxPSIyMDcuOTkyMiIgeTI9IjIwNy45OTIyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjgyLjc4ODUiIHgyPSI4Mi43ODg1IiB5MT0iMjA3Ljk5MjIiIHkyPSIyMjAuOTkyMiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI0MS43ODg1IiB4Mj0iODIuNzg4NSIgeTE9IjIyMC45OTIyIiB5Mj0iMjIwLjk5MjIiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjUxLjc4ODUsMjE2Ljk5MjIsNDEuNzg4NSwyMjAuOTkyMiw1MS43ODg1LDIyNC45OTIyLDQ3Ljc4ODUsMjIwLjk5MjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NS4wMDAxIiB4PSI0Ny43ODg1IiB5PSIyMDIuOTI2MyI+JiMzMDAxMTsmIzM4NzU0OyYjMTIzOTE7JiMzMjIzMjsmIzM4NTk4OzwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtZW50aXR5LTE9InBhcnQyIiBkYXRhLWVudGl0eS0yPSJwYXJ0MiIgaWQ9Im1zZzQiPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMjIuMzc5IiB4Mj0iMTY0LjM3OSIgeTE9IjI1MC4xMjUiIHkyPSIyNTAuMTI1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE2NC4zNzkiIHgyPSIxNjQuMzc5IiB5MT0iMjUwLjEyNSIgeTI9IjI2My4xMjUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTIzLjM3OSIgeDI9IjE2NC4zNzkiIHkxPSIyNjMuMTI1IiB5Mj0iMjYzLjEyNSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTMzLjM3OSwyNTkuMTI1LDEyMy4zNzksMjYzLjEyNSwxMzMuMzc5LDI2Ny4xMjUsMTI5LjM3OSwyNjMuMTI1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjUuMDAwMSIgeD0iMTI5LjM3OSIgeT0iMjQ1LjA1OTEiPiYjMzAwMTE7JiMzODc1NDsmIzEyMzkxOyYjMzIyMzI7JiMzODU5ODs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MSIgZGF0YS1lbnRpdHktMj0icGFydDMiIGlkPSJtc2c1Ij48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMwOS45MjM1LDMwMy4zOTA2LDMxOS45MjM1LDMwNy4zOTA2LDMwOS45MjM1LDMxMS4zOTA2LDMxMy45MjM1LDMwNy4zOTA2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQwLjc4ODUiIHgyPSIzMTUuOTIzNSIgeTE9IjMwNy4zOTA2IiB5Mj0iMzA3LjM5MDYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNzUuNTQ0NCIgeD0iNDcuNzg4NSIgeT0iMjg3LjE5MTkiPlVQREFURSBXSEVSRSB2ZXJzaW9uPTE8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI0LjkzNDYiIHg9IjQ3Ljc4ODUiIHk9IjMwMi4zMjQ3Ij4mIzg1OTQ7IHZlcnNpb249MiAmIzEyMzk1OyYjMjYzNTY7JiMyNjAzMjs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MyIgZGF0YS1lbnRpdHktMj0icGFydDEiIGlkPSJtc2c2Ij48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjUxLjc4ODUsMzMyLjUyMzQsNDEuNzg4NSwzMzYuNTIzNCw1MS43ODg1LDM0MC41MjM0LDQ3Ljc4ODUsMzM2LjUyMzQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDUuNzg4NSIgeDI9IjMyMC45MjM1IiB5MT0iMzM2LjUyMzQiIHkyPSIzMzYuNTIzNCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk5LjI3MTEiIHg9IjU3Ljc4ODUiIHk9IjMzMS40NTc1Ij4mIzI2MzU2OyYjMjYwMzI7JiMyNTEwNDsmIzIxMTUxOyYjNjUyODg7MSYjMzQ4OTI7JiM2NTI4OTs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MiIgZGF0YS1lbnRpdHktMj0icGFydDMiIGlkPSJtc2c3Ij48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMwOS45MjM1LDM2MS42NTYzLDMxOS45MjM1LDM2NS42NTYzLDMwOS45MjM1LDM2OS42NTYzLDMxMy45MjM1LDM2NS42NTYzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEyMi4zNzkiIHgyPSIzMTUuOTIzNSIgeTE9IjM2NS42NTYzIiB5Mj0iMzY1LjY1NjMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNzUuNTQ0NCIgeD0iMTI5LjM3OSIgeT0iMzYwLjU5MDMiPlVQREFURSBXSEVSRSB2ZXJzaW9uPTE8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MyIgZGF0YS1lbnRpdHktMj0icGFydDIiIGlkPSJtc2c4Ij48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjEzMy4zNzksNDA1LjkyMTksMTIzLjM3OSw0MDkuOTIxOSwxMzMuMzc5LDQxMy45MjE5LDEyOS4zNzksNDA5LjkyMTkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTI3LjM3OSIgeDI9IjMyMC45MjM1IiB5MT0iNDA5LjkyMTkiIHkyPSI0MDkuOTIxOSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk5LjI3MTEiIHg9IjEzOS4zNzkiIHk9IjM4OS43MjMxIj4mIzI2MzU2OyYjMjYwMzI7JiMyMjgzMzsmIzI1OTQzOyYjNjUyODg7MCYjMzQ4OTI7JiM2NTI4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEuMDAwMSIgeD0iMTM5LjM3OSIgeT0iNDA0Ljg1NiI+JiMyNzAwNTsmIzM1MjUxOyYjMTI1MjU7JiMxMjQ4MzsmIzEyNDYzOyYjMjAzNjM7JiMyMjgwNjs8L3RleHQ+PC9nPjxwYXRoIGQ9Ik0xMjcsNDIyLjkyMTkgTDEyNyw0NjIuOTIxOSBMMjc4LDQ2Mi45MjE5IEwyNzgsNDMyLjkyMTkgTDI2OCw0MjIuOTIxOSBMMTI3LDQyMi45MjE5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMjY4LDQyMi45MjE5IEwyNjgsNDMyLjkyMTkgTDI3OCw0MzIuOTIxOSBMMjY4LDQyMi45MjE5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDQuMDAwMSIgeD0iMTMzIiB5PSI0MzkuOTg4OCI+JiMyMDg3NzsmIzM1NTAxOyYjMTI0MTU7JiMzNjc5NjsmIzEyNDE1OyYjMTI0MzQ7JiMyMDQxOTsmIzEyMzc3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzAuMDAwMiIgeD0iMTMzIiB5PSI0NTUuMTIxNiI+JiMxMjQ1NjsmIzEyNTIxOyYjMTI1NDA7JiMxMjUxMzsmIzEyNDgzOyYjMTI0NzU7JiMxMjU0MDsmIzEyNDcyOyYjMzQ5MjA7JiMzMTAzNDs8L3RleHQ+PD9wbGFudHVtbC1zcmMgWlA3Vkl5OUc1Q1ZWeHJ6bnkzdDg3ZUsyTHVDVVVlV29VbDVidlllWERqWE14ems1T0xhR2FhUE9YNjljWVBLT01KZHJWLWN1RVBfeTV2ZnRDUUx5d0VMbVZkcGx2dnBCTHFqZjFvOHVUbnN0cWFIUUhxaEhVNFJ6b1N4YS1mcmhENWY4QkpHUUk5amVWMTBZeDZZbzBZNmE1VFBfeXM4cTE4OEFYd2dlSDZVRGtNM0NhUUlXMkdiMTVJN2FyWjlFbXExZ1pkS3FaeEo2UENhNDhPbTRTcWpVMEg3T3ZEVnV2VFo4SVgtOVlmZ0lmU05tbzNmYzZrdVY2aVJuYW1XQ0JqaDNjbkJnenVETVRMV205bjBfY0lzT05CQXJsWEFEeVIyem9jX200Nm9BSXJ6Y0RZV04wRk1RS3RYcnlZXzRVcElydDZ5d3dORnh2RFF4REVtTUpfei1QRlFBQUg4TmFFbm9teWJUVWdIdmRuSU5WZGRPeHNSaVNmdUdJVFA0SzU5eC1uaDhrcHktc0VRUC1yWDdsVVRzQkktWWFVdHRBRWZOMThxZ3FXVmNJUDVYc2lwN1R4VE83UEdfWUlXYk9TcHgxVzAwPz48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_20">バージョンカラムによる同時更新制御<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h3>
<details>
<summary>楽観ロック対応の MyBatis Mapper</summary>

<div class="highlight"><pre><span></span><code><span class="cm">&lt;!-- 楽観ロック対応の更新（バージョンチェック付き） --&gt;</span>
<span class="nt">&lt;update</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;updateWithOptimisticLock&quot;</span>
<span class="w">        </span><span class="na">parameterType=</span><span class="s">&quot;com.example.sms.domain.model.invoice.Invoice&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span>UPDATE<span class="w"> </span>&quot;請求データ&quot;
<span class="w">    </span>SET
<span class="w">        </span>&quot;請求日&quot;<span class="w"> </span>=<span class="w"> </span>#{invoiceDate},
<span class="w">        </span>&quot;請求先コード&quot;<span class="w"> </span>=<span class="w"> </span>#{billingCode},
<span class="w">        </span>&quot;顧客コード&quot;<span class="w"> </span>=<span class="w"> </span>#{customerCode},
<span class="w">        </span>&quot;締日&quot;<span class="w"> </span>=<span class="w"> </span>#{closingDate},
<span class="w">        </span>&quot;請求区分&quot;<span class="w"> </span>=<span class="w"> </span>#{invoiceType,
<span class="w">            </span>typeHandler=com.example.sms.infrastructure.persistence.typehandler.InvoiceTypeTypeHandler}::請求区分,
<span class="w">        </span>&quot;前回請求残高&quot;<span class="w"> </span>=<span class="w"> </span>#{previousBalance},
<span class="w">        </span>&quot;入金額&quot;<span class="w"> </span>=<span class="w"> </span>#{receiptAmount},
<span class="w">        </span>&quot;繰越残高&quot;<span class="w"> </span>=<span class="w"> </span>#{carriedBalance},
<span class="w">        </span>&quot;今回売上額&quot;<span class="w"> </span>=<span class="w"> </span>#{currentSalesAmount},
<span class="w">        </span>&quot;今回消費税額&quot;<span class="w"> </span>=<span class="w"> </span>#{currentTaxAmount},
<span class="w">        </span>&quot;今回請求額&quot;<span class="w"> </span>=<span class="w"> </span>#{currentInvoiceAmount},
<span class="w">        </span>&quot;請求残高&quot;<span class="w"> </span>=<span class="w"> </span>#{invoiceBalance},
<span class="w">        </span>&quot;回収予定日&quot;<span class="w"> </span>=<span class="w"> </span>#{dueDate},
<span class="w">        </span>&quot;ステータス&quot;<span class="w"> </span>=<span class="w"> </span>#{status,
<span class="w">            </span>typeHandler=com.example.sms.infrastructure.persistence.typehandler.InvoiceStatusTypeHandler}::請求ステータス,
<span class="w">        </span>&quot;更新日時&quot;<span class="w"> </span>=<span class="w"> </span>CURRENT_TIMESTAMP,
<span class="w">        </span>&quot;バージョン&quot;<span class="w"> </span>=<span class="w"> </span>&quot;バージョン&quot;<span class="w"> </span>+<span class="w"> </span>1
<span class="w">    </span>WHERE<span class="w"> </span>&quot;ID&quot;<span class="w"> </span>=<span class="w"> </span>#{id}
<span class="w">    </span>AND<span class="w"> </span>&quot;バージョン&quot;<span class="w"> </span>=<span class="w"> </span>#{version}
<span class="nt">&lt;/update&gt;</span>

<span class="cm">&lt;!-- 楽観ロック対応の削除 --&gt;</span>
<span class="nt">&lt;delete</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;deleteWithOptimisticLock&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span>DELETE<span class="w"> </span>FROM<span class="w"> </span>&quot;請求データ&quot;
<span class="w">    </span>WHERE<span class="w"> </span>&quot;ID&quot;<span class="w"> </span>=<span class="w"> </span>#{id}
<span class="w">    </span>AND<span class="w"> </span>&quot;バージョン&quot;<span class="w"> </span>=<span class="w"> </span>#{version}
<span class="nt">&lt;/delete&gt;</span>
</code></pre></div>

</details>

<details>
<summary>楽観ロック例外クラス</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sms/domain/exception/OptimisticLockException.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.domain.exception</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OptimisticLockException</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RuntimeException</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">OptimisticLockException</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">entityName</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">super</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span>
<span class="w">                </span><span class="s">&quot;%s（ID: %d）は他のユーザーによって更新または削除されました。&quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">                </span><span class="s">&quot;画面を再読み込みしてください。&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="n">entityName</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">OptimisticLockException</span><span class="p">(</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">entityName</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">,</span>
<span class="w">            </span><span class="n">Integer</span><span class="w"> </span><span class="n">expectedVersion</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">actualVersion</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">super</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span>
<span class="w">                </span><span class="s">&quot;%s（ID: %d）は他のユーザーによって更新されました。&quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">                </span><span class="s">&quot;（期待バージョン: %d, 実際のバージョン: %d）&quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">                </span><span class="s">&quot;画面を再読み込みしてください。&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="n">entityName</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">expectedVersion</span><span class="p">,</span><span class="w"> </span><span class="n">actualVersion</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>Repository 実装：楽観ロック対応</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/sms/infrastructure/persistence/repository/InvoiceRepositoryImpl.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sms.infrastructure.persistence.repository</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sms.application.port.out.InvoiceRepository</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sms.domain.exception.OptimisticLockException</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sms.domain.model.invoice.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sms.infrastructure.persistence.mapper.InvoiceMapper</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Repository</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.transaction.annotation.Transactional</span><span class="p">;</span>

<span class="nd">@Repository</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">InvoiceRepositoryImpl</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">InvoiceRepository</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">InvoiceMapper</span><span class="w"> </span><span class="n">invoiceMapper</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 楽観ロック対応の更新</span>
<span class="cm">     * @throws OptimisticLockException 他のユーザーによって更新された場合</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="n">Invoice</span><span class="w"> </span><span class="n">invoice</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">updatedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">invoiceMapper</span><span class="p">.</span><span class="na">updateWithOptimisticLock</span><span class="p">(</span><span class="n">invoice</span><span class="p">);</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">updatedCount</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Integer</span><span class="w"> </span><span class="n">currentVersion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">invoiceMapper</span><span class="p">.</span><span class="na">findVersionById</span><span class="p">(</span><span class="n">invoice</span><span class="p">.</span><span class="na">getId</span><span class="p">());</span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">currentVersion</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OptimisticLockException</span><span class="p">(</span><span class="s">&quot;請求&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">invoice</span><span class="p">.</span><span class="na">getId</span><span class="p">());</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OptimisticLockException</span><span class="p">(</span>
<span class="w">                    </span><span class="s">&quot;請求&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="n">invoice</span><span class="p">.</span><span class="na">getId</span><span class="p">(),</span>
<span class="w">                    </span><span class="n">invoice</span><span class="p">.</span><span class="na">getVersion</span><span class="p">(),</span>
<span class="w">                    </span><span class="n">currentVersion</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 楽観ロック対応の削除</span>
<span class="cm">     * @throws OptimisticLockException 他のユーザーによって更新された場合</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">delete</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">version</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">deletedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">invoiceMapper</span><span class="p">.</span><span class="na">deleteWithOptimisticLock</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">version</span><span class="p">);</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">deletedCount</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OptimisticLockException</span><span class="p">(</span><span class="s">&quot;請求&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="_21">楽観ロックのテスト<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h3>
<details>
<summary>楽観ロックのテストコード</summary>

<div class="highlight"><pre><span></span><code><span class="nd">@Nested</span>
<span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;楽観ロックの更新テスト&quot;</span><span class="p">)</span>
<span class="kd">class</span> <span class="nc">OptimisticLockUpdateTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;正しいバージョンで更新できる&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldUpdateWithCorrectVersion</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Given: 請求を登録</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">invoice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createTestInvoice</span><span class="p">(</span><span class="s">&quot;INV-0001&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">invoiceRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">invoice</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// When: バージョン1で更新</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">invoiceRepository</span><span class="p">.</span><span class="na">findByInvoiceNumber</span><span class="p">(</span><span class="s">&quot;INV-0001&quot;</span><span class="p">).</span><span class="na">orElseThrow</span><span class="p">();</span>
<span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">saved</span><span class="p">.</span><span class="na">getVersion</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w">        </span><span class="n">saved</span><span class="p">.</span><span class="na">setInvoiceBalance</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;200000&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">invoiceRepository</span><span class="p">.</span><span class="na">update</span><span class="p">(</span><span class="n">saved</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Then: バージョンが2に増加</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">invoiceRepository</span><span class="p">.</span><span class="na">findByInvoiceNumber</span><span class="p">(</span><span class="s">&quot;INV-0001&quot;</span><span class="p">).</span><span class="na">orElseThrow</span><span class="p">();</span>
<span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">updated</span><span class="p">.</span><span class="na">getVersion</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;古いバージョンで更新すると楽観ロック例外がスローされる&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldThrowOptimisticLockExceptionWithOldVersion</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Given: 請求を登録して、別のセッションで更新</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">invoice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createTestInvoice</span><span class="p">(</span><span class="s">&quot;INV-0002&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">invoiceRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">invoice</span><span class="p">);</span>

<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">sessionA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">invoiceRepository</span><span class="p">.</span><span class="na">findByInvoiceNumber</span><span class="p">(</span><span class="s">&quot;INV-0002&quot;</span><span class="p">).</span><span class="na">orElseThrow</span><span class="p">();</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">sessionB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">invoiceRepository</span><span class="p">.</span><span class="na">findByInvoiceNumber</span><span class="p">(</span><span class="s">&quot;INV-0002&quot;</span><span class="p">).</span><span class="na">orElseThrow</span><span class="p">();</span>

<span class="w">        </span><span class="c1">// セッションAで更新</span>
<span class="w">        </span><span class="n">sessionA</span><span class="p">.</span><span class="na">setInvoiceBalance</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;300000&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">invoiceRepository</span><span class="p">.</span><span class="na">update</span><span class="p">(</span><span class="n">sessionA</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// When/Then: セッションBで更新すると例外</span>
<span class="w">        </span><span class="n">sessionB</span><span class="p">.</span><span class="na">setInvoiceBalance</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;400000&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">assertThatThrownBy</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">invoiceRepository</span><span class="p">.</span><span class="na">update</span><span class="p">(</span><span class="n">sessionB</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">isInstanceOf</span><span class="p">(</span><span class="n">OptimisticLockException</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">hasMessageContaining</span><span class="p">(</span><span class="s">&quot;他のユーザーによって更新されました&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="_22">楽観ロックのベストプラクティス<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>ポイント</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>バージョンカラム</strong></td>
<td>INTEGER 型で十分（オーバーフローは現実的に発生しない）</td>
</tr>
<tr>
<td><strong>WHERE 条件</strong></td>
<td>必ず <code>AND "バージョン" = #{version}</code> を含める</td>
</tr>
<tr>
<td><strong>インクリメント</strong></td>
<td><code>"バージョン" = "バージョン" + 1</code> でアトミックに更新</td>
</tr>
<tr>
<td><strong>例外処理</strong></td>
<td>更新件数が0の場合は楽観ロック例外をスロー</td>
</tr>
<tr>
<td><strong>エラーメッセージ</strong></td>
<td>ユーザーにわかりやすいメッセージで再読み込みを促す</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="7_1">第7章のまとめ<a class="headerlink" href="#7_1" title="Permanent link">&para;</a></h2>
<p>本章では、債権管理の核心部分である請求・入金・売掛金管理について学びました。</p>
<h3 id="_23">学んだこと<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>請求パターンの理解</strong></li>
<li>都度請求と締め請求の違い</li>
<li>
<p>締処理による売上の集約</p>
</li>
<li>
<p><strong>請求データの構造</strong></p>
</li>
<li>前回繰越・今回売上・請求残高の計算</li>
<li>
<p>回収予定日の設定</p>
</li>
<li>
<p><strong>入金消込の実装</strong></p>
</li>
<li>1:1、1:N、N:1 の消込パターン</li>
<li>
<p>自動消込機能</p>
</li>
<li>
<p><strong>債権残高管理</strong></p>
</li>
<li>月次売掛金残高の更新</li>
<li>
<p>滞留債権の管理</p>
</li>
<li>
<p><strong>リレーションと楽観ロック</strong></p>
</li>
<li>N+1 問題の回避</li>
<li>同時更新の競合制御</li>
</ol>
<h3 id="er_2">債権管理の ER 図（全体像）<a class="headerlink" href="#er_2" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9Ijc3MXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NTI3cHg7aGVpZ2h0Ojc3MXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDUyNyA3NzEiIHdpZHRoPSI1MjdweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjA2NjE7JiMyNzE3NzsmIzMxNjQ5OyYjMjk3MDI7JiMxMjM5ODtFUiYjMjIyNTk7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA0LjM0MzQiIHg9IjIwNC44MjgyIiB5PSIyMi45OTUxIj4mIzIwNjYxOyYjMjcxNzc7JiMzMTY0OTsmIzI5NzAyOyYjMTIzOTg7RVImIzIyMjU5OzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjMiIGlkPSJlbnQwMDAyIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjE2Mi4wNzgxIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDEuOTk5NyIgeD0iNyIgeT0iMjkwLjgxNjkiLz48ZWxsaXBzZSBjeD0iMjIiIGN5PSIzMDYuODE2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMjYuMTA5NCwzMTIuODE2OSBMMTguMzkwNiwzMTIuODE2OSBMMTguMzkwNiwzMDAuNDI2MiBMMjYuMTA5NCwzMDAuNDI2MiBMMjYuMTA5NCwzMDIuNTgyNSBMMjAuODQzOCwzMDIuNTgyNSBMMjAuODQzOCwzMDUuMjU0NCBMMjUuNjA5NCwzMDUuMjU0NCBMMjUuNjA5NCwzMDcuNDEwNiBMMjAuODQzOCwzMDcuNDEwNiBMMjAuODQzOCwzMTAuNjYwNiBMMjYuMTA5NCwzMTAuNjYwNiBMMjYuMTA5NCwzMTIuODE2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjM2IiB5PSIzMTEuNjYzNiI+JiMyMjc3MDsmIzE5OTc4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI4IiB4Mj0iMTA3Ljk5OTciIHkxPSIzMjIuODE2OSIgeTI9IjMyMi44MTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTQuMTEzMyIgeD0iMTMiIHk9IjMzOS44MTIiPklEICYjMTcxO1BLJiMxODc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI4IiB4Mj0iMTA3Ljk5OTciIHkxPSIzNDcuMTEzNyIgeTI9IjM0Ny4xMTM3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTMiIHk9IjM2NC4xMDg5Ij4mIzIyNzcwOyYjMTk5Nzg7JiMzMDA1ODsmIzIxNDk1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIxMyIgeT0iMzgwLjQwNTciPiYjMjI3NzA7JiMxOTk3ODsmIzI2MDg1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIxMyIgeT0iMzk2LjcwMjYiPiYjMzkwMTU7JiMyMzQ1ODsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTMiIHk9IjQxMi45OTk1Ij4mIzIyNzcwOyYjMTk5Nzg7JiMzNzMyOTsmIzM4OTg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxMyIgeT0iNDI5LjI5NjQiPiYjMjgwNDA7JiMzNjAyNzsmIzMxMjQ2OyYjMzg5ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjEzIiB5PSI0NDUuNTkzMiI+JiMxMjQ3MzsmIzEyNDg2OyYjMTI1NDA7JiMxMjQ3OTsmIzEyNDczOzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjE0IiBpZD0iZW50MDAwMyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMDguNzUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEwMS45OTk3IiB4PSIxNDUiIHk9IjIxNy40ODY5Ii8+PGVsbGlwc2UgY3g9IjE2MCIgY3k9IjIzMy40ODY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0xNjQuMTA5NCwyMzkuNDg2OSBMMTU2LjM5MDYsMjM5LjQ4NjkgTDE1Ni4zOTA2LDIyNy4wOTYyIEwxNjQuMTA5NCwyMjcuMDk2MiBMMTY0LjEwOTQsMjI5LjI1MjUgTDE1OC44NDM4LDIyOS4yNTI1IEwxNTguODQzOCwyMzEuOTI0NCBMMTYzLjYwOTQsMjMxLjkyNDQgTDE2My42MDk0LDIzNC4wODA2IEwxNTguODQzOCwyMzQuMDgwNiBMMTU4Ljg0MzgsMjM3LjMzMDYgTDE2NC4xMDk0LDIzNy4zMzA2IEwxNjQuMTA5NCwyMzkuNDg2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjE3NCIgeT0iMjM4LjMzMzYiPiYjMzU1MzE7JiMyNzcxNDsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTQ2IiB4Mj0iMjQ1Ljk5OTciIHkxPSIyNDkuNDg2OSIgeTI9IjI0OS40ODY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTQuMTEzMyIgeD0iMTUxIiB5PSIyNjYuNDgyIj5JRCAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTQ2IiB4Mj0iMjQ1Ljk5OTciIHkxPSIyNzMuNzgzNyIgeTI9IjI3My43ODM3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTUxIiB5PSIyOTAuNzc4OSI+JiMzNTUzMTsmIzI3NzE0OyYjMzAwNTg7JiMyMTQ5NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iMTUxIiB5PSIzMDcuMDc1NyI+JiMzNTUzMTsmIzI3NzE0OyYjMjYwODU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjE1MSIgeT0iMzIzLjM3MjYiPiYjMzkwMTU7JiMyMzQ1ODsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjcuOTk5OSIgeD0iMTUxIiB5PSIzMzkuNjY5NSI+JiMzMjIyNDsmIzI2MDg1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxNTEiIHk9IjM1NS45NjY0Ij4mIzM1NTMxOyYjMjc3MTQ7JiMyMTMwNjsmIzIwOTk4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSIxNTEiIHk9IjM3Mi4yNjMyIj4mIzIxMDY5OyYjMjIyMzg7JiMzNTUzMTsmIzI3NzE0OyYjMjc1MzE7JiMzOTY0MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iMTUxIiB5PSIzODguNTYwMSI+JiMyMDgzNzsmIzM3MzI5OyYjMzg5ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjE1MSIgeT0iNDA0Ljg1NyI+JiMzMjM2ODsmIzM2MjM0OyYjMjc1MzE7JiMzOTY0MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTUxIiB5PSI0MjEuMTUzOSI+JiMyMDE3MDsmIzIyMjM4OyYjMjI3NzA7JiMxOTk3ODsmIzM4OTg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSIxNTEiIHk9IjQzNy40NTA3Ij4mIzIwMTcwOyYjMjIyMzg7JiMyODA0MDsmIzM2MDI3OyYjMzEyNDY7JiMzODk4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTUxIiB5PSI0NTMuNzQ3NiI+JiMyMDE3MDsmIzIyMjM4OyYjMzU1MzE7JiMyNzcxNDsmIzM4OTg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxNTEiIHk9IjQ3MC4wNDQ1Ij4mIzM1NTMxOyYjMjc3MTQ7JiMyNzUzMTsmIzM5NjQwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIxNTEiIHk9IjQ4Ni4zNDE0Ij4mIzIyMjM4OyYjMjE0NTQ7JiMyMDEwNDsmIzIzNDUwOyYjMjYwODU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjE1MSIgeT0iNTAyLjYzODIiPiYjMTI0NzM7JiMxMjQ4NjsmIzEyNTQwOyYjMTI0Nzk7JiMxMjQ3Mzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTUxIiB5PSI1MTguOTM1MSI+JiMxMjQ5NjsmIzEyNTQwOyYjMTI0NzI7JiMxMjUxOTsmIzEyNTMxOzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIzNCIgaWQ9ImVudDAwMDQiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTYyLjA3ODEiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjkzLjcyMzUiIHg9IjExLjE0IiB5PSI1OTQuMzc2OSIvPjxlbGxpcHNlIGN4PSIyOC43MTU3IiBjeT0iNjEwLjM3NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTMyLjgyNTEsNjE2LjM3NjkgTDI1LjEwNjMsNjE2LjM3NjkgTDI1LjEwNjMsNjAzLjk4NjIgTDMyLjgyNTEsNjAzLjk4NjIgTDMyLjgyNTEsNjA2LjE0MjUgTDI3LjU1OTQsNjA2LjE0MjUgTDI3LjU1OTQsNjA4LjgxNDQgTDMyLjMyNTEsNjA4LjgxNDQgTDMyLjMyNTEsNjEwLjk3MDYgTDI3LjU1OTQsNjEwLjk3MDYgTDI3LjU1OTQsNjE0LjIyMDYgTDMyLjgyNTEsNjE0LjIyMDYgTDMyLjgyNTEsNjE2LjM3NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI0My4yODgxIiB5PSI2MTUuMjIzNiI+JiMzNTUzMTsmIzI3NzE0OyYjMjYxMjY7JiMzMjA0ODs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTIuMTQiIHgyPSIxMDMuODYzNSIgeTE9IjYyNi4zNzY5IiB5Mj0iNjI2LjM3NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NC4xMTMzIiB4PSIxNy4xNCIgeT0iNjQzLjM3MiI+SUQgJiMxNzE7UEsmIzE4Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEyLjE0IiB4Mj0iMTAzLjg2MzUiIHkxPSI2NTAuNjczNyIgeTI9IjY1MC42NzM3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODEuNzIzNSIgeD0iMTcuMTQiIHk9IjY2Ny42Njg5Ij4mIzM1NTMxOyYjMjc3MTQ7SUQgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODEuNzIzNSIgeD0iMTcuMTQiIHk9IjY4My45NjU3Ij4mIzIyNzcwOyYjMTk5Nzg7SUQgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iMTcuMTQiIHk9IjcwMC4yNjI2Ij4mIzIyNzcwOyYjMTk5Nzg7JiMyNjA4NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTcuMTQiIHk9IjcxNi41NTk1Ij4mIzIyNzcwOyYjMTk5Nzg7JiMzMDA1ODsmIzIxNDk1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxNy4xNCIgeT0iNzMyLjg1NjQiPiYjMjI3NzA7JiMxOTk3ODsmIzM3MzI5OyYjMzg5ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjE3LjE0IiB5PSI3NDkuMTUzMiI+JiMyODA0MDsmIzM2MDI3OyYjMzEyNDY7JiMzODk4OTs8L3RleHQ+PC9nPjwhLS1jbGFzcyA/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSI0NSIgaWQ9ImVudDAwMDUiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjI3LjI2NTYiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEwMS45OTk3IiB4PSIyODIiIHk9IjI1OC4yMjY5Ii8+PGVsbGlwc2UgY3g9IjI5NyIgY3k9IjI3NC4yMjY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0zMDEuMTA5NCwyODAuMjI2OSBMMjkzLjM5MDYsMjgwLjIyNjkgTDI5My4zOTA2LDI2Ny44MzYyIEwzMDEuMTA5NCwyNjcuODM2MiBMMzAxLjEwOTQsMjY5Ljk5MjUgTDI5NS44NDM4LDI2OS45OTI1IEwyOTUuODQzOCwyNzIuNjY0NCBMMzAwLjYwOTQsMjcyLjY2NDQgTDMwMC42MDk0LDI3NC44MjA2IEwyOTUuODQzOCwyNzQuODIwNiBMMjk1Ljg0MzgsMjc4LjA3MDYgTDMwMS4xMDk0LDI3OC4wNzA2IEwzMDEuMTA5NCwyODAuMjI2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjMxMSIgeT0iMjc5LjA3MzYiPiYjMjA4Mzc7JiMzNzMyOTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjgzIiB4Mj0iMzgyLjk5OTciIHkxPSIyOTAuMjI2OSIgeTI9IjI5MC4yMjY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTQuMTEzMyIgeD0iMjg4IiB5PSIzMDcuMjIyIj5JRCAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjgzIiB4Mj0iMzgyLjk5OTciIHkxPSIzMTQuNTIzNyIgeTI9IjMxNC41MjM3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjg4IiB5PSIzMzEuNTE4OSI+JiMyMDgzNzsmIzM3MzI5OyYjMzAwNTg7JiMyMTQ5NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iMjg4IiB5PSIzNDcuODE1NyI+JiMyMDgzNzsmIzM3MzI5OyYjMjYwODU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjI4OCIgeT0iMzY0LjExMjYiPiYjMzkwMTU7JiMyMzQ1ODsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjg4IiB5PSIzODAuNDA5NSI+JiMyMDgzNzsmIzM3MzI5OyYjMjYwNDE7JiMyNzg2MTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjg4IiB5PSIzOTYuNzA2NCI+JiMyMDgzNzsmIzM3MzI5OyYjMzczMjk7JiMzODk4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMjg4IiB5PSI0MTMuMDAzMiI+JiMyODA0MDsmIzM2Nzk2OyYjMjgxNjg7JiMzNzMyOTsmIzM4OTg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyODgiIHk9IjQyOS4zMDAxIj4mIzI2NDEwOyYjMjgwNDA7JiMzNjc5NjsmIzM3MzI5OyYjMzg5ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjk5OTgiIHg9IjI4OCIgeT0iNDQ1LjU5NyI+JiMyNTE2MzsmIzI1OTY4OyYjMjYwMDk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjI4OCIgeT0iNDYxLjg5MzkiPiYjMTI0NzM7JiMxMjQ4NjsmIzEyNTQwOyYjMTI0Nzk7JiMxMjQ3Mzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMjg4IiB5PSI0NzguMTkwNyI+JiMxMjQ5NjsmIzEyNTQwOyYjMTI0NzI7JiMxMjUxOTsmIzEyNTMxOzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iNjAiIGlkPSJlbnQwMDA2Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjE0NS43ODEzIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMTUuOTk5NiIgeD0iMTQwIiB5PSI2MDIuNTI2OSIvPjxlbGxpcHNlIGN4PSIxNTUiIGN5PSI2MTguNTI2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMTU5LjEwOTQsNjI0LjUyNjkgTDE1MS4zOTA2LDYyNC41MjY5IEwxNTEuMzkwNiw2MTIuMTM2MiBMMTU5LjEwOTQsNjEyLjEzNjIgTDE1OS4xMDk0LDYxNC4yOTI1IEwxNTMuODQzOCw2MTQuMjkyNSBMMTUzLjg0MzgsNjE2Ljk2NDQgTDE1OC42MDk0LDYxNi45NjQ0IEwxNTguNjA5NCw2MTkuMTIwNiBMMTUzLjg0MzgsNjE5LjEyMDYgTDE1My44NDM4LDYyMi4zNzA2IEwxNTkuMTA5NCw2MjIuMzcwNiBMMTU5LjEwOTQsNjI0LjUyNjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSIxNjkiIHk9IjYyMy4zNzM2Ij4mIzIwODM3OyYjMzczMjk7JiMyODA0MDsmIzM2Nzk2OyYjMjYxMjY7JiMzMjA0ODs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTQxIiB4Mj0iMjU0Ljk5OTYiIHkxPSI2MzQuNTI2OSIgeTI9IjYzNC41MjY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTQuMTEzMyIgeD0iMTQ2IiB5PSI2NTEuNTIyIj5JRCAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTQxIiB4Mj0iMjU0Ljk5OTYiIHkxPSI2NTguODIzNyIgeTI9IjY1OC44MjM3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODEuNzIzNSIgeD0iMTQ2IiB5PSI2NzUuODE4OSI+JiMyMDgzNzsmIzM3MzI5O0lEICYjMTcxO0ZLJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgxLjcyMzUiIHg9IjE0NiIgeT0iNjkyLjExNTciPiYjMzU1MzE7JiMyNzcxNDtJRCAmIzE3MTtGSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIxNDYiIHk9IjcwOC40MTI2Ij4mIzI4MDQwOyYjMzY3OTY7JiMyNjA4NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTQ2IiB5PSI3MjQuNzA5NSI+JiMyODA0MDsmIzM2Nzk2OyYjMzczMjk7JiMzODk4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTQ2IiB5PSI3NDEuMDA2NCI+JiMxMjQ5NjsmIzEyNTQwOyYjMTI0NzI7JiMxMjUxOTsmIzEyNTMxOzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iNzAiIGlkPSJlbnQwMDA3Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjE3OC4zNzUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExNS45OTk2IiB4PSIyOTEiIHk9IjU4Ni4yMjY5Ii8+PGVsbGlwc2UgY3g9IjMwNiIgY3k9IjYwMi4yMjY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0zMTAuMTA5NCw2MDguMjI2OSBMMzAyLjM5MDYsNjA4LjIyNjkgTDMwMi4zOTA2LDU5NS44MzYzIEwzMTAuMTA5NCw1OTUuODM2MyBMMzEwLjEwOTQsNTk3Ljk5MjUgTDMwNC44NDM4LDU5Ny45OTI1IEwzMDQuODQzOCw2MDAuNjY0NCBMMzA5LjYwOTQsNjAwLjY2NDQgTDMwOS42MDk0LDYwMi44MjA2IEwzMDQuODQzOCw2MDIuODIwNiBMMzA0Ljg0MzgsNjA2LjA3MDYgTDMxMC4xMDk0LDYwNi4wNzA2IEwzMTAuMTA5NCw2MDguMjI2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjMyMCIgeT0iNjA3LjA3MzYiPiYjMjEwNjk7JiMyMTQ2MzsmIzM3MzI5OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyOTIiIHgyPSI0MDUuOTk5NiIgeTE9IjYxOC4yMjY5IiB5Mj0iNjE4LjIyNjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NC4xMTMzIiB4PSIyOTciIHk9IjYzNS4yMjIiPklEICYjMTcxO1BLJiMxODc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyOTIiIHgyPSI0MDUuOTk5NiIgeTE9IjY0Mi41MjM4IiB5Mj0iNjQyLjUyMzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyOTciIHk9IjY1OS41MTg5Ij4mIzIxMDY5OyYjMjE0NjM7JiMzNzMyOTsmIzMwMDU4OyYjMjE0OTU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjk5OTgiIHg9IjI5NyIgeT0iNjc1LjgxNTciPiYjMzAzMzA7JiMyOTk4MzsmIzI2MDg1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyOTciIHk9IjY5Mi4xMTI2Ij4mIzM5MDE1OyYjMjM0NTg7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgxLjcyMzUiIHg9IjI5NyIgeT0iNzA4LjQwOTUiPiYjMjA4Mzc7JiMzNzMyOTtJRCAmIzE3MTtGSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIyOTciIHk9IjcyNC43MDY0Ij4mIzIxMDY5OyYjMjE0NjM7JiMzNzMyOTsmIzM4OTg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyOTciIHk9Ijc0MS4wMDMyIj4mIzIwMzUxOyYjMjk5OTI7JiMyODE2ODsmIzM3MzI5OyYjMzg5ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ljk5OTkiIHg9IjI5NyIgeT0iNzU3LjMwMDEiPiYjMjc1MzE7JiMzOTY0MDs8L3RleHQ+PC9nPjwhLS1jbGFzcyA/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSI4MiIgaWQ9ImVudDAwMDgiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTYyLjA3ODEiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEwMS45OTk3IiB4PSI0MTkiIHk9IjI5MC44MTY5Ii8+PGVsbGlwc2UgY3g9IjQzNCIgY3k9IjMwNi44MTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik00MzguMTA5NCwzMTIuODE2OSBMNDMwLjM5MDYsMzEyLjgxNjkgTDQzMC4zOTA2LDMwMC40MjYyIEw0MzguMTA5NCwzMDAuNDI2MiBMNDM4LjEwOTQsMzAyLjU4MjUgTDQzMi44NDM4LDMwMi41ODI1IEw0MzIuODQzOCwzMDUuMjU0NCBMNDM3LjYwOTQsMzA1LjI1NDQgTDQzNy42MDk0LDMwNy40MTA2IEw0MzIuODQzOCwzMDcuNDEwNiBMNDMyLjg0MzgsMzEwLjY2MDYgTDQzOC4xMDk0LDMxMC42NjA2IEw0MzguMTA5NCwzMTIuODE2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjQ0OCIgeT0iMzExLjY2MzYiPiYjMjI3NzA7JiMyNTQ5OTsmIzM3MzI5OyYjMjc1MzE7JiMzOTY0MDs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNDIwIiB4Mj0iNTE5Ljk5OTciIHkxPSIzMjIuODE2OSIgeTI9IjMyMi44MTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTQuMTEzMyIgeD0iNDI1IiB5PSIzMzkuODEyIj5JRCAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDIwIiB4Mj0iNTE5Ljk5OTciIHkxPSIzNDcuMTEzNyIgeTI9IjM0Ny4xMTM3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iNDI1IiB5PSIzNjQuMTA4OSI+JiMzOTAxNTsmIzIzNDU4OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSI0MjUiIHk9IjM4MC40MDU3Ij4mIzIyNTIyOyYjMjgzMTA7JiMyNjA4NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iNDI1IiB5PSIzOTYuNzAyNiI+JiMyMTA2OTsmIzI2Mzc2OyYjMjc1MzE7JiMzOTY0MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iNDI1IiB5PSI0MTIuOTk5NSI+JiMyNDQwMzsmIzI2Mzc2OyYjMjI3NzA7JiMxOTk3ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iNDI1IiB5PSI0MjkuMjk2NCI+JiMyNDQwMzsmIzI2Mzc2OyYjMjA4Mzc7JiMzNzMyOTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iNDI1IiB5PSI0NDUuNTkzMiI+JiMyNDQwMzsmIzI2Mzc2OyYjMjc1MzE7JiMzOTY0MDs8L3RleHQ+PC9nPjwhLS1jbGFzcyA/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSI5MyIgaWQ9ImVudDAwMDkiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTEzLjE4NzUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyMS4yMDM4IiB4PSIyNzIuNCIgeT0iNDQuMjk2OSIvPjxlbGxpcHNlIGN4PSIyOTYuMDQxOCIgY3k9IjYwLjI5NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTMwMC4xNTEyLDY2LjI5NjkgTDI5Mi40MzI1LDY2LjI5NjkgTDI5Mi40MzI1LDUzLjkwNjMgTDMwMC4xNTEyLDUzLjkwNjMgTDMwMC4xNTEyLDU2LjA2MjUgTDI5NC44ODU2LDU2LjA2MjUgTDI5NC44ODU2LDU4LjczNDQgTDI5OS42NTEyLDU4LjczNDQgTDI5OS42NTEyLDYwLjg5MDYgTDI5NC44ODU2LDYwLjg5MDYgTDI5NC44ODU2LDY0LjE0MDYgTDMwMC4xNTEyLDY0LjE0MDYgTDMwMC4xNTEyLDY2LjI5NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIzMTEuOTYyMyIgeT0iNjUuMTQzNiI+JiMzOTAxNTsmIzIzNDU4OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyNzMuNCIgeDI9IjM5Mi42MDM4IiB5MT0iNzYuMjk2OSIgeTI9Ijc2LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDkuMjAzOCIgeD0iMjc4LjQiIHk9IjkzLjI5MiI+JiMzOTAxNTsmIzIzNDU4OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjczLjQiIHgyPSIzOTIuNjAzOCIgeTE9IjEwMC41OTM4IiB5Mj0iMTAwLjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIyNzguNCIgeT0iMTE3LjU4ODkiPiYjMzkwMTU7JiMyMzQ1ODsmIzIxNTE3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSIyNzguNCIgeT0iMTMzLjg4NTciPiYjMzIyMjQ7JiMyNjA4NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMjc4LjQiIHk9IjE1MC4xODI2Ij4mIzIyMjM4OyYjMjE0NTQ7JiMxMjQ2OTsmIzEyNDUyOyYjMTI0ODg7PC90ZXh0PjwvZz48IS0tbGluayA/Pz8/PyB0byA/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDIiIGRhdGEtZW50aXR5LTI9ImVudDAwMDQiIGRhdGEtbGluay10eXBlPSJjcm93Zm9vdCIgZGF0YS1zb3VyY2UtbGluZT0iMTAxIiBpZD0ibG5rMTAiPjxwYXRoIGNvZGVMaW5lPSIxMDEiIGQ9Ik01OCw0NjEuMjc2OSBDNTgsNTA0LjgwNjkgNTgsNTMyLjQyNjkgNTgsNTc1Ljk2NjkiIGZpbGw9Im5vbmUiIGlkPSImIzIyNzcwOyYjMTk5Nzg7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7LSYjMzU1MzE7JiMyNzcxNDsmIzI2MTI2OyYjMzIwNDg7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjU0IiB4Mj0iNjIiIHkxPSI0NTcuMjc2OSIgeTI9IjQ1Ny4yNzY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjU0IiB4Mj0iNjIiIHkxPSI0NjAuMjc2OSIgeTI9IjQ2MC4yNzY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjU4IiB4Mj0iNTgiIHkxPSI0NjEuMjc2OSIgeTI9IjQ1My4yNzY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjU4IiB4Mj0iNjQiIHkxPSI1ODUuOTY2OSIgeTI9IjU5My45NjY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjU4IiB4Mj0iNTIiIHkxPSI1ODUuOTY2OSIgeTI9IjU5My45NjY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjU4IiB4Mj0iNTgiIHkxPSI1ODUuOTY2OSIgeTI9IjU5My45NjY5Ii8+PGVsbGlwc2UgY3g9IjU4IiBjeT0iNTc5Ljk2NjkiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayA/Pz8/PyB0byA/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDMiIGRhdGEtZW50aXR5LTI9ImVudDAwMDQiIGRhdGEtbGluay10eXBlPSJjcm93Zm9vdCIgZGF0YS1zb3VyY2UtbGluZT0iMTAyIiBpZD0ibG5rMTEiPjxwYXRoIGNvZGVMaW5lPSIxMDIiIGQ9Ik0xNDEuMjg0OCw0OTIuODAzMSBDMTM1LjAxNDgsNTA2LjUyMzEgMTMyLjAzLDUxMy4wNTY5IDEyNiw1MjYuMjI2OSBDMTE1LjkzLDU0OC4yMzY5IDExMi41MDY3LDU1NS43MTY5IDEwMi40MTY3LDU3Ny43MDY5IiBmaWxsPSJub25lIiBpZD0iJiMzNTUzMTsmIzI3NzE0OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5Oy0mIzM1NTMxOyYjMjc3MTQ7JiMyNjEyNjsmIzMyMDQ4OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMzkuMzA5MyIgeDI9IjE0Ni41ODU1IiB5MT0iNDg3LjUwMjQiIHkyPSI0OTAuODI3NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMzguMDYyNCIgeDI9IjE0NS4zMzg1IiB5MT0iNDkwLjIzMDkiIHkyPSI0OTMuNTU2MSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNDEuMjg0OCIgeDI9IjE0NC42MSIgeTE9IjQ5Mi44MDMxIiB5Mj0iNDg1LjUyNjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iOTguMjQ2MyIgeDI9IjEwMC4zNjMzIiB5MT0iNTg2Ljc5NTgiIHkyPSI1OTYuNTY5MSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI5OC4yNDYzIiB4Mj0iODkuNDU2NyIgeTE9IjU4Ni43OTU4IiB5Mj0iNTkxLjU2NDYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iOTguMjQ2MyIgeDI9Ijk0LjkxIiB5MT0iNTg2Ljc5NTgiIHkyPSI1OTQuMDY2OSIvPjxlbGxpcHNlIGN4PSIxMDAuNzQ4NSIgY3k9IjU4MS4zNDI0IiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgPz8/Pz8gdG8gPz8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDMiIGRhdGEtZW50aXR5LTI9ImVudDAwMDYiIGRhdGEtbGluay10eXBlPSJjcm93Zm9vdCIgZGF0YS1zb3VyY2UtbGluZT0iMTAzIiBpZD0ibG5rMTIiPjxwYXRoIGNvZGVMaW5lPSIxMDMiIGQ9Ik0xOTcuMDc0NSw1MzQuNzI2NyBDMTk3LjI1NDUsNTYxLjE1NjcgMTk3LjI1MjMsNTYxLjQ1NzMgMTk3LjQwMjMsNTg0LjM4NzMiIGZpbGw9Im5vbmUiIGlkPSImIzM1NTMxOyYjMjc3MTQ7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7LSYjMjA4Mzc7JiMzNzMyOTsmIzI4MDQwOyYjMzY3OTY7JiMyNjEyNjsmIzMyMDQ4OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxOTMuMDQ3MyIgeDI9IjIwMS4wNDcxIiB5MT0iNTMwLjc1NCIgeTI9IjUzMC42OTk1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE5My4wNjc4IiB4Mj0iMjAxLjA2NzYiIHkxPSI1MzMuNzU0IiB5Mj0iNTMzLjY5OTUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTk3LjA3NDUiIHgyPSIxOTcuMDIiIHkxPSI1MzQuNzI2NyIgeTI9IjUyNi43MjY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE5Ny40Njc3IiB4Mj0iMjAzLjUxOTkiIHkxPSI1OTQuMzg3IiB5Mj0iNjAyLjM0NzYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTk3LjQ2NzciIHgyPSIxOTEuNTIwMSIgeTE9IjU5NC4zODciIHkyPSI2MDIuNDI2MSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxOTcuNDY3NyIgeDI9IjE5Ny41MiIgeTE9IjU5NC4zODciIHkyPSI2MDIuMzg2OSIvPjxlbGxpcHNlIGN4PSIxOTcuNDI4NCIgY3k9IjU4OC4zODcyIiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgPz8/Pz8gdG8gPz8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDUiIGRhdGEtZW50aXR5LTI9ImVudDAwMDYiIGRhdGEtbGluay10eXBlPSJjcm93Zm9vdCIgZGF0YS1zb3VyY2UtbGluZT0iMTA0IiBpZD0ibG5rMTMiPjxwYXRoIGNvZGVMaW5lPSIxMDQiIGQ9Ik0yNzkuMjcxMyw0OTIuODc4NiBDMjYxLjgyMTMsNTMxLjg1ODYgMjUzLjM2MjQsNTUwLjczNyAyMzcuNzYyNCw1ODUuNTk3IiBmaWxsPSJub25lIiBpZD0iJiMyMDgzNzsmIzM3MzI5OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5Oy0mIzIwODM3OyYjMzczMjk7JiMyODA0MDsmIzM2Nzk2OyYjMjYxMjY7JiMzMjA0ODsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjc3LjI1NDgiIHgyPSIyODQuNTU2NSIgeTE9IjQ4Ny41OTM0IiB5Mj0iNDkwLjg2MjEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjc2LjAyOSIgeDI9IjI4My4zMzA3IiB5MT0iNDkwLjMzMTUiIHkyPSI0OTMuNjAwMyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNzkuMjcxMyIgeDI9IjI4Mi41NCIgeTE9IjQ5Mi44Nzg2IiB5Mj0iNDg1LjU3NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjMzLjY3NzgiIHgyPSIyMzUuODg2NiIgeTE9IjU5NC43MjQ3IiB5Mj0iNjA0LjQ3NzciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjMzLjY3NzgiIHgyPSIyMjQuOTMzNCIgeTE9IjU5NC43MjQ3IiB5Mj0iNTk5LjU3NjEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjMzLjY3NzgiIHgyPSIyMzAuNDEiIHkxPSI1OTQuNzI0NyIgeTI9IjYwMi4wMjY5Ii8+PGVsbGlwc2UgY3g9IjIzNi4xMjg2IiBjeT0iNTg5LjI0ODEiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayA/Pz8/PyB0byA/Pz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNSIgZGF0YS1lbnRpdHktMj0iZW50MDAwNyIgZGF0YS1saW5rLXR5cGU9ImFzc29jaWF0aW9uIiBkYXRhLXNvdXJjZS1saW5lPSIxMDUiIGlkPSJsbmsxNCI+PHBhdGggY29kZUxpbmU9IjEwNSIgZD0iTTMzOS40MDQ1LDQ5My41NjU2IEMzNDEuMTY0NSw1MjYuNjg1NiAzNDEuODMzMSw1MzkuNDY4MSAzNDMuNTAzMSw1NzAuODU4MSIgZmlsbD0ibm9uZSIgaWQ9IiYjMjA4Mzc7JiMzNzMyOTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTstJiMyMTA2OTsmIzIxNDYzOyYjMzczMjk7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMzNS4xOTc5IiB4Mj0iMzQzLjE4NjYiIHkxPSI0ODkuNzgzNSIgeTI9IjQ4OS4zNTkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzM1LjM1NzEiIHgyPSIzNDMuMzQ1OCIgeTE9IjQ5Mi43NzkzIiB5Mj0iNDkyLjM1NDgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzM5LjQwNDUiIHgyPSIzMzguOTgiIHkxPSI0OTMuNTY1NiIgeTI9IjQ4NS41NzY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjM0My43MTU2IiB4Mj0iMzQ0LjMiIHkxPSI1NzQuODUyNCIgeTI9IjU4NS44MzY5Ii8+PGVsbGlwc2UgY3g9IjM0My43MTU2IiBjeT0iNTc0Ljg1MjQiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzNDguMDgxOCIgeDI9IjM0MC4wOTMxIiB5MT0iNTgxLjYzIiB5Mj0iNTgyLjA1NSIvPjwvZz48IS0tbGluayA/Pz8/PyB0byA/Pz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA5IiBkYXRhLWVudGl0eS0yPSJlbnQwMDAzIiBkYXRhLWxpbmstdHlwZT0iY3Jvd2Zvb3QiIGRhdGEtc291cmNlLWxpbmU9IjEwNiIgaWQ9ImxuazE1Ij48cGF0aCBjb2RlTGluZT0iMTA2IiBkPSJNMjk0LjI4NDksMTY0LjgxNTMgQzI4My4xODQ5LDE4My41MDUzIDI3NS4yMSwxOTcuNzI2OSAyNjUsMjE3LjQ4NjkgQzI1OS4xLDIyOC44OTY5IDI2MC45MjYyLDIyNC42NjQxIDI1NS4xNzYyLDIzNi43NDQxIiBmaWxsPSJub25lIiBpZD0iJiMzOTAxNTsmIzIzNDU4OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5Oy0mIzM1NTMxOyYjMjc3MTQ7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI5Mi44ODgzIiB4Mj0iMjk5Ljc2NjciIHkxPSIxNTkuMzMzNSIgeTI9IjE2My40MTg2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI5MS4zNTY0IiB4Mj0iMjk4LjIzNDgiIHkxPSIxNjEuOTEyOSIgeTI9IjE2NS45OTgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjk0LjI4NDkiIHgyPSIyOTguMzciIHkxPSIxNjQuODE1MyIgeTI9IjE1Ny45MzY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI1MC44NzgzIiB4Mj0iMjUyLjg1NzYiIHkxPSIyNDUuNzczNCIgeTI9IjI1NS41NzU2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI1MC44NzgzIiB4Mj0iMjQyLjAyMjQiIHkxPSIyNDUuNzczNCIgeTI9IjI1MC40MTgxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI1MC44NzgzIiB4Mj0iMjQ3LjQ0IiB5MT0iMjQ1Ljc3MzQiIHkyPSIyNTIuOTk2OSIvPjxlbGxpcHNlIGN4PSIyNTMuNDU3IiBjeT0iMjQwLjM1NTkiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayA/Pz8/PyB0byA/Pz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA5IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA1IiBkYXRhLWxpbmstdHlwZT0iY3Jvd2Zvb3QiIGRhdGEtc291cmNlLWxpbmU9IjEwNyIgaWQ9ImxuazE2Ij48cGF0aCBjb2RlTGluZT0iMTA3IiBkPSJNMzMzLDE2NS45NDY5IEMzMzMsMTk0Ljg4NjkgMzMzLDIwNS4yODY5IDMzMywyMzkuNzU2OSIgZmlsbD0ibm9uZSIgaWQ9IiYjMzkwMTU7JiMyMzQ1ODsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTstJiMyMDgzNzsmIzM3MzI5OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMjkiIHgyPSIzMzciIHkxPSIxNjEuOTQ2OSIgeTI9IjE2MS45NDY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMyOSIgeDI9IjMzNyIgeTE9IjE2NC45NDY5IiB5Mj0iMTY0Ljk0NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzMzIiB4Mj0iMzMzIiB5MT0iMTY1Ljk0NjkiIHkyPSIxNTcuOTQ2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMzMiIHgyPSIzMzkiIHkxPSIyNDkuNzU2OSIgeTI9IjI1Ny43NTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMzMyIgeDI9IjMyNyIgeTE9IjI0OS43NTY5IiB5Mj0iMjU3Ljc1NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzMzIiB4Mj0iMzMzIiB5MT0iMjQ5Ljc1NjkiIHkyPSIyNTcuNzU2OSIvPjxlbGxpcHNlIGN4PSIzMzMiIGN5PSIyNDMuNzU2OSIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rID8/Pz8/IHRvID8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDkiIGRhdGEtZW50aXR5LTI9ImVudDAwMDgiIGRhdGEtbGluay10eXBlPSJjcm93Zm9vdCIgZGF0YS1zb3VyY2UtbGluZT0iMTA4IiBpZD0ibG5rMTciPjxwYXRoIGNvZGVMaW5lPSIxMDgiIGQ9Ik0zNzEuNzE1MSwxNjQuODE1MyBDMzgyLjgxNTEsMTgzLjUwNTMgMzkwLjc5LDE5Ny43MjY5IDQwMSwyMTcuNDg2OSBDNDEzLjA3LDI0MC44MjY5IDQxNy44MjkxLDI1MC4yNzYzIDQyOC40NTkxLDI3NC4wMzYzIiBmaWxsPSJub25lIiBpZD0iJiMzOTAxNTsmIzIzNDU4OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5Oy0mIzIyNzcwOyYjMjU0OTk7JiMzNzMyOTsmIzI3NTMxOyYjMzk2NDA7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjM2Ni4yMzMzIiB4Mj0iMzczLjExMTciIHkxPSIxNjMuNDE4NiIgeTI9IjE1OS4zMzM1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjM2Ny43NjUyIiB4Mj0iMzc0LjY0MzYiIHkxPSIxNjUuOTk4IiB5Mj0iMTYxLjkxMjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzcxLjcxNTEiIHgyPSIzNjcuNjMiIHkxPSIxNjQuODE1MyIgeTI9IjE1Ny45MzY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQzMi41NDI5IiB4Mj0iNDQxLjI4NjkiIHkxPSIyODMuMTY0NCIgeTI9IjI4OC4wMTY2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQzMi41NDI5IiB4Mj0iNDMwLjMzMzEiIHkxPSIyODMuMTY0NCIgeTI9IjI5Mi45MTcyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQzMi41NDI5IiB4Mj0iNDM1LjgxIiB5MT0iMjgzLjE2NDQiIHkyPSIyOTAuNDY2OSIvPjxlbGxpcHNlIGN4PSI0MzAuMDkyNiIgY3k9IjI3Ny42ODc1IiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PD9wbGFudHVtbC1zcmMgYkxIQkpXOTE0RHR0QVJXMERwMmtyQ0l1Q1R4MTFPZEgzSGkzQmZvRUM4MXlaODBWMzhYQUc0cWMyN3ZXXzFzY3dNd3VYVERUdFNCcTMxZnN5LWh0Z2J2TEpwbU10emNFS0VrNVRVd3ZxLUliNTNicUxoVGVoT19HemN1eTVqLUZxRGxVUTkwYkU0dG0xeDYtOG1jcWxYOVBNamhTTTV2NnFJVzJEd3l5cUVBUjBrb2lYSVJERGRMa1lES05NSllaRjlGcW9RSVBILXBMN2xWVVVRU1cwQjY2MUFVV2tGVUQzZHdQbnV5dnpjSkRQR1F0T1dPR25pcFZoZUtQMGtZbkktcUtlZmF5aFRMTFpmRVJGOXVaVWpISXRWNVhUX29RTFVSSFV6UUJMRHJ4SmkyLTBTMDRuR0pzYl9NSVl1TUhRckZkS2hIWEpham1JTzgxbU1zMi11N2ZzTmMxRnRWM0h2VWNETTYyX2FtaS00Qk00eFE0QUl0ZUM3X1RxZ3RoSUgyd1JsMUtYd25WcVQ5RVFSeS1zQzNNLUVlMUoxZmRTZ3BJUFRNQjFRSElSNTB2TDMyOGMwZmEyZ1hvbEtieXBWbjF3THJHeVVuRmZOSTQ0ZWpWa0JwU2MyX01wRlBxZmhva3BzelV4aXBlMU5UckNGaS1NUTRjdmZTVWl1cTBNU0RiUmJNVUhZUkZoY256ZnYtZDdlMDNxSzJzZksyMExqTjVUUjRjRVJ0MTVFWTFibEJ3Q1NBaDhET0JpVXU4amFMUHlwVUpKNFFaVW1kVkFxM2MzczYxY0UyOThGRkk1dW5DWGptMENiTm5UVlhsY0M0cER5b195SHkwPz48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_24">次章の予告<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h3>
<p>第8章では、調達管理の設計に進みます。発注・入荷・仕入の一連の購買業務プロセスをデータベース設計と TDD で実装していきます。</p>
<hr />
<p><a href="../chapter06/">← 第6章：受注・出荷・売上の設計</a> | <a href="../chapter08/">第8章：調達管理の設計 →</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/k2works/practical-database-design" target="_blank" rel="noopener" title="GitHub Repository" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
      
        <script src="../../../docs/assets/js/extra.js"></script>
      
    
  </body>
</html>