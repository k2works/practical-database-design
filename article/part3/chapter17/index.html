
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="基幹業務システム（販売管理・財務会計・生産管理）のデータベース設計を体系的に解説">
      
      
        <meta name="author" content="k2works">
      
      
      
        <link rel="prev" href="../chapter16/">
      
      
        <link rel="next" href="../chapter18/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>第17章 自動仕訳の設計 - 実践データベース設計：基幹業務システム編</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../docs/mkdocs/assets/css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#17" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="実践データベース設計：基幹業務システム編" class="md-header__button md-logo" aria-label="実践データベース設計：基幹業務システム編" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            実践データベース設計：基幹業務システム編
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              第17章 自動仕訳の設計
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/k2works/practical-database-design" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    practical-database-design
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
  実践データベース設計

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="実践データベース設計：基幹業務システム編" class="md-nav__button md-logo" aria-label="実践データベース設計：基幹業務システム編" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    実践データベース設計：基幹業務システム編
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/k2works/practical-database-design" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    practical-database-design
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    実践データベース設計
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    実践データベース設計
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../techstack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    技術スタック
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    アウトライン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    執筆ワークフロー
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    運用ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6" >
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    デプロイ
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    デプロイ
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-sms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SMS デモデプロイ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-fas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FAS デモデプロイ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7" >
        
          
          <label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第1部 基幹業務システムの全体像
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    第1部 基幹業務システムの全体像
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第1章 基幹業務システムとは
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第2章 基幹業務システムの業務領域
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第3章 業務フローの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_8" >
        
          
          <label class="md-nav__link" for="__nav_1_8" id="__nav_1_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第2部 販売管理システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    第2部 販売管理システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第4章 販売管理システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter05/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第5章 マスタ情報の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter06/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第6章 受注・出荷・売上の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter07/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第7章 債権管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter08/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第8章 調達管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter09/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第9章 在庫管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第10章 債務管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第11章 共通処理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第12章 販売管理データ設計（B社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第13章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_9" checked>
        
          
          <label class="md-nav__link" for="__nav_1_9" id="__nav_1_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第3部 財務会計システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    第3部 財務会計システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章 財務会計システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章 勘定科目の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章 仕訳の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#171" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.1 自動仕訳の概要
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17.1 自動仕訳の概要">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        販売管理システムと会計システムの連携
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="販売管理システムと会計システムの連携">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        従来のアナログ連携（手入力による非連携）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        アナログ連携の問題点
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        自動仕訳処理のデータフロー
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        自動仕訳処理の流れ
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#172" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.2 自動仕訳パターンマスタの設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17.2 自動仕訳パターンマスタの設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        商品グループ × 顧客グループによる条件分岐
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        パターンマスタの項目説明
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        パターンマスタのデータ例
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        売上返品時の科目設定
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#173" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.3 自動仕訳処理の設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17.3 自動仕訳処理の設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
        フラグ管理方式と日付管理方式
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="フラグ管理方式と日付管理方式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
        フラグ管理方式
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
        日付管理方式
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      
        セット中心のアプリケーション設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="セット中心のアプリケーション設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      
        ループ処理（非効率）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      
        セット中心処理（効率的）
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#er" class="md-nav__link">
    <span class="md-ellipsis">
      
        自動仕訳関連テーブルのER図
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      
        マイグレーション：自動仕訳テーブルの作成
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#174" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.4 売上伝票から仕訳伝票への転記ロジック
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17.4 売上伝票から仕訳伝票への転記ロジック">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      
        明細行の分解と集約
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="明細行の分解と集約">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      
        売上伝票の例
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      
        仕訳伝票への変換
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      
        借方（売掛金）と貸方（売上）の展開
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      
        消費税の按分計算
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      
        貸借一致の原則
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tdd" class="md-nav__link">
    <span class="md-ellipsis">
      
        TDD による自動仕訳処理の実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TDD による自動仕訳処理の実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      
        ドメイン層：エンティティ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      
        テストコード
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output-port" class="md-nav__link">
    <span class="md-ellipsis">
      
        アプリケーション層（Output Port）
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#175" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.5 リレーションと楽観ロックの設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17.5 リレーションと楽観ロックの設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mybatis-resultmap" class="md-nav__link">
    <span class="md-ellipsis">
      
        MyBatis ネストした ResultMap によるリレーション設定
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MyBatis ネストした ResultMap によるリレーション設定">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resultmap" class="md-nav__link">
    <span class="md-ellipsis">
      
        ネストした ResultMap の定義
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      
        リレーション設定のポイント
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      
        楽観ロックの実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="楽観ロックの実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flyway" class="md-nav__link">
    <span class="md-ellipsis">
      
        Flyway マイグレーション: バージョンカラム追加
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    <span class="md-ellipsis">
      
        エンティティへのバージョンフィールド追加
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mybatis-mapper" class="md-nav__link">
    <span class="md-ellipsis">
      
        MyBatis Mapper: 楽観ロック対応の更新
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#repository" class="md-nav__link">
    <span class="md-ellipsis">
      
        Repository 実装: 楽観ロック対応
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tdd_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        TDD: 楽観ロックのテスト
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    <span class="md-ellipsis">
      
        楽観ロックのベストプラクティス
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    <span class="md-ellipsis">
      
        自動仕訳処理における整合性確保
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="自動仕訳処理における整合性確保">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    <span class="md-ellipsis">
      
        処理フェーズとロック戦略
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    <span class="md-ellipsis">
      
        ステータス遷移と楽観ロック
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    <span class="md-ellipsis">
      
        一括転記時の楽観ロック
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#17_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        第17章のまとめ
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第17章のまとめ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    <span class="md-ellipsis">
      
        作成したテーブル
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#er_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        ER図
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_34" class="md-nav__link">
    <span class="md-ellipsis">
      
        設計のポイント
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_35" class="md-nav__link">
    <span class="md-ellipsis">
      
        ドメインロジック
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_36" class="md-nav__link">
    <span class="md-ellipsis">
      
        次章の予告
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章 勘定科目残高の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter19/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章 赤黒とログの設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter20/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章 財務会計データ設計（D社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter21/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_10" >
        
          
          <label class="md-nav__link" for="__nav_1_10" id="__nav_1_10_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第4部 生産管理システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    第4部 生産管理システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter22/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第22章 生産管理システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter23/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第23章 マスタ情報の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter24/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第24章 生産計画の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter25/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第25章 購買管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter26/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第26章 外注委託管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter27/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第27章 工程管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter28/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第28章 在庫管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第29章 品質管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter30/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第30章 製造原価管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter31/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第31章 生産管理データ設計（E社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter32/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第32章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_11" >
        
          
          <label class="md-nav__link" for="__nav_1_11" id="__nav_1_11_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第5部 エンタープライズインテグレーション
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    第5部 エンタープライズインテグレーション
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter33.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第33章 システム統合の概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter34.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第34章 メッセージングパターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter35.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第35章 システム間連携パターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter36.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第36章 マスタデータ管理（MDM）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter37.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第37章 イベント駆動アーキテクチャ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter38.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第38章 API設計とサービス連携
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter39.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第39章 データ連携の実装パターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_12" >
        
          
          <label class="md-nav__link" for="__nav_1_12" id="__nav_1_12_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 販売管理システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 販売管理システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_13" >
        
          
          <label class="md-nav__link" for="__nav_1_13" id="__nav_1_13_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 財務会計システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 財務会計システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_14" >
        
          
          <label class="md-nav__link" for="__nav_1_14" id="__nav_1_14_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 生産管理システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 生産管理システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_15" >
        
          
          <label class="md-nav__link" for="__nav_1_15" id="__nav_1_15_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 財務会計システムORM実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 財務会計システムORM実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter14-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章 財務会計システムの全体像【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter15-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章 勘定科目の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter16-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章 仕訳の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter17-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter18-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章 勘定科目残高の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter19-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章 赤黒とログの設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter20-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章 財務会計データ設計（D社事例）【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter21-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章 APIサービスの実装【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_16" >
        
          
          <label class="md-nav__link" for="__nav_1_16" id="__nav_1_16_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    付録
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_16">
            <span class="md-nav__icon md-icon"></span>
            
  
    付録
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/er-diagrams.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    A 全体ER図
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/table-definitions.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    B テーブル定義一覧
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/glossary.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C 用語集
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_17" >
        
          
          <label class="md-nav__link" for="__nav_1_17" id="__nav_1_17_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    データベース
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_17">
            <span class="md-nav__icon md-icon"></span>
            
  
    データベース
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../assets/schemaspy-output/sms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SchemaSpy ER図（SMS）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="17">第17章：自動仕訳の設計<a class="headerlink" href="#17" title="Permanent link">&para;</a></h1>
<p>販売管理システムなどの業務システムから会計システムへの自動仕訳処理を TDD で設計していきます。売上データから仕訳データへの自動変換ルールと、効率的なバッチ処理の設計を行います。</p>
<hr />
<h2 id="171">17.1 自動仕訳の概要<a class="headerlink" href="#171" title="Permanent link">&para;</a></h2>
<h3 id="_1">販売管理システムと会計システムの連携<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<p>自動仕訳は、業務システムのトランザクションデータを会計システムの仕訳データへ自動的に変換する機能です。</p>
<h4 id="_2">従来のアナログ連携（手入力による非連携）<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h4>
<p>従来の方式では、販売管理システムで発行した売上伝票を紙で経理部門に回送し、経理担当者が仕訳入力を行っていました。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjYzMnB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDIxcHg7aGVpZ2h0OjYzMnB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQyMSA2MzIiIHdpZHRoPSI0MjFweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMzYwMDk7JiMyMjc3MDsmIzMxNjQ5OyYjMjk3MDI7JiMxMjQ3MTsmIzEyNDczOyYjMTI0ODY7JiMxMjUxMjsmIzEyMzkyOyYjMjAyNTA7JiMzNTMzNjsmIzEyNDcxOyYjMTI0NzM7JiMxMjQ4NjsmIzEyNTEyOyYjMTIzOTg7JiMzODc1MDsmIzM2ODk5OyYjMjU2NTg7JiM2NTI4ODsmIzEyNDUwOyYjMTI0OTA7JiMxMjUyNTsmIzEyNDY0OyYjMzY4OTk7JiMyNTY1ODsmIzY1Mjg5OzwvdGl0bGU+PGRlZnMvPjxnPjxnIGNsYXNzPSJ0aXRsZSIgZGF0YS1zb3VyY2UtbGluZT0iMSI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM3Ny45OTg0IiB4PSIxNC41MDA4IiB5PSIyMi45OTUxIj4mIzM2MDA5OyYjMjI3NzA7JiMzMTY0OTsmIzI5NzAyOyYjMTI0NzE7JiMxMjQ3MzsmIzEyNDg2OyYjMTI1MTI7JiMxMjM5MjsmIzIwMjUwOyYjMzUzMzY7JiMxMjQ3MTsmIzEyNDczOyYjMTI0ODY7JiMxMjUxMjsmIzEyMzk4OyYjMzg3NTA7JiMzNjg5OTsmIzI1NjU4OyYjNjUyODg7JiMxMjQ1MDsmIzEyNDkwOyYjMTI1MjU7JiMxMjQ2NDsmIzM2ODk5OyYjMjU2NTg7JiM2NTI4OTs8L3RleHQ+PC9nPjwhLS1jbHVzdGVyID8/Pz8tLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMTIiIGlkPSJlbnQwMDAyIj48cGF0aCBkPSJNOC41LDQzLjI5NjkgTDY1LjQ5OTgsNDMuMjk2OSBBMy43NSwzLjc1IDAgMCAxIDY3Ljk5OTgsNDUuNzk2OSBMNzQuOTk5OCw2NS41OTM4IEwxNDcuNSw2NS41OTM4IEEyLjUsMi41IDAgMCAxIDE1MCw2OC4wOTM4IEwxNTAsMzg1LjI3NjkgQTIuNSwyLjUgMCAwIDEgMTQ3LjUsMzg3Ljc3NjkgTDguNSwzODcuNzc2OSBBMi41LDIuNSAwIDAgMSA2LDM4NS4yNzY5IEw2LDQ1Ljc5NjkgQTIuNSwyLjUgMCAwIDEgOC41LDQzLjI5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjYiIHgyPSI3NC45OTk4IiB5MT0iNjUuNTkzOCIgeTI9IjY1LjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTAiIHk9IjU4LjI5MiI+JiMyMTk0MjsmIzI2OTg5OyYjMzcwOTY7JiMzODI3Mjs8L3RleHQ+PC9nPjwhLS1jbHVzdGVyID8/Pz8tLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMTgiIGlkPSJlbnQwMDA2Ij48cGF0aCBkPSJNMjcyLjUsMjg0LjE4NjkgTDMyOS40OTk4LDI4NC4xODY5IEEzLjc1LDMuNzUgMCAwIDEgMzMxLjk5OTgsMjg2LjY4NjkgTDMzOC45OTk4LDMwNi40ODM4IEw0MTEuNSwzMDYuNDgzOCBBMi41LDIuNSAwIDAgMSA0MTQsMzA4Ljk4MzggTDQxNCw2MjMuNDY2OSBBMi41LDIuNSAwIDAgMSA0MTEuNSw2MjUuOTY2OSBMMjcyLjUsNjI1Ljk2NjkgQTIuNSwyLjUgMCAwIDEgMjcwLDYyMy40NjY5IEwyNzAsMjg2LjY4NjkgQTIuNSwyLjUgMCAwIDEgMjcyLjUsMjg0LjE4NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjI3MCIgeDI9IjMzOC45OTk4IiB5MT0iMzA2LjQ4MzgiIHkyPSIzMDYuNDgzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIyNzQiIHk9IjI5OS4xODIiPiYjMzIwNzY7JiMyOTcwMjsmIzM3MDk2OyYjMzgyNzI7PC90ZXh0PjwvZz48IS0tZW50aXR5IFNhbGVzSW5wdXQtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLlNhbGVzSW5wdXQiIGRhdGEtc291cmNlLWxpbmU9IjEzIiBpZD0iZW50MDAwMyI+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSI1Mi41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI4Ny41NzAzIiB4PSIzNC4yMSIgeT0iNzguMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjUuNTcwMyIgeD0iNDUuMjEiIHk9IjEwMS4yOTIiPiYjMTcxO1NjcmVlbiYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI0OS45OTUzIiB5PSIxMTcuNTg4OSI+JiMyMjc3MDsmIzE5OTc4OyYjMjA4Mzc7JiMyMTE0Nzs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgU2FsZXNEQi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uU2FsZXNEQiIgZGF0YS1zb3VyY2UtbGluZT0iMTQiIGlkPSJlbnQwMDA0Ij48cGF0aCBkPSJNMzMsMjAxLjg4NjkgQzMzLDE5MS44ODY5IDc3Ljk5OTgsMTkxLjg4NjkgNzcuOTk5OCwxOTEuODg2OSBDNzcuOTk5OCwxOTEuODg2OSAxMjIuOTk5NywxOTEuODg2OSAxMjIuOTk5NywyMDEuODg2OSBMMTIyLjk5OTcsMjI3LjE4MzcgQzEyMi45OTk3LDIzNy4xODM3IDc3Ljk5OTgsMjM3LjE4MzcgNzcuOTk5OCwyMzcuMTgzNyBDNzcuOTk5OCwyMzcuMTgzNyAzMywyMzcuMTgzNyAzMywyMjcuMTgzNyBMMzMsMjAxLjg4NjkiIGZpbGw9IiNFOEY1RTkiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0zMywyMDEuODg2OSBDMzMsMjExLjg4NjkgNzcuOTk5OCwyMTEuODg2OSA3Ny45OTk4LDIxMS44ODY5IEM3Ny45OTk4LDIxMS44ODY5IDEyMi45OTk3LDIxMS44ODY5IDEyMi45OTk3LDIwMS44ODY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSI0MyIgeT0iMjI4Ljg4MiI+JiMyMjc3MDsmIzE5OTc4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48L2c+PCEtLWVudGl0eSBTYWxlc1ZvdWNoZXItLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLlNhbGVzVm91Y2hlciIgZGF0YS1zb3VyY2UtbGluZT0iMTUiIGlkPSJlbnQwMDA1Ij48cmVjdCBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjUyLjU5MzgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExMS42NjAyIiB4PSIyMi4xNyIgeT0iMzE5LjE4NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg5LjY2MDIiIHg9IjMzLjE3IiB5PSIzNDIuMTgyIj4mIzE3MTtEb2N1bWVudCYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI1MC4wMDAyIiB5PSIzNTguNDc4OSI+JiMyMjc3MDsmIzE5OTc4OyYjMjAyNTM7JiMzMTA4MDs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgSm91cm5hbElucHV0LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi5Kb3VybmFsSW5wdXQiIGRhdGEtc291cmNlLWxpbmU9IjE5IiBpZD0iZW50MDAwNyI+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSI1Mi41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI4Ny41NzAzIiB4PSIyOTguMjEiIHk9IjMxOS4xODY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NS41NzAzIiB4PSIzMDkuMjEiIHk9IjM0Mi4xODIiPiYjMTcxO1NjcmVlbiYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIzMTMuOTk1MyIgeT0iMzU4LjQ3ODkiPiYjMjAxODE7JiMzNTM3OTsmIzIwODM3OyYjMjExNDc7PC90ZXh0PjwvZz48IS0tZW50aXR5IEpvdXJuYWxEQi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uSm91cm5hbERCIiBkYXRhLXNvdXJjZS1saW5lPSIyMCIgaWQ9ImVudDAwMDgiPjxwYXRoIGQ9Ik0yOTcsNDQ0Ljc3NjkgQzI5Nyw0MzQuNzc2OSAzNDEuOTk5OCw0MzQuNzc2OSAzNDEuOTk5OCw0MzQuNzc2OSBDMzQxLjk5OTgsNDM0Ljc3NjkgMzg2Ljk5OTcsNDM0Ljc3NjkgMzg2Ljk5OTcsNDQ0Ljc3NjkgTDM4Ni45OTk3LDQ3MC4wNzM3IEMzODYuOTk5Nyw0ODAuMDczNyAzNDEuOTk5OCw0ODAuMDczNyAzNDEuOTk5OCw0ODAuMDczNyBDMzQxLjk5OTgsNDgwLjA3MzcgMjk3LDQ4MC4wNzM3IDI5Nyw0NzAuMDczNyBMMjk3LDQ0NC43NzY5IiBmaWxsPSIjRThGNUU5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMjk3LDQ0NC43NzY5IEMyOTcsNDU0Ljc3NjkgMzQxLjk5OTgsNDU0Ljc3NjkgMzQxLjk5OTgsNDU0Ljc3NjkgQzM0MS45OTk4LDQ1NC43NzY5IDM4Ni45OTk3LDQ1NC43NzY5IDM4Ni45OTk3LDQ0NC43NzY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIzMDciIHk9IjQ3MS43NzIiPiYjMjAxODE7JiMzNTM3OTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgRmluYW5jaWFsUmVwb3J0cy0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uRmluYW5jaWFsUmVwb3J0cyIgZGF0YS1zb3VyY2UtbGluZT0iMjEiIGlkPSJlbnQwMDA5Ij48cmVjdCBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjY4Ljg5MDYiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExMS42NjAyIiB4PSIyODYuMTciIHk9IjU0MS4wNzY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4OS42NjAyIiB4PSIyOTcuMTciIHk9IjU2NC4wNzIiPiYjMTcxO0RvY3VtZW50JiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjMwNy4wMDAyIiB5PSI1ODAuMzY4OSI+JiMyNTYxMzsmIzMwNDEwOyYjMzUzMzY7JiMzMTYzOTsmIzI2MzYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIzMDcuMDAwMiIgeT0iNTk2LjY2NTciPiYjMzYwMjQ7JiMyMDUxMTsmIzIzNTUwOyYjMjkwMzE7JiMzNDkyMDs8L3RleHQ+PC9nPjwhLS1saW5rIFNhbGVzSW5wdXQgdG8gU2FsZXNEQi0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAzIiBkYXRhLWVudGl0eS0yPSJlbnQwMDA0IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMjQiIGlkPSJsbmsxMCI+PHBhdGggZD0iTTc4LDEzMS4xNzY5IEM3OCwxNDkuNTA2OSA3OCwxNjcuOTM2OSA3OCwxODUuNDI2OSIgZmlsbD0ibm9uZSIgaWQ9IlNhbGVzSW5wdXQtdG8tU2FsZXNEQiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNzgsMTkxLjQyNjksODIsMTgyLjQyNjksNzgsMTg2LjQyNjksNzQsMTgyLjQyNjksNzgsMTkxLjQyNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgU2FsZXNEQiB0byBTYWxlc1ZvdWNoZXItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNCIgZGF0YS1lbnRpdHktMj0iZW50MDAwNSIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjI1IiBpZD0ibG5rMTEiPjxwYXRoIGQ9Ik03OCwyMzcuNDA2OSBDNzgsMjU5Ljk3NjkgNzgsMjg5LjEzNjkgNzgsMzEyLjk0NjkiIGZpbGw9Im5vbmUiIGlkPSJTYWxlc0RCLXRvLVNhbGVzVm91Y2hlciIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNzgsMzE4Ljk0NjksODIsMzA5Ljk0NjksNzgsMzEzLjk0NjksNzQsMzA5Ljk0NjksNzgsMzE4Ljk0NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgU2FsZXNWb3VjaGVyIHRvIEpvdXJuYWxJbnB1dC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA1IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA3IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMjciIGlkPSJsbmsxMiI+PHBhdGggZD0iTTEzNC4zMSwzNDUuNDg2OSBDMTgzLjIyLDM0NS40ODY5IDI0Ny4wOCwzNDUuNDg2OSAyOTEuOTksMzQ1LjQ4NjkiIGZpbGw9Im5vbmUiIGlkPSJTYWxlc1ZvdWNoZXItdG8tSm91cm5hbElucHV0IiBzdHlsZT0ic3Ryb2tlOiNGRjAwMDA7c3Ryb2tlLXdpZHRoOjI7Ii8+PHBvbHlnb24gZmlsbD0iI0ZGMDAwMCIgcG9pbnRzPSIyOTcuOTksMzQ1LjQ4NjksMjg4Ljk5LDM0MS40ODY5LDI5Mi45OSwzNDUuNDg2OSwyODguOTksMzQ5LjQ4NjksMjk3Ljk5LDM0NS40ODY5IiBzdHlsZT0ic3Ryb2tlOiNGRjAwMDA7c3Ryb2tlLXdpZHRoOjI7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4LjAwMDEiIHg9IjE3Ny40NjE0IiB5PSIzMjMuNTUzOCI+JiMzMjAyNTsmIzIwMjUzOyYjMzEwODA7JiMxMjM5ODsmIzIyMjM4OyYjMzY4NjU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjguODgyOSIgeD0iMTUyLjAyIiB5PSIzMzguNjg2NiI+KCYjMjUxNjM7JiMyMDgzNzsmIzIxMTQ3OyYjMTIzOTU7JiMxMjQyNDsmIzEyNDI3OyYjMjA4Nzc7JiMzMDMzMTsmIzM3NjgyOyk8L3RleHQ+PC9nPjwhLS1saW5rIEpvdXJuYWxJbnB1dCB0byBKb3VybmFsREItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNyIgZGF0YS1lbnRpdHktMj0iZW50MDAwOCIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjI5IiBpZD0ibG5rMTMiPjxwYXRoIGQ9Ik0zNDIsMzcyLjI1NjkgQzM0MiwzOTEuMTc2OSAzNDIsNDEwLjU4NjkgMzQyLDQyOC41MTY5IiBmaWxsPSJub25lIiBpZD0iSm91cm5hbElucHV0LXRvLUpvdXJuYWxEQiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzQyLDQzNC41MTY5LDM0Niw0MjUuNTE2OSwzNDIsNDI5LjUxNjksMzM4LDQyNS41MTY5LDM0Miw0MzQuNTE2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBKb3VybmFsREIgdG8gRmluYW5jaWFsUmVwb3J0cy0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA4IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA5IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMzAiIGlkPSJsbmsxNCI+PHBhdGggZD0iTTM0Miw0ODAuNTM2OSBDMzQyLDQ5Ny41MDY5IDM0Miw1MTUuMjQ2OSAzNDIsNTM0LjYxNjkiIGZpbGw9Im5vbmUiIGlkPSJKb3VybmFsREItdG8tRmluYW5jaWFsUmVwb3J0cyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzQyLDU0MC42MTY5LDM0Niw1MzEuNjE2OSwzNDIsNTM1LjYxNjksMzM4LDUzMS42MTY5LDM0Miw1NDAuNjE2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48P3BsYW50dW1sLXNyYyBWTEJGSnppbTZCdHhodVpBUE9sTXV3STFLMHlUODh0WmFEVzFFOVo0UVlFMk5KY0VUYTE4Ukk4d0EyM3IwV1dnalo1SzRKSkhKSHNtUmJKWlp0NEo5b1YtWExiQS1ZREdTUkJyVlR6eFZrX3ZPbU9wYUhBc0JfdHBqY1lUWU5nTEV4LXZ5dVV4TFV2LXZITWxycHE5bFVycWlITVRWZXhBdnE3enhxRE5qaHZuanlSVEEteHl4MVR0MEIzTTM1bzI1QXVoNTZhQ3VlOXlQV0ZhZVJQTWVDSjYtYmpZNGdmeUExZUNXSm9YRWc5bjlNX0E0UjB2V2pTWFd3bEc2V1VWYzdxcHp0ZnNTWW0xQUNhSjVmMkl5R3psVy1QTHY3aEhPSmFaTU9RMkNqOXJockZwanZmLWhQNUhlQUtpRzFEUHh0MzlQaWhxejg5NjRTQXY3MVg4STAzU19TSlRCZFZrWHZZUF81RlVObFRLREJ0WHAyQW5qSUFZYWRjNlFGT3dtYW5vWm9lTER0bG8xeU9neFRxVFhEd2w0UU5wbkFPT2NpemVaSTVmaEdhZ2hKUWV4dWo2Sk53cFExcTVaU3VvM2ppVGxfcDVfXzVGUjVzNFB4NjNFR0QzaDFkR1Y4ekFYM0JoWU9rSHdCOHctT1lwa0s0b29QY2s5c2FhbTd1c3NRSzlZbEhOZ3lKS0x3WEhBMzh2ZGg4d2ZRWWdrM3dFaXZNeHczVmFCYlBLVEhjaHdlaldQcFVFWTVVLVNxVmt2Z3ZWdEhWN1R6NVUtd01nMGYxWXdnaVBQWkF1M05nRk5WeTc/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h4 id="_3">アナログ連携の問題点<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>問題</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>二重入力</strong></td>
<td>営業部門と経理部門で同じ情報を入力する作業負荷</td>
</tr>
<tr>
<td><strong>入力ミス</strong></td>
<td>手入力によるデータ不整合</td>
</tr>
<tr>
<td><strong>タイムラグ</strong></td>
<td>紙伝票の回送による情報遅延</td>
</tr>
<tr>
<td><strong>消費税計算ミス</strong></td>
<td>手計算による誤り</td>
</tr>
<tr>
<td><strong>勘定科目選択ミス</strong></td>
<td>担当者の判断ばらつき</td>
</tr>
</tbody>
</table>
<h3 id="_4">自動仕訳処理のデータフロー<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p>自動仕訳処理を導入することで、売上データから仕訳データへの変換を自動化します。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjUxNnB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6ODk0cHg7aGVpZ2h0OjUxNnB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDg5NCA1MTYiIHdpZHRoPSI4OTRweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7JiMyMDk2NjsmIzI5NzAyOyYjMTIzOTg7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7JiMxMjM5ODsmIzI3OTY5OyYjMTI0Mjg7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgxLjk5OTIiIHg9IjM0OS4wMDA0IiB5PSIyMi45OTUxIj4mIzMzMjU4OyYjMjEyMDU7JiMyMDE4MTsmIzM1Mzc5OyYjMjA5NjY7JiMyOTcwMjsmIzEyMzk4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyYjMTIzOTg7JiMyNzk2OTsmIzEyNDI4OzwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgPz8/Py0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIxMiIgaWQ9ImVudDAwMDIiPjxwYXRoIGQ9Ik04LjUsNDcuNzk2OSBMNjUuNDk5OCw0Ny43OTY5IEEzLjc1LDMuNzUgMCAwIDEgNjcuOTk5OCw1MC4yOTY5IEw3NC45OTk4LDcwLjA5MzggTDE1My41LDcwLjA5MzggQTIuNSwyLjUgMCAwIDEgMTU2LDcyLjU5MzggTDE1NiwzOTQuODc2OSBBMi41LDIuNSAwIDAgMSAxNTMuNSwzOTcuMzc2OSBMOC41LDM5Ny4zNzY5IEEyLjUsMi41IDAgMCAxIDYsMzk0Ljg3NjkgTDYsNTAuMjk2OSBBMi41LDIuNSAwIDAgMSA4LjUsNDcuNzk2OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNiIgeDI9Ijc0Ljk5OTgiIHkxPSI3MC4wOTM4IiB5Mj0iNzAuMDkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxMCIgeT0iNjIuNzkyIj4mIzIxOTQyOyYjMjY5ODk7JiMzNzA5NjsmIzM4MjcyOzwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgPz8/Pz8/LS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMTgiIGlkPSJlbnQwMDA2Ij48cGF0aCBkPSJNMTgyLjUsNDMuMjk2OSBMMjY3LjQ5OTYsNDMuMjk2OSBBMy43NSwzLjc1IDAgMCAxIDI2OS45OTk2LDQ1Ljc5NjkgTDI3Ni45OTk2LDY1LjU5MzggTDY0Ni41LDY1LjU5MzggQTIuNSwyLjUgMCAwIDEgNjQ5LDY4LjA5MzggTDY0OSw1MDcuNDY2OSBBMi41LDIuNSAwIDAgMSA2NDYuNSw1MDkuOTY2OSBMMTgyLjUsNTA5Ljk2NjkgQTIuNSwyLjUgMCAwIDEgMTgwLDUwNy40NjY5IEwxODAsNDUuNzk2OSBBMi41LDIuNSAwIDAgMSAxODIuNSw0My4yOTY5IiBmaWxsPSIjRjFGOEU5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIxODAiIHgyPSIyNzYuOTk5NiIgeTE9IjY1LjU5MzgiIHkyPSI2NS41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjE4NCIgeT0iNTguMjkyIj4mIzMzMjU4OyYjMjEyMDU7JiMyMDE4MTsmIzM1Mzc5OyYjMjcyMzE7JiMzMzAyMTs8L3RleHQ+PC9nPjwhLS1jbHVzdGVyID8/Pz8tLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMzAiIGlkPSJlbnQwMDE1Ij48cGF0aCBkPSJNNzY3LjUsNDcuNzk2OSBMODI0LjQ5OTgsNDcuNzk2OSBBMy43NSwzLjc1IDAgMCAxIDgyNi45OTk4LDUwLjI5NjkgTDgzMy45OTk4LDcwLjA5MzggTDg4NC41LDcwLjA5MzggQTIuNSwyLjUgMCAwIDEgODg3LDcyLjU5MzggTDg4NywyNjIuMzM2OSBBMi41LDIuNSAwIDAgMSA4ODQuNSwyNjQuODM2OSBMNzY3LjUsMjY0LjgzNjkgQTIuNSwyLjUgMCAwIDEgNzY1LDI2Mi4zMzY5IEw3NjUsNTAuMjk2OSBBMi41LDIuNSAwIDAgMSA3NjcuNSw0Ny43OTY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI3NjUiIHgyPSI4MzMuOTk5OCIgeTE9IjcwLjA5MzgiIHkyPSI3MC4wOTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9Ijc2OSIgeT0iNjIuNzkyIj4mIzMyMDc2OyYjMjk3MDI7JiMzNzA5NjsmIzM4MjcyOzwvdGV4dD48L2c+PCEtLWVudGl0eSBTYWxlc0lucHV0LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi5TYWxlc0lucHV0IiBkYXRhLXNvdXJjZS1saW5lPSIxMyIgaWQ9ImVudDAwMDMiPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iNTIuNTkzOCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iODcuNTcwMyIgeD0iNDQuMjEiIHk9IjgyLjc5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY1LjU3MDMiIHg9IjU1LjIxIiB5PSIxMDUuNzkyIj4mIzE3MTtTY3JlZW4mIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iNTkuOTk1MyIgeT0iMTIyLjA4ODkiPiYjMjI3NzA7JiMxOTk3ODsmIzIwODM3OyYjMjExNDc7PC90ZXh0PjwvZz48IS0tZW50aXR5IFNhbGVzREItLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLlNhbGVzREIiIGRhdGEtc291cmNlLWxpbmU9IjE0IiBpZD0iZW50MDAwNCI+PHBhdGggZD0iTTQzLDIxMy41MzY5IEM0MywyMDMuNTM2OSA4Ny45OTk4LDIwMy41MzY5IDg3Ljk5OTgsMjAzLjUzNjkgQzg3Ljk5OTgsMjAzLjUzNjkgMTMyLjk5OTcsMjAzLjUzNjkgMTMyLjk5OTcsMjEzLjUzNjkgTDEzMi45OTk3LDIzOC44MzM4IEMxMzIuOTk5NywyNDguODMzOCA4Ny45OTk4LDI0OC44MzM4IDg3Ljk5OTgsMjQ4LjgzMzggQzg3Ljk5OTgsMjQ4LjgzMzggNDMsMjQ4LjgzMzggNDMsMjM4LjgzMzggTDQzLDIxMy41MzY5IiBmaWxsPSIjRThGNUU5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNDMsMjEzLjUzNjkgQzQzLDIyMy41MzY5IDg3Ljk5OTgsMjIzLjUzNjkgODcuOTk5OCwyMjMuNTM2OSBDODcuOTk5OCwyMjMuNTM2OSAxMzIuOTk5NywyMjMuNTM2OSAxMzIuOTk5NywyMTMuNTM2OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iNTMiIHk9IjI0MC41MzIiPiYjMjI3NzA7JiMxOTk3ODsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgU2FsZXNMaXN0LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi5TYWxlc0xpc3QiIGRhdGEtc291cmNlLWxpbmU9IjE1IiBpZD0iZW50MDAwNSI+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSI2OC44OTA2IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMTcuOTk5NiIgeD0iMjIiIHk9IjMxMi40ODY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4OS42NjAyIiB4PSIzNi4xNjk3IiB5PSIzMzUuNDgyIj4mIzE3MTtEb2N1bWVudCYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSIzMiIgeT0iMzUxLjc3ODkiPiYjMjI3NzA7JiMxOTk3ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMzIiIHk9IjM2OC4wNzU3Ij4mIzEyNDgxOyYjMTI0NTU7JiMxMjQ4MzsmIzEyNDYzOyYjMTI1MjI7JiMxMjQ3MzsmIzEyNDg4OzwvdGV4dD48L2c+PCEtLWVudGl0eSBQYXR0ZXJuTWFzdGVyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLlBhdHRlcm5NYXN0ZXIiIGRhdGEtc291cmNlLWxpbmU9IjE5IiBpZD0iZW50MDAwNyI+PHBhdGggZD0iTTE5Niw4OC4yOTY5IEMxOTYsNzguMjk2OSAyNTQuOTk5OCw3OC4yOTY5IDI1NC45OTk4LDc4LjI5NjkgQzI1NC45OTk4LDc4LjI5NjkgMzEzLjk5OTYsNzguMjk2OSAzMTMuOTk5Niw4OC4yOTY5IEwzMTMuOTk5NiwxMjkuODkwNiBDMzEzLjk5OTYsMTM5Ljg5MDYgMjU0Ljk5OTgsMTM5Ljg5MDYgMjU0Ljk5OTgsMTM5Ljg5MDYgQzI1NC45OTk4LDEzOS44OTA2IDE5NiwxMzkuODkwNiAxOTYsMTI5Ljg5MDYgTDE5Niw4OC4yOTY5IiBmaWxsPSIjRThGNUU5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMTk2LDg4LjI5NjkgQzE5Niw5OC4yOTY5IDI1NC45OTk4LDk4LjI5NjkgMjU0Ljk5OTgsOTguMjk2OSBDMjU0Ljk5OTgsOTguMjk2OSAzMTMuOTk5Niw5OC4yOTY5IDMxMy45OTk2LDg4LjI5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjIwNiIgeT0iMTE1LjI5MiI+JiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMjA2IiB5PSIxMzEuNTg4OSI+JiMxMjQ5NzsmIzEyNDc5OyYjMTI1NDA7JiMxMjUzMTsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgQXV0b0pvdXJuYWxQcm9jZXNzLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLkF1dG9Kb3VybmFsUHJvY2VzcyIgZGF0YS1zb3VyY2UtbGluZT0iMjAiIGlkPSJlbnQwMDA4Ij48cmVjdCBmaWxsPSIjNENBRjUwIiBoZWlnaHQ9IjUyLjU5MzgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEwMy45OTk2IiB4PSIxOTYiIHk9IjE5OS44ODY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MC43OTMiIHg9IjIxMi42MDMzIiB5PSIyMjIuODgyIj4mIzE3MTtQcm9jZXNzJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjIwNiIgeT0iMjM5LjE3ODkiPiYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7JiMyMDk2NjsmIzI5NzAyOzwvdGV4dD48L2c+PCEtLWVudGl0eSBBdXRvSm91cm5hbERCLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLkF1dG9Kb3VybmFsREIiIGRhdGEtc291cmNlLWxpbmU9IjIxIiBpZD0iZW50MDAwOSI+PHBhdGggZD0iTTMzNSwyMTMuNTM2OSBDMzM1LDIwMy41MzY5IDM5My45OTk4LDIwMy41MzY5IDM5My45OTk4LDIwMy41MzY5IEMzOTMuOTk5OCwyMDMuNTM2OSA0NTIuOTk5NiwyMDMuNTM2OSA0NTIuOTk5NiwyMTMuNTM2OSBMNDUyLjk5OTYsMjM4LjgzMzggQzQ1Mi45OTk2LDI0OC44MzM4IDM5My45OTk4LDI0OC44MzM4IDM5My45OTk4LDI0OC44MzM4IEMzOTMuOTk5OCwyNDguODMzOCAzMzUsMjQ4LjgzMzggMzM1LDIzOC44MzM4IEwzMzUsMjEzLjUzNjkiIGZpbGw9IiNFOEY1RTkiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0zMzUsMjEzLjUzNjkgQzMzNSwyMjMuNTM2OSAzOTMuOTk5OCwyMjMuNTM2OSAzOTMuOTk5OCwyMjMuNTM2OSBDMzkzLjk5OTgsMjIzLjUzNjkgNDUyLjk5OTYsMjIzLjUzNjkgNDUyLjk5OTYsMjEzLjUzNjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjM0NSIgeT0iMjQwLjUzMiI+JiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgRXJyb3JEQi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uLi5FcnJvckRCIiBkYXRhLXNvdXJjZS1saW5lPSIyMiIgaWQ9ImVudDAwMTAiPjxwYXRoIGQ9Ik0xOTYsMzM0LjI3NjkgQzE5NiwzMjQuMjc2OSAyNDcuOTk5OCwzMjQuMjc2OSAyNDcuOTk5OCwzMjQuMjc2OSBDMjQ3Ljk5OTgsMzI0LjI3NjkgMjk5Ljk5OTYsMzI0LjI3NjkgMjk5Ljk5OTYsMzM0LjI3NjkgTDI5OS45OTk2LDM1OS41NzM4IEMyOTkuOTk5NiwzNjkuNTczOCAyNDcuOTk5OCwzNjkuNTczOCAyNDcuOTk5OCwzNjkuNTczOCBDMjQ3Ljk5OTgsMzY5LjU3MzggMTk2LDM2OS41NzM4IDE5NiwzNTkuNTczOCBMMTk2LDMzNC4yNzY5IiBmaWxsPSIjRThGNUU5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMTk2LDMzNC4yNzY5IEMxOTYsMzQ0LjI3NjkgMjQ3Ljk5OTgsMzQ0LjI3NjkgMjQ3Ljk5OTgsMzQ0LjI3NjkgQzI0Ny45OTk4LDM0NC4yNzY5IDI5OS45OTk2LDM0NC4yNzY5IDI5OS45OTk2LDMzNC4yNzY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSIyMDYiIHk9IjM2MS4yNzIiPiYjMTI0NTY7JiMxMjUyMTsmIzEyNTQwOyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48L2c+PCEtLWVudGl0eSBFcnJvckxpc3QtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLi4uRXJyb3JMaXN0IiBkYXRhLXNvdXJjZS1saW5lPSIyMyIgaWQ9ImVudDAwMTEiPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iNTIuNTkzOCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTExLjY2MDIiIHg9IjE5Ni4xNyIgeT0iNDQxLjM3NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg5LjY2MDIiIHg9IjIwNy4xNyIgeT0iNDY0LjM3MiI+JiMxNzE7RG9jdW1lbnQmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMjEwLjAwMDMiIHk9IjQ4MC42Njg5Ij4mIzEyNDU2OyYjMTI1MjE7JiMxMjU0MDsmIzEyNTIyOyYjMTI0NzM7JiMxMjQ4ODs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgQXV0b0pvdXJuYWxMaXN0LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLkF1dG9Kb3VybmFsTGlzdCIgZGF0YS1zb3VyY2UtbGluZT0iMjQiIGlkPSJlbnQwMDEyIj48cmVjdCBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjY4Ljg5MDYiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExNy45OTk2IiB4PSIzMzUiIHk9IjMxMi40ODY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4OS42NjAyIiB4PSIzNDkuMTY5NyIgeT0iMzM1LjQ4MiI+JiMxNzE7RG9jdW1lbnQmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMzQ1IiB5PSIzNTEuNzc4OSI+JiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMzQ1IiB5PSIzNjguMDc1NyI+JiMxMjQ4MTsmIzEyNDU1OyYjMTI0ODM7JiMxMjQ2MzsmIzEyNTIyOyYjMTI0NzM7JiMxMjQ4ODs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgUG9zdGluZ1Byb2Nlc3MtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLi4uUG9zdGluZ1Byb2Nlc3MiIGRhdGEtc291cmNlLWxpbmU9IjI2IiBpZD0iZW50MDAxMyI+PHJlY3QgZmlsbD0iIzRDQUY1MCIgaGVpZ2h0PSI1Mi41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI5Mi43OTMiIHg9IjU0MC42IiB5PSIxOTkuODg2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzAuNzkzIiB4PSI1NTEuNiIgeT0iMjIyLjg4MiI+JiMxNzE7UHJvY2VzcyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI1NTguOTk2NiIgeT0iMjM5LjE3ODkiPiYjMzY1Nzg7JiMzNTM1MjsmIzIwOTY2OyYjMjk3MDI7PC90ZXh0PjwvZz48IS0tZW50aXR5IFN3aXRjaC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uLi5Td2l0Y2giIGRhdGEtc291cmNlLWxpbmU9IjI3IiBpZD0iZW50MDAxNCI+PGVsbGlwc2UgY3g9IjQ5NyIgY3k9IjIyNi4xODY5IiBmaWxsPSIjRjFGMUYxIiByeD0iOCIgcnk9IjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48IS0tZW50aXR5IEpvdXJuYWxJbnB1dC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uSm91cm5hbElucHV0IiBkYXRhLXNvdXJjZS1saW5lPSIzMSIgaWQ9ImVudDAwMTYiPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iNTIuNTkzOCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iODcuNTcwMyIgeD0iNzgzLjIxIiB5PSI4Mi43OTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NS41NzAzIiB4PSI3OTQuMjEiIHk9IjEwNS43OTIiPiYjMTcxO1NjcmVlbiYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI3OTguOTk1MyIgeT0iMTIyLjA4ODkiPiYjMjAxODE7JiMzNTM3OTsmIzIwODM3OyYjMjExNDc7PC90ZXh0PjwvZz48IS0tZW50aXR5IEpvdXJuYWxEQi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uSm91cm5hbERCIiBkYXRhLXNvdXJjZS1saW5lPSIzMiIgaWQ9ImVudDAwMTciPjxwYXRoIGQ9Ik03ODEsMjEzLjUzNjkgQzc4MSwyMDMuNTM2OSA4MjUuOTk5OCwyMDMuNTM2OSA4MjUuOTk5OCwyMDMuNTM2OSBDODI1Ljk5OTgsMjAzLjUzNjkgODcwLjk5OTcsMjAzLjUzNjkgODcwLjk5OTcsMjEzLjUzNjkgTDg3MC45OTk3LDIzOC44MzM4IEM4NzAuOTk5NywyNDguODMzOCA4MjUuOTk5OCwyNDguODMzOCA4MjUuOTk5OCwyNDguODMzOCBDODI1Ljk5OTgsMjQ4LjgzMzggNzgxLDI0OC44MzM4IDc4MSwyMzguODMzOCBMNzgxLDIxMy41MzY5IiBmaWxsPSIjRThGNUU5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNzgxLDIxMy41MzY5IEM3ODEsMjIzLjUzNjkgODI1Ljk5OTgsMjIzLjUzNjkgODI1Ljk5OTgsMjIzLjUzNjkgQzgyNS45OTk4LDIyMy41MzY5IDg3MC45OTk3LDIyMy41MzY5IDg3MC45OTk3LDIxMy41MzY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSI3OTEiIHk9IjI0MC41MzIiPiYjMjAxODE7JiMzNTM3OTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkdNTjI3IiBkYXRhLXNvdXJjZS1saW5lPSI0NiIgaWQ9ImVudDAwMjgiPjxwYXRoIGQ9Ik02NjUuNDMsOTYuNTI2OSBMNjY1LjQzLDEyMS42NTk3IEw3NDguNTczNiwxMjEuNjU5NyBMNzQ4LjU3MzYsMTA2LjUyNjkgTDczOC41NzM2LDk2LjUyNjkgTDY2NS40Myw5Ni41MjY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNzM4LjU3MzYsOTYuNTI2OSBMNzM4LjU3MzYsMTA2LjUyNjkgTDc0OC41NzM2LDEwNi41MjY5IEw3MzguNTczNiw5Ni41MjY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjIuMTQzNiIgeD0iNjcxLjQzIiB5PSIxMTMuNTkzOCI+KCYjMzY1Nzg7JiMzNTM1MjsmIzI1MzUxOyYjMzEwMzQ7KTwvdGV4dD48L2c+PCEtLWxpbmsgU2FsZXNJbnB1dCB0byBTYWxlc0RCLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDMiIGRhdGEtZW50aXR5LTI9ImVudDAwMDQiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIzNSIgaWQ9ImxuazE4Ij48cGF0aCBkPSJNODgsMTM1LjYzNjkgQzg4LDE1NS44OTY5IDg4LDE3Ny45MjY5IDg4LDE5Ny4yMDY5IiBmaWxsPSJub25lIiBpZD0iU2FsZXNJbnB1dC10by1TYWxlc0RCIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI4OCwyMDMuMjA2OSw5MiwxOTQuMjA2OSw4OCwxOTguMjA2OSw4NCwxOTQuMjA2OSw4OCwyMDMuMjA2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBTYWxlc0RCIHRvIFNhbGVzTGlzdC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA0IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA1IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMzYiIGlkPSJsbmsxOSI+PHBhdGggZD0iTTg2LjcsMjQ5LjIzNjkgQzg1LjY2LDI2Ni45NDY5IDg0LjUyMjUsMjg2LjEwNzIgODMuMzMyNSwzMDYuMzI3MiIgZmlsbD0ibm9uZSIgaWQ9IlNhbGVzREItdG8tU2FsZXNMaXN0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI4Mi45OCwzMTIuMzE2OSw4Ny41MDE4LDMwMy41Njc0LDgzLjI3MzgsMzA3LjMyNTUsNzkuNTE1NywzMDMuMDk3NCw4Mi45OCwzMTIuMzE2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBTYWxlc0RCIHRvIEF1dG9Kb3VybmFsUHJvY2Vzcy0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA0IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA4IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMzgiIGlkPSJsbmsyMCI+PHBhdGggZD0iTTEzMy4zMSwyMjYuMTg2OSBDMTU0LjA3LDIyNi4xODY5IDE2OC44MywyMjYuMTg2OSAxODkuNTgsMjI2LjE4NjkiIGZpbGw9Im5vbmUiIGlkPSJTYWxlc0RCLXRvLUF1dG9Kb3VybmFsUHJvY2VzcyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTk1LjU4LDIyNi4xODY5LDE4Ni41OCwyMjIuMTg2OSwxOTAuNTgsMjI2LjE4NjksMTg2LjU4LDIzMC4xODY5LDE5NS41OCwyMjYuMTg2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBQYXR0ZXJuTWFzdGVyIHRvIEF1dG9Kb3VybmFsUHJvY2Vzcy0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA3IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA4IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMzkiIGlkPSJsbmsyMSI+PHBhdGggZD0iTTI1My4xNiwxNDAuMzI2OSBDMjUyLjA0LDE1OC43MTY5IDI1MC45OTI4LDE3NS45NDc5IDI0OS45MzI4LDE5My40NDc5IiBmaWxsPSJub25lIiBpZD0iUGF0dGVybk1hc3Rlci10by1BdXRvSm91cm5hbFByb2Nlc3MiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI0OS41NywxOTkuNDM2OSwyNTQuMTA2OCwxOTAuNjk1MiwyNDkuODcyMywxOTQuNDQ2LDI0Ni4xMjE1LDE5MC4yMTE1LDI0OS41NywxOTkuNDM2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBBdXRvSm91cm5hbFByb2Nlc3MgdG8gQXV0b0pvdXJuYWxEQi0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA4IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA5IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iNDAiIGlkPSJsbmsyMiI+PHBhdGggZD0iTTMwMC40NywyMjYuMTg2OSBDMzExLjkyLDIyNi4xODY5IDMxNy4zNiwyMjYuMTg2OSAzMjguODEsMjI2LjE4NjkiIGZpbGw9Im5vbmUiIGlkPSJBdXRvSm91cm5hbFByb2Nlc3MtdG8tQXV0b0pvdXJuYWxEQiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzM0LjgxLDIyNi4xODY5LDMyNS44MSwyMjIuMTg2OSwzMjkuODEsMjI2LjE4NjksMzI1LjgxLDIzMC4xODY5LDMzNC44MSwyMjYuMTg2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBBdXRvSm91cm5hbFByb2Nlc3MgdG8gRXJyb3JEQi0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA4IiBkYXRhLWVudGl0eS0yPSJlbnQwMDEwIiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iNDEiIGlkPSJsbmsyMyI+PHBhdGggZD0iTTI0OCwyNTIuOTQ2OSBDMjQ4LDI3NC4wOTY5IDI0OCwyOTcuNzE2OSAyNDgsMzE3LjgwNjkiIGZpbGw9Im5vbmUiIGlkPSJBdXRvSm91cm5hbFByb2Nlc3MtdG8tRXJyb3JEQiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjQ4LDMyMy44MDY5LDI1MiwzMTQuODA2OSwyNDgsMzE4LjgwNjksMjQ0LDMxNC44MDY5LDI0OCwzMjMuODA2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBFcnJvckRCIHRvIEVycm9yTGlzdC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDEwIiBkYXRhLWVudGl0eS0yPSJlbnQwMDExIiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iNDIiIGlkPSJsbmsyNCI+PHBhdGggZD0iTTI0OC43NCwzNjkuOTg2OSBDMjQ5LjQyLDM5MC4xMDY5IDI1MC4yMTYyLDQxMy44NDAzIDI1MC45MzYyLDQzNS4wMjAzIiBmaWxsPSJub25lIiBpZD0iRXJyb3JEQi10by1FcnJvckxpc3QiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI1MS4xNCw0NDEuMDE2OSwyNTQuODMxOSw0MzEuODg2MiwyNTAuOTcwMSw0MzYuMDE5OCwyNDYuODM2NSw0MzIuMTU4LDI1MS4xNCw0NDEuMDE2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBBdXRvSm91cm5hbERCIHRvIEF1dG9Kb3VybmFsTGlzdC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA5IiBkYXRhLWVudGl0eS0yPSJlbnQwMDEyIiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iNDMiIGlkPSJsbmsyNSI+PHBhdGggZD0iTTM5NCwyNDkuMjM2OSBDMzk0LDI2Ni45NDY5IDM5NCwyODYuMDk2OSAzOTQsMzA2LjMxNjkiIGZpbGw9Im5vbmUiIGlkPSJBdXRvSm91cm5hbERCLXRvLUF1dG9Kb3VybmFsTGlzdCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzk0LDMxMi4zMTY5LDM5OCwzMDMuMzE2OSwzOTQsMzA3LjMxNjksMzkwLDMwMy4zMTY5LDM5NCwzMTIuMzE2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBBdXRvSm91cm5hbERCIHRvIFN3aXRjaC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA5IiBkYXRhLWVudGl0eS0yPSJlbnQwMDE0IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iNDUiIGlkPSJsbmsyNiI+PHBhdGggZD0iTTQ1My4xNCwyMjYuMTg2OSBDNDY0LjY4LDIyNi4xODY5IDQ3MC4yMSwyMjYuMTg2OSA0ODEuNzUsMjI2LjE4NjkiIGZpbGw9Im5vbmUiIGlkPSJBdXRvSm91cm5hbERCLXRvLVN3aXRjaCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNDg3Ljc1LDIyNi4xODY5LDQ3OC43NSwyMjIuMTg2OSw0ODIuNzUsMjI2LjE4NjksNDc4Ljc1LDIzMC4xODY5LDQ4Ny43NSwyMjYuMTg2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBHTU4yNyB0byBTd2l0Y2gtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAyOCIgZGF0YS1lbnRpdHktMj0iZW50MDAxNCIgZGF0YS1saW5rLXR5cGU9ImFzc29jaWF0aW9uIiBkYXRhLXNvdXJjZS1saW5lPSI0NiIgaWQ9ImxuazI5Ij48cGF0aCBkPSJNNjgzLjk0LDEyMi4xMzY5IEM2NzMuMzMsMTI3LjYyNjkgNjYwLjU3LDEzNC4xNjY5IDY0OSwxMzkuODg2OSBDNTkzLjQxLDE2Ny4zOTY5IDU3My45MSwxNjQuNDU2OSA1MjMsMTk5Ljg4NjkgQzUxNS45NywyMDQuNzc2OSA1MDkuMDcsMjExLjYxNjkgNTA0LjE1LDIxNi45NDY5IiBmaWxsPSJub25lIiBpZD0iR01OMjctU3dpdGNoIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTo3LDc7Ii8+PC9nPjwhLS1saW5rIFN3aXRjaCB0byBQb3N0aW5nUHJvY2Vzcy0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDE0IiBkYXRhLWVudGl0eS0yPSJlbnQwMDEzIiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iNDciIGlkPSJsbmszMCI+PHBhdGggZD0iTTUwNi40OSwyMjYuMTg2OSBDNTE3LjcxLDIyNi4xODY5IDUyMi45MywyMjYuMTg2OSA1MzQuMTQsMjI2LjE4NjkiIGZpbGw9Im5vbmUiIGlkPSJTd2l0Y2gtdG8tUG9zdGluZ1Byb2Nlc3MiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjU0MC4xNCwyMjYuMTg2OSw1MzEuMTQsMjIyLjE4NjksNTM1LjE0LDIyNi4xODY5LDUzMS4xNCwyMzAuMTg2OSw1NDAuMTQsMjI2LjE4NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgUG9zdGluZ1Byb2Nlc3MgdG8gSm91cm5hbERCLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMTMiIGRhdGEtZW50aXR5LTI9ImVudDAwMTciIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI0OCIgaWQ9ImxuazMxIj48cGF0aCBkPSJNNjMzLjY4LDIyNi4xODY5IEM2ODIuNjQsMjI2LjE4NjkgNzI1LjU5LDIyNi4xODY5IDc3NC41NSwyMjYuMTg2OSIgZmlsbD0ibm9uZSIgaWQ9IlBvc3RpbmdQcm9jZXNzLXRvLUpvdXJuYWxEQiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNzgwLjU1LDIyNi4xODY5LDc3MS41NSwyMjIuMTg2OSw3NzUuNTUsMjI2LjE4NjksNzcxLjU1LDIzMC4xODY5LDc4MC41NSwyMjYuMTg2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBKb3VybmFsSW5wdXQgdG8gSm91cm5hbERCLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMTYiIGRhdGEtZW50aXR5LTI9ImVudDAwMTciIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI1MCIgaWQ9ImxuazMyIj48cGF0aCBkPSJNODI2Ljc4LDEzNS42MzY5IEM4MjYuNiwxNTUuODk2OSA4MjYuNDEyOSwxNzcuOTI3MSA4MjYuMjQyOSwxOTcuMjA3MSIgZmlsbD0ibm9uZSIgaWQ9IkpvdXJuYWxJbnB1dC10by1Kb3VybmFsREIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjgyNi4xOSwyMDMuMjA2OSw4MzAuMjY5MiwxOTQuMjQyNSw4MjYuMjM0MSwxOTguMjA3MSw4MjIuMjY5NSwxOTQuMTcyLDgyNi4xOSwyMDMuMjA2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48P3BsYW50dW1sLXNyYyBWTDkxUW5HbjZCdGRMdUpQWW51QTJYUFFBR0ZUVFhTS1hPS1VsN1k5aXQ1c3czSFBDWGJ3NEM1RXE5TXcxcHNxMjhBMk1qcU1MQjFLcjJoLWM3SHNqX18ycDZ2czlrYkN6dklHbEV6enh0bFZ1bTRGQ0hwdFpqOE5Vc1VkVS1GMVNUaHhEN2h2SkV2eWJROGRuSC1QXzVGdHVTY0VKRmUwSDlpMXdJQTZqWTMzN2FWNEx5TUZHMXJ2Y3B3WkNNY2xxUDBvVUF5SlMwcGdiQktuY3h4S0dtSzFadXR3RGtCZTBPZ2dvY2tEZlVQWU94Y0kwN0pMWU5tQ2ROSl9uXzNXb3hhT2RFeV9TSEhCOFNYOUZ0bV8teGNSRlpyOFR6eXU0NExtMHVLdWthTXdDT1NoQW5pVW12WXVCaVdidzg5eXVBOWNsTHhjbEstYUs2dnliYUI4djlpS0hwQnY5U05wZWtYRTQ2THpyZ2FOUnM3MkxJVEpqLWRyeUYzVE1GbnJPQXJ2bFJkS001UEo1OWZDTkRSb0xSTzk5S3lTSV80c1F3YnJqWDNkYzk2eEE1QTdnUlF5cjBiLURVUnFEZXFQR002QktHejdhVEFnUnd1QlFwVk1MZmtCcm91SE9iamFLMmNaWVdnUDNBR3VkOFdydUd0NkFCQ1REUDJjWkhEYXNTUEJYZmt0NDREWWNTeVlGN3FfN2htc1Y2aEhZMFY0ZC1VSDVwMGxndU5KdE15N3RFak9rbndUejFMVFBLUnJOZWdDUWZMcEtiZ3JXaTktclRVOC1LQVJSZkM1RHEtbkZrdHRwMTVHVkI3MHh0M3JMcXU4aTRBTWFyRzBBejlMblFpS0xJNHJ4b21lLWhKVjl3OGpnWWV6cXo0a202UDJ6QU84dkhYb3NlTnFlTncyRC02TFFIMjZfVHhldS0taEdCX2RmTk9nbThNR3ZCMVlKNjNqVFFPcV9feUY/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_5">自動仕訳処理の流れ<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkFDVElWSVRZIiBoZWlnaHQ9IjgwNXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6Nzg2cHg7aGVpZ2h0OjgwNXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDc4NiA4MDUiIHdpZHRoPSI3ODZweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7JiMyMDk2NjsmIzI5NzAyOyYjMTI1MDE7JiMxMjUyNTsmIzEyNTQwOzwvdGl0bGU+PGRlZnMvPjxnPjxnIGNsYXNzPSJ0aXRsZSIgZGF0YS1zb3VyY2UtbGluZT0iMSI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNS45OTk1IiB4PSIzMjguOTMxOSIgeT0iMzIuOTk1MSI+JiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTsmIzIwOTY2OyYjMjk3MDI7JiMxMjUwMTsmIzEyNTI1OyYjMTI1NDA7PC90ZXh0PjwvZz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjIwLjk1MzEiIHN0eWxlPSJzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI3NTMuODYzMiIgeD0iMTUiIHk9IjUwLjA0MiIvPjxlbGxpcHNlIGN4PSI1Ni45OTk4IiBjeT0iODUuOTk1MSIgZmlsbD0iIzIyMjIyMiIgcng9IjEwIiByeT0iMTAiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNjguMDAwNCIgeD0iMjIuOTk5NiIgeT0iMTE1Ljk5NTEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OC4wMDA0IiB4PSIzMi45OTk2IiB5PSIxMzcuMTMzOCI+JiMyMjc3MDsmIzE5OTc4OyYjMzAzMzE7JiMzNzY4Mjs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMTUiIHgyPSIxNSIgeTE9IjUwLjA0MiIgeTI9Ijc5My45Nzk1Ii8+PHBhdGggZD0iTTMyMi4wMDA4LDE2Ni44MTU0IEwzMjIuMDAwOCwxODIuOTQ4MiBMMzAyLjAwMDgsMTg2Ljk0ODIgTDMyMi4wMDA4LDE5MC45NDgyIEwzMjIuMDAwOCwyMDcuMDgxMSBBMCwwIDAgMCAwIDMyMi4wMDA4LDIwNy4wODExIEw0ODYuMDAxLDIwNy4wODExIEEwLDAgMCAwIDAgNDg2LjAwMSwyMDcuMDgxMSBMNDg2LjAwMSwxNzYuODE1NCBMNDc2LjAwMSwxNjYuODE1NCBMMzIyLjAwMDgsMTY2LjgxNTQgQTAsMCAwIDAgMCAzMjIuMDAwOCwxNjYuODE1NCIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTQ3Ni4wMDEsMTY2LjgxNTQgTDQ3Ni4wMDEsMTc2LjgxNTQgTDQ4Ni4wMDEsMTc2LjgxNTQgTDQ3Ni4wMDEsMTY2LjgxNTQiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMC4wMDAyIiB4PSIzMjguMDAwOCIgeT0iMTgzLjg4MjMiPiYjMjY0MTA7JiMyMDk2NjsmIzI5NzAyOyYjMTIzOTg7JiMyMjc3MDsmIzE5OTc4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyYjMTI0MzQ7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0My4wMDAyIiB4PSIzMjguMDAwOCIgeT0iMTk5LjAxNTEiPiYjMjUyNzc7JiMyMDk4NjsmIzI2NDY1OyYjMjAyMTQ7JiMxMjM5NTsmIzIyNTIyOyYjMTIzODk7JiMxMjM1NjsmIzEyMzkwOyYjMjE0NjI7JiMyNDQ3MTs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEwNC4wMDA2IiB4PSIxOTguMDAwMSIgeT0iMTY5Ljk2MzkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NC4wMDA2IiB4PSIyMDguMDAwMSIgeT0iMTkxLjEwMjUiPiYjMjI3NzA7JiMxOTk3ODsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsmIzI1Mjc3OyYjMjA5ODY7PC90ZXh0PjxwYXRoIGQ9Ik0zMzQuMDAwOSwyMjMuOTMyNiBMMzM0LjAwMDksMjQwLjA2NTQgTDMxNC4wMDA5LDI0NC4wNjU0IEwzMzQuMDAwOSwyNDguMDY1NCBMMzM0LjAwMDksMjY0LjE5ODIgQTAsMCAwIDAgMCAzMzQuMDAwOSwyNjQuMTk4MiBMNTI0LjAwMTEsMjY0LjE5ODIgQTAsMCAwIDAgMCA1MjQuMDAxMSwyNjQuMTk4MiBMNTI0LjAwMTEsMjMzLjkzMjYgTDUxNC4wMDExLDIyMy45MzI2IEwzMzQuMDAwOSwyMjMuOTMyNiBBMCwwIDAgMCAwIDMzNC4wMDA5LDIyMy45MzI2IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNTE0LjAwMTEsMjIzLjkzMjYgTDUxNC4wMDExLDIzMy45MzI2IEw1MjQuMDAxMSwyMzMuOTMyNiBMNTE0LjAwMTEsMjIzLjkzMjYiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0My4wMDAyIiB4PSIzNDAuMDAwOSIgeT0iMjQwLjk5OTUiPiYjMjE4MzA7JiMyMTY5NzsmIzIxMzA2OyYjMjA5OTg7JiMxMjUzOTsmIzM5MDE1OyYjMjM0NTg7JiMyMTMwNjsmIzIwOTk4OyYjMTIzNjM7JiMxMjQyNTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY5LjAwMDIiIHg9IjM0MC4wMDA5IiB5PSIyNTYuMTMyMyI+JiMzNjk2OTsmIzI5OTkyOyYjMTIzNzc7JiMxMjQyNzsmIzIwMTgxOyYjMzUzNzk7JiMxMjQ5NzsmIzEyNDc5OyYjMTI1NDA7JiMxMjUzMTsmIzEyNDM0OyYjMjc3NzA7JiMyMzQ1MDs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyOC4wMDA4IiB4PSIxODYuMDAwMSIgeT0iMjI3LjA4MTEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDguMDAwOCIgeD0iMTk2LjAwMDEiIHk9IjI0OC4yMTk3Ij4mIzEyNDk3OyYjMTI0Nzk7JiMxMjU0MDsmIzEyNTMxOyYjMTI1MTA7JiMxMjQ4MzsmIzEyNDgxOyYjMTI1MzE7JiMxMjQ2NDs8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0YxRjFGMSIgcG9pbnRzPSIyMTEuNTAwNywyODQuMTk4MiwyODguNTAwMiwyODQuMTk4MiwzMDAuNTAwMiwyOTYuMTk4MiwyODguNTAwMiwzMDguMTk4MiwyMTEuNTAwNywzMDguMTk4MiwxOTkuNTAwNywyOTYuMTk4MiwyMTEuNTAwNywyODQuMTk4MiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzYuOTk5NSIgeD0iMjExLjUwMDciIHk9IjMwMC4wMDYzIj4mIzEyNDk3OyYjMTI0Nzk7JiMxMjU0MDsmIzEyNTMxOyYjMzY5Njk7JiMyMTUxMjsmIzY1MzExOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMS45OTk4IiB4PSIxNzcuNTAwOSIgeT0iMjkzLjYwNCI+JiMxMjM5OTsmIzEyMzU2OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMi45OTk4IiB4PSIzMDAuNTAwMiIgeT0iMjkzLjYwNCI+JiMxMjM1NjsmIzEyMzU2OyYjMTIzNjA7PC90ZXh0PjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDQuMDAwNiIgeD0iMTIwLjk5OTciIHk9IjMxOC4xOTgyIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODQuMDAwNiIgeD0iMTMwLjk5OTciIHk9IjMzOS4zMzY5Ij4mIzIwMTgxOyYjMzUzNzk7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7JiMyOTk4MzsmIzI1MTA0OzwvdGV4dD48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTQwLjAwMDkiIHg9IjEwMi45OTk2IiB5PSIzNzIuMTY3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIwLjAwMDkiIHg9IjExMi45OTk2IiB5PSIzOTMuMzA1NyI+JiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsmIzEyMzk1OyYjMjA0NDU7JiMyMzM4NDs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyOC4wMDA4IiB4PSIyNjMuMDAwNSIgeT0iMzE4LjE5ODIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDguMDAwOCIgeD0iMjczLjAwMDUiIHk9IjMzOS4zMzY5Ij4mIzEyNDU2OyYjMTI1MjE7JiMxMjU0MDsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsmIzEyMzk1OyYjMjA0NDU7JiMyMzM4NDs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExNi4wMDA3IiB4PSIyNjkuMDAwNSIgeT0iMzcyLjE2NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk2LjAwMDciIHg9IjI3OS4wMDA1IiB5PSIzOTMuMzA1NyI+JiMxMjQ1NjsmIzEyNTIxOyYjMTI1NDA7JiMxMjUyMjsmIzEyNDczOyYjMTI0ODg7JiMyMDk4NjsmIzIxMTQ3OzwvdGV4dD48ZWxsaXBzZSBjeD0iMzI3LjAwMDkiIGN5PSI0MzcuMTM1NyIgZmlsbD0ibm9uZSIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48ZWxsaXBzZSBjeD0iMzI3LjAwMDkiIGN5PSI0MzcuMTM1NyIgZmlsbD0iIzIyMjIyMiIgcng9IjYiIHJ5PSI2IiBzdHlsZT0ic3Ryb2tlOiMyMjIyMjI7c3Ryb2tlLXdpZHRoOjE7Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE4OC4wMDEzIiB4PSIxNTUuOTk5OCIgeT0iNDY4LjEzNTciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjguMDAxMyIgeD0iMTY1Ljk5OTgiIHk9IjQ4OS4yNzQ0Ij4mIzIyNzcwOyYjMTk5Nzg7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7JiMxMjM5NTsmIzIwOTY2OyYjMjk3MDI7JiMyODE2ODsmIzEyNTAxOyYjMTI1MjE7JiMxMjQ2NDsmIzM1MzczOyYjMjM0NTA7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9Ijk2Ljk5OTYiIHgyPSI5Ni45OTk2IiB5MT0iNTAuMDQyIiB5Mj0iNzkzLjk3OTUiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTc2LjAwMTIiIHg9IjU2Ny4wMDEyIiB5PSI1MjIuMTA0NSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1Ni4wMDEyIiB4PSI1NzcuMDAxMiIgeT0iNTQzLjI0MzIiPiYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7JiMxMjQ4MTsmIzEyNDU1OyYjMTI0ODM7JiMxMjQ2MzsmIzEyNTIyOyYjMTI0NzM7JiMxMjQ4ODsmIzMwOTA2OyYjMzU0Njk7PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNGMUYxRjEiIHBvaW50cz0iNjMwLjU2NjEsNTc2LjA3MzIsNjc5LjQzNzQsNTc2LjA3MzIsNjkxLjQzNzQsNTg4LjA3MzIsNjc5LjQzNzQsNjAwLjA3MzIsNjMwLjU2NjEsNjAwLjA3MzIsNjE4LjU2NjEsNTg4LjA3MzIsNjMwLjU2NjEsNTc2LjA3MzIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ4Ljg3MTQiIHg9IjYzMC41NjYxIiB5PSI1OTEuODgxMyI+JiMzMDkwNjsmIzM1NDY5O09LJiM2NTMxMTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjEuOTk5OCIgeD0iNTk2LjU2NjIiIHk9IjU4NS40NzkiPiYjMTIzOTk7JiMxMjM1Njs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzIuOTk5OCIgeD0iNjkxLjQzNzQiIHk9IjU4NS40NzkiPiYjMTIzNTY7JiMxMjM1NjsmIzEyMzYwOzwvdGV4dD48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iOTIuMDAwNSIgeD0iNTQ3LjAwMTIiIHk9IjYxMC4wNzMyIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzIuMDAwNSIgeD0iNTU3LjAwMTIiIHk9IjYzMS4yMTE5Ij4mIzM2NTc4OyYjMzUzNTI7JiMyMDk2NjsmIzI5NzAyOyYjMjM0NTU7JiMzNDg5Mjs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExNi4wMDA3IiB4PSI1MzUuMDAxMSIgeT0iNjY0LjA0MiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk2LjAwMDciIHg9IjU0NS4wMDExIiB5PSI2ODUuMTgwNyI+JiMyMDE4MTsmIzM1Mzc5OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyYjMTIzOTU7JiMzMDMzMTsmIzM3NjgyOzwvdGV4dD48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iOTIuMDAwNSIgeD0iNjcxLjAwMTgiIHk9IjYxMC4wNzMyIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzIuMDAwNSIgeD0iNjgxLjAwMTgiIHk9IjYzMS4yMTE5Ij4mIzIwNDYyOyYjMjc0OTE7JiMxMjUzOTsmIzIwODc3OyYjMjA5NjY7JiMyOTcwMjs8L3RleHQ+PGVsbGlwc2UgY3g9IjcxNy4wMDIxIiBjeT0iNjc1LjA0MiIgZmlsbD0ibm9uZSIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48ZWxsaXBzZSBjeD0iNzE3LjAwMjEiIGN5PSI2NzUuMDQyIiBmaWxsPSIjMjIyMjIyIiByeD0iNiIgcnk9IjYiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNjguMDAwNCIgeD0iNjIxLjAwMTYiIHk9IjcxOC4wMTA3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDguMDAwNCIgeD0iNjMxLjAwMTYiIHk9IjczOS4xNDk0Ij4mIzIwMTgxOyYjMzUzNzk7JiMyMzQzNjsmIzIwMTAyOzwvdGV4dD48ZWxsaXBzZSBjeD0iNjU1LjAwMTgiIGN5PSI3ODIuOTc5NSIgZmlsbD0ibm9uZSIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48ZWxsaXBzZSBjeD0iNjU1LjAwMTgiIGN5PSI3ODIuOTc5NSIgZmlsbD0iIzIyMjIyMiIgcng9IjYiIHJ5PSI2IiBzdHlsZT0ic3Ryb2tlOiMyMjIyMjI7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNTI5LjAwMTEiIHgyPSI1MjkuMDAxMSIgeTE9IjUwLjA0MiIgeTI9Ijc5My45Nzk1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNzY3LjAwMjQiIHgyPSI3NjcuMDAyNCIgeTE9IjUwLjA0MiIgeTI9Ijc5My45Nzk1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjU2Ljk5OTgiIHgyPSI1Ni45OTk4IiB5MT0iOTUuOTk1MSIgeTI9IjExNS45OTUxIi8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1Mi45OTk4LDEwNS45OTUxLDU2Ljk5OTgsMTE1Ljk5NTEsNjAuOTk5OCwxMDUuOTk1MSw1Ni45OTk4LDEwOS45OTUxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI1MC4wMDA1IiB4Mj0iMjUwLjAwMDUiIHkxPSIyMDMuOTMyNiIgeTI9IjIyNy4wODExIi8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNDYuMDAwNSwyMTcuMDgxMSwyNTAuMDAwNSwyMjcuMDgxMSwyNTQuMDAwNSwyMTcuMDgxMSwyNTAuMDAwNSwyMjEuMDgxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNzMiIHgyPSIxNzMiIHkxPSIzNTIuMTY3IiB5Mj0iMzcyLjE2NyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTY5LDM2Mi4xNjcsMTczLDM3Mi4xNjcsMTc3LDM2Mi4xNjcsMTczLDM2Ni4xNjciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzI3LjAwMDkiIHgyPSIzMjcuMDAwOSIgeTE9IjM1Mi4xNjciIHkyPSIzNzIuMTY3Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzMjMuMDAwOSwzNjIuMTY3LDMyNy4wMDA5LDM3Mi4xNjcsMzMxLjAwMDksMzYyLjE2NywzMjcuMDAwOSwzNjYuMTY3IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMyNy4wMDA5IiB4Mj0iMzI3LjAwMDkiIHkxPSI0MDYuMTM1NyIgeTI9IjQyNi4xMzU3Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzMjMuMDAwOSw0MTYuMTM1NywzMjcuMDAwOSw0MjYuMTM1NywzMzEuMDAwOSw0MTYuMTM1NywzMjcuMDAwOSw0MjAuMTM1NyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxOTkuNTAwNyIgeDI9IjE3MyIgeTE9IjI5Ni4xOTgyIiB5Mj0iMjk2LjE5ODIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTczIiB4Mj0iMTczIiB5MT0iMjk2LjE5ODIiIHkyPSIzMTguMTk4MiIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTY5LDMwOC4xOTgyLDE3MywzMTguMTk4MiwxNzcsMzA4LjE5ODIsMTczLDMxMi4xOTgyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMwMC41MDAyIiB4Mj0iMzI3LjAwMDkiIHkxPSIyOTYuMTk4MiIgeTI9IjI5Ni4xOTgyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMyNy4wMDA5IiB4Mj0iMzI3LjAwMDkiIHkxPSIyOTYuMTk4MiIgeTI9IjMxOC4xOTgyIi8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzMjMuMDAwOSwzMDguMTk4MiwzMjcuMDAwOSwzMTguMTk4MiwzMzEuMDAwOSwzMDguMTk4MiwzMjcuMDAwOSwzMTIuMTk4MiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNzMiIHgyPSIxNzMiIHkxPSI0MDYuMTM1NyIgeTI9IjQ1My4xMzU3Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE3MyIgeDI9IjI1MC4wMDA1IiB5MT0iNDUzLjEzNTciIHkyPSI0NTMuMTM1NyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNTAuMDAwNSIgeDI9IjI1MC4wMDA1IiB5MT0iNDUzLjEzNTciIHkyPSI0NjguMTM1NyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjQ2LjAwMDUsNDU4LjEzNTcsMjUwLjAwMDUsNDY4LjEzNTcsMjU0LjAwMDUsNDU4LjEzNTcsMjUwLjAwMDUsNDYyLjEzNTciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjUwLjAwMDUiIHgyPSIyNTAuMDAwNSIgeTE9IjI2MS4wNDk4IiB5Mj0iMjg0LjE5ODIiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI0Ni4wMDA1LDI3NC4xOTgyLDI1MC4wMDA1LDI4NC4xOTgyLDI1NC4wMDA1LDI3NC4xOTgyLDI1MC4wMDA1LDI3OC4xOTgyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjU5My4wMDE0IiB4Mj0iNTkzLjAwMTQiIHkxPSI2NDQuMDQyIiB5Mj0iNjY0LjA0MiIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTg5LjAwMTQsNjU0LjA0Miw1OTMuMDAxNCw2NjQuMDQyLDU5Ny4wMDE0LDY1NC4wNDIsNTkzLjAwMTQsNjU4LjA0MiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI3MTcuMDAyMSIgeDI9IjcxNy4wMDIxIiB5MT0iNjQ0LjA0MiIgeTI9IjY2NC4wNDIiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjcxMy4wMDIxLDY1NC4wNDIsNzE3LjAwMjEsNjY0LjA0Miw3MjEuMDAyMSw2NTQuMDQyLDcxNy4wMDIxLDY1OC4wNDIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjE4LjU2NjEiIHgyPSI1OTMuMDAxNCIgeTE9IjU4OC4wNzMyIiB5Mj0iNTg4LjA3MzIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTkzLjAwMTQiIHgyPSI1OTMuMDAxNCIgeTE9IjU4OC4wNzMyIiB5Mj0iNjEwLjA3MzIiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjU4OS4wMDE0LDYwMC4wNzMyLDU5My4wMDE0LDYxMC4wNzMyLDU5Ny4wMDE0LDYwMC4wNzMyLDU5My4wMDE0LDYwNC4wNzMyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjY5MS40Mzc0IiB4Mj0iNzE3LjAwMjEiIHkxPSI1ODguMDczMiIgeTI9IjU4OC4wNzMyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjcxNy4wMDIxIiB4Mj0iNzE3LjAwMjEiIHkxPSI1ODguMDczMiIgeTI9IjYxMC4wNzMyIi8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI3MTMuMDAyMSw2MDAuMDczMiw3MTcuMDAyMSw2MTAuMDczMiw3MjEuMDAyMSw2MDAuMDczMiw3MTcuMDAyMSw2MDQuMDczMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI1OTMuMDAxNCIgeDI9IjU5My4wMDE0IiB5MT0iNjk4LjAxMDciIHkyPSI3MDMuMDEwNyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI1OTMuMDAxNCIgeDI9IjY1NS4wMDE4IiB5MT0iNzAzLjAxMDciIHkyPSI3MDMuMDEwNyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI2NTUuMDAxOCIgeDI9IjY1NS4wMDE4IiB5MT0iNzAzLjAxMDciIHkyPSI3MTguMDEwNyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNjUxLjAwMTgsNzA4LjAxMDcsNjU1LjAwMTgsNzE4LjAxMDcsNjU5LjAwMTgsNzA4LjAxMDcsNjU1LjAwMTgsNzEyLjAxMDciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjU1LjAwMTgiIHgyPSI2NTUuMDAxOCIgeTE9IjU1Ni4wNzMyIiB5Mj0iNTc2LjA3MzIiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjY1MS4wMDE4LDU2Ni4wNzMyLDY1NS4wMDE4LDU3Ni4wNzMyLDY1OS4wMDE4LDU2Ni4wNzMyLDY1NS4wMDE4LDU3MC4wNzMyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjY1NS4wMDE4IiB4Mj0iNjU1LjAwMTgiIHkxPSI3NTEuOTc5NSIgeTI9Ijc3MS45Nzk1Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI2NTEuMDAxOCw3NjEuOTc5NSw2NTUuMDAxOCw3NzEuOTc5NSw2NTkuMDAxOCw3NjEuOTc5NSw2NTUuMDAxOCw3NjUuOTc5NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI1Ni45OTk4IiB4Mj0iNTYuOTk5OCIgeTE9IjE0OS45NjM5IiB5Mj0iMTU0Ljk2MzkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTYuOTk5OCIgeDI9IjI1MC4wMDA1IiB5MT0iMTU0Ljk2MzkiIHkyPSIxNTQuOTYzOSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNTAuMDAwNSIgeDI9IjI1MC4wMDA1IiB5MT0iMTU0Ljk2MzkiIHkyPSIxNjkuOTYzOSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjQ2LjAwMDUsMTU5Ljk2MzksMjUwLjAwMDUsMTY5Ljk2MzksMjU0LjAwMDUsMTU5Ljk2MzksMjUwLjAwMDUsMTYzLjk2MzkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjUwLjAwMDUiIHgyPSIyNTAuMDAwNSIgeTE9IjUwMi4xMDQ1IiB5Mj0iNTA3LjEwNDUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjUwLjAwMDUiIHgyPSI2NTUuMDAxOCIgeTE9IjUwNy4xMDQ1IiB5Mj0iNTA3LjEwNDUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjU1LjAwMTgiIHgyPSI2NTUuMDAxOCIgeTE9IjUwNy4xMDQ1IiB5Mj0iNTIyLjEwNDUiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjY1MS4wMDE4LDUxMi4xMDQ1LDY1NS4wMDE4LDUyMi4xMDQ1LDY1OS4wMDE4LDUxMi4xMDQ1LDY1NS4wMDE4LDUxNi4xMDQ1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTgiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzEuOTk5NiIgeD0iMjAiIHk9IjY2Ljc1Ij4mIzIxOTQyOyYjMjY5ODk7JiMzNzA5NjsmIzM4MjcyOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxOCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDcuOTk5NCIgeD0iMjU5LjAwMDYiIHk9IjY2Ljc1Ij4mIzMzMjU4OyYjMjEyMDU7JiMyMDE4MTsmIzM1Mzc5OyYjMjA5NjY7JiMyOTcwMjs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTgiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzEuOTk5NiIgeD0iNjEyLjAwMTkiIHk9IjY2Ljc1Ij4mIzMyMDc2OyYjMjk3MDI7JiMzNzA5NjsmIzM4MjcyOzwvdGV4dD48P3BsYW50dW1sLXNyYyBSTEJCSmk5RzREdFZoLVhJVmU1LVdXa19tU0lnOTBPRFRpZDJVby0xMlpLWTJad0gwNDRCZmxLTFpST2U3cEVURmJSLVdoVXFBNUFKQmRlcFB5d1BTc1JLZEJnYkk0NWJYQk1jd3BHM3VuYWhEdHd6M0JtOXQwRy05Z0k4aExUbE84UlMyNWp4SFJBaGhYUEthaU4tYV9qTXpTLVRLNy1JMUlYREtQbzFXNVM0NFIyOUxfdDBZWXNKX0JRZ0k4TlNuZ1BBbEFqSDhhWWoxSkltMWVheGw3Uk5UTHcxdGM3NzFaZTBNVzl3V3VTal8zbWJJZHZEWWxXOG9HOF9ZamY0Q3R5NlZXc1Mwd1ZIRnRsdWV1ZERDWHZKcjZ0S1g0eWR4RHdZcktrVWowUGlkdUhxdzl5T0dDLTFyTTlCVnhYUG10a3FxUmdPNHktaklxbHA2QzYwVFVyaHRDYjh3Z1FJNXFMd0ItUkVhRW9DQnQ3ZmR0R3loSXdKeDdvMGxuZEdFdFZJSGxEQzlpaE1oWEJIYkFRVjlmWTA2UzI3S3hxcVZCdXcwbE9FTjFEOU9sTEk1WGxTdGViNnB3c0pyOGdZYUFWeHlEd3F3R3FDSE5nMU9HZ3RxUFJ6NXJ0S1BnVW1DM0M1VFhrNXBrdl85RnNVN09tRXYzWVYtQjZvXzV5Z1dUQ0JaQkRPNmdyRXFETmJMNUhZampjemZTRG05dlBkemlLd2lObUdxb21PSkt4SnFicXhBTnEzPz48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<hr />
<h2 id="172">17.2 自動仕訳パターンマスタの設計<a class="headerlink" href="#172" title="Permanent link">&para;</a></h2>
<h3 id="_6">商品グループ × 顧客グループによる条件分岐<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p>自動仕訳パターンマスタは、売上データから仕訳データへの変換ルールを定義するマスタテーブルです。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjM4M3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MzA5cHg7aGVpZ2h0OjM4M3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDMwOSAzODMiIHdpZHRoPSIzMDlweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7JiMxMjQ5NzsmIzEyNDc5OyYjMTI1NDA7JiMxMjUzMTsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTs8L3RpdGxlPjxkZWZzLz48Zz48ZyBjbGFzcz0idGl0bGUiIGRhdGEtc291cmNlLWxpbmU9IjEiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTMuOTk5MyIgeD0iNzMuNjUwOSIgeT0iMjIuOTk1MSI+JiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTsmIzEyNDk3OyYjMTI0Nzk7JiMxMjU0MDsmIzEyNTMxOyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OzwvdGV4dD48L2c+PCEtLWNsYXNzIEF1dG9Kb3VybmFsUGF0dGVybi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkF1dG9Kb3VybmFsUGF0dGVybiIgZGF0YS1zb3VyY2UtbGluZT0iMyIgaWQ9ImVudDAwMDIiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzI1LjA0NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjI4OC4zMDEyIiB4PSI3IiB5PSI0NC4yOTY5Ii8+PGVsbGlwc2UgY3g9IjY5LjkwMDkiIGN5PSI2MC4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik03NC4wMTAzLDY2LjI5NjkgTDY2LjI5MTYsNjYuMjk2OSBMNjYuMjkxNiw1My45MDYzIEw3NC4wMTAzLDUzLjkwNjMgTDc0LjAxMDMsNTYuMDYyNSBMNjguNzQ0Nyw1Ni4wNjI1IEw2OC43NDQ3LDU4LjczNDQgTDczLjUxMDMsNTguNzM0NCBMNzMuNTEwMyw2MC44OTA2IEw2OC43NDQ3LDYwLjg5MDYgTDY4Ljc0NDcsNjQuMTQwNiBMNzQuMDEwMyw2NC4xNDA2IEw3NC4wMTAzLDY2LjI5NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTMuOTk5MyIgeD0iOTAuNDAwOSIgeT0iNjUuMTQzNiI+JiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTsmIzEyNDk3OyYjMTI0Nzk7JiMxMjU0MDsmIzEyNTMxOyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI4IiB4Mj0iMjk0LjMwMTIiIHkxPSI3Ni4yOTY5IiB5Mj0iNzYuMjk2OSIvPjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTgiIGN5PSI4OS45NDUzIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjI3IiB5PSI5My4yOTIiPiYjMTI0OTc7JiMxMjQ3OTsmIzEyNTQwOyYjMTI1MzE7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0NS41OTg2IiB4PSIxMjQuOTk5NiIgeT0iOTMuMjkyIj46IFZBUkNIQVIoMTApICYjMTcxO1BLJiMxODc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI4IiB4Mj0iMjk0LjMwMTIiIHkxPSIxMDAuNTkzOCIgeTI9IjEwMC41OTM4Ii8+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxOCIgY3k9IjExNC4yNDIyIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjI3IiB5PSIxMTcuNTg4OSI+JiMxMjQ5NzsmIzEyNDc5OyYjMTI1NDA7JiMxMjUzMTsmIzIxNTE3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuMzk0NSIgeD0iOTYuOTk5NyIgeT0iMTE3LjU4ODkiPjogVkFSQ0hBUig1MCk8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxOCIgY3k9IjEzMC41MzkxIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjI3IiB5PSIxMzMuODg1NyI+JiMyMTgzMDsmIzIxNjk3OyYjMTI0NjQ7JiMxMjUyMzsmIzEyNTQwOyYjMTI1MDM7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNi4zOTQ1IiB4PSIxMTAuOTk5NiIgeT0iMTMzLjg4NTciPjogVkFSQ0hBUigxMCk8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxOCIgY3k9IjE0Ni44MzU5IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjI3IiB5PSIxNTAuMTgyNiI+JiMzOTAxNTsmIzIzNDU4OyYjMTI0NjQ7JiMxMjUyMzsmIzEyNTQwOyYjMTI1MDM7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNi4zOTQ1IiB4PSIxMTAuOTk5NiIgeT0iMTUwLjE4MjYiPjogVkFSQ0hBUigxMCk8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxOCIgY3k9IjE2My4xMzI4IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjI3IiB5PSIxNjYuNDc5NSI+JiMyMjc3MDsmIzE5OTc4OyYjMjEzMDY7JiMyMDk5ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuNDg3MyIgeD0iODIuOTk5OCIgeT0iMTY2LjQ3OTUiPjogVkFSQ0hBUigyKTwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iMTc5LjQyOTciIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI1Ljk5OTUiIHg9IjI3IiB5PSIxODIuNzc2NCI+JiMyMDUxMTsmIzI2MDQxOyYjMjEyMDg7JiMyMzQ1MDsmIzMxMTg1OyYjMzA0NDY7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzNi4zMDE4IiB4PSIxNTIuOTk5NSIgeT0iMTgyLjc3NjQiPjogVkFSQ0hBUig1KSAmIzE3MTtGSyYjMTg3OzwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iMTk1LjcyNjYiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTExLjk5OTUiIHg9IjI3IiB5PSIxOTkuMDczMiI+JiMyMDUxMTsmIzI2MDQxOyYjMzUwMzY7JiMyMTE2MTsmIzMxMTg1OyYjMzA0NDY7JiMzNTM3MzsmIzIzNDUwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuMzk0NSIgeD0iMTM4Ljk5OTUiIHk9IjE5OS4wNzMyIj46IFZBUkNIQVIoMjApPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTgiIGN5PSIyMTIuMDIzNCIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjUuOTk5NSIgeD0iMjciIHk9IjIxNS4zNzAxIj4mIzM2MDI0OyYjMjYwNDE7JiMyMTIwODsmIzIzNDUwOyYjMzExODU7JiMzMDQ0NjsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM2LjMwMTgiIHg9IjE1Mi45OTk1IiB5PSIyMTUuMzcwMSI+OiBWQVJDSEFSKDUpICYjMTcxO0ZLJiMxODc7PC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTgiIGN5PSIyMjguMzIwMyIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTEuOTk5NSIgeD0iMjciIHk9IjIzMS42NjciPiYjMzYwMjQ7JiMyNjA0MTsmIzM1MDM2OyYjMjExNjE7JiMzMTE4NTsmIzMwNDQ2OyYjMzUzNzM7JiMyMzQ1MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA2LjM5NDUiIHg9IjEzOC45OTk1IiB5PSIyMzEuNjY3Ij46IFZBUkNIQVIoMjApPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTgiIGN5PSIyNDQuNjE3MiIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzkuOTk5NCIgeD0iMjciIHk9IjI0Ny45NjM5Ij4mIzM2ODIwOyYjMjE2OTc7JiMyNjE3ODsmIzIwNTExOyYjMjYwNDE7JiMzMTE4NTsmIzMwNDQ2OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny40ODczIiB4PSIxNjYuOTk5NCIgeT0iMjQ3Ljk2MzkiPjogVkFSQ0hBUig1KTwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iMjYwLjkxNDEiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM5Ljk5OTQiIHg9IjI3IiB5PSIyNjQuMjYwNyI+JiMzNjgyMDsmIzIxNjk3OyYjMjYxNzg7JiMzNjAyNDsmIzI2MDQxOyYjMzExODU7JiMzMDQ0NjsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuNDg3MyIgeD0iMTY2Ljk5OTQiIHk9IjI2NC4yNjA3Ij46IFZBUkNIQVIoNSk8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxOCIgY3k9IjI3Ny4yMTA5IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjI3IiB5PSIyODAuNTU3NiI+JiMyODA0MDsmIzM2MDI3OyYjMzEyNDY7JiMyMDk2NjsmIzI5NzAyOyYjMjEzMDY7JiMyMDk5ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuNDg3MyIgeD0iMTI0Ljk5OTYiIHk9IjI4MC41NTc2Ij46IFZBUkNIQVIoMik8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxOCIgY3k9IjI5My41MDc4IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjI3IiB5PSIyOTYuODU0NSI+JiMyNjM3NzsmIzIxMTc3OyYjMzgyODM7JiMyMjk4NzsmIzI2MDg1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0Ni45MjE5IiB4PSI5Ni45OTk3IiB5PSIyOTYuODU0NSI+OiBEQVRFPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTgiIGN5PSIzMDkuODA0NyIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyNyIgeT0iMzEzLjE1MTQiPiYjMjYzNzc7JiMyMTE3NzsmIzMyMDY2OyYjMjAxMDI7JiMyNjA4NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDYuOTIxOSIgeD0iOTYuOTk5NyIgeT0iMzEzLjE1MTQiPjogREFURTwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iMzI2LjEwMTYiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjciIHk9IjMyOS40NDgyIj4mIzIwNzc4OyYjMjA4MDg7JiMzODkxODsmIzIwMzAxOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MC41ODc5IiB4PSI4Mi45OTk4IiB5PSIzMjkuNDQ4MiI+OiBJTlRFR0VSPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMTgiIGN5PSIzNDIuMzk4NCIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIyNyIgeT0iMzQ1Ljc0NTEiPiYjMjAzMTY7JiMyNTEwNDsmIzI2MDg1OyYjMjYxNzg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkwLjMwOTYiIHg9IjgyLjk5OTgiIHk9IjM0NS43NDUxIj46IFRJTUVTVEFNUDwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IklFX01BTkRBVE9SWSI+PGVsbGlwc2UgY3g9IjE4IiBjeT0iMzU4LjY5NTMiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjciIHk9IjM2Mi4wNDIiPiYjMjYzNTY7JiMyNjAzMjsmIzI2MDg1OyYjMjYxNzg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkwLjMwOTYiIHg9IjgyLjk5OTgiIHk9IjM2Mi4wNDIiPjogVElNRVNUQU1QPC90ZXh0PjwvZz48P3BsYW50dW1sLXNyYyBBeWFpb0tiTFVENi13Y2R0cjJVeGZ4dk9pVmJueXlKN0pWaVZELXp2dDBuYXB0bFNqMUY4dlU5QXBJbDlCQWJLSzJBZUw0YVhpTFoxaVJHYXRva19qMldsQ0lTV2lRR2FqSVhGZVBmQklxNUIycUxCcXNPbWVyREJvcWVYcDM3OHNTQ25JQ0ZHRzVGMW5ZUjBzeXdFSXJTTkd5bEoyUnQ4WWFxRERDNUFkYXZqVXBndnlON0pYaVZEZ3k0QWZ3Q1AyTFJyU2s3b2YtaU00TEJyVEY2Yzlwa3dkbFJpVWpoSFhZbmwxOUxrY0Z6aXNpd2R0SkVVaGZsclZGZDR2eEZOT1ZNNkFTV05SWTFWODNJek0zcGRRVFRBWUFPTkF6TzIzSzBuN3NoX1lxcXhJQlMwZWViODJfUEYwR1JNaXZiRDQ1VlhqR0RMMHlHTW1YZ1VSVWp1aU1kdHluTHpKemtORlBfR1haQ2lkeXRmVkRncnktTXF4Z1ZCa3Z6RE5tZkl1VThPdWVlYXp0bmhxdkRUUlVYb0pyak1GTXRqVUJjV3hTYlVTN0JtejBqblROU0QwaWl6c0psZE1TUzRlMHdXVXE1bzhQdy1oaTRYWmh1MTQ1RGRSdGFzUkdDc3NMZTA/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_7">パターンマスタの項目説明<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>項目</th>
<th>説明</th>
<th>例</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>パターンコード</strong></td>
<td>パターンを一意に識別するコード</td>
<td><code>P001</code></td>
</tr>
<tr>
<td><strong>パターン名</strong></td>
<td>パターンの名称</td>
<td><code>加工品売上</code></td>
</tr>
<tr>
<td><strong>商品グループ</strong></td>
<td>対象商品グループ（<code>ALL</code>は全て）</td>
<td><code>加工品</code>, <code>生鮮品</code>, <code>ALL</code></td>
</tr>
<tr>
<td><strong>顧客グループ</strong></td>
<td>対象顧客グループ（<code>ALL</code>は全て）</td>
<td><code>一般</code>, <code>特約店</code>, <code>ALL</code></td>
</tr>
<tr>
<td><strong>売上区分</strong></td>
<td>売上の種類</td>
<td><code>01</code>:通常売上, <code>02</code>:返品</td>
</tr>
<tr>
<td><strong>借方勘定科目コード</strong></td>
<td>借方に計上する勘定科目</td>
<td><code>11300</code>(売掛金)</td>
</tr>
<tr>
<td><strong>貸方勘定科目コード</strong></td>
<td>貸方に計上する勘定科目</td>
<td><code>41110</code>(売上加工品)</td>
</tr>
<tr>
<td><strong>優先順位</strong></td>
<td>パターン適用の優先度（小さい方が優先）</td>
<td><code>100</code></td>
</tr>
</tbody>
</table>
<h3 id="_8">パターンマスタのデータ例<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>パターンコード</th>
<th>パターン名</th>
<th>商品グループ</th>
<th>顧客グループ</th>
<th>借方科目</th>
<th>貸方科目</th>
<th>優先順位</th>
</tr>
</thead>
<tbody>
<tr>
<td>P001</td>
<td>加工品売上（特約店）</td>
<td>加工品</td>
<td>特約店</td>
<td>売掛金</td>
<td>売上加工品</td>
<td>10</td>
</tr>
<tr>
<td>P002</td>
<td>加工品売上（一般）</td>
<td>加工品</td>
<td>ALL</td>
<td>売掛金</td>
<td>売上加工品</td>
<td>20</td>
</tr>
<tr>
<td>P003</td>
<td>生鮮品売上</td>
<td>生鮮品</td>
<td>ALL</td>
<td>売掛金</td>
<td>売上生鮮品</td>
<td>30</td>
</tr>
<tr>
<td>P999</td>
<td>その他売上</td>
<td>ALL</td>
<td>ALL</td>
<td>売掛金</td>
<td>売上その他</td>
<td>999</td>
</tr>
</tbody>
</table>
<h3 id="_9">売上返品時の科目設定<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<p>返品時は通常売上と逆の仕訳が必要です。</p>
<table>
<thead>
<tr>
<th>取引</th>
<th>借方</th>
<th>貸方</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>通常売上</strong></td>
<td>売掛金</td>
<td>売上</td>
</tr>
<tr>
<td><strong>売上返品</strong></td>
<td>売上</td>
<td>売掛金</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="173">17.3 自動仕訳処理の設計<a class="headerlink" href="#173" title="Permanent link">&para;</a></h2>
<h3 id="_10">フラグ管理方式と日付管理方式<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<p>売上データの処理状態を管理する方式には、2つのアプローチがあります。</p>
<h4 id="_11">フラグ管理方式<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h4>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNUQVRFIiBoZWlnaHQ9IjI2M3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NTY1cHg7aGVpZ2h0OjI2M3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDU2NSAyNjMiIHdpZHRoPSI1NjVweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMTI1MDE7JiMxMjUyMTsmIzEyNDY0OyYjMzE2NDk7JiMyOTcwMjsmIzI2MDQxOyYjMjQzMzU7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMjI2LjgzNTEiIHk9IjIyLjk5NTEiPiYjMTI1MDE7JiMxMjUyMTsmIzEyNDY0OyYjMzE2NDk7JiMyOTcwMjsmIzI2MDQxOyYjMjQzMzU7PC90ZXh0PjwvZz48Zz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjUwLjI2NTYiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTQzLjM0NjMiIHg9IjciIHk9IjEyNC4yOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNyIgeDI9IjE1MC4zNDYzIiB5MT0iMTUwLjU5MzgiIHkyPSIxNTAuNTkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjQzLjY3MzMiIHk9IjE0Mi4yOTIiPiYjMjI3NzA7JiMxOTk3ODsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIzLjM0NjMiIHg9IjEyIiB5PSIxNjYuNzMyNCI+JiMzNjg2NTsmIzIwNDQ5OyYjMjgxNjg7JiMxMjUwMTsmIzEyNTIxOyYjMTI0NjQ7OiBjaGFyKDEpPC90ZXh0PjwvZz48ZWxsaXBzZSBjeD0iNzguNjciIGN5PSI1My4yOTY5IiBmaWxsPSIjMjIyMjIyIiByeD0iMTAiIHJ5PSIxMCIgc3R5bGU9InN0cm9rZTojMjIyMjIyO3N0cm9rZS13aWR0aDoxOyIvPjxnPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNTAiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNzUuOTk5OCIgeD0iMzU3LjY3IiB5PSIxMjQuNDM2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjM1Ny42NyIgeDI9IjQzMy42Njk4IiB5MT0iMTUwLjczMzgiIHkyPSIxNTAuNzMzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjM2Ny42NyIgeT0iMTQyLjQzMiI+JiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTs8L3RleHQ+PC9nPjxnPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNTAiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iODkuOTk5NyIgeD0iNDY4LjY3IiB5PSIxMjQuNDM2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjQ2OC42NyIgeDI9IjU1OC42Njk3IiB5MT0iMTUwLjczMzgiIHkyPSIxNTAuNzMzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjQ3OC42NyIgeT0iMTQyLjQzMiI+JiMyMDE4MTsmIzM1Mzc5OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48L2c+PGVsbGlwc2UgY3g9IjUxMy42NyIgY3k9IjI0Ni41NjY5IiBmaWxsPSJub25lIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMjIyMjIyO3N0cm9rZS13aWR0aDoxOyIvPjxlbGxpcHNlIGN4PSI1MTMuNjciIGN5PSIyNDYuNTY2OSIgZmlsbD0iIzIyMjIyMiIgcng9IjYiIHJ5PSI2IiBzdHlsZT0ic3Ryb2tlOiMyMjIyMjI7c3Ryb2tlLXdpZHRoOjE7Ii8+PCEtLWxpbmsgKnN0YXJ0KiB0byA/Pz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAyIiBkYXRhLWVudGl0eS0yPSJlbnQwMDAyIiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMyIgaWQ9ImxuazMiPjxwYXRoIGQ9Ik03OC42Nyw2My42NjY5IEM3OC42Nyw3Ny42MjY5IDc4LjY3LDk4LjMyNjkgNzguNjcsMTE4LjA0NjkiIGZpbGw9Im5vbmUiIGlkPSIqc3RhcnQqLXRvLSYjMjI3NzA7JiMxOTk3ODsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9Ijc4LjY3LDEyNC4wNDY5LDgyLjY3LDExNS4wNDY5LDc4LjY3LDExOS4wNDY5LDc0LjY3LDExNS4wNDY5LDc4LjY3LDEyNC4wNDY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rID8/Pz8/IHRvID8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMiIgZGF0YS1lbnRpdHktMj0iZW50MDAwNCIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjUiIGlkPSJsbms1Ij48cGF0aCBkPSJNMTUwLjYxLDE0OS40MzY5IEMyMTQuNzIsMTQ5LjQzNjkgMzAwLjExLDE0OS40MzY5IDM1MS4yNCwxNDkuNDM2OSIgZmlsbD0ibm9uZSIgaWQ9IiYjMjI3NzA7JiMxOTk3ODsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTstdG8tJiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM1Ny4yNCwxNDkuNDM2OSwzNDguMjQsMTQ1LjQzNjksMzUyLjI0LDE0OS40MzY5LDM0OC4yNCwxNTMuNDM2OSwzNTcuMjQsMTQ5LjQzNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNzEuNjQwNyIgeD0iMTY4LjUxIiB5PSIxNDIuNTAzOCI+JiMyNTI3NzsmIzIwOTg2OyB3aGVyZSAmIzM2ODY1OyYjMjA0NDk7JiMyODE2ODsmIzEyNTAxOyYjMTI1MjE7JiMxMjQ2NDs9MDwvdGV4dD48L2c+PCEtLWxpbmsgPz8/PyB0byA/Pz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA0IiBkYXRhLWVudGl0eS0yPSJlbnQwMDAyIiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iNiIgaWQ9ImxuazYiPjxwYXRoIGQ9Ik0zNTcuMTcsMTYzLjMxNjkgQzM0OC41MSwxNjUuODU2OSAzMzkuMjksMTY4LjExNjkgMzMwLjUxLDE2OS40MzY5IEMyOTYuODksMTc0LjQ3NjkgMjExLjM0LDE3Mi44MjY5IDE3Ny41MSwxNjkuNDM2OSBDMTY4LjgsMTY4LjU1NjkgMTY1LjYzNTcsMTY4LjI2OTMgMTU2LjY2NTcsMTY2Ljc0OTMiIGZpbGw9Im5vbmUiIGlkPSImIzMzMjU4OyYjMjEyMDU7JiMyMDE4MTsmIzM1Mzc5Oy10by0mIzIyNzcwOyYjMTk5Nzg7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNTAuNzUsMTY1Ljc0NjksMTU4Ljk1NTIsMTcxLjE5NDMsMTU1LjY3OTcsMTY2LjU4MjIsMTYwLjI5MTgsMTYzLjMwNjcsMTUwLjc1LDE2NS43NDY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUxLjI5NjUiIHg9IjE3OC41MSIgeT0iMTY1LjUwMzgiPiYjMjYzNTY7JiMyNjAzMjsgc2V0ICYjMzY4NjU7JiMyMDQ0OTsmIzI4MTY4OyYjMTI1MDE7JiMxMjUyMTsmIzEyNDY0Oz0xPC90ZXh0PjwvZz48IS0tbGluayA/Pz8/IHRvID8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDQiIGRhdGEtZW50aXR5LTI9ImVudDAwMDciIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI3IiBpZD0ibG5rOCI+PHBhdGggZD0iTTQzMy45MywxNDkuNDM2OSBDNDQ1LjM1LDE0OS40MzY5IDQ1MC43NywxNDkuNDM2OSA0NjIuMiwxNDkuNDM2OSIgZmlsbD0ibm9uZSIgaWQ9IiYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7LXRvLSYjMjAxODE7JiMzNTM3OTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjQ2OC4yLDE0OS40MzY5LDQ1OS4yLDE0NS40MzY5LDQ2My4yLDE0OS40MzY5LDQ1OS4yLDE1My40MzY5LDQ2OC4yLDE0OS40MzY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rID8/Pz8/IHRvICplbmQqLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDciIGRhdGEtZW50aXR5LTI9ImVudDAwMDkiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI4IiBpZD0ibG5rMTAiPjxwYXRoIGQ9Ik01MTMuNjcsMTc0LjkzNjkgQzUxMy42NywxOTQuNTM2OSA1MTMuNjcsMjE1LjAyNjkgNTEzLjY3LDIyOS4zNDY5IiBmaWxsPSJub25lIiBpZD0iJiMyMDE4MTsmIzM1Mzc5OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5Oy10by0qZW5kKiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTEzLjY3LDIzNS4zNDY5LDUxNy42NywyMjYuMzQ2OSw1MTMuNjcsMjMwLjM0NjksNTA5LjY3LDIyNi4zNDY5LDUxMy42NywyMzUuMzQ2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48P3BsYW50dW1sLXNyYyBBeWFpb0tiTFVEbXl6Tjdwb2lURDZ2d2xNX1h5R2prcFFKa1Z4a2RkdWVoTVliTkdyUkxKVUJmdXF2Q1ROTy1Sc255dHh0ZFNqOXlCWlF6V2ZWMm9lVjc5X2VORlRkSjBKUjlJSUN2OEJEOG1yQ0hHM0pKbUhWa2dmenJKZC1vVS1jQjVQZzNrUHJyeGR4UmxLWVpGSTJyQW5NQUtoRzROWVdQQzV1N0NjQnRic1JHRDJpTWY5VFhDQ0NHbTBTOTItMGNEM19PdHFGeTA/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<table>
<thead>
<tr>
<th>メリット</th>
<th>デメリット</th>
</tr>
</thead>
<tbody>
<tr>
<td>シンプルな実装</td>
<td>再処理時にフラグリセットが必要</td>
</tr>
<tr>
<td>処理状態が明確</td>
<td>大量データでの更新負荷</td>
</tr>
</tbody>
</table>
<h4 id="_12">日付管理方式<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h4>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNUQVRFIiBoZWlnaHQ9IjMwN3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NTY0cHg7aGVpZ2h0OjMwN3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDU2NCAzMDciIHdpZHRoPSI1NjRweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjYwODU7JiMyMDE4NDsmIzMxNjQ5OyYjMjk3MDI7JiMyNjA0MTsmIzI0MzM1OzwvdGl0bGU+PGRlZnMvPjxnPjxnIGNsYXNzPSJ0aXRsZSIgZGF0YS1zb3VyY2UtbGluZT0iMSI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjIzMy41IiB5PSIyMi45OTUxIj4mIzI2MDg1OyYjMjAxODQ7JiMzMTY0OTsmIzI5NzAyOyYjMjYwNDE7JiMyNDMzNTs8L3RleHQ+PC9nPjxnPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNTAuMjY1NiIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI4OS45OTk3IiB4PSI3IiB5PSIxMjQuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjciIHgyPSI5Ni45OTk3IiB5MT0iMTUwLjU5MzgiIHkyPSIxNTAuNTkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjE3IiB5PSIxNDIuMjkyIj4mIzIyNzcwOyYjMTk5Nzg7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYwLjAwMDUiIHg9IjEyIiB5PSIxNjYuNzMyNCI+JiMyNjM2ODsmIzMyMDY2OyYjMjYzNTY7JiMyNjAzMjsmIzI2MDg1OzwvdGV4dD48L2c+PGc+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI1MC4yNjU2IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE0NS45OTk1IiB4PSIzMjEiIHk9IjI1MS41NTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMzIxIiB4Mj0iNDY2Ljk5OTUiIHkxPSIyNzcuODUzOCIgeTI9IjI3Ny44NTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI1Ljk5OTUiIHg9IjMzMSIgeT0iMjY5LjU1MiI+JiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTsmIzMxNjQ5OyYjMjk3MDI7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYwLjAwMDUiIHg9IjMyNiIgeT0iMjkzLjk5MjQiPiYjMjYzNjg7JiMzMjA2NjsmIzIwOTY2OyYjMjk3MDI7JiMyNjA4NTs8L3RleHQ+PC9nPjxlbGxpcHNlIGN4PSI1MiIgY3k9IjUzLjI5NjkiIGZpbGw9IiMyMjIyMjIiIHJ4PSIxMCIgcnk9IjEwIiBzdHlsZT0ic3Ryb2tlOiMyMjIyMjI7c3Ryb2tlLXdpZHRoOjE7Ii8+PGc+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI1MCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI3NS45OTk4IiB4PSIzNTYiIHk9IjEyNC40MjY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMzU2IiB4Mj0iNDMxLjk5OTgiIHkxPSIxNTAuNzIzOCIgeTI9IjE1MC43MjM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMzY2IiB5PSIxNDIuNDIyIj4mIzMzMjU4OyYjMjEyMDU7JiMyMDE4MTsmIzM1Mzc5OzwvdGV4dD48L2c+PGc+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI1MCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI4OS45OTk3IiB4PSI0NjgiIHk9IjEyNC40MjY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNDY4IiB4Mj0iNTU3Ljk5OTciIHkxPSIxNTAuNzIzOCIgeTI9IjE1MC43MjM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iNDc4IiB5PSIxNDIuNDIyIj4mIzIwMTgxOyYjMzUzNzk7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7PC90ZXh0PjwvZz48ZWxsaXBzZSBjeD0iNTEzIiBjeT0iMjc2LjY5NjkiIGZpbGw9Im5vbmUiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMyMjIyMjI7c3Ryb2tlLXdpZHRoOjE7Ii8+PGVsbGlwc2UgY3g9IjUxMyIgY3k9IjI3Ni42OTY5IiBmaWxsPSIjMjIyMjIyIiByeD0iNiIgcnk9IjYiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48IS0tbGluayAqc3RhcnQqIHRvID8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDIiIGRhdGEtZW50aXR5LTI9ImVudDAwMDIiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIzIiBpZD0ibG5rMyI+PHBhdGggZD0iTTUyLDYzLjY2NjkgQzUyLDc3LjYxNjkgNTIsOTguMzE2OSA1MiwxMTguMDM2OSIgZmlsbD0ibm9uZSIgaWQ9IipzdGFydCotdG8tJiMyMjc3MDsmIzE5OTc4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTIsMTI0LjAzNjksNTYsMTE1LjAzNjksNTIsMTE5LjAzNjksNDgsMTE1LjAzNjksNTIsMTI0LjAzNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgPz8/Pz8gdG8gPz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAyIiBkYXRhLWVudGl0eS0yPSJlbnQwMDA0IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iNSIgaWQ9ImxuazUiPjxwYXRoIGQ9Ik05Ny40MSwxNDkuNDI2OSBDMTY1LjI4LDE0OS40MjY5IDI4NS45NiwxNDkuNDI2OSAzNDkuNTMsMTQ5LjQyNjkiIGZpbGw9Im5vbmUiIGlkPSImIzIyNzcwOyYjMTk5Nzg7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7LXRvLSYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzNTUuNTMsMTQ5LjQyNjksMzQ2LjUzLDE0NS40MjY5LDM1MC41MywxNDkuNDI2OSwzNDYuNTMsMTUzLjQyNjksMzU1LjUzLDE0OS40MjY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjIzLjYzNDUiIHg9IjExNSIgeT0iMTQyLjQ5MzgiPiYjMjUyNzc7JiMyMDk4Njsgd2hlcmUgJiMyNjM2ODsmIzMyMDY2OyYjMjYzNTY7JiMyNjAzMjsmIzI2MDg1OyAmZ3Q7ICYjMjYzNjg7JiMzMjA2NjsmIzIwOTY2OyYjMjk3MDI7JiMyNjA4NTs8L3RleHQ+PC9nPjwhLS1saW5rID8/Pz8gdG8gPz8/Pz8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDQiIGRhdGEtZW50aXR5LTI9ImVudDAwMDMiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI2IiBpZD0ibG5rNiI+PHBhdGggZD0iTTM5NCwxNzQuODc2OSBDMzk0LDE5Ni45NDY5IDM5NCwyMjMuMjU2OSAzOTQsMjQ1LjMwNjkiIGZpbGw9Im5vbmUiIGlkPSImIzMzMjU4OyYjMjEyMDU7JiMyMDE4MTsmIzM1Mzc5Oy10by0mIzMzMjU4OyYjMjEyMDU7JiMyMDE4MTsmIzM1Mzc5OyYjMzE2NDk7JiMyOTcwMjsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM5NCwyNTEuMzA2OSwzOTgsMjQyLjMwNjksMzk0LDI0Ni4zMDY5LDM5MCwyNDIuMzA2OSwzOTQsMjUxLjMwNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNiIgeD0iMzk1IiB5PSIyMTcuNjIzOCI+JiMyNjM1NjsmIzI2MDMyOzwvdGV4dD48L2c+PCEtLWxpbmsgPz8/PyB0byA/Pz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA0IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA3IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iOCIgaWQ9ImxuazgiPjxwYXRoIGQ9Ik00MzIuMTIsMTQ5LjQyNjkgQzQ0My45MSwxNDkuNDI2OSA0NDkuNzEsMTQ5LjQyNjkgNDYxLjUsMTQ5LjQyNjkiIGZpbGw9Im5vbmUiIGlkPSImIzMzMjU4OyYjMjEyMDU7JiMyMDE4MTsmIzM1Mzc5Oy10by0mIzIwMTgxOyYjMzUzNzk7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0NjcuNSwxNDkuNDI2OSw0NTguNSwxNDUuNDI2OSw0NjIuNSwxNDkuNDI2OSw0NTguNSwxNTMuNDI2OSw0NjcuNSwxNDkuNDI2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayA/Pz8/PyB0byAqZW5kKi0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA3IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA5IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iOSIgaWQ9ImxuazEwIj48cGF0aCBkPSJNNTEzLDE3NC44NzY5IEM1MTMsMjAyLjM1NjkgNTEzLDIzOS43MDY5IDUxMywyNTkuMzc2OSIgZmlsbD0ibm9uZSIgaWQ9IiYjMjAxODE7JiMzNTM3OTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTstdG8tKmVuZCoiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjUxMywyNjUuMzc2OSw1MTcsMjU2LjM3NjksNTEzLDI2MC4zNzY5LDUwOSwyNTYuMzc2OSw1MTMsMjY1LjM3NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PD9wbGFudHVtbC1zcmMgQXlhaW9LYkxVM1B6d1BGVEN2d2xNX1h5R2prcFFKa1Z4a2RkdWVoTVliTkdyUkxKVUJmdXF2Q1ROTy1Sc255dHh0ZFNqOXlCWlF6V2ZWMWlKaUZwaEt0RlBjenZEY3EzcTJHQzVLMTNOaElsVWplenpTZGtnSXpNUjBSZndEaHhqN3NOR2RiNlFiNGdrZE81RXdaOHFfUGI4RVMwM0tKSGhPamM3Q0pMQUV1MTZ5TDVHMTVVRS1tSzgybzRqejd1TzZTMFdtVzA/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<table>
<thead>
<tr>
<th>メリット</th>
<th>デメリット</th>
</tr>
</thead>
<tbody>
<tr>
<td>差分処理が容易</td>
<td>管理テーブルが必要</td>
</tr>
<tr>
<td>再処理時の柔軟性</td>
<td>更新日時の整合性管理が必要</td>
</tr>
</tbody>
</table>
<h3 id="_13">セット中心のアプリケーション設計<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<p>大量データを効率的に処理するには、ループ処理よりもセット中心処理が有効です。</p>
<h4 id="_14">ループ処理（非効率）<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h4>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNUQVRFIiBoZWlnaHQ9IjMxMHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NzE4cHg7aGVpZ2h0OjMxMHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDcxOCAzMTAiIHdpZHRoPSI3MThweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMTI1MjM7JiMxMjU0MDsmIzEyNTAzOyYjMjA5NjY7JiMyOTcwMjs8L3RpdGxlPjxkZWZzLz48Zz48ZyBjbGFzcz0idGl0bGUiIGRhdGEtc291cmNlLWxpbmU9IjEiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIzMTcuNDMiIHk9IjIyLjk5NTEiPiYjMTI1MjM7JiMxMjU0MDsmIzEyNTAzOyYjMjA5NjY7JiMyOTcwMjs8L3RleHQ+PC9nPjxnPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNTAuMjY1NiIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMTEuNzE3MiIgeD0iNyIgeT0iMTcxLjU1NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI3IiB4Mj0iMTE4LjcxNzIiIHkxPSIxOTcuODUzNyIgeTI9IjE5Ny44NTM3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMjcuODU4NyIgeT0iMTg5LjU1MiI+JiMyMjc3MDsmIzE5OTc4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MS43MTcyIiB4PSIxMiIgeT0iMjEzLjk5MjQiPigzJiMyNDE4MDsmIzIwOTk4OyAxMDAmIzE5OTc1OyYjMjAyMTQ7KTwvdGV4dD48L2c+PGc+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI1MC4yNjU2IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExNy45OTk2IiB4PSIyODIuODYiIHk9IjQ0LjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyODIuODYiIHgyPSI0MDAuODU5NiIgeTE9IjcwLjU5MzgiIHkyPSI3MC41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMjkyLjg2IiB5PSI2Mi4yOTIiPiYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYzLjI2OTkiIHg9IjI4Ny44NiIgeT0iODYuNzMyNCI+MTAmIzEyNDk3OyYjMTI0Nzk7JiMxMjU0MDsmIzEyNTMxOzwvdGV4dD48L2c+PGVsbGlwc2UgY3g9IjYyLjg2IiBjeT0iNjkuNDI2OSIgZmlsbD0iIzIyMjIyMiIgcng9IjEwIiByeT0iMTAiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48Zz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjUwIiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9Ijc1Ljk5OTgiIHg9IjMwMy44NiIgeT0iMTcxLjY5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIzMDMuODYiIHgyPSIzNzkuODU5OCIgeTE9IjE5Ny45OTM3IiB5Mj0iMTk3Ljk5MzciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIzMTMuODYiIHk9IjE4OS42OTIiPiYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7PC90ZXh0PjwvZz48Zz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjUwIiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9Ijg5Ljk5OTciIHg9IjYyMS44NiIgeT0iMTcxLjY5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI2MjEuODYiIHgyPSI3MTEuODU5NyIgeTE9IjE5Ny45OTM3IiB5Mj0iMTk3Ljk5MzciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSI2MzEuODYiIHk9IjE4OS42OTIiPiYjMjAxODE7JiMzNTM3OTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PC9nPjxlbGxpcHNlIGN4PSI2NjYuODYiIGN5PSIyOTMuODI2OSIgZmlsbD0ibm9uZSIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48ZWxsaXBzZSBjeD0iNjY2Ljg2IiBjeT0iMjkzLjgyNjkiIGZpbGw9IiMyMjIyMjIiIHJ4PSI2IiByeT0iNiIgc3R5bGU9InN0cm9rZTojMjIyMjIyO3N0cm9rZS13aWR0aDoxOyIvPjwhLS1saW5rICpzdGFydCogdG8gPz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMiIgZGF0YS1lbnRpdHktMj0iZW50MDAwMiIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjMiIGlkPSJsbmszIj48cGF0aCBkPSJNNjIuODYsNzkuODQ2OSBDNjIuODYsOTkuMDc2OSA2Mi44NiwxMzcuNDA2OSA2Mi44NiwxNjUuMzA2OSIgZmlsbD0ibm9uZSIgaWQ9IipzdGFydCotdG8tJiMyMjc3MDsmIzE5OTc4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNjIuODYsMTcxLjMwNjksNjYuODYsMTYyLjMwNjksNjIuODYsMTY2LjMwNjksNTguODYsMTYyLjMwNjksNjIuODYsMTcxLjMwNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzYuOTc2MiIgeD0iNjMuODYiIHk9IjEzNy42MjM4Ij4mIzIzNTUwOyYjMzU5Mzc7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7IDoxMDAwJiMyMDIxNDsvJiMyNjA4NTs8L3RleHQ+PC9nPjwhLS1saW5rID8/Pz8/IHRvID8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMiIgZGF0YS1lbnRpdHktMj0iZW50MDAwNCIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjUiIGlkPSJsbms1Ij48cGF0aCBkPSJNMTE4Ljk4LDE5Ni42OTY5IEMxNzMuODgsMTk2LjY5NjkgMjQ5Ljk5LDE5Ni42OTY5IDI5Ny43MSwxOTYuNjk2OSIgZmlsbD0ibm9uZSIgaWQ9IiYjMjI3NzA7JiMxOTk3ODsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTstdG8tJiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMwMy43MSwxOTYuNjk2OSwyOTQuNzEsMTkyLjY5NjksMjk4LjcxLDE5Ni42OTY5LDI5NC43MSwyMDAuNjk2OSwzMDMuNzEsMTk2LjY5NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDkuOTI1NCIgeD0iMTM2Ljc5IiB5PSIxODkuNzYzOCI+JiM5MzEyOyYjMjM1NTA7JiMzNTkzNzsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsmIzEyNDM0OzEmIzE5OTc1OyYjMjAyMTQ7JiMyNTI3NzsmIzIwOTg2OzwvdGV4dD48L2c+PCEtLWxpbmsgPz8/Pz8/PyB0byA/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDMiIGRhdGEtZW50aXR5LTI9ImVudDAwMDQiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI2IiBpZD0ibG5rNiI+PHBhdGggZD0iTTM0MS44Niw5NC44NzY5IEMzNDEuODYsMTE2Ljk0NjkgMzQxLjg2LDE0My4yNTY5IDM0MS44NiwxNjUuMzA2OSIgZmlsbD0ibm9uZSIgaWQ9IiYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7LXRvLSYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzNDEuODYsMTcxLjMwNjksMzQ1Ljg2LDE2Mi4zMDY5LDM0MS44NiwxNjYuMzA2OSwzMzcuODYsMTYyLjMwNjksMzQxLjg2LDE3MS4zMDY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rID8/Pz8gdG8gPz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNCIgZGF0YS1lbnRpdHktMj0iZW50MDAwNyIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjgiIGlkPSJsbms4Ij48cGF0aCBkPSJNMzgwLjEsMTk2LjY5NjkgQzQ0MC4zMywxOTYuNjk2OSA1NTEuMDgsMTk2LjY5NjkgNjE1LjQ4LDE5Ni42OTY5IiBmaWxsPSJub25lIiBpZD0iJiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTstdG8tJiMyMDE4MTsmIzM1Mzc5OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNjIxLjQ4LDE5Ni42OTY5LDYxMi40OCwxOTIuNjk2OSw2MTYuNDgsMTk2LjY5NjksNjEyLjQ4LDIwMC42OTY5LDYyMS40OCwxOTYuNjk2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIwNi42NTQ1IiB4PSIzOTcuODYiIHk9IjE4OS43NjM4Ij4mIzkzMTM7JiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTsmIzEyNDk3OyYjMTI0Nzk7JiMxMjU0MDsmIzEyNTMxOyYjMTIzOTU7JiMyMjc5MzsmIzI1NTYzOyYjMTIzNzU7JiMxMjM5MDsmIzI1NDA3OyYjMjA4Mzc7PC90ZXh0PjwvZz48IS0tbGluayA/Pz8/PyB0byAqZW5kKi0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA3IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA5IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iOSIgaWQ9ImxuazEwIj48cGF0aCBkPSJNNjY2Ljg2LDIyMi4xOTY5IEM2NjYuODYsMjQxLjc5NjkgNjY2Ljg2LDI2Mi4yODY5IDY2Ni44NiwyNzYuNjA2OSIgZmlsbD0ibm9uZSIgaWQ9IiYjMjAxODE7JiMzNTM3OTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTstdG8tKmVuZCoiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjY2Ni44NiwyODIuNjA2OSw2NzAuODYsMjczLjYwNjksNjY2Ljg2LDI3Ny42MDY5LDY2Mi44NiwyNzMuNjA2OSw2NjYuODYsMjgyLjYwNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PD9wbGFudHVtbC1zcmMgQXlhaW9LYkxVRG95LWQ3cGRpVkRxdi1zQnRpLWVPc0JBcmVoTGE1TnJxeFh3VTlESnRQcUZNdmsxcWF0eFJUSVVCZi10dWtEMi00MjJiUTYxV082SnRQbHF0eXNWSWFOY2NlNUFtS0R1d1N4anBwalE1QzBBZGtvZW5zZUsxRDM1VDJRNS1zaGRkUEZWUjl4d2VpTGN1Nnc3YXJTVzZSRnV3UDlYWDN6cHhoc0ZjdFZuT01pdXQ3cGxDVERFeTU2ZVBjNUd2YUxxM2NGY29VMnAwTnY2YktQbzNxbTNHWUZGOWd1NERLaVhFeDdaUWtWQmtieXJaX3hTVUZxbnV0QmRsTmlWemd3YjBsVDI5M0pXQTRBMDAwMD8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<p><strong>処理方式：</strong>
1. 売上データを1件ずつ読み込む
2. 各売上に対してパターンマスタを検索
3. 1件ずつ仕訳データを挿入</p>
<p><strong>問題点：</strong> N × M 回のDB操作が発生（N=売上件数、M=パターン数）</p>
<h4 id="_15">セット中心処理（効率的）<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h4>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNUQVRFIiBoZWlnaHQ9IjMxMHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NjMycHg7aGVpZ2h0OjMxMHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDYzMiAzMTAiIHdpZHRoPSI2MzJweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMTI0NzU7JiMxMjQ4MzsmIzEyNDg4OyYjMjAwMTM7JiMyNDUxNTsmIzIwOTY2OyYjMjk3MDI7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMjYwLjQzMDEiIHk9IjIyLjk5NTEiPiYjMTI0NzU7JiMxMjQ4MzsmIzEyNDg4OyYjMjAwMTM7JiMyNDUxNTsmIzIwOTY2OyYjMjk3MDI7PC90ZXh0PjwvZz48Zz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjUwLjI2NTYiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTExLjcxNzIiIHg9IjciIHk9IjE3MS41NTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNyIgeDI9IjExOC43MTcyIiB5MT0iMTk3Ljg1MzciIHkyPSIxOTcuODUzNyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjI3Ljg1ODciIHk9IjE4OS41NTIiPiYjMjI3NzA7JiMxOTk3ODsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEuNzE3MiIgeD0iMTIiIHk9IjIxMy45OTI0Ij4oMyYjMjQxODA7JiMyMDk5ODsgMTAwJiMxOTk3NTsmIzIwMjE0Oyk8L3RleHQ+PC9nPjxnPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNTAuMjY1NiIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMTcuOTk5NiIgeD0iMTU3Ljg2IiB5PSI0NC4yOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTU3Ljg2IiB4Mj0iMjc1Ljg1OTYiIHkxPSI3MC41OTM4IiB5Mj0iNzAuNTkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjE2Ny44NiIgeT0iNjIuMjkyIj4mIzMzMjU4OyYjMjEyMDU7JiMyMDE4MTsmIzM1Mzc5OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2My4yNjk5IiB4PSIxNjIuODYiIHk9Ijg2LjczMjQiPjEwJiMxMjQ5NzsmIzEyNDc5OyYjMTI1NDA7JiMxMjUzMTs8L3RleHQ+PC9nPjxlbGxpcHNlIGN4PSIzOC44NiIgY3k9IjY5LjQyNjkiIGZpbGw9IiMyMjIyMjIiIHJ4PSIxMCIgcnk9IjEwIiBzdHlsZT0ic3Ryb2tlOiMyMjIyMjI7c3Ryb2tlLXdpZHRoOjE7Ii8+PGc+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI1MCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI3NS45OTk4IiB4PSIxNjUuODYiIHk9IjE3MS42OTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTY1Ljg2IiB4Mj0iMjQxLjg1OTgiIHkxPSIxOTcuOTkzNyIgeTI9IjE5Ny45OTM3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTc1Ljg2IiB5PSIxODkuNjkyIj4mIzMzMjU4OyYjMjEyMDU7JiMyMDE4MTsmIzM1Mzc5OzwvdGV4dD48L2c+PGc+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI1MCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI4OS45OTk3IiB4PSI1MzUuODYiIHk9IjE3MS42OTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNTM1Ljg2IiB4Mj0iNjI1Ljg1OTciIHkxPSIxOTcuOTkzNyIgeTI9IjE5Ny45OTM3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iNTQ1Ljg2IiB5PSIxODkuNjkyIj4mIzIwMTgxOyYjMzUzNzk7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7PC90ZXh0PjwvZz48ZWxsaXBzZSBjeD0iNTgwLjg2IiBjeT0iMjkzLjgyNjkiIGZpbGw9Im5vbmUiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMyMjIyMjI7c3Ryb2tlLXdpZHRoOjE7Ii8+PGVsbGlwc2UgY3g9IjU4MC44NiIgY3k9IjI5My44MjY5IiBmaWxsPSIjMjIyMjIyIiByeD0iNiIgcnk9IjYiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48IS0tbGluayAqc3RhcnQqIHRvID8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDIiIGRhdGEtZW50aXR5LTI9ImVudDAwMDIiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIzIiBpZD0ibG5rMyI+PHBhdGggZD0iTTQwLjU4LDc5LjQzNjkgQzQ0LjIyLDk4LjM5NjkgNTEuNjMwNSwxMzcuMDk0MSA1Ny4wMjA1LDE2NS4yMTQxIiBmaWxsPSJub25lIiBpZD0iKnN0YXJ0Ki10by0mIzIyNzcwOyYjMTk5Nzg7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1OC4xNSwxNzEuMTA2OSw2MC4zODQyLDE2MS41MTQ4LDU3LjIwODcsMTY2LjE5NjMsNTIuNTI3MywxNjMuMDIwOCw1OC4xNSwxNzEuMTA2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzNi45NzYyIiB4PSI1My4zIiB5PSIxMzcuNjIzOCI+JiMyMzU1MDsmIzM1OTM3OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyA6MTAwMCYjMjAyMTQ7LyYjMjYwODU7PC90ZXh0PjwvZz48IS0tbGluayA/Pz8/PyB0byA/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDIiIGRhdGEtZW50aXR5LTI9ImVudDAwMDQiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI1IiBpZD0ibG5rNSI+PHBhdGggZD0iTTExOS4wNCwxOTYuNjk2OSBDMTM0LjUsMTk2LjY5NjkgMTQzLjk2LDE5Ni42OTY5IDE1OS40MiwxOTYuNjk2OSIgZmlsbD0ibm9uZSIgaWQ9IiYjMjI3NzA7JiMxOTk3ODsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTstdG8tJiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjE2NS40MiwxOTYuNjk2OSwxNTYuNDIsMTkyLjY5NjksMTYwLjQyLDE5Ni42OTY5LDE1Ni40MiwyMDAuNjk2OSwxNjUuNDIsMTk2LjY5NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgPz8/Pz8/PyB0byA/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDMiIGRhdGEtZW50aXR5LTI9ImVudDAwMDQiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI2IiBpZD0ibG5rNiI+PHBhdGggZD0iTTIxNC4zMiw5NC44NzY5IEMyMTIuMDMsMTE2Ljk0NjkgMjA5LjI5OTgsMTQzLjI4OSAyMDcuMDA5OCwxNjUuMzM5IiBmaWxsPSJub25lIiBpZD0iJiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTstdG8tJiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIwNi4zOSwxNzEuMzA2OSwyMTEuMjk4MywxNjIuNzY4MiwyMDYuOTA2NSwxNjYuMzMzNiwyMDMuMzQxMSwxNjEuOTQxOCwyMDYuMzksMTcxLjMwNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxODkuNjExIiB4PSIyMTIuMTQiIHk9IjEzNy42MjM4Ij4mIzkzMTI7JiMxMjQ5NzsmIzEyNDc5OyYjMTI1NDA7JiMxMjUzMTsmIzEyNDM0OzEmIzIwMjE0OyYjMTIzNzg7JiMxMjM4ODsmIzM1NTAxOyYjMTI0MTY7KDEwJiMyMDIxNDspPC90ZXh0PjwvZz48IS0tbGluayA/Pz8/IHRvID8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDQiIGRhdGEtZW50aXR5LTI9ImVudDAwMDciIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI4IiBpZD0ibG5rOCI+PHBhdGggZD0iTTI0Mi4wOCwxOTYuNjk2OSBDMzEyLjA5LDE5Ni42OTY5IDQ1NC41OSwxOTYuNjk2OSA1MjkuNTUsMTk2LjY5NjkiIGZpbGw9Im5vbmUiIGlkPSImIzMzMjU4OyYjMjEyMDU7JiMyMDE4MTsmIzM1Mzc5Oy10by0mIzIwMTgxOyYjMzUzNzk7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1MzUuNTUsMTk2LjY5NjksNTI2LjU1LDE5Mi42OTY5LDUzMC41NSwxOTYuNjk2OSw1MjYuNTUsMjAwLjY5NjksNTM1LjU1LDE5Ni42OTY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjU4LjY1NDYiIHg9IjI1OS44NiIgeT0iMTg5Ljc2MzgiPiYjOTMxMzsmIzEyNDk3OyYjMTI0Nzk7JiMxMjU0MDsmIzEyNTMxOyYjMTIzOTU7JiMyMTUxMjsmIzEyMzU4OyYjMjI3NzA7JiMxOTk3ODsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsmIzEyNDM0OyYjMjI3OTM7JiMyNTU2MzsmIzEyMzc1OyYjMTIzOTA7JiMyNTQwNzsmIzIwODM3OzwvdGV4dD48L2c+PCEtLWxpbmsgPz8/Pz8gdG8gKmVuZCotLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNyIgZGF0YS1lbnRpdHktMj0iZW50MDAwOSIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjkiIGlkPSJsbmsxMCI+PHBhdGggZD0iTTU4MC44NiwyMjIuMTk2OSBDNTgwLjg2LDI0MS43OTY5IDU4MC44NiwyNjIuMjg2OSA1ODAuODYsMjc2LjYwNjkiIGZpbGw9Im5vbmUiIGlkPSImIzIwMTgxOyYjMzUzNzk7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7LXRvLSplbmQqIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1ODAuODYsMjgyLjYwNjksNTg0Ljg2LDI3My42MDY5LDU4MC44NiwyNzcuNjA2OSw1NzYuODYsMjczLjYwNjksNTgwLjg2LDI4Mi42MDY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjw/cGxhbnR1bWwtc3JjIFJQM0RJaUQwNENWbC1uSHhKOE5JMTZ5di0yQllpR1YxT24tV2t1RDlfMDBKZUhHS1lpS3NJQUlLTWY2S1k3Y05wNHdRbnQxSWc2ckpacGxwY19fN3pZdnhMcnM5RWFDMFhDMmFDeWcxXzdXVFVhQVNkcnA4VGxqQ3FrazdJTXlIVjhIbHJCYWhRVnZKQlNQXzAtYXdqY3NSeEFqSjNnVVlHS2pOTWdVcS1nSjBhdW9QcjZVbVRLSW5KVUtkVDNTbXNRMXdNdWh6MXk4OHpNZjNESjBNQnc4Tlg4WU5qSDBpS0p5d1I4M2cyVE1hSWNRZS12UFpSb3BfYnRHdnJSeDAwTFI3c1h4aS1YSkgtQzFJbExDT2VGOFFkSldBSk14QVhzVEtHckhuVVBfSnpMR3F2VWZBX0Q2Xz8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<p><strong>処理方式：</strong>
1. パターンマスタを1件読み込む（10件）
2. 該当パターンの売上データを一括 INSERT
3. パターン数分のDB操作で完了</p>
<p><strong>利点：</strong> M 回（パターン数）のDB操作で完了</p>
<h3 id="er">自動仕訳関連テーブルのER図<a class="headerlink" href="#er" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjgwMXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6ODIzcHg7aGVpZ2h0OjgwMXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDgyMyA4MDEiIHdpZHRoPSI4MjNweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjwhLS1jbGFzcyBBdXRvSm91cm5hbFBhdHRlcm4tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJBdXRvSm91cm5hbFBhdHRlcm4iIGRhdGEtc291cmNlLWxpbmU9IjEiIGlkPSJlbnQwMDAyIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIxMC45Njg4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyNjkuNTk4MiIgeD0iNyIgeT0iNDA5LjM0Ii8+PGVsbGlwc2UgY3g9IjYwLjU0OTQiIGN5PSI0MjUuMzQiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTY0LjY1ODgsNDMxLjM0IEw1Ni45NDAxLDQzMS4zNCBMNTYuOTQwMSw0MTguOTQ5NCBMNjQuNjU4OCw0MTguOTQ5NCBMNjQuNjU4OCw0MjEuMTA1NiBMNTkuMzkzMiw0MjEuMTA1NiBMNTkuMzkzMiw0MjMuNzc3NSBMNjQuMTU4OCw0MjMuNzc3NSBMNjQuMTU4OCw0MjUuOTMzOCBMNTkuMzkzMiw0MjUuOTMzOCBMNTkuMzkzMiw0MjkuMTgzOCBMNjQuNjU4OCw0MjkuMTgzOCBMNjQuNjU4OCw0MzEuMzQgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTMuOTk5MyIgeD0iODEuMDQ5NCIgeT0iNDMwLjE4NjciPiYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7JiMxMjQ5NzsmIzEyNDc5OyYjMTI1NDA7JiMxMjUzMTsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iOCIgeDI9IjI3NS41OTgyIiB5MT0iNDQxLjM0IiB5Mj0iNDQxLjM0Ii8+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxOCIgY3k9IjQ1NC45ODg0IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjI3IiB5PSI0NTguMzM1MSI+JiMxMjQ5NzsmIzEyNDc5OyYjMTI1NDA7JiMxMjUzMTsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ1LjU5ODYiIHg9IjEyNC45OTk2IiB5PSI0NTguMzM1MSI+OiBWQVJDSEFSKDEwKSAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iOCIgeDI9IjI3NS41OTgyIiB5MT0iNDY1LjYzNjkiIHkyPSI0NjUuNjM2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjEzIiB5PSI0ODIuNjMyIj4mIzEyNDk3OyYjMTI0Nzk7JiMxMjU0MDsmIzEyNTMxOyYjMjE1MTc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjEzIiB5PSI0OTguOTI4OSI+JiMyMTgzMDsmIzIxNjk3OyYjMTI0NjQ7JiMxMjUyMzsmIzEyNTQwOyYjMTI1MDM7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjEzIiB5PSI1MTUuMjI1NyI+JiMzOTAxNTsmIzIzNDU4OyYjMTI0NjQ7JiMxMjUyMzsmIzEyNTQwOyYjMTI1MDM7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2NC44MTM5IiB4PSIxMyIgeT0iNTMxLjUyMjYiPiYjMjA1MTE7JiMyNjA0MTsmIzIxMjA4OyYjMjM0NTA7JiMzMTE4NTsmIzMwNDQ2OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyAmIzE3MTtGSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjQuODEzOSIgeD0iMTMiIHk9IjU0Ny44MTk1Ij4mIzM2MDI0OyYjMjYwNDE7JiMyMTIwODsmIzIzNDUwOyYjMzExODU7JiMzMDQ0NjsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTMiIHk9IjU2NC4xMTY0Ij4mIzI2Mzc3OyYjMjExNzc7JiMzODI4MzsmIzIyOTg3OyYjMjYwODU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjEzIiB5PSI1ODAuNDEzMiI+JiMyNjM3NzsmIzIxMTc3OyYjMzIwNjY7JiMyMDEwMjsmIzI2MDg1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxMyIgeT0iNTk2LjcxMDEiPiYjMjA3Nzg7JiMyMDgwODsmIzM4OTE4OyYjMjAzMDE7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzLjM1MDYiIHg9IjEzIiB5PSI2MTMuMDA3Ij4uLi48L3RleHQ+PC9nPjwhLS1jbGFzcyBBdXRvSm91cm5hbC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkF1dG9Kb3VybmFsIiBkYXRhLXNvdXJjZS1saW5lPSIxNSIgaWQ9ImVudDAwMDMiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzQxLjM0MzgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjI1NS41OTgzIiB4PSIyOTgiIHk9IjciLz48ZWxsaXBzZSBjeD0iMzcyLjU0OTMiIGN5PSIyMyIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMzc2LjY1ODcsMjkgTDM2OC45NCwyOSBMMzY4Ljk0LDE2LjYwOTQgTDM3Ni42NTg3LDE2LjYwOTQgTDM3Ni42NTg3LDE4Ljc2NTYgTDM3MS4zOTMxLDE4Ljc2NTYgTDM3MS4zOTMxLDIxLjQzNzUgTDM3Ni4xNTg3LDIxLjQzNzUgTDM3Ni4xNTg3LDIzLjU5MzggTDM3MS4zOTMxLDIzLjU5MzggTDM3MS4zOTMxLDI2Ljg0MzggTDM3Ni42NTg3LDI2Ljg0MzggTDM3Ni42NTg3LDI5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMzkzLjA0OTMiIHk9IjI3Ljg0NjciPiYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI5OSIgeDI9IjU1Mi41OTgzIiB5MT0iMzkiIHkyPSIzOSIvPjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iMzA5IiBjeT0iNTIuNjQ4NCIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSIzMTgiIHk9IjU1Ljk5NTEiPiYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7JiMzMDA1ODsmIzIxNDk1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDUuNTk4NiIgeD0iNDAxLjk5OTYiIHk9IjU1Ljk5NTEiPjogVkFSQ0hBUigxNSkgJiMxNzE7UEsmIzE4Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI5OSIgeDI9IjU1Mi41OTgzIiB5MT0iNjMuMjk2OSIgeTI9IjYzLjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5NC44MTQyIiB4PSIzMDQiIHk9IjgwLjI5MiI+JiMyMjc3MDsmIzE5OTc4OyYjMzAwNTg7JiMyMTQ5NTsgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMzA0IiB5PSI5Ni41ODg5Ij4mIzIyNzcwOyYjMTk5Nzg7JiMzNDg5MjsmIzMwMDU4OyYjMjE0OTU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzNi44MTQiIHg9IjMwNCIgeT0iMTEyLjg4NTciPiYjMTI0OTc7JiMxMjQ3OTsmIzEyNTQwOyYjMTI1MzE7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7ICYjMTcxO0ZLJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjk5OTgiIHg9IjMwNCIgeT0iMTI5LjE4MjYiPiYjMzYyMTU7JiMzMTA4MDsmIzI2MDg1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny45OTk2IiB4PSIzMDQiIHk9IjE0NS40Nzk1Ij4mIzIwMTgxOyYjMzUzNzk7JiMzNDg5MjsmIzM2MDI0OyYjMjA1MTE7JiMyMTMwNjsmIzIwOTk4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzYuODE0IiB4PSIzMDQiIHk9IjE2MS43NzY0Ij4mIzIxMjA4OyYjMjM0NTA7JiMzMTE4NTsmIzMwNDQ2OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyAmIzE3MTtGSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny45OTk2IiB4PSIzMDQiIHk9IjE3OC4wNzMyIj4mIzM1MDM2OyYjMjExNjE7JiMzMTE4NTsmIzMwNDQ2OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDguODE0MSIgeD0iMzA0IiB5PSIxOTQuMzcwMSI+JiMzNzA5NjsmIzM4MjcyOyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyAmIzE3MTtGSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIzMDQiIHk9IjIxMC42NjciPiYjMjAxODE7JiMzNTM3OTsmIzM3MzI5OyYjMzg5ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjMwNCIgeT0iMjI2Ljk2MzkiPiYjMjgwNDA7JiMzNjAyNzsmIzMxMjQ2OyYjMzg5ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjMwNCIgeT0iMjQzLjI2MDciPiYjMjA5NjY7JiMyOTcwMjsmIzEyNDczOyYjMTI0ODY7JiMxMjU0MDsmIzEyNDc5OyYjMTI0NzM7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjMwNCIgeT0iMjU5LjU1NzYiPiYjMzY1Nzg7JiMzNTM1MjsmIzI4MTY4OyYjMTI1MDE7JiMxMjUyMTsmIzEyNDY0OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIzMDQiIHk9IjI3NS44NTQ1Ij4mIzM2NTc4OyYjMzUzNTI7JiMyNjA4NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMzA0IiB5PSIyOTIuMTUxNCI+JiMyMDE4MTsmIzM1Mzc5OyYjMjAyNTM7JiMzMTA4MDsmIzMwMDU4OyYjMjE0OTU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjMwNCIgeT0iMzA4LjQ0ODIiPiYjMTI0NTY7JiMxMjUyMTsmIzEyNTQwOyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTEuOTk5NSIgeD0iMzA0IiB5PSIzMjQuNzQ1MSI+JiMxMjQ1NjsmIzEyNTIxOyYjMTI1NDA7JiMxMjUxMzsmIzEyNDgzOyYjMTI0NzU7JiMxMjU0MDsmIzEyNDcyOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMy4zNTA2IiB4PSIzMDQiIHk9IjM0MS4wNDIiPi4uLjwvdGV4dD48L2c+PCEtLWNsYXNzIEF1dG9Kb3VybmFsSGlzdG9yeS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkF1dG9Kb3VybmFsSGlzdG9yeSIgZGF0YS1zb3VyY2UtbGluZT0iMzciIGlkPSJlbnQwMDA0Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIyNy4yNjU2IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyMjcuNTk4NCIgeD0iNTg5IiB5PSI2NC4wNCIvPjxlbGxpcHNlIGN4PSI2NDIuNTQ5NCIgY3k9IjgwLjA0IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik02NDYuNjU4OCw4Ni4wNCBMNjM4Ljk0MDEsODYuMDQgTDYzOC45NDAxLDczLjY0OTQgTDY0Ni42NTg4LDczLjY0OTQgTDY0Ni42NTg4LDc1LjgwNTYgTDY0MS4zOTMyLDc1LjgwNTYgTDY0MS4zOTMyLDc4LjQ3NzUgTDY0Ni4xNTg4LDc4LjQ3NzUgTDY0Ni4xNTg4LDgwLjYzMzggTDY0MS4zOTMyLDgwLjYzMzggTDY0MS4zOTMyLDgzLjg4MzggTDY0Ni42NTg4LDgzLjg4MzggTDY0Ni42NTg4LDg2LjA0IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTExLjk5OTUiIHg9IjY2My4wNDk0IiB5PSI4NC44ODY3Ij4mIzMzMjU4OyYjMjEyMDU7JiMyMDE4MTsmIzM1Mzc5OyYjMjA5NjY7JiMyOTcwMjsmIzIzNjUzOyYjMjc1MDg7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjU5MCIgeDI9IjgxNS41OTg0IiB5MT0iOTYuMDQiIHkyPSI5Ni4wNCIvPjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iSUVfTUFOREFUT1JZIj48ZWxsaXBzZSBjeD0iNjAwIiBjeT0iMTA5LjY4ODQiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iNjA5IiB5PSIxMTMuMDM1MSI+JiMyMDk2NjsmIzI5NzAyOyYjMzAwNTg7JiMyMTQ5NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ1LjU5ODYiIHg9IjY2NC45OTk4IiB5PSIxMTMuMDM1MSI+OiBWQVJDSEFSKDE1KSAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTkwIiB4Mj0iODE1LjU5ODQiIHkxPSIxMjAuMzM2OSIgeTI9IjEyMC4zMzY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iNTk1IiB5PSIxMzcuMzMyIj4mIzIwOTY2OyYjMjk3MDI7JiMyNjA4NTsmIzI2MTc4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny45OTk2IiB4PSI1OTUiIHk9IjE1My42Mjg5Ij4mIzIwOTY2OyYjMjk3MDI7JiMyMzU1MDsmIzM1OTM3OyYjMzgyODM7JiMyMjk4NzsmIzI2MDg1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny45OTk2IiB4PSI1OTUiIHk9IjE2OS45MjU3Ij4mIzIwOTY2OyYjMjk3MDI7JiMyMzU1MDsmIzM1OTM3OyYjMzIwNjY7JiMyMDEwMjsmIzI2MDg1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI1OTUiIHk9IjE4Ni4yMjI2Ij4mIzIwOTY2OyYjMjk3MDI7JiMyMDIxNDsmIzI1OTY4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI1OTUiIHk9IjIwMi41MTk1Ij4mIzI1MTA0OyYjMjExNTE7JiMyMDIxNDsmIzI1OTY4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSI1OTUiIHk9IjIxOC44MTY0Ij4mIzEyNDU2OyYjMTI1MjE7JiMxMjU0MDsmIzIwMjE0OyYjMjU5Njg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjU5NSIgeT0iMjM1LjExMzIiPiYjMjA5NjY7JiMyOTcwMjsmIzM3MzI5OyYjMzg5ODk7JiMyMTUxMjsmIzM1MzM2OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSI1OTUiIHk9IjI1MS40MTAxIj4mIzIwOTY2OyYjMjk3MDI7JiMzMjc3Mzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjcuOTk5OSIgeD0iNTk1IiB5PSIyNjcuNzA3Ij4mIzIwNjMzOyYjMzI3NzE7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzLjM1MDYiIHg9IjU5NSIgeT0iMjg0LjAwMzkiPi4uLjwvdGV4dD48L2c+PCEtLWNsYXNzIFNhbGVzLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iU2FsZXMiIGRhdGEtc291cmNlLWxpbmU9IjUyIiBpZD0iZW50MDAwNSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMjkuNDg0NCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMjI3LjU5ODQiIHg9IjMxMiIgeT0iNDUwLjA4Ii8+PGVsbGlwc2UgY3g9IjM4Ni41NDkzIiBjeT0iNDY2LjA4IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0zOTAuNjU4Nyw0NzIuMDggTDM4Mi45NCw0NzIuMDggTDM4Mi45NCw0NTkuNjg5NCBMMzkwLjY1ODcsNDU5LjY4OTQgTDM5MC42NTg3LDQ2MS44NDU2IEwzODUuMzkzMSw0NjEuODQ1NiBMMzg1LjM5MzEsNDY0LjUxNzUgTDM5MC4xNTg3LDQ2NC41MTc1IEwzOTAuMTU4Nyw0NjYuNjczOCBMMzg1LjM5MzEsNDY2LjY3MzggTDM4NS4zOTMxLDQ2OS45MjM4IEwzOTAuNjU4Nyw0NjkuOTIzOCBMMzkwLjY1ODcsNDcyLjA4IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iNDA3LjA0OTMiIHk9IjQ3MC45MjY3Ij4mIzIyNzcwOyYjMTk5Nzg7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjMxMyIgeDI9IjUzOC41OTg0IiB5MT0iNDgyLjA4IiB5Mj0iNDgyLjA4Ii8+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIzMjMiIGN5PSI0OTUuNzI4NCIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIzMzIiIHk9IjQ5OS4wNzUxIj4mIzIyNzcwOyYjMTk5Nzg7JiMzMDA1ODsmIzIxNDk1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDUuNTk4NiIgeD0iMzg3Ljk5OTgiIHk9IjQ5OS4wNzUxIj46IFZBUkNIQVIoMTApICYjMTcxO1BLJiMxODc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMTMiIHgyPSI1MzguNTk4NCIgeTE9IjUwNi4zNzY5IiB5Mj0iNTA2LjM3NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIzMTgiIHk9IjUyMy4zNzIiPiYjMjI3NzA7JiMxOTk3ODsmIzI2MDg1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIzMTgiIHk9IjUzOS42Njg5Ij4mIzM5MDE1OyYjMjM0NTg7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjMxOCIgeT0iNTU1Ljk2NTciPiYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7JiMyMDk2NjsmIzI5NzAyOyYjMjYwODU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzLjM1MDYiIHg9IjMxOCIgeT0iNTcyLjI2MjYiPi4uLjwvdGV4dD48L2c+PCEtLWNsYXNzIEFjY291bnQtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJBY2NvdW50IiBkYXRhLXNvdXJjZS1saW5lPSI2MSIgaWQ9ImVudDAwMDYiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iOTYuODkwNiIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTYzLjIwMzciIHg9IjE1NC4yIiB5PSI2OTcuMzEiLz48ZWxsaXBzZSBjeD0iMTg0LjE0MTgiIGN5PSI3MTMuMzEiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTE4OC4yNTEyLDcxOS4zMSBMMTgwLjUzMjUsNzE5LjMxIEwxODAuNTMyNSw3MDYuOTE5NCBMMTg4LjI1MTIsNzA2LjkxOTQgTDE4OC4yNTEyLDcwOS4wNzU2IEwxODIuOTg1Niw3MDkuMDc1NiBMMTgyLjk4NTYsNzExLjc0NzUgTDE4Ny43NTEyLDcxMS43NDc1IEwxODcuNzUxMiw3MTMuOTAzOCBMMTgyLjk4NTYsNzEzLjkwMzggTDE4Mi45ODU2LDcxNy4xNTM4IEwxODguMjUxMiw3MTcuMTUzOCBMMTg4LjI1MTIsNzE5LjMxIFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMjAxLjQ2MjMiIHk9IjcxOC4xNTY3Ij4mIzIxMjA4OyYjMjM0NTA7JiMzMTE4NTsmIzMwNDQ2OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxNTUuMiIgeDI9IjMxNi40MDM3IiB5MT0iNzI5LjMxIiB5Mj0iNzI5LjMxIi8+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJJRV9NQU5EQVRPUlkiPjxlbGxpcHNlIGN4PSIxNjUuMiIgY3k9Ijc0Mi45NTg0IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjE3NC4yIiB5PSI3NDYuMzA1MSI+JiMyMTIwODsmIzIzNDUwOyYjMzExODU7JiMzMDQ0NjsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzQuNzUzOSIgeD0iMjc2LjY0OTgiIHk9Ijc0Ni4zMDUxIj4mIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTU1LjIiIHgyPSIzMTYuNDAzNyIgeTE9Ijc1My42MDY5IiB5Mj0iNzUzLjYwNjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIxNjAuMiIgeT0iNzcwLjYwMiI+JiMyMTIwODsmIzIzNDUwOyYjMzExODU7JiMzMDQ0NjsmIzIxNTE3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMy4zNTA2IiB4PSIxNjAuMiIgeT0iNzg2Ljg5ODkiPi4uLjwvdGV4dD48L2c+PCEtLWxpbmsgQXV0b0pvdXJuYWxQYXR0ZXJuIHRvIEFjY291bnQtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMiIgZGF0YS1lbnRpdHktMj0iZW50MDAwNiIgZGF0YS1saW5rLXR5cGU9ImNyb3dmb290IiBkYXRhLXNvdXJjZS1saW5lPSI2OCIgaWQ9ImxuazciPjxwYXRoIGNvZGVMaW5lPSI2OCIgZD0iTTEyOC41MDE0LDYzOC4zODY5IEMxMjkuNzUxNCw2NTQuNjI2OSAxMzEuODQsNjUyLjg1IDEzOC44LDY2Ny4zMSBDMTQ0LjEzLDY3OC4zOCAxNDYuMjIzNSw2ODIuNzEyOCAxNTUuMDczNSw2OTEuNTMyOCIgZmlsbD0ibm9uZSIgaWQ9IkF1dG9Kb3VybmFsUGF0dGVybi1BY2NvdW50IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEyNy43MzM5IiB4Mj0iMTIxLjEzNzciIHkxPSI2MjguNDE2NCIgeTI9IjYyMC45MDA1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEyNy43MzM5IiB4Mj0iMTMzLjEwMjMiIHkxPSI2MjguNDE2NCIgeTI9IjYxOS45Nzk1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEyNy43MzM5IiB4Mj0iMTI3LjEyIiB5MT0iNjI4LjQxNjQiIHkyPSI2MjAuNDQiLz48ZWxsaXBzZSBjeD0iMTI4LjE5NDQiIGN5PSI2MzQuMzk4NyIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE2MC43MzA0IiB4Mj0iMTU1LjA4MzIiIHkxPSI2OTEuNTIzMiIgeTI9IjY5Ny4xODk2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE1OC42MDU1IiB4Mj0iMTUyLjk1ODIiIHkxPSI2ODkuNDA1NCIgeTI9IjY5NS4wNzE5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE1NS4wNzM1IiB4Mj0iMTYwLjc0IiB5MT0iNjkxLjUzMjgiIHkyPSI2OTcuMTgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1Mi4wMDAxIiB4PSIxMzkuOCIgeT0iNjYzLjM3NjkiPiYjMjA1MTE7JiMyNjA0MTsmIzMxMTg1OyYjMzA0NDY7PC90ZXh0PjwvZz48IS0tbGluayBBdXRvSm91cm5hbFBhdHRlcm4gdG8gQWNjb3VudC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAyIiBkYXRhLWVudGl0eS0yPSJlbnQwMDA2IiBkYXRhLWxpbmstdHlwZT0iY3Jvd2Zvb3QiIGRhdGEtc291cmNlLWxpbmU9IjY5IiBpZD0ibG5rOCI+PHBhdGggY29kZUxpbmU9IjY5IiBkPSJNMTkxLjY0NjMsNjM3LjIzMTMgQzIwMi42MTYzLDY2My45NTEzIDIwNC4wMTE0LDY2Ny4zMzk1IDIxMy4xNTE0LDY4OS41OTk1IiBmaWxsPSJub25lIiBpZD0iQXV0b0pvdXJuYWxQYXR0ZXJuLUFjY291bnQtMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxODcuODQ4MyIgeDI9IjE3OS4yNTk2IiB5MT0iNjI3Ljk4MDYiIHkyPSI2MjIuODU4OCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxODcuODQ4MyIgeDI9IjE5MC4zNjA0IiB5MT0iNjI3Ljk4MDYiIHkyPSI2MTguMzAxMiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxODcuODQ4MyIgeDI9IjE4NC44MSIgeTE9IjYyNy45ODA2IiB5Mj0iNjIwLjU4Ii8+PGVsbGlwc2UgY3g9IjE5MC4xMjcxIiBjeT0iNjMzLjUzMSIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIxOC4zNzA5IiB4Mj0iMjEwLjk3MDUiIHkxPSI2OTEuNzgwNSIgeTI9IjY5NC44MTkxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIxNy4yMzE0IiB4Mj0iMjA5LjgzMSIgeTE9IjY4OS4wMDUzIiB5Mj0iNjkyLjA0MzkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjEzLjE1MTQiIHgyPSIyMTYuMTkiIHkxPSI2ODkuNTk5NSIgeTI9IjY5NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyLjAwMDEiIHg9IjIwMy43MSIgeT0iNjYzLjM3NjkiPiYjMzYwMjQ7JiMyNjA0MTsmIzMxMTg1OyYjMzA0NDY7PC90ZXh0PjwvZz48IS0tbGluayBBdXRvSm91cm5hbCB0byBBdXRvSm91cm5hbFBhdHRlcm4tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMyIgZGF0YS1lbnRpdHktMj0iZW50MDAwMiIgZGF0YS1saW5rLXR5cGU9ImNyb3dmb290IiBkYXRhLXNvdXJjZS1saW5lPSI3MCIgaWQ9ImxuazkiPjxwYXRoIGNvZGVMaW5lPSI3MCIgZD0iTTI4NS44NzEzLDM0My44MDEgQzI2My4yMzEzLDM3MC41MTEgMjU2LjkzMTQsMzc3Ljk0NjEgMjM1LjY5MTQsNDAzLjAxNjEiIGZpbGw9Im5vbmUiIGlkPSJBdXRvSm91cm5hbC1BdXRvSm91cm5hbFBhdHRlcm4iIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjkyLjMzNzIiIHgyPSIyOTIuOTMzIiB5MT0iMzM2LjE3MjciIHkyPSIzMjYuMTkwNCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyOTIuMzM3MiIgeDI9IjMwMi4wODciIHkxPSIzMzYuMTcyNyIgeTI9IjMzMy45NDk2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI5Mi4zMzcyIiB4Mj0iMjk3LjUxIiB5MT0iMzM2LjE3MjciIHkyPSIzMzAuMDciLz48ZWxsaXBzZSBjeD0iMjg4LjQ1NzciIGN5PSIzNDAuNzQ5NyIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIzNi4xNTc2IiB4Mj0iMjMwLjA1MzgiIHkxPSI0MDguNjUzOCIgeTI9IjQwMy40ODI0Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIzOC4wOTY5IiB4Mj0iMjMxLjk5MyIgeTE9IjQwNi4zNjQ4IiB5Mj0iNDAxLjE5MzQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjM1LjY5MTQiIHgyPSIyMzAuNTIiIHkxPSI0MDMuMDE2MSIgeTI9IjQwOS4xMiIvPjwvZz48IS0tbGluayBBdXRvSm91cm5hbCB0byBTYWxlcy0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAzIiBkYXRhLWVudGl0eS0yPSJlbnQwMDA1IiBkYXRhLWxpbmstdHlwZT0iY3Jvd2Zvb3QiIGRhdGEtc291cmNlLWxpbmU9IjcxIiBpZD0ibG5rMTAiPjxwYXRoIGNvZGVMaW5lPSI3MSIgZD0iTTQyNS44LDM2Ni43IEM0MjUuOCw0MDIuODQgNDI1LjgsNDEyLjgyIDQyNS44LDQ0MS45MyIgZmlsbD0ibm9uZSIgaWQ9IkF1dG9Kb3VybmFsLVNhbGVzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQyNS44IiB4Mj0iNDE5LjgiIHkxPSIzNTYuNyIgeTI9IjM0OC43Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQyNS44IiB4Mj0iNDMxLjgiIHkxPSIzNTYuNyIgeTI9IjM0OC43Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQyNS44IiB4Mj0iNDI1LjgiIHkxPSIzNTYuNyIgeTI9IjM0OC43Ii8+PGVsbGlwc2UgY3g9IjQyNS44IiBjeT0iMzYyLjciIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI0MjkuOCIgeDI9IjQyMS44IiB5MT0iNDQ1LjkzIiB5Mj0iNDQ1LjkzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQyOS44IiB4Mj0iNDIxLjgiIHkxPSI0NDIuOTMiIHkyPSI0NDIuOTMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDI1LjgiIHgyPSI0MjUuOCIgeTE9IjQ0MS45MyIgeTI9IjQ0OS45MyIvPjwvZz48IS0tbGluayBBdXRvSm91cm5hbCB0byBBY2NvdW50LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDMiIGRhdGEtZW50aXR5LTI9ImVudDAwMDYiIGRhdGEtbGluay10eXBlPSJjcm93Zm9vdCIgZGF0YS1zb3VyY2UtbGluZT0iNzIiIGlkPSJsbmsxMSI+PHBhdGggY29kZUxpbmU9IjcyIiBkPSJNNTQ5LjI4MzIsMzY0LjkyMyBDNTkyLjgyMzIsNDUxLjgyMyA2MTEuOTMsNTM5LjgxIDU1Ni44LDYyMC4zMSBDNTAzLjUyLDY5OC4xIDQwMS45MzksNzI2LjE0NDMgMzI1LjcyOSw3MzcuMDc0MyIgZmlsbD0ibm9uZSIgaWQ9IkF1dG9Kb3VybmFsLUFjY291bnQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTQ0LjgwMzYiIHgyPSI1MzUuODU1NyIgeTE9IjM1NS45ODI1IiB5Mj0iMzUxLjUxNzciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTQ0LjgwMzYiIHgyPSI1NDYuNTg0MyIgeTE9IjM1NS45ODI1IiB5Mj0iMzQ2LjE0MjMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTQ0LjgwMzYiIHgyPSI1NDEuMjIiIHkxPSIzNTUuOTgyNSIgeTI9IjM0OC44MyIvPjxlbGxpcHNlIGN4PSI1NDcuNDkxNCIgY3k9IjM2MS4zNDY4IiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzIyLjMzNzQiIHgyPSIzMjEuMjAxNiIgeTE9Ijc0MS42MDE2IiB5Mj0iNzMzLjY4MjYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzI1LjMwNyIgeDI9IjMyNC4xNzEyIiB5MT0iNzQxLjE3NTciIHkyPSI3MzMuMjU2NyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMjUuNzI5IiB4Mj0iMzE3LjgxIiB5MT0iNzM3LjA3NDMiIHkyPSI3MzguMjEiLz48L2c+PD9wbGFudHVtbC1zcmMgWkxIREp6ajA0QnRsaHgwdWpQT0lqT1RVNDRBQUFiTWVsSTBnekh3WDc5MUc4WU5FMEhNYXI1aVNhdjBzS1VObUtMZmdLMWdKZ1ljNDBXY2N4T3pQWnh0LTVfTHdSVUNhQmxJc0N0dXB5LVJEVTc5dlFLTFE0c1BlakdUcnBKOHJRZm1KdDJCbzd1OWwyRlJVZHVheXlpbVA4TGlJQ2NNZnlCbkdCa1FwZ3VqUElTZUx5eTloOTBnWUUxT1lkX2tGQkw2UzVMdmJiZnVrUDlPVUY3eHFLOVlSTXRtbkZ1eklBSEk3R3hFMUc1RldtbmlZZG5CeXBWVms4NVZsR2x6ZXAwTUxHeGl6V2xla3pGVVRSaWx2czh6QVVSY1ZpVG5xQ0JtRk9YemlHTXRhamtsR2hUaXhkUzFzQmNKaE1jNHNsRXQxZmtmLUtRblYzUEhFZno0NkdoYjRiUWVpeVJHb1dJSG5oQUZydUZ0TGMxdkZ1ZGgweVMwUXJaV2d2Q2J6TERfY1JmR2VTVEp0blBOSkNIWHpOajBCeXdKbTE4RmpRcjBMVEJUZW5tVEdFdmR1WTVuaWtFdEE1OVpkVHdpakxzeVctckFiMHpDbnRaNDNnYi1UZmlBczFJalM2VS1EZzdiNFpMcnhnMUFpNE5wWTNKSHFITUlqY3F5VS1SMURzTTBtNVh5b2tOTFhkTTFDUERGX0ZCbmhFZm1DZDdOaXhweWQxeEltS2Y4QW5STFdKWG52eHVIeWJDVlB0ZkMzMHR4eWZjVnd4SUI1bFI1cnloc01VTWJoZnlYTWNyMHgzOG9laFMzY0lBdWlENUxnZzg2QkxaT0hvN2txV1lTeHZaaW9sZWFsaXdrdktqWFJSQV8tX0pUbzUyQ1JfZElYeWpFQUNqR2FZVlhrWlAtQnZVTDJFSS01UDk5c0sxSlpINjg4VFhRMkdXYk5Qd0VHSWdzbEhtTGMxTnVSVUVYXzFWMUJDSHFHOFFUbzlBNXlpSEYzVVE2Xz8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_16">マイグレーション：自動仕訳テーブルの作成<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<details>
<summary>マイグレーションSQL</summary>

<div class="highlight"><pre><span></span><code><span class="c1">-- src/main/resources/db/migration/V007__create_auto_journal_tables.sql</span>

<span class="c1">-- 自動仕訳処理ステータス</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TYPE</span><span class="w"> </span><span class="err">自動仕訳ステータス</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ENUM</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;処理待ち&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;処理中&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;処理完了&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;転記済&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;エラー&#39;</span><span class="p">);</span>

<span class="c1">-- 自動仕訳パターンマスタ</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;自動仕訳パターンマスタ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;パターンコード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;パターン名&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;商品グループ&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;ALL&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;顧客グループ&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;ALL&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;売上区分&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;01&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;借方勘定科目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;借方補助科目設定&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;貸方勘定科目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;貸方補助科目設定&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;返品時借方科目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;返品時貸方科目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;消費税処理区分&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;01&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;有効開始日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_DATE</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;有効終了日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;9999-12-31&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;優先順位&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_自動仕訳パターン_借方科目&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;借方勘定科目コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;勘定科目コード&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_自動仕訳パターン_貸方科目&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;貸方勘定科目コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;勘定科目コード&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- 自動仕訳データ</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;自動仕訳データ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;自動仕訳番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;売上番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;売上行番号&quot;</span><span class="w"> </span><span class="nb">SMALLINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;パターンコード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;起票日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;仕訳行貸借区分&quot;</span><span class="w"> </span><span class="err">仕訳行貸借区分</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;勘定科目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;補助科目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;部門コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;仕訳金額&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;消費税額&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;処理ステータス&quot;</span><span class="w"> </span><span class="err">自動仕訳ステータス</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;処理待ち&#39;</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;転記済フラグ&quot;</span><span class="w"> </span><span class="nb">SMALLINT</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;転記日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;仕訳伝票番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;エラーコード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;エラーメッセージ&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">200</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_自動仕訳_パターン&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;パターンコード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;自動仕訳パターンマスタ&quot;</span><span class="p">(</span><span class="ss">&quot;パターンコード&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_自動仕訳_勘定科目&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;勘定科目コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;勘定科目マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;勘定科目コード&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_自動仕訳_部門&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;部門コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;部門マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;部門コード&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- 自動仕訳処理履歴</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;自動仕訳処理履歴&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;処理番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;処理日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;処理対象開始日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;処理対象終了日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;処理件数&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;成功件数&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;エラー件数&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;処理金額合計&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;処理者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;備考&quot;</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span>
<span class="p">);</span>

<span class="c1">-- インデックス</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_自動仕訳パターン_商品グループ&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;自動仕訳パターンマスタ&quot;</span><span class="p">(</span><span class="ss">&quot;商品グループ&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_自動仕訳パターン_顧客グループ&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;自動仕訳パターンマスタ&quot;</span><span class="p">(</span><span class="ss">&quot;顧客グループ&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_自動仕訳パターン_優先順位&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;自動仕訳パターンマスタ&quot;</span><span class="p">(</span><span class="ss">&quot;優先順位&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_自動仕訳_売上番号&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;自動仕訳データ&quot;</span><span class="p">(</span><span class="ss">&quot;売上番号&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_自動仕訳_処理ステータス&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;自動仕訳データ&quot;</span><span class="p">(</span><span class="ss">&quot;処理ステータス&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_自動仕訳_転記済フラグ&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;自動仕訳データ&quot;</span><span class="p">(</span><span class="ss">&quot;転記済フラグ&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_自動仕訳_起票日&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;自動仕訳データ&quot;</span><span class="p">(</span><span class="ss">&quot;起票日&quot;</span><span class="p">);</span>
</code></pre></div>

</details>

<hr />
<h2 id="174">17.4 売上伝票から仕訳伝票への転記ロジック<a class="headerlink" href="#174" title="Permanent link">&para;</a></h2>
<h3 id="_17">明細行の分解と集約<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h3>
<p>売上伝票の明細行を、仕訳パターンに基づいて借方・貸方に分解します。</p>
<h4 id="_18">売上伝票の例<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>項目</th>
<th>値</th>
</tr>
</thead>
<tbody>
<tr>
<td>伝票日付</td>
<td>2024/04/01</td>
</tr>
<tr>
<td>顧客</td>
<td>DBMフード新宿</td>
</tr>
<tr>
<td>明細1</td>
<td>いちご蒸缶（加工品）1,000個 × 1,000円 = 1,000,000円</td>
</tr>
<tr>
<td>明細2</td>
<td>アスパラ（生鮮品）200個 × 10,000円 = 2,000,000円</td>
</tr>
<tr>
<td>明細3</td>
<td>さざえのエスカルゴ（加工品）1,500個 × 100円 = 150,000円</td>
</tr>
<tr>
<td>合計</td>
<td>3,150,000円（税抜）+ 消費税 315,000円 = 3,465,000円（税込）</td>
</tr>
</tbody>
</table>
<h4 id="_19">仕訳伝票への変換<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h4>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjQwMHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MTAzMnB4O2hlaWdodDo0MDBweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMDMyIDQwMCIgd2lkdGg9IjEwMzJweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjI3NzA7JiMxOTk3ODsmIzIwMjUzOyYjMzEwODA7JiMxMjM2MzsmIzEyNDI1OyYjMjAxODE7JiMzNTM3OTsmIzIwMjUzOyYjMzEwODA7JiMxMjQwODsmIzEyMzk4OyYjMjI3OTM7JiMyNTU2Mzs8L3RpdGxlPjxkZWZzLz48Zz48ZyBjbGFzcz0idGl0bGUiIGRhdGEtc291cmNlLWxpbmU9IjEiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTUuOTk5MSIgeD0iNDExLjAwMDQiIHk9IjIyLjk5NTEiPiYjMjI3NzA7JiMxOTk3ODsmIzIwMjUzOyYjMzEwODA7JiMxMjM2MzsmIzEyNDI1OyYjMjAxODE7JiMzNTM3OTsmIzIwMjUzOyYjMzEwODA7JiMxMjQwODsmIzEyMzk4OyYjMjI3OTM7JiMyNTU2Mzs8L3RleHQ+PC9nPjwhLS1jbHVzdGVyID8/Pz8tLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMyIgaWQ9ImVudDAwMDIiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iODkuNTkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI0NTkiIHg9IjE0NyIgeT0iNDQuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIzNDguNTAwMSIgeT0iNTkuMjkyIj4mIzIyNzcwOyYjMTk5Nzg7JiMyMDI1MzsmIzMxMDgwOzwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgcnVsZS0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJydWxlIiBkYXRhLXNvdXJjZS1saW5lPSI5IiBpZD0iZW50MDAwNiI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIyMjAuNDgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIzNTciIHg9IjciIHk9IjE2NS44ODY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjE1MC41MDAyIiB5PSIxODAuODgyIj4mIzIyNzkzOyYjMjU1NjM7JiMxMjUyMzsmIzEyNTQwOyYjMTI1MjM7PC90ZXh0PjwvZz48IS0tY2x1c3RlciA/Pz8/LS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjE1IiBpZD0iZW50MDAxMCI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIxMjIuMTkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI0MTYiIHg9IjYxMCIgeT0iMjcyLjQ3NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iNzkwLjAwMDEiIHk9IjI4Ny40NzIiPiYjMjAxODE7JiMzNTM3OTsmIzIwMjUzOyYjMzEwODA7PC90ZXh0PjwvZz48IS0tZW50aXR5IHMxLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi5zMSIgZGF0YS1zb3VyY2UtbGluZT0iNCIgaWQ9ImVudDAwMDMiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzguNTkzOCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTA1LjI1MDkiIHg9IjE2My4zNyIgeT0iNzkuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjE3My4zNyIgeT0iOTUuMjkyIj4mIzEyMzU2OyYjMTIzODU7JiMxMjM3MjsmIzMzOTc2OyYjMzI1NjY7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg1LjI1MDkiIHg9IjE3My4zNyIgeT0iMTExLjU4ODkiPjEsMDAwLDAwMCYjMjA4NzA7PC90ZXh0PjwvZz48IS0tZW50aXR5IHMyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi5zMiIgZGF0YS1zb3VyY2UtbGluZT0iNSIgaWQ9ImVudDAwMDQiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzguNTkzOCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTA1LjI1MDkiIHg9IjMwMy4zNyIgeT0iNzkuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjMxMy4zNyIgeT0iOTUuMjkyIj4mIzEyNDUwOyYjMTI0NzM7JiMxMjQ5NzsmIzEyNTIxOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NS4yNTA5IiB4PSIzMTMuMzciIHk9IjExMS41ODg5Ij4yLDAwMCwwMDAmIzIwODcwOzwvdGV4dD48L2c+PCEtLWVudGl0eSBzMy0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uczMiIGRhdGEtc291cmNlLWxpbmU9IjYiIGlkPSJlbnQwMDA1Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjM4LjU5MzgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE0NS45OTk1IiB4PSI0NDQiIHk9Ijc5LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjUuOTk5NSIgeD0iNDU0IiB5PSI5NS4yOTIiPiYjMTIzNzM7JiMxMjM3NDsmIzEyMzYwOyYjMTIzOTg7JiMxMjQ1NjsmIzEyNDczOyYjMTI0NTk7JiMxMjUyMzsmIzEyNDY4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MS44OTM1IiB4PSI0NTQiIHk9IjExMS41ODg5Ij4xNTAsMDAwJiMyMDg3MDs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgcjEtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJydWxlLnIxIiBkYXRhLXNvdXJjZS1saW5lPSIxMCIgaWQ9ImVudDAwMDciPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzguNTkzOCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTI3LjE2NjYiIHg9IjMxLjQyIiB5PSIyMDguODg2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNy4xNjY2IiB4PSI0MS40MiIgeT0iMjI0Ljg4MiI+JiMyMTgzMDsmIzIxNjk3OyYjMjEzMDY7JiMyMDk5ODs6ICYjMjExNTI7JiMyNDAzNzsmIzIxNjk3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4Ni4xODA0IiB4PSI0MS40MiIgeT0iMjQxLjE3ODkiPiYjODU5NDsgJiMyMjc3MDsmIzE5OTc4OyYjMjExNTI7JiMyNDAzNzsmIzIxNjk3OzwvdGV4dD48L2c+PCEtLWVudGl0eSByMi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9InJ1bGUucjIiIGRhdGEtc291cmNlLWxpbmU9IjExIiBpZD0iZW50MDAwOCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzOC41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjcuMTY2NiIgeD0iMTkzLjQyIiB5PSIyMDguODg2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNy4xNjY2IiB4PSIyMDMuNDIiIHk9IjIyNC44ODIiPiYjMjE4MzA7JiMyMTY5NzsmIzIxMzA2OyYjMjA5OTg7OiAmIzI5OTgzOyYjMzk4NTQ7JiMyMTY5Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODYuMTgwNCIgeD0iMjAzLjQyIiB5PSIyNDEuMTc4OSI+JiM4NTk0OyAmIzIyNzcwOyYjMTk5Nzg7JiMyOTk4MzsmIzM5ODU0OyYjMjE2OTc7PC90ZXh0PjwvZz48IS0tZW50aXR5IHIzLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0icnVsZS5yMyIgZGF0YS1zb3VyY2UtbGluZT0iMTIiIGlkPSJlbnQwMDA5Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjM4LjU5MzgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE0MS4xNjY1IiB4PSIzMS40MiIgeT0iMzIzLjc3NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjEuMTY2NSIgeD0iNDEuNDIiIHk9IjMzOS43NzIiPiYjMzU1MzE7JiMyNzcxNDsmIzIwODA4OzogJiMyNjQxMjsmIzMxMDM4OyYjMTIzOTU7JiMzODU5ODsmIzMyMDA0OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MC44OTcyIiB4PSI0MS40MiIgeT0iMzU2LjA2ODkiPiYjODU5NDsgJiMyMjc3MDsmIzI1NDk5OyYjMzczMjk7LyYjMjY0MTI7JiMzMTAzODs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgZDEtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLmQxIiBkYXRhLXNvdXJjZS1saW5lPSIxNiIgaWQ9ImVudDAwMTEiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNTQuODkwNiIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTY5LjE4MDIiIHg9IjYyNi40MSIgeT0iMzE1LjYyNjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI2MzYuNDEiIHk9IjMzMS42MjIiPiYjMTIzMDQ7JiMyMDUxMTsmIzI2MDQxOyYjMTIzMDU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0OS4xODAyIiB4PSI2MzYuNDEiIHk9IjM0Ny45MTg5Ij4mIzIyNzcwOyYjMjU0OTk7JiMzNzMyOTsvREJNJiMxMjUwMTsmIzEyNTQwOyYjMTI0ODk7JiMyNjQxMjsmIzMxMDM4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NS4yNTA5IiB4PSI2MzYuNDEiIHk9IjM2NC4yMTU3Ij4zLDQ2NSwwMDAmIzIwODcwOzwvdGV4dD48L2c+PCEtLWVudGl0eSBjMS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uYzEiIGRhdGEtc291cmNlLWxpbmU9IjE3IiBpZD0iZW50MDAxMiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI3MS4xODc1IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNzkuNzAwOCIgeD0iODMwLjE1IiB5PSIzMDcuNDc2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9Ijg0MC4xNSIgeT0iMzIzLjQ3MiI+JiMxMjMwNDsmIzM2MDI0OyYjMjYwNDE7JiMxMjMwNTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTU5LjcwMDgiIHg9Ijg0MC4xNSIgeT0iMzM5Ljc2ODkiPiYjMjI3NzA7JiMxOTk3ODsmIzIxMTUyOyYjMjQwMzc7JiMyMTY5NzsgMSwxNTAsMDAwJiMyMDg3MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTU5LjcwMDgiIHg9Ijg0MC4xNSIgeT0iMzU2LjA2NTciPiYjMjI3NzA7JiMxOTk3ODsmIzI5OTgzOyYjMzk4NTQ7JiMyMTY5NzsgMiwwMDAsMDAwJiMyMDg3MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ2LjM0MzQiIHg9Ijg0MC4xNSIgeT0iMzcyLjM2MjYiPiYjMjAyMDY7JiMyMTQ2MzsmIzI4MDQwOyYjMzYwMjc7JiMzMTI0NjsgMzE1LDAwMCYjMjA4NzA7PC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJHTU4xOCIgZGF0YS1zb3VyY2UtbGluZT0iMjciIGlkPSJlbnQwMDE5Ij48cGF0aCBkPSJNMzg4LjUsMzA3LjgwNjkgTDM4OC41LDM3OC4zMzgxIEw1OTEuNTAwMiwzNzguMzM4MSBMNTkxLjUwMDIsMzE3LjgwNjkgTDU4MS41MDAyLDMwNy44MDY5IEwzODguNSwzMDcuODA2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTU4MS41MDAyLDMwNy44MDY5IEw1ODEuNTAwMiwzMTcuODA2OSBMNTkxLjUwMDIsMzE3LjgwNjkgTDU4MS41MDAyLDMwNy44MDY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxLjAwMDEiIHg9IjM5NC41IiB5PSIzMjQuODczOCI+JiMyMjc5MzsmIzI1NTYzOyYjMTIzOTg7JiMxMjUwOTsmIzEyNDUyOyYjMTI1MzE7JiMxMjQ4ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgyLjAwMDIiIHg9IjM5NC41IiB5PSIzNDAuMDA2NiI+JiMxMjUzOTsmIzIxODMwOyYjMjE2OTc7JiMyMTMwNjsmIzIwOTk4OyYjMTIzOTU7JiMxMjQyNDsmIzEyNDI3OyYjMzExODU7JiMzMDQ0NjsmIzI1MzkxOyYjMTI0MjY7JiMyMDk5ODsmIzEyMzY5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDMuMDAwMiIgeD0iMzk0LjUiIHk9IjM1NS4xMzk0Ij4mIzEyNTM5OyYjMzU1MzE7JiMyNzcxNDsmIzIwODA4OyYjMTI0MDg7JiMxMjM5ODsmIzIyNzcwOyYjMjU0OTk7JiMzNzMyOTsmIzM4NTk4OyYjMzIwMDQ7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNy4wMDAxIiB4PSIzOTQuNSIgeT0iMzcwLjI3MjIiPiYjMTI1Mzk7JiMyODA0MDsmIzM2MDI3OyYjMzEyNDY7JiMxMjM5ODsmIzMzMjU4OyYjMjEyMDU7JiMzNTMzNjsmIzMxNjM5OzwvdGV4dD48L2c+PCEtLWxpbmsgczEgdG8gcnVsZS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAzIiBkYXRhLWVudGl0eS0yPSJlbnQwMDA2IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMjAiIGlkPSJsbmsxMyI+PHBhdGggZD0iTTI0MS4zNywxMTguMjA2OSBDMjU0LjE2LDEyNi43MTY5IDI3MC4yNiwxMzYuMTQ2OSAyODYsMTQxLjg4NjkgQzMwNy41NiwxNDkuNzQ2OSAzMjAuMSwxMzQuMzY2OSAzMzcsMTQ5Ljg4NjkgQzM0MC4xNTYzLDE1Mi43ODQ0IDM0Mi44MjY3LDE1Ni4xMTM2IDM0NS4wODI4LDE1OS43Mjc1IEMzNDYuMjEwOCwxNjEuNTM0NCAzNDcuMjM1MiwxNjMuNDEyNSAzNDguMTY1LDE2NS4zNDM0IEMzNDguMjIzMSwxNjUuNDY0MSAzNDUuNzExOCwxNjAuMTYyOCAzNDUuNzY5MiwxNjAuMjgzOSIgZmlsbD0ibm9uZSIgaWQ9InMxLXRvLXJ1bGUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM0OC4zMzgyLDE2NS43MDYxLDM0OC4wOTk1LDE1NS44NjAxLDM0Ni4xOTczLDE2MS4xODc2LDM0MC44Njk5LDE1OS4yODU1LDM0OC4zMzgyLDE2NS43MDYxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIHMyIHRvIHJ1bGUtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNCIgZGF0YS1lbnRpdHktMj0iZW50MDAwNiIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjIxIiBpZD0ibG5rMTQiPjxwYXRoIGQ9Ik0zNTYsMTE4LjE0NjkgQzM1NiwxMjYuODU0NCAzNTYsMTM3Ljg3OTQgMzU2LDE0OS41NTM5IEMzNTYsMTUyLjQ3MjUgMzU2LDE1NS40MzE4IDM1NiwxNTguNDA1NSBDMzU2LDE1OS44OTI0IDM1NiwxNjEuMzgyOSAzNTYsMTYyLjg3MzggQzM1NiwxNjMuNjE5MyAzNTYsMTY0LjM2NDggMzU2LDE2NS4xMSBDMzU2LDE2NS4yOTYzIDM1NiwxNTkuNDgyNiAzNTYsMTU5LjY2ODkiIGZpbGw9Im5vbmUiIGlkPSJzMi10by1ydWxlIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzNTYsMTY1LjY2ODksMzYwLDE1Ni42Njg5LDM1NiwxNjAuNjY4OSwzNTIsMTU2LjY2ODksMzU2LDE2NS42Njg5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIHMzIHRvIHJ1bGUtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNSIgZGF0YS1lbnRpdHktMj0iZW50MDAwNiIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjIyIiBpZD0ibG5rMTUiPjxwYXRoIGQ9Ik00OTMuNTksMTE4LjE0NjkgQzQ3MS42MSwxMzUuNTYxOSA0MzcuOTM1LDE2Mi4yNDY5IDQwOS40MDI1LDE4NC44NTgxIEMzOTUuMTM2MywxOTYuMTYzOCAzODIuMTU1NiwyMDYuNDUwOSAzNzIuNTY1MywyMTQuMDUxNyBDMzcwLjE2NzcsMjE1Ljk1MTkgMzY3Ljk4MjEsMjE3LjY4NDIgMzY2LjA0MTEsMjE5LjIyMjUgQzM2NS41NTU5LDIxOS42MDcxIDM2NS4wODYsMjE5Ljk3OTYgMzY0LjYzMTksMjIwLjMzOTUgQzM2NC41MTg0LDIyMC40Mjk1IDM2OS4xMDc5LDIxNi43OTE4IDM2OC45OTY0LDIxNi44ODAyIiBmaWxsPSJub25lIiBpZD0iczMtdG8tcnVsZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzY0LjI5NDMsMjIwLjYwNzEsMzczLjgzMjEsMjE4LjE1MTUsMzY4LjIxMjcsMjE3LjUwMTMsMzY4Ljg2MjksMjExLjg4MiwzNjQuMjk0MywyMjAuNjA3MSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBydWxlIHRvIGQxLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDYiIGRhdGEtZW50aXR5LTI9ImVudDAwMTEiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIyMyIgaWQ9ImxuazE2Ij48cGF0aCBkPSJNMzY0LjAzOTIsMjI4Ljg2MzEgQzM2OC42NDI3LDIyOC43MjE0IDM3NS4wODc2LDIyOC41ODAxIDM4My4wMTcsMjI4LjU1MTQgQzM5OC44NzU5LDIyOC40OTQxIDQyMC42NzMxLDIyOC44ODc1IDQ0NS41NTM4LDIzMC42MzA2IEM0OTUuMzE1LDIzNC4xMTY5IDU1Ny40MSwyNDMuMDAxOSA2MDksMjY0LjQ3NjkgQzYzNy4zNSwyNzYuMjc2OSA2NjAuMzIxMywyOTMuODgwOSA2NzkuNTgxMywzMTEuMzEwOSIgZmlsbD0ibm9uZSIgaWQ9InJ1bGUtdG8tZDEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjY4NC4wMywzMTUuMzM2OSw2ODAuMDQwOSwzMDYuMzMyLDY4MC4zMjI3LDMxMS45ODE5LDY3NC42NzI5LDMxMi4yNjM3LDY4NC4wMywzMTUuMzM2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBydWxlIHRvIGMxLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDYiIGRhdGEtZW50aXR5LTI9ImVudDAwMTIiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIyNCIgaWQ9ImxuazE3Ij48cGF0aCBkPSJNMzY0LjE4NDksMjI5LjIxNDEgQzM2NC40MTU0LDIyOS4yMTUzIDM2NC42NTA1LDIyOS4yMTY1IDM2NC44OTAyLDIyOS4yMTc4IEMzNjUuMzY5NSwyMjkuMjIwMyAzNjUuODY3MSwyMjkuMjIzIDM2Ni4zODI1LDIyOS4yMjYgQzM2OC40NDQ0LDIyOS4yMzc4IDM3MC43OTI5LDIyOS4yNTMxIDM3My40MDkzLDIyOS4yNzMgQzM4My44NzUsMjI5LjM1MjYgMzk4LjYyNzgsMjI5LjUwNTIgNDE2LjQ3MTMsMjI5Ljc5NzMgQzQ1Mi4xNTgxLDIzMC4zODE2IDUwMC4yMDc1LDIzMS41MjM4IDU1MS4wNDc1LDIzMy43NTU2IEM2NTIuNzI3NSwyMzguMjE5NCA3NjUuNTcsMjQ3LjA0MTkgODEzLDI2NC40NzY5IEM4MzguNjMsMjczLjg5NjkgODU4LjkyMjMsMjg3LjUwNzkgODc4LjI2MjMsMzAzLjQ2NzkiIGZpbGw9Im5vbmUiIGlkPSJydWxlLXRvLWMxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI4ODIuODksMzA3LjI4NjksODc4LjQ5NDQsMjk4LjQ3MzMsODc5LjAzMzYsMzA0LjEwNDQsODczLjQwMjUsMzA0LjY0MzYsODgyLjg5LDMwNy4yODY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIHJ1bGUgdG8gR01OMTgtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNiIgZGF0YS1lbnRpdHktMj0iZW50MDAxOSIgZGF0YS1saW5rLXR5cGU9ImFzc29jaWF0aW9uIiBkYXRhLXNvdXJjZS1saW5lPSIyNyIgaWQ9ImxuazIwIj48cGF0aCBkPSJNMzY0LjIwNjEsMjM2LjA5NjEgQzM2NC44NjczLDIzNi42NTMyIDM2NS41NjM0LDIzNy4yMzk2IDM2Ni4yOTIzLDIzNy44NTM4IEMzNzIuMTI0MSwyNDIuNzY2OSAzODAuMDYxOSwyNDkuNDU0NCAzODkuMTIxMywyNTcuMDg2OSBDNDA3LjI0LDI3Mi4zNTE5IDQyOS44NDUsMjkxLjM5NjkgNDQ5LjA2LDMwNy41ODY5IiBmaWxsPSJub25lIiBpZD0icnVsZS1HTU4xOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6Nyw3OyIvPjwvZz48P3BsYW50dW1sLXNyYyBSTEYxSmpqMDVCcHhBck92SGE2RGF6ODNYbnZHaF9xM05xQUllYWhqSGFoQ2dLQkF4YkJaOTBYZ0lrMkc4WVc0NFBoQWcwNTE4NTRfWGZWckVkX0hqSHF4NnloMXJsZ3pjVjV4Q3hSdnFWbktIbG55QzFhczktRFpTVDQzcVdCUWM4cFFWa3ljaFdvMWtCcFJ5Rk93Y2JPajV5cTJOZlVpYjRmQmVJelFpTDBqZUhJR0JJMF9XSHB1LXFDbmxaRW1kaWJjaXk3NUJJazUyWkxLcXNDZUZHRncwQ20xVGNOV3Q3LXVOMkJQMWQ4OG45UHAwRXE1N0RlN3JXVHdBLU1ONXFidlJORG5vZDNtMEN0NnlYdzJnWGtvNG1fQ3NuUl9KbFpFOHhVajVTSVJmX3AtR1hPQ182Smpwd245WVg1UlZ2NGYzYXdjaGxrQ2NIR1pQaG9IdHN6dlZvWl9RZ3lXeHlUbHFWcUJmM19qTUU5c0FvNXhrdnRmamxDZ1FhVml2d2tmQUlhMXJCX24tZWJ0LTAxcm55MXBmTlVoeHU2ckduU1FhUWcxeXZkTlJ2UEwtcWh3TkNLVjMxS0xyR1FhUC1Rc256cmFMUUdjUVUzOW9FTHhIendUeEd6NmVoVUJ5bGgyNnVqd2k1TERIcWpCUnlEV2o1ZkVFVVZkdnAycnU0YUVjUG1iTlNDTGl1cE1BZ1BQLU9tZzdvOW1FWnFCTmR1b3gxWGU1eldEQzNrVHJlMkRyRTJheXExamUycm53T1lFdy1yUzBzczZUSVUwOWFkRFZlRk9wWVlqMDk1aTlqbC16WV9VYWc3T21adElvaFk0V2o3LTBHMDA/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_20">借方（売掛金）と貸方（売上）の展開<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>借方科目</th>
<th>借方金額</th>
<th>貸方科目</th>
<th>貸方金額</th>
<th>摘要</th>
</tr>
</thead>
<tbody>
<tr>
<td>売掛金/DBMフード本社</td>
<td>3,465,000</td>
<td></td>
<td></td>
<td>売上計上</td>
</tr>
<tr>
<td></td>
<td></td>
<td>売上加工品/DBMフード新宿</td>
<td>1,150,000</td>
<td>いちご蒸缶・さざえ</td>
</tr>
<tr>
<td></td>
<td></td>
<td>売上生鮮品/DBMフード新宿</td>
<td>2,000,000</td>
<td>アスパラ</td>
</tr>
<tr>
<td></td>
<td></td>
<td>仮受消費税</td>
<td>315,000</td>
<td>消費税10%</td>
</tr>
</tbody>
</table>
<h3 id="_21">消費税の按分計算<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h3>
<p>消費税額は、明細行ごとの税抜金額に比例して按分します。</p>
<div class="highlight"><pre><span></span><code>消費税按分計算：
- 加工品合計: 1,150,000円 → 消費税: 115,000円
- 生鮮品合計: 2,000,000円 → 消費税: 200,000円
- 合計消費税: 315,000円
</code></pre></div>
<h3 id="_22">貸借一致の原則<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h3>
<p>仕訳データは必ず借方合計と貸方合計が一致する必要があります。</p>
<div class="highlight"><pre><span></span><code>借方合計: 3,465,000円
貸方合計: 1,150,000 + 2,000,000 + 315,000 = 3,465,000円
→ 貸借一致 OK
</code></pre></div>
<h3 id="tdd">TDD による自動仕訳処理の実装<a class="headerlink" href="#tdd" title="Permanent link">&para;</a></h3>
<h4 id="_23">ドメイン層：エンティティ<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h4>
<details>
<summary>自動仕訳ステータス Enum</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/fas/domain/model/autojournal/AutoJournalStatus.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.fas.domain.model.autojournal</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Getter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>

<span class="nd">@Getter</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">AutoJournalStatus</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">PENDING</span><span class="p">(</span><span class="s">&quot;処理待ち&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">PROCESSING</span><span class="p">(</span><span class="s">&quot;処理中&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">COMPLETED</span><span class="p">(</span><span class="s">&quot;処理完了&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">POSTED</span><span class="p">(</span><span class="s">&quot;転記済&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">ERROR</span><span class="p">(</span><span class="s">&quot;エラー&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">AutoJournalStatus</span><span class="w"> </span><span class="nf">fromDisplayName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">AutoJournalStatus</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">values</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="p">.</span><span class="na">displayName</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">displayName</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;不正な自動仕訳ステータス: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">displayName</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>自動仕訳パターンマスタエンティティ</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/accounting/domain/model/autojournal/AutoJournalPattern.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.fas.domain.model.autojournal</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.AllArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.NoArgsConstructor</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@AllArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AutoJournalPattern</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">patternCode</span><span class="p">;</span><span class="w">           </span><span class="c1">// パターンコード</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">patternName</span><span class="p">;</span><span class="w">           </span><span class="c1">// パターン名</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">productGroup</span><span class="p">;</span><span class="w">          </span><span class="c1">// 商品グループ</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">customerGroup</span><span class="p">;</span><span class="w">         </span><span class="c1">// 顧客グループ</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">salesType</span><span class="p">;</span><span class="w">             </span><span class="c1">// 売上区分</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">debitAccountCode</span><span class="p">;</span><span class="w">      </span><span class="c1">// 借方勘定科目コード</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">debitSubAccountSetting</span><span class="p">;</span><span class="w"> </span><span class="c1">// 借方補助科目設定</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">creditAccountCode</span><span class="p">;</span><span class="w">     </span><span class="c1">// 貸方勘定科目コード</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">creditSubAccountSetting</span><span class="p">;</span><span class="w"> </span><span class="c1">// 貸方補助科目設定</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">returnDebitAccountCode</span><span class="p">;</span><span class="w"> </span><span class="c1">// 返品時借方科目コード</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">returnCreditAccountCode</span><span class="p">;</span><span class="w"> </span><span class="c1">// 返品時貸方科目コード</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">taxProcessingType</span><span class="p">;</span><span class="w">     </span><span class="c1">// 消費税処理区分</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">validFrom</span><span class="p">;</span><span class="w">          </span><span class="c1">// 有効開始日</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">validTo</span><span class="p">;</span><span class="w">            </span><span class="c1">// 有効終了日</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">priority</span><span class="p">;</span><span class="w">             </span><span class="c1">// 優先順位</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span><span class="w">      </span><span class="c1">// 作成日時</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span><span class="w">      </span><span class="c1">// 更新日時</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 指定日付に有効かどうかを判定</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isValidAt</span><span class="p">(</span><span class="n">LocalDate</span><span class="w"> </span><span class="n">date</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">!</span><span class="n">date</span><span class="p">.</span><span class="na">isBefore</span><span class="p">(</span><span class="n">validFrom</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">date</span><span class="p">.</span><span class="na">isAfter</span><span class="p">(</span><span class="n">validTo</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 商品グループと顧客グループにマッチするか判定</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">matches</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">productGroup</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">customerGroup</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">boolean</span><span class="w"> </span><span class="n">productMatch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;ALL&quot;</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">productGroup</span><span class="p">)</span><span class="w"> </span><span class="o">||</span>
<span class="w">                               </span><span class="k">this</span><span class="p">.</span><span class="na">productGroup</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">productGroup</span><span class="p">);</span>
<span class="w">        </span><span class="kt">boolean</span><span class="w"> </span><span class="n">customerMatch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;ALL&quot;</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">customerGroup</span><span class="p">)</span><span class="w"> </span><span class="o">||</span>
<span class="w">                                </span><span class="k">this</span><span class="p">.</span><span class="na">customerGroup</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">customerGroup</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">productMatch</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">customerMatch</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>自動仕訳データエンティティ</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/accounting/domain/model/autojournal/AutoJournalEntry.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.fas.domain.model.autojournal</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.fas.domain.model.account.DebitCreditType</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.AllArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.NoArgsConstructor</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@AllArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AutoJournalEntry</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">autoJournalNumber</span><span class="p">;</span><span class="w">     </span><span class="c1">// 自動仕訳番号</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">salesNumber</span><span class="p">;</span><span class="w">           </span><span class="c1">// 売上番号</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">salesLineNumber</span><span class="p">;</span><span class="w">      </span><span class="c1">// 売上行番号</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">patternCode</span><span class="p">;</span><span class="w">           </span><span class="c1">// パターンコード</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">postingDate</span><span class="p">;</span><span class="w">        </span><span class="c1">// 起票日</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">DebitCreditType</span><span class="w"> </span><span class="n">debitCreditType</span><span class="p">;</span><span class="w"> </span><span class="c1">// 仕訳行貸借区分</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">accountCode</span><span class="p">;</span><span class="w">           </span><span class="c1">// 勘定科目コード</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">subAccountCode</span><span class="p">;</span><span class="w">        </span><span class="c1">// 補助科目コード</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">departmentCode</span><span class="p">;</span><span class="w">        </span><span class="c1">// 部門コード</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">amount</span><span class="p">;</span><span class="w">            </span><span class="c1">// 仕訳金額</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">taxAmount</span><span class="p">;</span><span class="w">         </span><span class="c1">// 消費税額</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">AutoJournalStatus</span><span class="w"> </span><span class="n">status</span><span class="p">;</span><span class="w">     </span><span class="c1">// 処理ステータス</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Boolean</span><span class="w"> </span><span class="n">postedFlag</span><span class="p">;</span><span class="w">           </span><span class="c1">// 転記済フラグ</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">postedDate</span><span class="p">;</span><span class="w">         </span><span class="c1">// 転記日</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">journalVoucherNumber</span><span class="p">;</span><span class="w">  </span><span class="c1">// 仕訳伝票番号</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">errorCode</span><span class="p">;</span><span class="w">             </span><span class="c1">// エラーコード</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">errorMessage</span><span class="p">;</span><span class="w">          </span><span class="c1">// エラーメッセージ</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span><span class="w">      </span><span class="c1">// 作成日時</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span><span class="w">      </span><span class="c1">// 更新日時</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>自動仕訳処理履歴エンティティ</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/accounting/domain/model/autojournal/AutoJournalHistory.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.fas.domain.model.autojournal</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.AllArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.NoArgsConstructor</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@AllArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AutoJournalHistory</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">processNumber</span><span class="p">;</span><span class="w">         </span><span class="c1">// 処理番号</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">processDateTime</span><span class="p">;</span><span class="w"> </span><span class="c1">// 処理日時</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">targetFromDate</span><span class="p">;</span><span class="w">     </span><span class="c1">// 処理対象開始日</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">targetToDate</span><span class="p">;</span><span class="w">       </span><span class="c1">// 処理対象終了日</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">totalCount</span><span class="p">;</span><span class="w">           </span><span class="c1">// 処理件数</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">successCount</span><span class="p">;</span><span class="w">         </span><span class="c1">// 成功件数</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">errorCount</span><span class="p">;</span><span class="w">           </span><span class="c1">// エラー件数</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">totalAmount</span><span class="p">;</span><span class="w">       </span><span class="c1">// 処理金額合計</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">processedBy</span><span class="p">;</span><span class="w">           </span><span class="c1">// 処理者</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">remarks</span><span class="p">;</span><span class="w">               </span><span class="c1">// 備考</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span><span class="w">      </span><span class="c1">// 作成日時</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="_24">テストコード<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h4>
<details>
<summary>自動仕訳パターンのテスト</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/test/java/com/example/accounting/domain/model/autojournal/AutoJournalPatternTest.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.fas.domain.model.autojournal</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.DisplayName</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.Nested</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.Test</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>

<span class="kn">import static</span><span class="w"> </span><span class="nn">org.assertj.core.api.Assertions.*</span><span class="p">;</span>

<span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;自動仕訳パターン&quot;</span><span class="p">)</span>
<span class="kd">class</span> <span class="nc">AutoJournalPatternTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Nested</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;パターンマッチング&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">class</span> <span class="nc">PatternMatching</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;商品グループALLは全ての商品グループにマッチする&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldMatchAllProductGroups</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Arrange: 商品グループALLのパターン</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AutoJournalPattern</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">patternCode</span><span class="p">(</span><span class="s">&quot;P001&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">productGroup</span><span class="p">(</span><span class="s">&quot;ALL&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">customerGroup</span><span class="p">(</span><span class="s">&quot;ALL&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">            </span><span class="c1">// Act &amp; Assert</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="s">&quot;加工品&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;一般&quot;</span><span class="p">)).</span><span class="na">isTrue</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="s">&quot;生鮮品&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;一般&quot;</span><span class="p">)).</span><span class="na">isTrue</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="s">&quot;雑貨&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;特約店&quot;</span><span class="p">)).</span><span class="na">isTrue</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;特定の商品グループのみにマッチする&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldMatchSpecificProductGroup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Arrange: 加工品専用パターン</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AutoJournalPattern</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">patternCode</span><span class="p">(</span><span class="s">&quot;P002&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">productGroup</span><span class="p">(</span><span class="s">&quot;加工品&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">customerGroup</span><span class="p">(</span><span class="s">&quot;ALL&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">            </span><span class="c1">// Act &amp; Assert</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="s">&quot;加工品&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;一般&quot;</span><span class="p">)).</span><span class="na">isTrue</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="s">&quot;生鮮品&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;一般&quot;</span><span class="p">)).</span><span class="na">isFalse</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;商品グループと顧客グループの両方でマッチングする&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldMatchBothProductAndCustomerGroup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Arrange: 特定の組み合わせパターン</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AutoJournalPattern</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">patternCode</span><span class="p">(</span><span class="s">&quot;P003&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">productGroup</span><span class="p">(</span><span class="s">&quot;加工品&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">customerGroup</span><span class="p">(</span><span class="s">&quot;特約店&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">            </span><span class="c1">// Act &amp; Assert</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="s">&quot;加工品&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;特約店&quot;</span><span class="p">)).</span><span class="na">isTrue</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="s">&quot;加工品&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;一般&quot;</span><span class="p">)).</span><span class="na">isFalse</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="s">&quot;生鮮品&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;特約店&quot;</span><span class="p">)).</span><span class="na">isFalse</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Nested</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;有効期間チェック&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">class</span> <span class="nc">ValidityCheck</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;有効期間内の日付でtrueを返す&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldReturnTrueForValidDate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Arrange</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AutoJournalPattern</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">patternCode</span><span class="p">(</span><span class="s">&quot;P001&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">validFrom</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">validTo</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">31</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">            </span><span class="c1">// Act &amp; Assert</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">isValidAt</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">))).</span><span class="na">isTrue</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">isValidAt</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))).</span><span class="na">isTrue</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">isValidAt</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">31</span><span class="p">))).</span><span class="na">isTrue</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;有効期間外の日付でfalseを返す&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldReturnFalseForInvalidDate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Arrange</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AutoJournalPattern</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">patternCode</span><span class="p">(</span><span class="s">&quot;P001&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">validFrom</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">validTo</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">31</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">            </span><span class="c1">// Act &amp; Assert</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">isValidAt</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">31</span><span class="p">))).</span><span class="na">isFalse</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">isValidAt</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))).</span><span class="na">isFalse</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="output-port">アプリケーション層（Output Port）<a class="headerlink" href="#output-port" title="Permanent link">&para;</a></h4>
<details>
<summary>自動仕訳リポジトリインターフェース</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/accounting/application/port/out/AutoJournalRepository.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.fas.application.port.out</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.fas.domain.model.autojournal.*</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Optional</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 自動仕訳リポジトリ（Output Port）</span>
<span class="cm"> */</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">AutoJournalRepository</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="c1">// パターンマスタ操作</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">savePattern</span><span class="p">(</span><span class="n">AutoJournalPattern</span><span class="w"> </span><span class="n">pattern</span><span class="p">);</span>

<span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">AutoJournalPattern</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findPatternByCode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">patternCode</span><span class="p">);</span>

<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalPattern</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findAllPatterns</span><span class="p">();</span>

<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalPattern</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findValidPatterns</span><span class="p">(</span><span class="n">LocalDate</span><span class="w"> </span><span class="n">date</span><span class="p">);</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">updatePattern</span><span class="p">(</span><span class="n">AutoJournalPattern</span><span class="w"> </span><span class="n">pattern</span><span class="p">);</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">deletePattern</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">patternCode</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// 自動仕訳エントリ操作</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">saveEntry</span><span class="p">(</span><span class="n">AutoJournalEntry</span><span class="w"> </span><span class="n">entry</span><span class="p">);</span>

<span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findEntryByNumber</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">autoJournalNumber</span><span class="p">);</span>

<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findEntriesBySalesNumber</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">salesNumber</span><span class="p">);</span>

<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findUnpostedEntries</span><span class="p">();</span>

<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findUnpostedEntriesByDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="w"> </span><span class="n">date</span><span class="p">);</span>

<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findEntriesByStatus</span><span class="p">(</span><span class="n">AutoJournalStatus</span><span class="w"> </span><span class="n">status</span><span class="p">);</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">updateEntry</span><span class="p">(</span><span class="n">AutoJournalEntry</span><span class="w"> </span><span class="n">entry</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// 処理履歴操作</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">saveHistory</span><span class="p">(</span><span class="n">AutoJournalHistory</span><span class="w"> </span><span class="n">history</span><span class="p">);</span>

<span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">AutoJournalHistory</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findHistoryByNumber</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">processNumber</span><span class="p">);</span>

<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalHistory</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findHistoriesByDateRange</span><span class="p">(</span><span class="n">LocalDate</span><span class="w"> </span><span class="n">fromDate</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">toDate</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="175">17.5 リレーションと楽観ロックの設計<a class="headerlink" href="#175" title="Permanent link">&para;</a></h2>
<h3 id="mybatis-resultmap">MyBatis ネストした ResultMap によるリレーション設定<a class="headerlink" href="#mybatis-resultmap" title="Permanent link">&para;</a></h3>
<p>自動仕訳データは、自動仕訳パターンマスタを参照し、売上データとの関連を持ちます。MyBatis でこれらの関係を効率的に取得するためのリレーション設定を実装します。</p>
<h4 id="resultmap">ネストした ResultMap の定義<a class="headerlink" href="#resultmap" title="Permanent link">&para;</a></h4>
<details>
<summary>AutoJournalMapper.xml（リレーション設定）</summary>

<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
<span class="cp">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span>

<span class="cm">&lt;!-- src/main/resources/mapper/AutoJournalMapper.xml --&gt;</span>
<span class="nt">&lt;mapper</span><span class="w"> </span><span class="na">namespace=</span><span class="s">&quot;com.example.fas.infrastructure.persistence.mapper.AutoJournalMapper&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- 自動仕訳パターンマスタ ResultMap --&gt;</span>
<span class="w">    </span><span class="nt">&lt;resultMap</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;autoJournalPatternResultMap&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;com.example.fas.domain.model.autojournal.AutoJournalPattern&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;id</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;patternCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;パターンコード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;patternName&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;パターン名&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;productGroup&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;商品グループ&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;customerGroup&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;顧客グループ&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;salesType&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;売上区分&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;debitAccountCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;借方勘定科目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;debitSubAccountSetting&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;借方補助科目設定&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;creditAccountCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;貸方勘定科目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;creditSubAccountSetting&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;貸方補助科目設定&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;returnDebitAccountCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;返品時借方科目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;returnCreditAccountCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;返品時貸方科目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;taxProcessingType&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;消費税処理区分&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;validFrom&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;有効開始日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;validTo&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;有効終了日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;priority&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;優先順位&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;version&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;バージョン&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;createdAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作成日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;updatedAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;更新日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/resultMap&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- 自動仕訳データ ResultMap（パターン情報込み） --&gt;</span>
<span class="w">    </span><span class="nt">&lt;resultMap</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;autoJournalEntryWithPatternResultMap&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;com.example.fas.domain.model.autojournal.AutoJournalEntry&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;id</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;autoJournalNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;e_自動仕訳番号&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;salesNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;e_売上番号&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;salesLineNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;e_売上行番号&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;patternCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;e_パターンコード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;postingDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;e_起票日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;debitCreditType&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;e_仕訳行貸借区分&quot;</span>
<span class="w">                </span><span class="na">typeHandler=</span><span class="s">&quot;com.example.fas.infrastructure.persistence.typehandler.DebitCreditTypeHandler&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;accountCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;e_勘定科目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;subAccountCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;e_補助科目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;departmentCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;e_部門コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;amount&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;e_仕訳金額&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;taxAmount&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;e_消費税額&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;status&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;e_処理ステータス&quot;</span>
<span class="w">                </span><span class="na">typeHandler=</span><span class="s">&quot;com.example.fas.infrastructure.persistence.typehandler.AutoJournalStatusTypeHandler&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;postedFlag&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;e_転記済フラグ&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;postedDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;e_転記日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;journalVoucherNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;e_仕訳伝票番号&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;errorCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;e_エラーコード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;errorMessage&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;e_エラーメッセージ&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;version&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;e_バージョン&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;createdAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;e_作成日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;updatedAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;e_更新日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="cm">&lt;!-- パターン情報との関連 --&gt;</span>
<span class="w">        </span><span class="nt">&lt;association</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;pattern&quot;</span><span class="w"> </span><span class="na">javaType=</span><span class="s">&quot;com.example.fas.domain.model.autojournal.AutoJournalPattern&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;id</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;patternCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;p_パターンコード&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;patternName&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;p_パターン名&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;productGroup&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;p_商品グループ&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;customerGroup&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;p_顧客グループ&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;debitAccountCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;p_借方勘定科目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;creditAccountCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;p_貸方勘定科目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;priority&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;p_優先順位&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;/association&gt;</span>
<span class="w">    </span><span class="nt">&lt;/resultMap&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- 自動仕訳処理履歴 ResultMap --&gt;</span>
<span class="w">    </span><span class="nt">&lt;resultMap</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;autoJournalHistoryResultMap&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;com.example.fas.domain.model.autojournal.AutoJournalHistory&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;id</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;processNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;処理番号&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;processDateTime&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;処理日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;targetFromDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;処理対象開始日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;targetToDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;処理対象終了日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;totalCount&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;処理件数&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;successCount&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;成功件数&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;errorCount&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;エラー件数&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;totalAmount&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;処理金額合計&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;processedBy&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;処理者&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;remarks&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;備考&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;version&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;バージョン&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;createdAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作成日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/resultMap&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- JOIN による自動仕訳データとパターンの一括取得クエリ --&gt;</span>
<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findEntryWithPatternByNumber&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;autoJournalEntryWithPatternResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT
<span class="w">            </span>e.&quot;自動仕訳番号&quot;<span class="w"> </span>AS<span class="w"> </span>e_自動仕訳番号,
<span class="w">            </span>e.&quot;売上番号&quot;<span class="w"> </span>AS<span class="w"> </span>e_売上番号,
<span class="w">            </span>e.&quot;売上行番号&quot;<span class="w"> </span>AS<span class="w"> </span>e_売上行番号,
<span class="w">            </span>e.&quot;パターンコード&quot;<span class="w"> </span>AS<span class="w"> </span>e_パターンコード,
<span class="w">            </span>e.&quot;起票日&quot;<span class="w"> </span>AS<span class="w"> </span>e_起票日,
<span class="w">            </span>e.&quot;仕訳行貸借区分&quot;<span class="w"> </span>AS<span class="w"> </span>e_仕訳行貸借区分,
<span class="w">            </span>e.&quot;勘定科目コード&quot;<span class="w"> </span>AS<span class="w"> </span>e_勘定科目コード,
<span class="w">            </span>e.&quot;補助科目コード&quot;<span class="w"> </span>AS<span class="w"> </span>e_補助科目コード,
<span class="w">            </span>e.&quot;部門コード&quot;<span class="w"> </span>AS<span class="w"> </span>e_部門コード,
<span class="w">            </span>e.&quot;仕訳金額&quot;<span class="w"> </span>AS<span class="w"> </span>e_仕訳金額,
<span class="w">            </span>e.&quot;消費税額&quot;<span class="w"> </span>AS<span class="w"> </span>e_消費税額,
<span class="w">            </span>e.&quot;処理ステータス&quot;<span class="w"> </span>AS<span class="w"> </span>e_処理ステータス,
<span class="w">            </span>e.&quot;転記済フラグ&quot;<span class="w"> </span>AS<span class="w"> </span>e_転記済フラグ,
<span class="w">            </span>e.&quot;転記日&quot;<span class="w"> </span>AS<span class="w"> </span>e_転記日,
<span class="w">            </span>e.&quot;仕訳伝票番号&quot;<span class="w"> </span>AS<span class="w"> </span>e_仕訳伝票番号,
<span class="w">            </span>e.&quot;エラーコード&quot;<span class="w"> </span>AS<span class="w"> </span>e_エラーコード,
<span class="w">            </span>e.&quot;エラーメッセージ&quot;<span class="w"> </span>AS<span class="w"> </span>e_エラーメッセージ,
<span class="w">            </span>e.&quot;バージョン&quot;<span class="w"> </span>AS<span class="w"> </span>e_バージョン,
<span class="w">            </span>e.&quot;作成日時&quot;<span class="w"> </span>AS<span class="w"> </span>e_作成日時,
<span class="w">            </span>e.&quot;更新日時&quot;<span class="w"> </span>AS<span class="w"> </span>e_更新日時,
<span class="w">            </span>p.&quot;パターンコード&quot;<span class="w"> </span>AS<span class="w"> </span>p_パターンコード,
<span class="w">            </span>p.&quot;パターン名&quot;<span class="w"> </span>AS<span class="w"> </span>p_パターン名,
<span class="w">            </span>p.&quot;商品グループ&quot;<span class="w"> </span>AS<span class="w"> </span>p_商品グループ,
<span class="w">            </span>p.&quot;顧客グループ&quot;<span class="w"> </span>AS<span class="w"> </span>p_顧客グループ,
<span class="w">            </span>p.&quot;借方勘定科目コード&quot;<span class="w"> </span>AS<span class="w"> </span>p_借方勘定科目コード,
<span class="w">            </span>p.&quot;貸方勘定科目コード&quot;<span class="w"> </span>AS<span class="w"> </span>p_貸方勘定科目コード,
<span class="w">            </span>p.&quot;優先順位&quot;<span class="w"> </span>AS<span class="w"> </span>p_優先順位
<span class="w">        </span>FROM<span class="w"> </span>&quot;自動仕訳データ&quot;<span class="w"> </span>e
<span class="w">        </span>LEFT<span class="w"> </span>JOIN<span class="w"> </span>&quot;自動仕訳パターンマスタ&quot;<span class="w"> </span>p<span class="w"> </span>ON<span class="w"> </span>e.&quot;パターンコード&quot;<span class="w"> </span>=<span class="w"> </span>p.&quot;パターンコード&quot;
<span class="w">        </span>WHERE<span class="w"> </span>e.&quot;自動仕訳番号&quot;<span class="w"> </span>=<span class="w"> </span>#{autoJournalNumber}
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- 未転記の自動仕訳データをパターン情報付きで取得 --&gt;</span>
<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findUnpostedEntriesWithPattern&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;autoJournalEntryWithPatternResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT
<span class="w">            </span>e.&quot;自動仕訳番号&quot;<span class="w"> </span>AS<span class="w"> </span>e_自動仕訳番号,
<span class="w">            </span>e.&quot;売上番号&quot;<span class="w"> </span>AS<span class="w"> </span>e_売上番号,
<span class="w">            </span>e.&quot;売上行番号&quot;<span class="w"> </span>AS<span class="w"> </span>e_売上行番号,
<span class="w">            </span>e.&quot;パターンコード&quot;<span class="w"> </span>AS<span class="w"> </span>e_パターンコード,
<span class="w">            </span>e.&quot;起票日&quot;<span class="w"> </span>AS<span class="w"> </span>e_起票日,
<span class="w">            </span>e.&quot;仕訳行貸借区分&quot;<span class="w"> </span>AS<span class="w"> </span>e_仕訳行貸借区分,
<span class="w">            </span>e.&quot;勘定科目コード&quot;<span class="w"> </span>AS<span class="w"> </span>e_勘定科目コード,
<span class="w">            </span>e.&quot;補助科目コード&quot;<span class="w"> </span>AS<span class="w"> </span>e_補助科目コード,
<span class="w">            </span>e.&quot;部門コード&quot;<span class="w"> </span>AS<span class="w"> </span>e_部門コード,
<span class="w">            </span>e.&quot;仕訳金額&quot;<span class="w"> </span>AS<span class="w"> </span>e_仕訳金額,
<span class="w">            </span>e.&quot;消費税額&quot;<span class="w"> </span>AS<span class="w"> </span>e_消費税額,
<span class="w">            </span>e.&quot;処理ステータス&quot;<span class="w"> </span>AS<span class="w"> </span>e_処理ステータス,
<span class="w">            </span>e.&quot;転記済フラグ&quot;<span class="w"> </span>AS<span class="w"> </span>e_転記済フラグ,
<span class="w">            </span>e.&quot;転記日&quot;<span class="w"> </span>AS<span class="w"> </span>e_転記日,
<span class="w">            </span>e.&quot;仕訳伝票番号&quot;<span class="w"> </span>AS<span class="w"> </span>e_仕訳伝票番号,
<span class="w">            </span>e.&quot;エラーコード&quot;<span class="w"> </span>AS<span class="w"> </span>e_エラーコード,
<span class="w">            </span>e.&quot;エラーメッセージ&quot;<span class="w"> </span>AS<span class="w"> </span>e_エラーメッセージ,
<span class="w">            </span>e.&quot;バージョン&quot;<span class="w"> </span>AS<span class="w"> </span>e_バージョン,
<span class="w">            </span>e.&quot;作成日時&quot;<span class="w"> </span>AS<span class="w"> </span>e_作成日時,
<span class="w">            </span>e.&quot;更新日時&quot;<span class="w"> </span>AS<span class="w"> </span>e_更新日時,
<span class="w">            </span>p.&quot;パターンコード&quot;<span class="w"> </span>AS<span class="w"> </span>p_パターンコード,
<span class="w">            </span>p.&quot;パターン名&quot;<span class="w"> </span>AS<span class="w"> </span>p_パターン名,
<span class="w">            </span>p.&quot;商品グループ&quot;<span class="w"> </span>AS<span class="w"> </span>p_商品グループ,
<span class="w">            </span>p.&quot;顧客グループ&quot;<span class="w"> </span>AS<span class="w"> </span>p_顧客グループ,
<span class="w">            </span>p.&quot;借方勘定科目コード&quot;<span class="w"> </span>AS<span class="w"> </span>p_借方勘定科目コード,
<span class="w">            </span>p.&quot;貸方勘定科目コード&quot;<span class="w"> </span>AS<span class="w"> </span>p_貸方勘定科目コード,
<span class="w">            </span>p.&quot;優先順位&quot;<span class="w"> </span>AS<span class="w"> </span>p_優先順位
<span class="w">        </span>FROM<span class="w"> </span>&quot;自動仕訳データ&quot;<span class="w"> </span>e
<span class="w">        </span>LEFT<span class="w"> </span>JOIN<span class="w"> </span>&quot;自動仕訳パターンマスタ&quot;<span class="w"> </span>p<span class="w"> </span>ON<span class="w"> </span>e.&quot;パターンコード&quot;<span class="w"> </span>=<span class="w"> </span>p.&quot;パターンコード&quot;
<span class="w">        </span>WHERE<span class="w"> </span>e.&quot;転記済フラグ&quot;<span class="w"> </span>=<span class="w"> </span>0
<span class="w">        </span>AND<span class="w"> </span>e.&quot;処理ステータス&quot;<span class="w"> </span>=<span class="w"> </span>&#39;処理完了&#39;
<span class="w">        </span>ORDER<span class="w"> </span>BY<span class="w"> </span>e.&quot;起票日&quot;,<span class="w"> </span>e.&quot;自動仕訳番号&quot;
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="nt">&lt;/mapper&gt;</span>
</code></pre></div>

</details>

<h4 id="_25">リレーション設定のポイント<a class="headerlink" href="#_25" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>設定項目</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;association&gt;</code></td>
<td>N:1 関連のマッピング（自動仕訳データ → パターンマスタ）</td>
</tr>
<tr>
<td><code>&lt;id&gt;</code></td>
<td>主キーの識別</td>
</tr>
<tr>
<td><code>resultMap</code></td>
<td>ネストした ResultMap の参照</td>
</tr>
<tr>
<td>エイリアス（AS）</td>
<td>カラム名の重複を避けるためのプレフィックス（e_, p_）</td>
</tr>
<tr>
<td><code>ORDER BY</code></td>
<td>取得順序の保証</td>
</tr>
</tbody>
</table>
<h3 id="_26">楽観ロックの実装<a class="headerlink" href="#_26" title="Permanent link">&para;</a></h3>
<p>自動仕訳データは複数の処理（生成、転記、エラー修正）で更新されるため、楽観ロックによる整合性確保が重要です。</p>
<h4 id="flyway">Flyway マイグレーション: バージョンカラム追加<a class="headerlink" href="#flyway" title="Permanent link">&para;</a></h4>
<details>
<summary>V008__add_auto_journal_version_columns.sql</summary>

<div class="highlight"><pre><span></span><code><span class="c1">-- src/main/resources/db/migration/V008__add_auto_journal_version_columns.sql</span>

<span class="c1">-- 自動仕訳パターンマスタにバージョンカラムを追加</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;自動仕訳パターンマスタ&quot;</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>

<span class="c1">-- 自動仕訳データにバージョンカラムを追加</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;自動仕訳データ&quot;</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>

<span class="c1">-- 自動仕訳処理履歴にバージョンカラムを追加</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;自動仕訳処理履歴&quot;</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>

<span class="c1">-- コメント追加</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;自動仕訳パターンマスタ&quot;</span><span class="p">.</span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;楽観ロック用バージョン番号&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;自動仕訳データ&quot;</span><span class="p">.</span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;楽観ロック用バージョン番号&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;自動仕訳処理履歴&quot;</span><span class="p">.</span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;楽観ロック用バージョン番号&#39;</span><span class="p">;</span>
</code></pre></div>

</details>

<h4 id="_27">エンティティへのバージョンフィールド追加<a class="headerlink" href="#_27" title="Permanent link">&para;</a></h4>
<details>
<summary>AutoJournalEntry.java（バージョンフィールド追加）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/fas/domain/model/autojournal/AutoJournalEntry.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.fas.domain.model.autojournal</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.fas.domain.model.account.DebitCreditType</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.AllArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.NoArgsConstructor</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@AllArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AutoJournalEntry</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">autoJournalNumber</span><span class="p">;</span><span class="w">     </span><span class="c1">// 自動仕訳番号</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">salesNumber</span><span class="p">;</span><span class="w">           </span><span class="c1">// 売上番号</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">salesLineNumber</span><span class="p">;</span><span class="w">      </span><span class="c1">// 売上行番号</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">patternCode</span><span class="p">;</span><span class="w">           </span><span class="c1">// パターンコード</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">postingDate</span><span class="p">;</span><span class="w">        </span><span class="c1">// 起票日</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">DebitCreditType</span><span class="w"> </span><span class="n">debitCreditType</span><span class="p">;</span><span class="w"> </span><span class="c1">// 仕訳行貸借区分</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">accountCode</span><span class="p">;</span><span class="w">           </span><span class="c1">// 勘定科目コード</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">subAccountCode</span><span class="p">;</span><span class="w">        </span><span class="c1">// 補助科目コード</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">departmentCode</span><span class="p">;</span><span class="w">        </span><span class="c1">// 部門コード</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">amount</span><span class="p">;</span><span class="w">            </span><span class="c1">// 仕訳金額</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">taxAmount</span><span class="p">;</span><span class="w">         </span><span class="c1">// 消費税額</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">AutoJournalStatus</span><span class="w"> </span><span class="n">status</span><span class="p">;</span><span class="w">     </span><span class="c1">// 処理ステータス</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Boolean</span><span class="w"> </span><span class="n">postedFlag</span><span class="p">;</span><span class="w">           </span><span class="c1">// 転記済フラグ</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">postedDate</span><span class="p">;</span><span class="w">         </span><span class="c1">// 転記日</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">journalVoucherNumber</span><span class="p">;</span><span class="w">  </span><span class="c1">// 仕訳伝票番号</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">errorCode</span><span class="p">;</span><span class="w">             </span><span class="c1">// エラーコード</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">errorMessage</span><span class="p">;</span><span class="w">          </span><span class="c1">// エラーメッセージ</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span><span class="w">      </span><span class="c1">// 作成日時</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span><span class="w">      </span><span class="c1">// 更新日時</span>

<span class="w">    </span><span class="c1">// 楽観ロック用バージョン</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// パターン情報（リレーション）</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">AutoJournalPattern</span><span class="w"> </span><span class="n">pattern</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="mybatis-mapper">MyBatis Mapper: 楽観ロック対応の更新<a class="headerlink" href="#mybatis-mapper" title="Permanent link">&para;</a></h4>
<details>
<summary>AutoJournalMapper.xml（楽観ロック対応 UPDATE）</summary>

<div class="highlight"><pre><span></span><code><span class="cm">&lt;!-- 楽観ロック対応の自動仕訳データ更新（ステータス変更） --&gt;</span>
<span class="nt">&lt;update</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;updateEntryWithOptimisticLock&quot;</span><span class="w"> </span><span class="na">parameterType=</span><span class="s">&quot;com.example.fas.domain.model.autojournal.AutoJournalEntry&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span>UPDATE<span class="w"> </span>&quot;自動仕訳データ&quot;
<span class="w">    </span>SET
<span class="w">        </span>&quot;処理ステータス&quot;<span class="w"> </span>=<span class="w"> </span>#{status,<span class="w"> </span>typeHandler=com.example.fas.infrastructure.persistence.typehandler.AutoJournalStatusTypeHandler}::自動仕訳ステータス,
<span class="w">        </span>&quot;転記済フラグ&quot;<span class="w"> </span>=<span class="w"> </span>#{postedFlag},
<span class="w">        </span>&quot;転記日&quot;<span class="w"> </span>=<span class="w"> </span>#{postedDate},
<span class="w">        </span>&quot;仕訳伝票番号&quot;<span class="w"> </span>=<span class="w"> </span>#{journalVoucherNumber},
<span class="w">        </span>&quot;エラーコード&quot;<span class="w"> </span>=<span class="w"> </span>#{errorCode},
<span class="w">        </span>&quot;エラーメッセージ&quot;<span class="w"> </span>=<span class="w"> </span>#{errorMessage},
<span class="w">        </span>&quot;更新日時&quot;<span class="w"> </span>=<span class="w"> </span>CURRENT_TIMESTAMP,
<span class="w">        </span>&quot;バージョン&quot;<span class="w"> </span>=<span class="w"> </span>&quot;バージョン&quot;<span class="w"> </span>+<span class="w"> </span>1
<span class="w">    </span>WHERE<span class="w"> </span>&quot;自動仕訳番号&quot;<span class="w"> </span>=<span class="w"> </span>#{autoJournalNumber}
<span class="w">    </span>AND<span class="w"> </span>&quot;バージョン&quot;<span class="w"> </span>=<span class="w"> </span>#{version}
<span class="nt">&lt;/update&gt;</span>

<span class="cm">&lt;!-- 楽観ロック対応のパターンマスタ更新 --&gt;</span>
<span class="nt">&lt;update</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;updatePatternWithOptimisticLock&quot;</span><span class="w"> </span><span class="na">parameterType=</span><span class="s">&quot;com.example.fas.domain.model.autojournal.AutoJournalPattern&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span>UPDATE<span class="w"> </span>&quot;自動仕訳パターンマスタ&quot;
<span class="w">    </span>SET
<span class="w">        </span>&quot;パターン名&quot;<span class="w"> </span>=<span class="w"> </span>#{patternName},
<span class="w">        </span>&quot;商品グループ&quot;<span class="w"> </span>=<span class="w"> </span>#{productGroup},
<span class="w">        </span>&quot;顧客グループ&quot;<span class="w"> </span>=<span class="w"> </span>#{customerGroup},
<span class="w">        </span>&quot;売上区分&quot;<span class="w"> </span>=<span class="w"> </span>#{salesType},
<span class="w">        </span>&quot;借方勘定科目コード&quot;<span class="w"> </span>=<span class="w"> </span>#{debitAccountCode},
<span class="w">        </span>&quot;借方補助科目設定&quot;<span class="w"> </span>=<span class="w"> </span>#{debitSubAccountSetting},
<span class="w">        </span>&quot;貸方勘定科目コード&quot;<span class="w"> </span>=<span class="w"> </span>#{creditAccountCode},
<span class="w">        </span>&quot;貸方補助科目設定&quot;<span class="w"> </span>=<span class="w"> </span>#{creditSubAccountSetting},
<span class="w">        </span>&quot;返品時借方科目コード&quot;<span class="w"> </span>=<span class="w"> </span>#{returnDebitAccountCode},
<span class="w">        </span>&quot;返品時貸方科目コード&quot;<span class="w"> </span>=<span class="w"> </span>#{returnCreditAccountCode},
<span class="w">        </span>&quot;消費税処理区分&quot;<span class="w"> </span>=<span class="w"> </span>#{taxProcessingType},
<span class="w">        </span>&quot;有効開始日&quot;<span class="w"> </span>=<span class="w"> </span>#{validFrom},
<span class="w">        </span>&quot;有効終了日&quot;<span class="w"> </span>=<span class="w"> </span>#{validTo},
<span class="w">        </span>&quot;優先順位&quot;<span class="w"> </span>=<span class="w"> </span>#{priority},
<span class="w">        </span>&quot;更新日時&quot;<span class="w"> </span>=<span class="w"> </span>CURRENT_TIMESTAMP,
<span class="w">        </span>&quot;バージョン&quot;<span class="w"> </span>=<span class="w"> </span>&quot;バージョン&quot;<span class="w"> </span>+<span class="w"> </span>1
<span class="w">    </span>WHERE<span class="w"> </span>&quot;パターンコード&quot;<span class="w"> </span>=<span class="w"> </span>#{patternCode}
<span class="w">    </span>AND<span class="w"> </span>&quot;バージョン&quot;<span class="w"> </span>=<span class="w"> </span>#{version}
<span class="nt">&lt;/update&gt;</span>

<span class="cm">&lt;!-- バージョンのみ取得 --&gt;</span>
<span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findEntryVersionByNumber&quot;</span><span class="w"> </span><span class="na">resultType=</span><span class="s">&quot;Integer&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span>SELECT<span class="w"> </span>&quot;バージョン&quot;<span class="w"> </span>FROM<span class="w"> </span>&quot;自動仕訳データ&quot;
<span class="w">    </span>WHERE<span class="w"> </span>&quot;自動仕訳番号&quot;<span class="w"> </span>=<span class="w"> </span>#{autoJournalNumber}
<span class="nt">&lt;/select&gt;</span>

<span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findPatternVersionByCode&quot;</span><span class="w"> </span><span class="na">resultType=</span><span class="s">&quot;Integer&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span>SELECT<span class="w"> </span>&quot;バージョン&quot;<span class="w"> </span>FROM<span class="w"> </span>&quot;自動仕訳パターンマスタ&quot;
<span class="w">    </span>WHERE<span class="w"> </span>&quot;パターンコード&quot;<span class="w"> </span>=<span class="w"> </span>#{patternCode}
<span class="nt">&lt;/select&gt;</span>
</code></pre></div>

</details>

<h4 id="repository">Repository 実装: 楽観ロック対応<a class="headerlink" href="#repository" title="Permanent link">&para;</a></h4>
<details>
<summary>AutoJournalRepositoryImpl.java（楽観ロック対応）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/fas/infrastructure/persistence/repository/AutoJournalRepositoryImpl.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.fas.infrastructure.persistence.repository</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.fas.application.port.out.AutoJournalRepository</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.fas.domain.exception.OptimisticLockException</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.fas.domain.model.autojournal.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.fas.infrastructure.persistence.mapper.AutoJournalMapper</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Repository</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.transaction.annotation.Transactional</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Optional</span><span class="p">;</span>

<span class="nd">@Repository</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AutoJournalRepositoryImpl</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">AutoJournalRepository</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">AutoJournalMapper</span><span class="w"> </span><span class="n">mapper</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">updateEntry</span><span class="p">(</span><span class="n">AutoJournalEntry</span><span class="w"> </span><span class="n">entry</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">updatedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mapper</span><span class="p">.</span><span class="na">updateEntryWithOptimisticLock</span><span class="p">(</span><span class="n">entry</span><span class="p">);</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">updatedCount</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Integer</span><span class="w"> </span><span class="n">currentVersion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mapper</span><span class="p">.</span><span class="na">findEntryVersionByNumber</span><span class="p">(</span><span class="n">entry</span><span class="p">.</span><span class="na">getAutoJournalNumber</span><span class="p">());</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">currentVersion</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OptimisticLockException</span><span class="p">(</span><span class="s">&quot;自動仕訳データ&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">entry</span><span class="p">.</span><span class="na">getAutoJournalNumber</span><span class="p">());</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OptimisticLockException</span><span class="p">(</span><span class="s">&quot;自動仕訳データ&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">entry</span><span class="p">.</span><span class="na">getAutoJournalNumber</span><span class="p">(),</span>
<span class="w">                        </span><span class="n">entry</span><span class="p">.</span><span class="na">getVersion</span><span class="p">(),</span><span class="w"> </span><span class="n">currentVersion</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">updatePattern</span><span class="p">(</span><span class="n">AutoJournalPattern</span><span class="w"> </span><span class="n">pattern</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">updatedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mapper</span><span class="p">.</span><span class="na">updatePatternWithOptimisticLock</span><span class="p">(</span><span class="n">pattern</span><span class="p">);</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">updatedCount</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Integer</span><span class="w"> </span><span class="n">currentVersion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mapper</span><span class="p">.</span><span class="na">findPatternVersionByCode</span><span class="p">(</span><span class="n">pattern</span><span class="p">.</span><span class="na">getPatternCode</span><span class="p">());</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">currentVersion</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OptimisticLockException</span><span class="p">(</span><span class="s">&quot;自動仕訳パターン&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">pattern</span><span class="p">.</span><span class="na">getPatternCode</span><span class="p">());</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OptimisticLockException</span><span class="p">(</span><span class="s">&quot;自動仕訳パターン&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">pattern</span><span class="p">.</span><span class="na">getPatternCode</span><span class="p">(),</span>
<span class="w">                        </span><span class="n">pattern</span><span class="p">.</span><span class="na">getVersion</span><span class="p">(),</span><span class="w"> </span><span class="n">currentVersion</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findEntryWithPatternByNumber</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">autoJournalNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Optional</span><span class="p">.</span><span class="na">ofNullable</span><span class="p">(</span><span class="n">mapper</span><span class="p">.</span><span class="na">findEntryWithPatternByNumber</span><span class="p">(</span><span class="n">autoJournalNumber</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AutoJournalEntry</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findUnpostedEntriesWithPattern</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">mapper</span><span class="p">.</span><span class="na">findUnpostedEntriesWithPattern</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// その他のメソッド...</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="tdd_1">TDD: 楽観ロックのテスト<a class="headerlink" href="#tdd_1" title="Permanent link">&para;</a></h4>
<details>
<summary>AutoJournalRepositoryOptimisticLockTest.java</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/test/java/com/example/fas/infrastructure/persistence/repository/AutoJournalRepositoryOptimisticLockTest.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.fas.infrastructure.persistence.repository</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.fas.application.port.out.AutoJournalRepository</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.fas.domain.exception.OptimisticLockException</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.fas.domain.model.account.DebitCreditType</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.fas.domain.model.autojournal.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.fas.testsetup.BaseIntegrationTest</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>

<span class="kn">import static</span><span class="w"> </span><span class="nn">org.assertj.core.api.Assertions.*</span><span class="p">;</span>

<span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;自動仕訳リポジトリ - 楽観ロック&quot;</span><span class="p">)</span>
<span class="kd">class</span> <span class="nc">AutoJournalRepositoryOptimisticLockTest</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">BaseIntegrationTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">AutoJournalRepository</span><span class="w"> </span><span class="n">autoJournalRepository</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@BeforeEach</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">setUp</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// テストデータのクリーンアップ</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Nested</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;自動仕訳データの楽観ロック&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">class</span> <span class="nc">AutoJournalEntryOptimisticLocking</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;同じバージョンで更新できる&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">canUpdateWithSameVersion</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Arrange</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createTestEntry</span><span class="p">(</span><span class="s">&quot;AJ0001&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">autoJournalRepository</span><span class="p">.</span><span class="na">saveEntry</span><span class="p">(</span><span class="n">entry</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Act</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">fetched</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">autoJournalRepository</span><span class="p">.</span><span class="na">findEntryByNumber</span><span class="p">(</span><span class="s">&quot;AJ0001&quot;</span><span class="p">).</span><span class="na">get</span><span class="p">();</span>
<span class="w">            </span><span class="n">fetched</span><span class="p">.</span><span class="na">setStatus</span><span class="p">(</span><span class="n">AutoJournalStatus</span><span class="p">.</span><span class="na">COMPLETED</span><span class="p">);</span>
<span class="w">            </span><span class="n">autoJournalRepository</span><span class="p">.</span><span class="na">updateEntry</span><span class="p">(</span><span class="n">fetched</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Assert</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">autoJournalRepository</span><span class="p">.</span><span class="na">findEntryByNumber</span><span class="p">(</span><span class="s">&quot;AJ0001&quot;</span><span class="p">).</span><span class="na">get</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">updated</span><span class="p">.</span><span class="na">getStatus</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="n">AutoJournalStatus</span><span class="p">.</span><span class="na">COMPLETED</span><span class="p">);</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">updated</span><span class="p">.</span><span class="na">getVersion</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;異なるバージョンで更新すると楽観ロック例外が発生する&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">throwsExceptionWhenVersionMismatch</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Arrange</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createTestEntry</span><span class="p">(</span><span class="s">&quot;AJ0002&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">autoJournalRepository</span><span class="p">.</span><span class="na">saveEntry</span><span class="p">(</span><span class="n">entry</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// 処理Aが取得</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">entryA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">autoJournalRepository</span><span class="p">.</span><span class="na">findEntryByNumber</span><span class="p">(</span><span class="s">&quot;AJ0002&quot;</span><span class="p">).</span><span class="na">get</span><span class="p">();</span>
<span class="w">            </span><span class="c1">// 処理Bが取得</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">entryB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">autoJournalRepository</span><span class="p">.</span><span class="na">findEntryByNumber</span><span class="p">(</span><span class="s">&quot;AJ0002&quot;</span><span class="p">).</span><span class="na">get</span><span class="p">();</span>

<span class="w">            </span><span class="c1">// 処理Aが転記処理（成功）</span>
<span class="w">            </span><span class="n">entryA</span><span class="p">.</span><span class="na">setStatus</span><span class="p">(</span><span class="n">AutoJournalStatus</span><span class="p">.</span><span class="na">POSTED</span><span class="p">);</span>
<span class="w">            </span><span class="n">entryA</span><span class="p">.</span><span class="na">setPostedFlag</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">            </span><span class="n">entryA</span><span class="p">.</span><span class="na">setPostedDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">());</span>
<span class="w">            </span><span class="n">autoJournalRepository</span><span class="p">.</span><span class="na">updateEntry</span><span class="p">(</span><span class="n">entryA</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Act &amp; Assert: 処理Bが古いバージョンで更新（失敗）</span>
<span class="w">            </span><span class="n">entryB</span><span class="p">.</span><span class="na">setStatus</span><span class="p">(</span><span class="n">AutoJournalStatus</span><span class="p">.</span><span class="na">ERROR</span><span class="p">);</span>
<span class="w">            </span><span class="n">assertThatThrownBy</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">autoJournalRepository</span><span class="p">.</span><span class="na">updateEntry</span><span class="p">(</span><span class="n">entryB</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">isInstanceOf</span><span class="p">(</span><span class="n">OptimisticLockException</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">hasMessageContaining</span><span class="p">(</span><span class="s">&quot;他のユーザーによって更新されています&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Nested</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;自動仕訳パターンの楽観ロック&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">class</span> <span class="nc">AutoJournalPatternOptimisticLocking</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;パターンマスタを同じバージョンで更新できる&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">canUpdatePatternWithSameVersion</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Arrange</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createTestPattern</span><span class="p">(</span><span class="s">&quot;P001&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">autoJournalRepository</span><span class="p">.</span><span class="na">savePattern</span><span class="p">(</span><span class="n">pattern</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Act</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">fetched</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">autoJournalRepository</span><span class="p">.</span><span class="na">findPatternByCode</span><span class="p">(</span><span class="s">&quot;P001&quot;</span><span class="p">).</span><span class="na">get</span><span class="p">();</span>
<span class="w">            </span><span class="n">fetched</span><span class="p">.</span><span class="na">setPriority</span><span class="p">(</span><span class="mi">50</span><span class="p">);</span>
<span class="w">            </span><span class="n">autoJournalRepository</span><span class="p">.</span><span class="na">updatePattern</span><span class="p">(</span><span class="n">fetched</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Assert</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">autoJournalRepository</span><span class="p">.</span><span class="na">findPatternByCode</span><span class="p">(</span><span class="s">&quot;P001&quot;</span><span class="p">).</span><span class="na">get</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">updated</span><span class="p">.</span><span class="na">getPriority</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="mi">50</span><span class="p">);</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">updated</span><span class="p">.</span><span class="na">getVersion</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;パターンマスタの同時更新で楽観ロック例外が発生する&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">throwsExceptionWhenPatternVersionMismatch</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Arrange</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createTestPattern</span><span class="p">(</span><span class="s">&quot;P002&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">autoJournalRepository</span><span class="p">.</span><span class="na">savePattern</span><span class="p">(</span><span class="n">pattern</span><span class="p">);</span>

<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">patternA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">autoJournalRepository</span><span class="p">.</span><span class="na">findPatternByCode</span><span class="p">(</span><span class="s">&quot;P002&quot;</span><span class="p">).</span><span class="na">get</span><span class="p">();</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">patternB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">autoJournalRepository</span><span class="p">.</span><span class="na">findPatternByCode</span><span class="p">(</span><span class="s">&quot;P002&quot;</span><span class="p">).</span><span class="na">get</span><span class="p">();</span>

<span class="w">            </span><span class="c1">// ユーザーAが更新（成功）</span>
<span class="w">            </span><span class="n">patternA</span><span class="p">.</span><span class="na">setPatternName</span><span class="p">(</span><span class="s">&quot;更新後パターン名A&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">autoJournalRepository</span><span class="p">.</span><span class="na">updatePattern</span><span class="p">(</span><span class="n">patternA</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Act &amp; Assert: ユーザーBが古いバージョンで更新（失敗）</span>
<span class="w">            </span><span class="n">patternB</span><span class="p">.</span><span class="na">setPatternName</span><span class="p">(</span><span class="s">&quot;更新後パターン名B&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">assertThatThrownBy</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">autoJournalRepository</span><span class="p">.</span><span class="na">updatePattern</span><span class="p">(</span><span class="n">patternB</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">isInstanceOf</span><span class="p">(</span><span class="n">OptimisticLockException</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">hasMessageContaining</span><span class="p">(</span><span class="s">&quot;他のユーザーによって更新されています&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">AutoJournalEntry</span><span class="w"> </span><span class="nf">createTestEntry</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">autoJournalNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">AutoJournalEntry</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">autoJournalNumber</span><span class="p">(</span><span class="n">autoJournalNumber</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">salesNumber</span><span class="p">(</span><span class="s">&quot;S0001&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">salesLineNumber</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">patternCode</span><span class="p">(</span><span class="s">&quot;P001&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">postingDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">debitCreditType</span><span class="p">(</span><span class="n">DebitCreditType</span><span class="p">.</span><span class="na">DEBIT</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">accountCode</span><span class="p">(</span><span class="s">&quot;11300&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">amount</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;100000&quot;</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">taxAmount</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;10000&quot;</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">status</span><span class="p">(</span><span class="n">AutoJournalStatus</span><span class="p">.</span><span class="na">PENDING</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">postedFlag</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">AutoJournalPattern</span><span class="w"> </span><span class="nf">createTestPattern</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">patternCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">AutoJournalPattern</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">patternCode</span><span class="p">(</span><span class="n">patternCode</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">patternName</span><span class="p">(</span><span class="s">&quot;テストパターン&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">productGroup</span><span class="p">(</span><span class="s">&quot;ALL&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">customerGroup</span><span class="p">(</span><span class="s">&quot;ALL&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">salesType</span><span class="p">(</span><span class="s">&quot;01&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">debitAccountCode</span><span class="p">(</span><span class="s">&quot;11300&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">creditAccountCode</span><span class="p">(</span><span class="s">&quot;41100&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">validFrom</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">validTo</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">9999</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">31</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">priority</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="_28">楽観ロックのベストプラクティス<a class="headerlink" href="#_28" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>ポイント</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>バージョンカラム</strong></td>
<td>INTEGER 型で十分</td>
</tr>
<tr>
<td><strong>WHERE 条件</strong></td>
<td>必ず <code>AND "バージョン" = #{version}</code> を含める</td>
</tr>
<tr>
<td><strong>インクリメント</strong></td>
<td><code>"バージョン" = "バージョン" + 1</code> でアトミックに更新</td>
</tr>
<tr>
<td><strong>例外処理</strong></td>
<td>更新件数が0の場合は楽観ロック例外をスロー</td>
</tr>
<tr>
<td><strong>転記処理での注意</strong></td>
<td>一括転記時は各エントリごとにバージョンチェック</td>
</tr>
</tbody>
</table>
<h3 id="_29">自動仕訳処理における整合性確保<a class="headerlink" href="#_29" title="Permanent link">&para;</a></h3>
<p>自動仕訳処理は複数のフェーズ（生成 → 確認 → 転記）を経るため、各フェーズでの整合性確保が重要です。</p>
<h4 id="_30">処理フェーズとロック戦略<a class="headerlink" href="#_30" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>フェーズ</th>
<th>処理内容</th>
<th>ロック戦略</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>生成</strong></td>
<td>売上データから自動仕訳データを生成</td>
<td>売上データのフラグ更新に楽観ロック</td>
</tr>
<tr>
<td><strong>確認</strong></td>
<td>自動仕訳チェックリストの確認・修正</td>
<td>自動仕訳データの更新に楽観ロック</td>
</tr>
<tr>
<td><strong>転記</strong></td>
<td>自動仕訳データを仕訳データに転記</td>
<td>ステータス遷移に楽観ロック</td>
</tr>
</tbody>
</table>
<h4 id="_31">ステータス遷移と楽観ロック<a class="headerlink" href="#_31" title="Permanent link">&para;</a></h4>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNUQVRFIiBoZWlnaHQ9IjcxMHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NTA0cHg7aGVpZ2h0OjcxMHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDUwNCA3MTAiIHdpZHRoPSI1MDRweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7JiMxMjQ3MzsmIzEyNDg2OyYjMTI1NDA7JiMxMjQ3OTsmIzEyNDczOyYjMzY5ODM7JiMzMTIyNzsmIzEyMzkyOyYjMjcwMDU7JiMzNTI1MTsmIzEyNTI1OyYjMTI0ODM7JiMxMjQ2Mzs8L3RpdGxlPjxkZWZzLz48Zz48ZyBjbGFzcz0idGl0bGUiIGRhdGEtc291cmNlLWxpbmU9IjEiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMzcuOTk5IiB4PSIxMjYuMjUwNiIgeT0iMjIuOTk1MSI+JiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTsmIzEyNDczOyYjMTI0ODY7JiMxMjU0MDsmIzEyNDc5OyYjMTI0NzM7JiMzNjk4MzsmIzMxMjI3OyYjMTIzOTI7JiMyNzAwNTsmIzM1MjUxOyYjMTI1MjU7JiMxMjQ4MzsmIzEyNDYzOzwvdGV4dD48L2c+PGVsbGlwc2UgY3g9IjI0OCIgY3k9IjUzLjI5NjkiIGZpbGw9IiMyMjIyMjIiIHJ4PSIxMCIgcnk9IjEwIiBzdHlsZT0ic3Ryb2tlOiMyMjIyMjI7c3Ryb2tlLXdpZHRoOjE7Ii8+PGc+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI1MCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI3NS45OTk4IiB4PSIyMTAiIHk9IjE0Mi45OTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjEwIiB4Mj0iMjg1Ljk5OTgiIHkxPSIxNjkuMjkzNyIgeTI9IjE2OS4yOTM3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjIwIiB5PSIxNjAuOTkyIj4mIzIwOTY2OyYjMjk3MDI7JiMyNDQ1MzsmIzEyMzg1OzwvdGV4dD48L2c+PGc+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI1MCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI2MS45OTk4IiB4PSIxNTUiIHk9IjI4Ny42OTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTU1IiB4Mj0iMjE2Ljk5OTgiIHkxPSIzMTMuOTkzOCIgeTI9IjMxMy45OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iMTY1IiB5PSIzMDUuNjkyIj4mIzIwOTY2OyYjMjk3MDI7JiMyMDAxMzs8L3RleHQ+PC9nPjxnPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNTAiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNzUuOTk5OCIgeD0iNyIgeT0iNDI5LjY5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI3IiB4Mj0iODIuOTk5OCIgeTE9IjQ1NS45OTM4IiB5Mj0iNDU1Ljk5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxNyIgeT0iNDQ3LjY5MiI+JiMyMDk2NjsmIzI5NzAyOyYjMjM0MzY7JiMyMDEwMjs8L3RleHQ+PC9nPjxnPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNTAiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNjEuOTk5OCIgeD0iMjE3IiB5PSI0MjkuNjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjIxNyIgeDI9IjI3OC45OTk4IiB5MT0iNDU1Ljk5MzgiIHkyPSI0NTUuOTkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjk5OTgiIHg9IjIyNyIgeT0iNDQ3LjY5MiI+JiMxMjQ1NjsmIzEyNTIxOyYjMTI1NDA7PC90ZXh0PjwvZz48Zz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjUwIiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjYxLjk5OTgiIHg9IjE0IiB5PSI1NzEuNjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjE0IiB4Mj0iNzUuOTk5OCIgeTE9IjU5Ny45OTM4IiB5Mj0iNTk3Ljk5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIyNCIgeT0iNTg5LjY5MiI+JiMzNjU3ODsmIzM1MzUyOyYjMjgxNjg7PC90ZXh0PjwvZz48ZWxsaXBzZSBjeD0iNDUiIGN5PSI2OTMuNjk2OSIgZmlsbD0ibm9uZSIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48ZWxsaXBzZSBjeD0iNDUiIGN5PSI2OTMuNjk2OSIgZmlsbD0iIzIyMjIyMiIgcng9IjYiIHJ5PSI2IiBzdHlsZT0ic3Ryb2tlOiMyMjIyMjI7c3Ryb2tlLXdpZHRoOjE7Ii8+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iR01OMiIgZGF0YS1zb3VyY2UtbGluZT0iMTUiIGlkPSJlbnQwMDAzIj48cGF0aCBkPSJNMzIwLjUsMTQwLjI5NjkgTDMyMC41LDE2My45OTY5IEwyODYuMzYsMTY3Ljk5NjkgTDMyMC41LDE3MS45OTY5IEwzMjAuNSwxOTUuNjk1MyBBMCwwIDAgMCAwIDMyMC41LDE5NS42OTUzIEw0OTcuNTAwMiwxOTUuNjk1MyBBMCwwIDAgMCAwIDQ5Ny41MDAyLDE5NS42OTUzIEw0OTcuNTAwMiwxNTAuMjk2OSBMNDg3LjUwMDIsMTQwLjI5NjkgTDMyMC41LDE0MC4yOTY5IEEwLDAgMCAwIDAgMzIwLjUsMTQwLjI5NjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik00ODcuNTAwMiwxNDAuMjk2OSBMNDg3LjUwMDIsMTUwLjI5NjkgTDQ5Ny41MDAyLDE1MC4yOTY5IEw0ODcuNTAwMiwxNDAuMjk2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE3LjAwMDEiIHg9IjMyNi41IiB5PSIxNTcuMzYzOCI+JiMyMTUwODsmIzEyNDczOyYjMTI0ODY7JiMxMjU0MDsmIzEyNDc5OyYjMTI0NzM7JiMzNjk4MzsmIzMxMjI3OyYjMTIzOTE7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNC4wMDAxIiB4PSIzMjYuNSIgeT0iMTcyLjQ5NjYiPiYjMjcwMDU7JiMzNTI1MTsmIzEyNTI1OyYjMTI0ODM7JiMxMjQ2MzsmIzEyMzk1OyYjMTI0MjQ7JiMxMjQyNzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTU2LjAwMDIiIHg9IjMyNi41IiB5PSIxODcuNjI5NCI+JiMxMjQ5NjsmIzEyNTQwOyYjMTI0NzI7JiMxMjUxOTsmIzEyNTMxOyYjMTI0ODE7JiMxMjQ1NTsmIzEyNDgzOyYjMTI0NjM7JiMxMjQzNDsmIzIzNDU1OyYjMjYwNDU7PC90ZXh0PjwvZz48IS0tbGluayAqc3RhcnQqIHRvID8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMiIgZGF0YS1lbnRpdHktMj0iZW50MDAwMyIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjMiIGlkPSJsbms0Ij48cGF0aCBkPSJNMjQ4LDYzLjUxNjkgQzI0OCw4MC42NTY5IDI0OCwxMTEuOTI2OSAyNDgsMTM2LjczNjkiIGZpbGw9Im5vbmUiIGlkPSIqc3RhcnQqLXRvLSYjMjA5NjY7JiMyOTcwMjsmIzI0NDUzOyYjMTIzODU7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNDgsMTQyLjczNjksMjUyLDEzMy43MzY5LDI0OCwxMzcuNzM2OSwyNDQsMTMzLjczNjksMjQ4LDE0Mi43MzY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzkiIHg9IjI0OSIgeT0iMTA2LjM2MzgiPiYjMjk5ODM7JiMyNTEwNDsmIzI2MTc4OzwvdGV4dD48L2c+PCEtLWxpbmsgPz8/PyB0byA/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMyIgZGF0YS1lbnRpdHktMj0iZW50MDAwNSIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjUiIGlkPSJsbms2Ij48cGF0aCBkPSJNMjA5LjUxLDE5My4yNjY5IEMxOTguOTIsMjAyLjA2NjkgMTg4Ljc2LDIxMy4wMTY5IDE4MywyMjUuNjk2OSBDMTc0LjIyLDI0NS4wMDY5IDE3NC45NzE2LDI2My40NjM5IDE3OC4zOTE2LDI4MS4zMjM5IiBmaWxsPSJub25lIiBpZD0iJiMyMDk2NjsmIzI5NzAyOyYjMjQ0NTM7JiMxMjM4NTstdG8tJiMyMDk2NjsmIzI5NzAyOyYjMjAwMTM7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNzkuNTIsMjg3LjIxNjksMTgxLjc1NiwyNzcuNjI1MiwxNzguNTc5NiwyODIuMzA2MSwxNzMuODk4NywyNzkuMTI5OCwxNzkuNTIsMjg3LjIxNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NS4wMDAxIiB4PSIyMDEuNDc1MSIgeT0iMjM4Ljc2MzgiPiYjMTI0OTY7JiMxMjQ4MzsmIzEyNDgxOyYjMzgyODM7JiMyMjk4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTkuOTUwMiIgeD0iMTg0IiB5PSIyNTMuODk2NiI+KHZlcnNpb24gY2hlY2spPC90ZXh0PjwvZz48IS0tbGluayA/Pz8gdG8gPz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA1IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA3IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iNiIgaWQ9ImxuazgiPjxwYXRoIGQ9Ik0xNTQuNTQsMzE5Ljk2NjkgQzEyNy40NSwzMjcuMDA2OSA4OS4zLDM0MS4wOTY5IDY3LDM2Ny42OTY5IEM1Mi41NSwzODQuOTM2OSA0Ny45NzA3LDQwNC41MTIyIDQ2LjI0MDcsNDIzLjI4MjIiIGZpbGw9Im5vbmUiIGlkPSImIzIwOTY2OyYjMjk3MDI7JiMyMDAxMzstdG8tJiMyMDk2NjsmIzI5NzAyOyYjMjM0MzY7JiMyMDEwMjsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjQ1LjY5LDQyOS4yNTY5LDUwLjQ5OTEsNDIwLjY2Miw0Ni4xNDg5LDQyNC4yNzgsNDIuNTMyOSw0MTkuOTI3Nyw0NS42OSw0MjkuMjU2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyLjAwMDEiIHg9IjkxLjk3NTEiIHk9IjM4MC43NjM4Ij4mIzI3NDkxOyYjMjQxMjA7JiMzMjA2NjsmIzIwMTAyOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5OS45NTAyIiB4PSI2OCIgeT0iMzk1Ljg5NjYiPih2ZXJzaW9uIGNoZWNrKTwvdGV4dD48L2c+PCEtLWxpbmsgPz8/IHRvID8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA1IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA5IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iNyIgaWQ9ImxuazEwIj48cGF0aCBkPSJNMTc5LjQ2LDMzNy44NjY5IEMxNzUuOTIsMzU1Ljc4NjkgMTczLjkyLDM4MC4zNTY5IDE4MywzOTkuNjk2OSBDMTkwLjExLDQxNC44MzY5IDE5OC44NSw0MjMuNzYyNyAyMTEuODMsNDMyLjgyMjciIGZpbGw9Im5vbmUiIGlkPSImIzIwOTY2OyYjMjk3MDI7JiMyMDAxMzstdG8tJiMxMjQ1NjsmIzEyNTIxOyYjMTI1NDA7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMTYuNzUsNDM2LjI1NjksMjExLjY1OTQsNDI3LjgyNTYsMjEyLjY1LDQzMy4zOTUxLDIwNy4wODA1LDQzNC4zODU3LDIxNi43NSw0MzYuMjU2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyLjAwMDEiIHg9IjIwNy45NzUxIiB5PSIzODAuNzYzOCI+JiMzMDA2NDsmIzI0MTIwOyYjMzIwNjY7JiMyMDEwMjs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTkuOTUwMiIgeD0iMTg0IiB5PSIzOTUuODk2NiI+KHZlcnNpb24gY2hlY2spPC90ZXh0PjwvZz48IS0tbGluayA/Pz8/IHRvID8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA3IiBkYXRhLWVudGl0eS0yPSJlbnQwMDExIiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iOSIgaWQ9ImxuazEyIj48cGF0aCBkPSJNNDUsNDgwLjA4NjkgQzQ1LDUwNS43NzY5IDQ1LDUzOS45OTY5IDQ1LDU2NS41ODY5IiBmaWxsPSJub25lIiBpZD0iJiMyMDk2NjsmIzI5NzAyOyYjMjM0MzY7JiMyMDEwMjstdG8tJiMzNjU3ODsmIzM1MzUyOyYjMjgxNjg7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0NSw1NzEuNTg2OSw0OSw1NjIuNTg2OSw0NSw1NjYuNTg2OSw0MSw1NjIuNTg2OSw0NSw1NzEuNTg2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyLjAwMDEiIHg9IjY5Ljk3NTEiIHk9IjUyMi43NjM4Ij4mIzM2NTc4OyYjMzUzNTI7JiMyMDk2NjsmIzI5NzAyOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5OS45NTAyIiB4PSI0NiIgeT0iNTM3Ljg5NjYiPih2ZXJzaW9uIGNoZWNrKTwvdGV4dD48L2c+PCEtLWxpbmsgPz8/IHRvID8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwOSIgZGF0YS1lbnRpdHktMj0iZW50MDAwMyIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjEwIiBpZD0ibG5rMTMiPjxwYXRoIGQ9Ik0yNzEuMjMsNDI5LjI0NjkgQzI3Ny45OSw0MjAuNTg2OSAyODQuNDksNDEwLjMzNjkgMjg4LDM5OS42OTY5IEMzMTIuMjQsMzI2LjI1NjkgMzExLjM4LDI5OS40MDY5IDI4OCwyMjUuNjk2OSBDMjg0LjMyLDIxNC4wOTY5IDI4MC45NDYsMjA3LjYwNzMgMjczLjgxNiwxOTguMjA3MyIgZmlsbD0ibm9uZSIgaWQ9IiYjMTI0NTY7JiMxMjUyMTsmIzEyNTQwOy10by0mIzIwOTY2OyYjMjk3MDI7JiMyNDQ1MzsmIzEyMzg1OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjcwLjE5LDE5My40MjY5LDI3Mi40NDIsMjAzLjAxNDgsMjczLjIxMTcsMTk3LjQxMDUsMjc4LjgxNTksMTk4LjE4MDIsMjcwLjE5LDE5My40MjY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzkiIHg9IjMzNy4zMzUxIiB5PSIzMDkuNzYzOCI+JiMyMDg3NzsmIzIwOTY2OyYjMjk3MDI7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk5Ljk1MDIiIHg9IjMwNi44NiIgeT0iMzI0Ljg5NjYiPih2ZXJzaW9uIGNoZWNrKTwvdGV4dD48L2c+PCEtLWxpbmsgPz8/IHRvICplbmQqLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMTEiIGRhdGEtZW50aXR5LTI9ImVudDAwMTQiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIxMiIgaWQ9ImxuazE1Ij48cGF0aCBkPSJNNDUsNjIyLjE1NjkgQzQ1LDY0MS43MzY5IDQ1LDY2Mi4xODY5IDQ1LDY3Ni40OTY5IiBmaWxsPSJub25lIiBpZD0iJiMzNjU3ODsmIzM1MzUyOyYjMjgxNjg7LXRvLSplbmQqIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0NSw2ODIuNDk2OSw0OSw2NzMuNDk2OSw0NSw2NzcuNDk2OSw0MSw2NzMuNDk2OSw0NSw2ODIuNDk2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48P3BsYW50dW1sLXNyYyBYUDcxSWlEMDQ4Umx5bkh4TEE0bHVDNE5LS3pyaks1OWUwUmxrd2pmODBmMUpENUpLUjY5SWdmR242WWlGaW5hRHprdFM2RTU2Qkx3Y3NNX1JfeFQ2VFRvVG9aSGxIaVBINEtVd01JQ18wYzVYLTg1LVBrZmYtb25aN0RhWVJnUXdFNE9IT2YyOEJ5M001clE5d3RNMmY2ek9IYnd5bEswc0piUDlrTjlHRmNYRWtDMFpQaVFCUkJLUzJaMmdmRFdxdHVXdXMzRE5qWVp0THRCaUtjeEd6bFJZcjMzTnI5Nlh5TXBQc29MTmllaUFuLXVFVndkOGF6R045aVZMUS1CeGxfbWU5NUlrSmdfcUNjZm9kcFpwa2VQeWpFakt0dVBZbElFdmRiR0hySVljSWcweFJZS1RBc2paYWtTcEtPbGFFNy1kMHQ1eTZyNW82d0gteVczLTlZcm1KQ0tDR2YzQ0VKbjl5SUZ2TVlXLVhFV3pXUWZXankxPz48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h4 id="_32">一括転記時の楽観ロック<a class="headerlink" href="#_32" title="Permanent link">&para;</a></h4>
<p>一括転記処理では、個別のエントリごとにバージョンチェックを行います。</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Transactional</span>
<span class="kd">public</span><span class="w"> </span><span class="n">PostingResult</span><span class="w"> </span><span class="nf">postAutoJournalEntries</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">autoJournalNumbers</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PostingResult</span><span class="p">();</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">autoJournalNumbers</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">autoJournalRepository</span><span class="p">.</span><span class="na">findEntryByNumber</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">orElseThrow</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">EntityNotFoundException</span><span class="p">(</span><span class="s">&quot;自動仕訳&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">number</span><span class="p">));</span>

<span class="w">            </span><span class="c1">// 仕訳データを生成</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">journal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createJournalFromEntry</span><span class="p">(</span><span class="n">entry</span><span class="p">);</span>
<span class="w">            </span><span class="n">journalRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">journal</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// 転記済に更新（楽観ロック）</span>
<span class="w">            </span><span class="n">entry</span><span class="p">.</span><span class="na">setStatus</span><span class="p">(</span><span class="n">AutoJournalStatus</span><span class="p">.</span><span class="na">POSTED</span><span class="p">);</span>
<span class="w">            </span><span class="n">entry</span><span class="p">.</span><span class="na">setPostedFlag</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">            </span><span class="n">entry</span><span class="p">.</span><span class="na">setPostedDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">());</span>
<span class="w">            </span><span class="n">entry</span><span class="p">.</span><span class="na">setJournalVoucherNumber</span><span class="p">(</span><span class="n">journal</span><span class="p">.</span><span class="na">getJournalVoucherNumber</span><span class="p">());</span>
<span class="w">            </span><span class="n">autoJournalRepository</span><span class="p">.</span><span class="na">updateEntry</span><span class="p">(</span><span class="n">entry</span><span class="p">);</span><span class="w">  </span><span class="c1">// バージョンチェック</span>

<span class="w">            </span><span class="n">result</span><span class="p">.</span><span class="na">addSuccess</span><span class="p">(</span><span class="n">number</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">OptimisticLockException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// 他のプロセスで既に処理済み</span>
<span class="w">            </span><span class="n">result</span><span class="p">.</span><span class="na">addSkipped</span><span class="p">(</span><span class="n">number</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;既に処理されています&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">result</span><span class="p">.</span><span class="na">addError</span><span class="p">(</span><span class="n">number</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<hr />
<h2 id="17_1">第17章のまとめ<a class="headerlink" href="#17_1" title="Permanent link">&para;</a></h2>
<h3 id="_33">作成したテーブル<a class="headerlink" href="#_33" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>テーブル名</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>自動仕訳パターンマスタ</code></td>
<td>売上データから仕訳データへの変換ルール</td>
</tr>
<tr>
<td><code>自動仕訳データ</code></td>
<td>変換された仕訳データ（転記前の中間データ）</td>
</tr>
<tr>
<td><code>自動仕訳処理履歴</code></td>
<td>自動仕訳処理の実行履歴</td>
</tr>
</tbody>
</table>
<h3 id="er_1">ER図<a class="headerlink" href="#er_1" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjcyNHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MzU5cHg7aGVpZ2h0OjcyNHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDM1OSA3MjQiIHdpZHRoPSIzNTlweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7JiMxMjQ4NjsmIzEyNTQwOyYjMTI1MDI7JiMxMjUyMzsgRVImIzIyMjU5OzwvdGl0bGU+PGRlZnMvPjxnPjxnIGNsYXNzPSJ0aXRsZSIgZGF0YS1zb3VyY2UtbGluZT0iMSI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1MS4yMTcyIiB4PSI5Ny4zOTExIiB5PSIyMi45OTUxIj4mIzMzMjU4OyYjMjEyMDU7JiMyMDE4MTsmIzM1Mzc5OyYjMTI0ODY7JiMxMjU0MDsmIzEyNTAyOyYjMTI1MjM7IEVSJiMyMjI1OTs8L3RleHQ+PC9nPjwhLS1jbGFzcyA/Pz8/Pz8/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIzIiBpZD0iZW50MDAwMiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyMTAuOTY4OCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTg1Ljk5OTMiIHg9IjciIHk9IjM0OC44NjY5Ii8+PGVsbGlwc2UgY3g9IjIyIiBjeT0iMzY0Ljg2NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTI2LjEwOTQsMzcwLjg2NjkgTDE4LjM5MDYsMzcwLjg2NjkgTDE4LjM5MDYsMzU4LjQ3NjMgTDI2LjEwOTQsMzU4LjQ3NjMgTDI2LjEwOTQsMzYwLjYzMjUgTDIwLjg0MzgsMzYwLjYzMjUgTDIwLjg0MzgsMzYzLjMwNDQgTDI1LjYwOTQsMzYzLjMwNDQgTDI1LjYwOTQsMzY1LjQ2MDYgTDIwLjg0MzgsMzY1LjQ2MDYgTDIwLjg0MzgsMzY4LjcxMDYgTDI2LjEwOTQsMzY4LjcxMDYgTDI2LjEwOTQsMzcwLjg2NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTMuOTk5MyIgeD0iMzYiIHk9IjM2OS43MTM2Ij4mIzMzMjU4OyYjMjEyMDU7JiMyMDE4MTsmIzM1Mzc5OyYjMTI0OTc7JiMxMjQ3OTsmIzEyNTQwOyYjMTI1MzE7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjgiIHgyPSIxOTEuOTk5MyIgeTE9IjM4MC44NjY5IiB5Mj0iMzgwLjg2NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzcuMjAzNyIgeD0iMTMiIHk9IjM5Ny44NjIiPiYjMTI0OTc7JiMxMjQ3OTsmIzEyNTQwOyYjMTI1MzE7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7ICYjMTcxO1BLJiMxODc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI4IiB4Mj0iMTkxLjk5OTMiIHkxPSI0MDUuMTYzOCIgeTI9IjQwNS4xNjM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTMiIHk9IjQyMi4xNTg5Ij4mIzEyNDk3OyYjMTI0Nzk7JiMxMjU0MDsmIzEyNTMxOyYjMjE1MTc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjEzIiB5PSI0MzguNDU1NyI+JiMyMTgzMDsmIzIxNjk3OyYjMTI0NjQ7JiMxMjUyMzsmIzEyNTQwOyYjMTI1MDM7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjEzIiB5PSI0NTQuNzUyNiI+JiMzOTAxNTsmIzIzNDU4OyYjMTI0NjQ7JiMxMjUyMzsmIzEyNTQwOyYjMTI1MDM7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2NC44MTM5IiB4PSIxMyIgeT0iNDcxLjA0OTUiPiYjMjA1MTE7JiMyNjA0MTsmIzIxMjA4OyYjMjM0NTA7JiMzMTE4NTsmIzMwNDQ2OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyAmIzE3MTtGSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjQuODEzOSIgeD0iMTMiIHk9IjQ4Ny4zNDY0Ij4mIzM2MDI0OyYjMjYwNDE7JiMyMTIwODsmIzIzNDUwOyYjMzExODU7JiMzMDQ0NjsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTMiIHk9IjUwMy42NDMyIj4mIzI2Mzc3OyYjMjExNzc7JiMzODI4MzsmIzIyOTg3OyYjMjYwODU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjEzIiB5PSI1MTkuOTQwMSI+JiMyNjM3NzsmIzIxMTc3OyYjMzIwNjY7JiMyMDEwMjsmIzI2MDg1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxMyIgeT0iNTM2LjIzNyI+JiMyMDc3ODsmIzIwODA4OyYjMzg5MTg7JiMyMDMwMTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMuMzUwNiIgeD0iMTMiIHk9IjU1Mi41MzM5Ij4uLi48L3RleHQ+PC9nPjwhLS1jbGFzcyA/Pz8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMTciIGlkPSJlbnQwMDAzIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjI0My41NjI1IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNDguODE0IiB4PSIyNS41OSIgeT0iNDQuMjk2OSIvPjxlbGxpcHNlIGN4PSI0OS4wNTY1IiBjeT0iNjAuMjk2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNNTMuMTY1OSw2Ni4yOTY5IEw0NS40NDcxLDY2LjI5NjkgTDQ1LjQ0NzEsNTMuOTA2MyBMNTMuMTY1OSw1My45MDYzIEw1My4xNjU5LDU2LjA2MjUgTDQ3LjkwMDMsNTYuMDYyNSBMNDcuOTAwMyw1OC43MzQ0IEw1Mi42NjU5LDU4LjczNDQgTDUyLjY2NTksNjAuODkwNiBMNDcuOTAwMyw2MC44OTA2IEw0Ny45MDAzLDY0LjE0MDYgTDUzLjE2NTksNjQuMTQwNiBMNTMuMTY1OSw2Ni4yOTY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iNjQuOTM3OSIgeT0iNjUuMTQzNiI+JiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjYuNTkiIHgyPSIxNzMuNDA0IiB5MT0iNzYuMjk2OSIgeTI9Ijc2LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjMuMjAzNyIgeD0iMzEuNTkiIHk9IjkzLjI5MiI+JiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTsmIzMwMDU4OyYjMjE0OTU7ICYjMTcxO1BLJiMxODc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNi41OSIgeDI9IjE3My40MDQiIHkxPSIxMDAuNTkzOCIgeTI9IjEwMC41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMzEuNTkiIHk9IjExNy41ODg5Ij4mIzIyNzcwOyYjMTk5Nzg7JiMzMDA1ODsmIzIxNDk1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIzMS41OSIgeT0iMTMzLjg4NTciPiYjMjI3NzA7JiMxOTk3ODsmIzM0ODkyOyYjMzAwNTg7JiMyMTQ5NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM2LjgxNCIgeD0iMzEuNTkiIHk9IjE1MC4xODI2Ij4mIzEyNDk3OyYjMTI0Nzk7JiMxMjU0MDsmIzEyNTMxOyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyAmIzE3MTtGSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIzMS41OSIgeT0iMTY2LjQ3OTUiPiYjMzYyMTU7JiMzMTA4MDsmIzI2MDg1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny45OTk2IiB4PSIzMS41OSIgeT0iMTgyLjc3NjQiPiYjMjAxODE7JiMzNTM3OTsmIzM0ODkyOyYjMzYwMjQ7JiMyMDUxMTsmIzIxMzA2OyYjMjA5OTg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzNi44MTQiIHg9IjMxLjU5IiB5PSIxOTkuMDczMiI+JiMyMTIwODsmIzIzNDUwOyYjMzExODU7JiMzMDQ0NjsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMzEuNTkiIHk9IjIxNS4zNzAxIj4mIzIwMTgxOyYjMzUzNzk7JiMzNzMyOTsmIzM4OTg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny45OTk2IiB4PSIzMS41OSIgeT0iMjMxLjY2NyI+JiMyMDk2NjsmIzI5NzAyOyYjMTI0NzM7JiMxMjQ4NjsmIzEyNTQwOyYjMTI0Nzk7JiMxMjQ3Mzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMzEuNTkiIHk9IjI0Ny45NjM5Ij4mIzM2NTc4OyYjMzUzNTI7JiMyODE2ODsmIzEyNTAxOyYjMTI1MjE7JiMxMjQ2NDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMzEuNTkiIHk9IjI2NC4yNjA3Ij4mIzIwMTgxOyYjMzUzNzk7JiMyMDI1MzsmIzMxMDgwOyYjMzAwNTg7JiMyMTQ5NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMuMzUwNiIgeD0iMzEuNTkiIHk9IjI4MC41NTc2Ij4uLi48L3RleHQ+PC9nPjwhLS1jbGFzcyA/Pz8/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIzMyIgaWQ9ImVudDAwMDQiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTk0LjY3MTkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE0My45OTk1IiB4PSIyMDkiIHk9IjY4Ljc0NjkiLz48ZWxsaXBzZSBjeD0iMjI0IiBjeT0iODQuNzQ2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMjI4LjEwOTQsOTAuNzQ2OSBMMjIwLjM5MDYsOTAuNzQ2OSBMMjIwLjM5MDYsNzguMzU2MyBMMjI4LjEwOTQsNzguMzU2MyBMMjI4LjEwOTQsODAuNTEyNSBMMjIyLjg0MzgsODAuNTEyNSBMMjIyLjg0MzgsODMuMTg0NCBMMjI3LjYwOTQsODMuMTg0NCBMMjI3LjYwOTQsODUuMzQwNiBMMjIyLjg0MzgsODUuMzQwNiBMMjIyLjg0MzgsODguNTkwNiBMMjI4LjEwOTQsODguNTkwNiBMMjI4LjEwOTQsOTAuNzQ2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMS45OTk1IiB4PSIyMzgiIHk9Ijg5LjU5MzYiPiYjMzMyNTg7JiMyMTIwNTsmIzIwMTgxOyYjMzUzNzk7JiMyMDk2NjsmIzI5NzAyOyYjMjM2NTM7JiMyNzUwODs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjEwIiB4Mj0iMzUxLjk5OTUiIHkxPSIxMDAuNzQ2OSIgeTI9IjEwMC43NDY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTUuMjAzOSIgeD0iMjE1IiB5PSIxMTcuNzQyIj4mIzIwOTY2OyYjMjk3MDI7JiMzMDA1ODsmIzIxNDk1OyAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjEwIiB4Mj0iMzUxLjk5OTUiIHkxPSIxMjUuMDQzOCIgeTI9IjEyNS4wNDM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjE1IiB5PSIxNDIuMDM4OSI+JiMyMDk2NjsmIzI5NzAyOyYjMjYwODU7JiMyNjE3ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMjE1IiB5PSIxNTguMzM1NyI+JiMyMDk2NjsmIzI5NzAyOyYjMjM1NTA7JiMzNTkzNzsmIzM4MjgzOyYjMjI5ODc7JiMyNjA4NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMjE1IiB5PSIxNzQuNjMyNiI+JiMyMDk2NjsmIzI5NzAyOyYjMjM1NTA7JiMzNTkzNzsmIzMyMDY2OyYjMjAxMDI7JiMyNjA4NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjE1IiB5PSIxOTAuOTI5NSI+JiMyMDk2NjsmIzI5NzAyOyYjMjAyMTQ7JiMyNTk2ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjE1IiB5PSIyMDcuMjI2NCI+JiMyNTEwNDsmIzIxMTUxOyYjMjAyMTQ7JiMyNTk2ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMjE1IiB5PSIyMjMuNTIzMiI+JiMxMjQ1NjsmIzEyNTIxOyYjMTI1NDA7JiMyMDIxNDsmIzI1OTY4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSIyMTUiIHk9IjIzOS44MjAxIj4mIzIwOTY2OyYjMjk3MDI7JiMzNzMyOTsmIzM4OTg5OyYjMjE1MTI7JiMzNTMzNjs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMuMzUwNiIgeD0iMjE1IiB5PSIyNTYuMTE3Ij4uLi48L3RleHQ+PC9nPjwhLS1jbGFzcyA/Pz8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iNDYiIGlkPSJlbnQwMDA1Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjgwLjU5MzgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE0OS4yMDM3IiB4PSIyNS40IiB5PSI2MzYuODM2OSIvPjxlbGxpcHNlIGN4PSI0OS4wNDE4IiBjeT0iNjUyLjgzNjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTUzLjE1MTIsNjU4LjgzNjkgTDQ1LjQzMjUsNjU4LjgzNjkgTDQ1LjQzMjUsNjQ2LjQ0NjMgTDUzLjE1MTIsNjQ2LjQ0NjMgTDUzLjE1MTIsNjQ4LjYwMjUgTDQ3Ljg4NTYsNjQ4LjYwMjUgTDQ3Ljg4NTYsNjUxLjI3NDQgTDUyLjY1MTIsNjUxLjI3NDQgTDUyLjY1MTIsNjUzLjQzMDYgTDQ3Ljg4NTYsNjUzLjQzMDYgTDQ3Ljg4NTYsNjU2LjY4MDYgTDUzLjE1MTIsNjU2LjY4MDYgTDUzLjE1MTIsNjU4LjgzNjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny45OTk2IiB4PSI2NC45NjIzIiB5PSI2NTcuNjgzNiI+JiMyMTIwODsmIzIzNDUwOyYjMzExODU7JiMzMDQ0NjsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjYuNCIgeDI9IjE3My42MDM3IiB5MT0iNjY4LjgzNjkiIHkyPSI2NjguODM2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzNy4yMDM3IiB4PSIzMS40IiB5PSI2ODUuODMyIj4mIzIxMjA4OyYjMjM0NTA7JiMzMTE4NTsmIzMwNDQ2OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjYuNCIgeDI9IjE3My42MDM3IiB5MT0iNjkzLjEzMzgiIHkyPSI2OTMuMTMzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzLjM1MDYiIHg9IjMxLjQiIHk9IjcxMC4xMjg5Ij4uLi48L3RleHQ+PC9nPjwhLS1saW5rID8/Pz8/Pz8/Pz8/IHRvID8/Pz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMiIgZGF0YS1lbnRpdHktMj0iZW50MDAwNSIgZGF0YS1saW5rLXR5cGU9ImNyb3dmb290IiBkYXRhLXNvdXJjZS1saW5lPSI1MiIgaWQ9ImxuazYiPjxwYXRoIGNvZGVMaW5lPSI1MiIgZD0iTTQ0LjU3ODQsNTc3Ljc1MTUgQzQxLjkwODQsNTkzLjQzMTUgNDUuMSw1OTEuNjc2OSA1MCw2MDYuODM2OSBDNTMuMzcsNjE3LjI3NjkgNTQuNDg2Miw2MjAuODU4MyA2MC43NDYyLDYzMC4wNzgzIiBmaWxsPSJub25lIiBpZD0iJiMzMzI1ODsmIzIxMjA1OyYjMjAxODE7JiMzNTM3OTsmIzEyNDk3OyYjMTI0Nzk7JiMxMjU0MDsmIzEyNTMxOyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5Oy0mIzIxMjA4OyYjMjM0NTA7JiMzMTE4NTsmIzMwNDQ2OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI0Ni4yNTcxIiB4Mj0iNDEuNjg1MSIgeTE9IjU2Ny44OTM0IiB5Mj0iNTU4Ljk5OTciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDYuMjU3MSIgeDI9IjUzLjUxNDkiIHkxPSI1NjcuODkzNCIgeTI9IjU2MS4wMTQxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQ2LjI1NzEiIHgyPSI0Ny42IiB5MT0iNTY3Ljg5MzQiIHkyPSI1NjAuMDA2OSIvPjxlbGxpcHNlIGN4PSI0NS4yNDk5IiBjeT0iNTczLjgwODIiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI2Ni4zMDI0IiB4Mj0iNTkuNjgzOCIgeTE9IjYzMS4xNDA3IiB5Mj0iNjM1LjYzNDUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjQuNjE3MyIgeDI9IjU3Ljk5ODYiIHkxPSI2MjguNjU4NyIgeTI9IjYzMy4xNTI1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjYwLjc0NjIiIHgyPSI2NS4yNCIgeTE9IjYzMC4wNzgzIiB5Mj0iNjM2LjY5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1Mi4wMDAxIiB4PSI1MSIgeT0iNjAyLjkwMzgiPiYjMjA1MTE7JiMyNjA0MTsmIzMxMTg1OyYjMzA0NDY7PC90ZXh0PjwvZz48IS0tbGluayA/Pz8/Pz8/Pz8/PyB0byA/Pz8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDIiIGRhdGEtZW50aXR5LTI9ImVudDAwMDUiIGRhdGEtbGluay10eXBlPSJjcm93Zm9vdCIgZGF0YS1zb3VyY2UtbGluZT0iNTMiIGlkPSJsbms3Ij48cGF0aCBjb2RlTGluZT0iNTMiIGQ9Ik0xMDguOTk5LDU3OC4wNjEgQzEwOS4zOTksNTkzLjc0MSAxMDguODcsNTkxLjcxNjkgMTA4LDYwNi44MzY5IEMxMDcuNDQsNjE2LjUwNjkgMTA3LjM0MTUsNjE4Ljk0NjcgMTA2LjI1MTUsNjI4LjY2NjciIGZpbGw9Im5vbmUiIGlkPSImIzMzMjU4OyYjMjEyMDU7JiMyMDE4MTsmIzM1Mzc5OyYjMTI0OTc7JiMxMjQ3OTsmIzEyNTQwOyYjMTI1MzE7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7LSYjMjEyMDg7JiMyMzQ1MDsmIzMxMTg1OyYjMzA0NDY7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7LTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTA4Ljc0NCIgeDI9IjEwMi41NDIiIHkxPSI1NjguMDY0MyIgeTI9IjU2MC4yMTk5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEwOC43NDQiIHgyPSIxMTQuNTM4IiB5MT0iNTY4LjA2NDMiIHkyPSI1NTkuOTEzOSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMDguNzQ0IiB4Mj0iMTA4LjU0IiB5MT0iNTY4LjA2NDMiIHkyPSI1NjAuMDY2OSIvPjxlbGxpcHNlIGN4PSIxMDguODk3IiBjeT0iNTc0LjA2MjMiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMDkuNzgwOCIgeDI9IjEwMS44MzA3IiB5MT0iNjMzLjA4NzYiIHkyPSI2MzIuMTk2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjExMC4xMTUyIiB4Mj0iMTAyLjE2NSIgeTE9IjYzMC4xMDYyIiB5Mj0iNjI5LjIxNDciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTA2LjI1MTUiIHgyPSIxMDUuMzYiIHkxPSI2MjguNjY2NyIgeTI9IjYzNi42MTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIuMDAwMSIgeD0iMTA5LjY0IiB5PSI2MDIuOTAzOCI+JiMzNjAyNDsmIzI2MDQxOyYjMzExODU7JiMzMDQ0Njs8L3RleHQ+PC9nPjwhLS1saW5rID8/Pz8/Pz8gdG8gPz8/Pz8/Pz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMyIgZGF0YS1lbnRpdHktMj0iZW50MDAwMiIgZGF0YS1saW5rLXR5cGU9ImNyb3dmb290IiBkYXRhLXNvdXJjZS1saW5lPSI1NCIgaWQ9ImxuazgiPjxwYXRoIGNvZGVMaW5lPSI1NCIgZD0iTTEwMCwzMDYuMDY2OSBDMTAwLDMyNi4yMTY5IDEwMCwzMjAuOTU2OSAxMDAsMzQwLjY0NjkiIGZpbGw9Im5vbmUiIGlkPSImIzMzMjU4OyYjMjEyMDU7JiMyMDE4MTsmIzM1Mzc5OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5Oy0mIzMzMjU4OyYjMjEyMDU7JiMyMDE4MTsmIzM1Mzc5OyYjMTI0OTc7JiMxMjQ3OTsmIzEyNTQwOyYjMTI1MzE7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEwMCIgeDI9Ijk0IiB5MT0iMjk2LjA2NjkiIHkyPSIyODguMDY2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMDAiIHgyPSIxMDYiIHkxPSIyOTYuMDY2OSIgeTI9IjI4OC4wNjY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEwMCIgeDI9IjEwMCIgeTE9IjI5Ni4wNjY5IiB5Mj0iMjg4LjA2NjkiLz48ZWxsaXBzZSBjeD0iMTAwIiBjeT0iMzAyLjA2NjkiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMDQiIHgyPSI5NiIgeTE9IjM0NC42NDY5IiB5Mj0iMzQ0LjY0NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTA0IiB4Mj0iOTYiIHkxPSIzNDEuNjQ2OSIgeTI9IjM0MS42NDY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEwMCIgeDI9IjEwMCIgeTE9IjM0MC42NDY5IiB5Mj0iMzQ4LjY0NjkiLz48L2c+PD9wbGFudHVtbC1zcmMgZkxCQkppOTA1RHRGTF9HN3UwQ0NPUVNSRHlQX080NVlUREVENEg5ampJcUs4aUdLSzVHNFdySUNvNEZhZ054Q3pCUkpsdDNRNk05MUFtanRGUVR0cGh0ZHQyaWNuUnM0R0RHc3c4T3JDdVd2bUJBMnZKY01JclgtNFpQdGVKZjBBQjRsOWlOM2JSOFliWnh6SWxmell3SzlYUzhITWtBYldWLUg0TUFuZFVydTc0S1lJXy1YYTRUV0E3MW5XZ0trUlVVcFBVSk1NejFmQjU1bU5CREI0ejBocUJib01hTWRzV2JnUnRkUWYzelVMczlWUG8weFNLaXdqN0l4dEVKTzZLaE1MRjRtZEJSWEo3Rmw1RWl6WndCSEE0ZzdNNVN6TlR6a2E3VUNEZm9GMGJ4WGxjLURpdXBjV0RIcDc4UzVuU21DSHF4Sno2UFlxbEdQektUSldEbUtEME56UVBDelNUTVlNd1Z2Z1d6RUdWN01tX1BBTXFlSkg2T0RPYlJpaU9QYjB5a0ZENmwtb2ZoVnFDUHluRjA4YzJocWNsUnBBcXMxbVBfLVZQZ3dpMnliM2szYldfSmd0b2k4aWU1NS1BbXJVeEVEQmhBcjBjSGg3NjM5ekVRTHZub3BJa09MMlhlbmpQTWZidjhBdDZiT1dlbFBrU2h3YXF5VkgyQWZMNFlWM081VEJrRl9oeVFFXzVVcm5Lcm9YUk1qbFcwMD8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_34">設計のポイント<a class="headerlink" href="#_34" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>パターンマッチング</strong>: 商品グループ × 顧客グループで仕訳パターンを自動判定</li>
<li><strong>優先順位</strong>: 複数パターンが該当する場合は優先順位で決定</li>
<li><strong>有効期間管理</strong>: パターンの有効開始日・終了日で期間管理</li>
<li><strong>セット中心処理</strong>: 大量データを効率的に処理</li>
<li><strong>中間テーブル</strong>: 転記前の自動仕訳データを保持して確認可能</li>
<li><strong>処理履歴</strong>: 自動仕訳処理の実行履歴を記録</li>
<li><strong>エラー管理</strong>: パターン不適合時のエラー情報を記録</li>
</ol>
<h3 id="_35">ドメインロジック<a class="headerlink" href="#_35" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>メソッド</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>isValidAt(date)</code></td>
<td>指定日付に有効かどうかを判定</td>
</tr>
<tr>
<td><code>matches(productGroup, customerGroup)</code></td>
<td>商品グループと顧客グループにマッチするか判定</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="_36">次章の予告<a class="headerlink" href="#_36" title="Permanent link">&para;</a></h2>
<p>第18章では、勘定科目残高の設計に進みます。日次残高・月次残高の管理、残高更新のタイミング、合計残高試算表の出力を TDD で実装していきます。</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/k2works/practical-database-design" target="_blank" rel="noopener" title="GitHub Repository" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
      
        <script src="../../../docs/assets/js/extra.js"></script>
      
    
  </body>
</html>