
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="基幹業務システム（販売管理・財務会計・生産管理）のデータベース設計を体系的に解説">
      
      
        <meta name="author" content="k2works">
      
      
      
        <link rel="prev" href="../study4-1/">
      
      
        <link rel="next" href="../study4-3/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>研究2 JavaFXデスクトップアプリケーションの実装 - 実践データベース設計：基幹業務システム編</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../docs/mkdocs/assets/css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#2-javafx" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="実践データベース設計：基幹業務システム編" class="md-header__button md-logo" aria-label="実践データベース設計：基幹業務システム編" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            実践データベース設計：基幹業務システム編
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              研究2 JavaFXデスクトップアプリケーションの実装
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/k2works/practical-database-design" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    practical-database-design
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
  実践データベース設計

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="実践データベース設計：基幹業務システム編" class="md-nav__button md-logo" aria-label="実践データベース設計：基幹業務システム編" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    実践データベース設計：基幹業務システム編
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/k2works/practical-database-design" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    practical-database-design
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    実践データベース設計
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    実践データベース設計
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../techstack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    技術スタック
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    アウトライン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    執筆ワークフロー
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第1部 基幹業務システムの全体像
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    第1部 基幹業務システムの全体像
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第1章 基幹業務システムとは
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第2章 基幹業務システムの業務領域
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第3章 業務フローの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6" >
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第2部 販売管理システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    第2部 販売管理システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第4章 販売管理システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter05/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第5章 マスタ情報の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter06/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第6章 受注・出荷・売上の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter07/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第7章 債権管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter08/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第8章 調達管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter09/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第9章 在庫管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第10章 債務管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第11章 共通処理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第12章 販売管理データ設計（B社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第13章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7" >
        
          
          <label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第3部 財務会計システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    第3部 財務会計システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章 財務会計システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章 勘定科目の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章 仕訳の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章 勘定科目残高の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter19/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章 赤黒とログの設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter20/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章 財務会計データ設計（D社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter21/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_8" >
        
          
          <label class="md-nav__link" for="__nav_1_8" id="__nav_1_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第4部 生産管理システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    第4部 生産管理システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter22/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第22章 生産管理システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter23/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第23章 マスタ情報の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter24/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第24章 生産計画の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter25/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第25章 購買管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter26/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第26章 外注委託管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter27/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第27章 工程管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter28/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第28章 在庫管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第29章 品質管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter30/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第30章 製造原価管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter31/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第31章 生産管理データ設計（E社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter32/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第32章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_9" >
        
          
          <label class="md-nav__link" for="__nav_1_9" id="__nav_1_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第5部 エンタープライズインテグレーション
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    第5部 エンタープライズインテグレーション
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter33.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第33章 システム統合の概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter34.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第34章 メッセージングパターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter35.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第35章 システム間連携パターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter36.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第36章 マスタデータ管理（MDM）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter37.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第37章 イベント駆動アーキテクチャ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter38.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第38章 API設計とサービス連携
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter39.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第39章 データ連携の実装パターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_10" >
        
          
          <label class="md-nav__link" for="__nav_1_10" id="__nav_1_10_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 販売管理システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 販売管理システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study2-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study2-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study2-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study2-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_11" >
        
          
          <label class="md-nav__link" for="__nav_1_11" id="__nav_1_11_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 財務会計システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 財務会計システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study3-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study3-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study3-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study3-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_12" checked>
        
          
          <label class="md-nav__link" for="__nav_1_12" id="__nav_1_12_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 生産管理システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_12_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 生産管理システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study4-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        はじめに
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#38javafx" class="md-nav__link">
    <span class="md-ellipsis">
      
        第38章：JavaFX デスクトップアプリケーションの基礎
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第38章：JavaFX デスクトップアプリケーションの基礎">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#381-javafx" class="md-nav__link">
    <span class="md-ellipsis">
      
        38.1 JavaFX とは
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#382-mvvm" class="md-nav__link">
    <span class="md-ellipsis">
      
        38.2 MVVM パターンの採用
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#383" class="md-nav__link">
    <span class="md-ellipsis">
      
        38.3 ヘキサゴナルアーキテクチャとの統合
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#384" class="md-nav__link">
    <span class="md-ellipsis">
      
        38.4 ディレクトリ構成
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#385" class="md-nav__link">
    <span class="md-ellipsis">
      
        38.5 技術スタックの追加
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#466-spring-boot-javafx" class="md-nav__link">
    <span class="md-ellipsis">
      
        46.6 Spring Boot + JavaFX 統合
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#467-javafx-property" class="md-nav__link">
    <span class="md-ellipsis">
      
        46.7 JavaFX Property の活用
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#39" class="md-nav__link">
    <span class="md-ellipsis">
      
        第39章：マスタの実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第39章：マスタの実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#391" class="md-nav__link">
    <span class="md-ellipsis">
      
        39.1 品目マスタ画面の設計
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#392-tdd" class="md-nav__link">
    <span class="md-ellipsis">
      
        39.2 品目マスタ一覧画面の TDD 実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="39.2 品目マスタ一覧画面の TDD 実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#red" class="md-nav__link">
    <span class="md-ellipsis">
      
        Red: 失敗するテストを書く
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#green-controller" class="md-nav__link">
    <span class="md-ellipsis">
      
        Green: Controller の実装
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#393-bom" class="md-nav__link">
    <span class="md-ellipsis">
      
        39.3 BOM 展開画面の実装
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#40" class="md-nav__link">
    <span class="md-ellipsis">
      
        第40章：トランザクションの実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第40章：トランザクションの実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#401" class="md-nav__link">
    <span class="md-ellipsis">
      
        40.1 トランザクション画面の特徴
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#402" class="md-nav__link">
    <span class="md-ellipsis">
      
        40.2 発注入力画面の設計
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#403-tdd" class="md-nav__link">
    <span class="md-ellipsis">
      
        40.3 発注入力画面の TDD 実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="40.3 発注入力画面の TDD 実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#red_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Red: 失敗するテストを書く
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#green-controller-fxml" class="md-nav__link">
    <span class="md-ellipsis">
      
        Green: Controller と FXML の実装
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#404-mrp" class="md-nav__link">
    <span class="md-ellipsis">
      
        40.4 MRP 実行画面の実装
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#41" class="md-nav__link">
    <span class="md-ellipsis">
      
        第41章：エラーハンドリングと帳票出力
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第41章：エラーハンドリングと帳票出力">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#411-alerthelper" class="md-nav__link">
    <span class="md-ellipsis">
      
        41.1 AlertHelper の実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#412" class="md-nav__link">
    <span class="md-ellipsis">
      
        41.2 グローバル例外ハンドラ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#413-jasperreports" class="md-nav__link">
    <span class="md-ellipsis">
      
        41.3 JasperReports による帳票出力
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        まとめ
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="まとめ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        実装した機能一覧
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        アーキテクチャの特徴
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        技術スタック
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    <span class="md-ellipsis">
      
        API サーバー版との比較
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        デスクトップアプリケーションの選択基準
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study4-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study4-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_13" >
        
          
          <label class="md-nav__link" for="__nav_1_13" id="__nav_1_13_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 財務会計システムORM実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 財務会計システムORM実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter14-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章 財務会計システムの全体像【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter15-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章 勘定科目の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter16-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章 仕訳の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter17-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter18-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章 勘定科目残高の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter19-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章 赤黒とログの設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter20-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章 財務会計データ設計（D社事例）【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter21-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章 APIサービスの実装【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_14" >
        
          
          <label class="md-nav__link" for="__nav_1_14" id="__nav_1_14_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    付録
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    付録
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/er-diagrams.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    A 全体ER図
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/table-definitions.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    B テーブル定義一覧
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/glossary.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C 用語集
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_15" >
        
          
          <label class="md-nav__link" for="__nav_1_15" id="__nav_1_15_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    データベース
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    データベース
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../assets/schemaspy-output/sms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SchemaSpy ER図（SMS）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="2-javafx">実践データベース設計：生産管理システム 研究 2 - JavaFX デスクトップアプリケーションの実装<a class="headerlink" href="#2-javafx" title="Permanent link">&para;</a></h1>
<h2 id="_1">はじめに<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>本研究では、API サーバー構成（第32章）やモノリスサービス（研究 1）とは異なるアプローチとして、<strong>JavaFX</strong> によるデスクトップアプリケーションを実装します。FXML による宣言的 UI 定義と、データバインディングによるリアクティブな画面更新を活用した、業務アプリケーションを構築します。</p>
<p>研究 1 で構築したヘキサゴナルアーキテクチャ（ドメイン層・アプリケーション層）はそのまま共有し、<strong>Input Adapter として JavaFX の Controller/ViewModel 層のみを追加</strong>します。</p>
<hr />
<h2 id="38javafx">第38章：JavaFX デスクトップアプリケーションの基礎<a class="headerlink" href="#38javafx" title="Permanent link">&para;</a></h2>
<h3 id="381-javafx">38.1 JavaFX とは<a class="headerlink" href="#381-javafx" title="Permanent link">&para;</a></h3>
<p>JavaFX は Java のリッチクライアントプラットフォームです。Swing の後継として位置づけられ、モダンな UI 構築が可能です。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjEwMjJweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjQ4MnB4O2hlaWdodDoxMDIycHg7YmFja2dyb3VuZDojRkVGRUZFOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNDgyIDEwMjIiIHdpZHRoPSI0ODJweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjxyZWN0IGZpbGw9IiNGRUZFRkUiIGhlaWdodD0iMTAyMiIgc3R5bGU9InN0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjQ4MiIgeD0iMCIgeT0iMCIvPjwhLS1jbHVzdGVyIEphdmFGWCBBcmNoaXRlY3R1cmUgKD8/Pz8/Pz8/KS0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLWVudGl0eT0iSmF2YUZYIEFyY2hpdGVjdHVyZSAuLi4uLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSI1IiBkYXRhLXVpZD0iZW50MDAwMiIgaWQ9ImNsdXN0ZXJfSmF2YUZYIEFyY2hpdGVjdHVyZSAuLi4uLi4uLi4uIj48cGF0aCBkPSJNOC41LDYgTDI5NS45OCw2IEEzLjc1LDMuNzUgMCAwIDEgMjk4LjQ4LDguNSBMMzA1LjQ4LDI4LjI5NjkgTDMwNS41LDI4LjI5NjkgQTIuNSwyLjUgMCAwIDEgMzA4LDMwLjc5NjkgTDMwOCwxMDEyLjkyIEEyLjUsMi41IDAgMCAxIDMwNS41LDEwMTUuNDIgTDguNSwxMDE1LjQyIEEyLjUsMi41IDAgMCAxIDYsMTAxMi45MiBMNiw4LjUgQTIuNSwyLjUgMCAwIDEgOC41LDYiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjYiIHgyPSIzMDUuNDgiIHkxPSIyOC4yOTY5IiB5Mj0iMjguMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyODYuNDgiIHg9IjEwIiB5PSIyMC45OTUxIj5KYXZhRlggQXJjaGl0ZWN0dXJlICgmIzI5OTgzOyYjMjk5ODc7JiMzMTY0OTsmIzI5NzAyOyYjMTI0NzE7JiMxMjQ3MzsmIzEyNDg2OyYjMTI1MTI7KTwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgVmlldyBMYXllci0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLWVudGl0eT0iVmlldyBMYXllciIgZGF0YS1zb3VyY2UtbGluZT0iNyIgZGF0YS11aWQ9ImVudDAwMDMiIGlkPSJjbHVzdGVyX1ZpZXcgTGF5ZXIiPjxwYXRoIGQ9Ik01NS41LDQ5IEwxNDMuMzMwMSw0OSBBMy43NSwzLjc1IDAgMCAxIDE0NS44MzAxLDUxLjUgTDE1Mi44MzAxLDcxLjI5NjkgTDI4MC41LDcxLjI5NjkgQTIuNSwyLjUgMCAwIDEgMjgzLDczLjc5NjkgTDI4MywzODkuNDcgQTIuNSwyLjUgMCAwIDEgMjgwLjUsMzkxLjk3IEw1NS41LDM5MS45NyBBMi41LDIuNSAwIDAgMSA1MywzODkuNDcgTDUzLDUxLjUgQTIuNSwyLjUgMCAwIDEgNTUuNSw0OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNTMiIHgyPSIxNTIuODMwMSIgeTE9IjcxLjI5NjkiIHkyPSI3MS4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg2LjgzMDEiIHg9IjU3IiB5PSI2My45OTUxIj5WaWV3IExheWVyPC90ZXh0PjwvZz48IS0tY2x1c3RlciBDb250cm9sbGVyL1ZpZXdNb2RlbCBMYXllci0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLWVudGl0eT0iQ29udHJvbGxlci5WaWV3TW9kZWwgTGF5ZXIiIGRhdGEtc291cmNlLWxpbmU9IjIxIiBkYXRhLXVpZD0iZW50MDAwNiIgaWQ9ImNsdXN0ZXJfQ29udHJvbGxlci5WaWV3TW9kZWwgTGF5ZXIiPjxwYXRoIGQ9Ik00OC41LDQ0MC45NyBMMjY4LjM3OTksNDQwLjk3IEEzLjc1LDMuNzUgMCAwIDEgMjcwLjg3OTksNDQzLjQ3IEwyNzcuODc5OSw0NjMuMjY2OSBMMjgxLjUsNDYzLjI2NjkgQTIuNSwyLjUgMCAwIDEgMjg0LDQ2NS43NjY5IEwyODQsNzgxLjQ0IEEyLjUsMi41IDAgMCAxIDI4MS41LDc4My45NCBMNDguNSw3ODMuOTQgQTIuNSwyLjUgMCAwIDEgNDYsNzgxLjQ0IEw0Niw0NDMuNDcgQTIuNSwyLjUgMCAwIDEgNDguNSw0NDAuOTciIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjQ2IiB4Mj0iMjc3Ljg3OTkiIHkxPSI0NjMuMjY2OSIgeTI9IjQ2My4yNjY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIxOC44Nzk5IiB4PSI1MCIgeT0iNDU1Ljk2NTEiPkNvbnRyb2xsZXIvVmlld01vZGVsIExheWVyPC90ZXh0PjwvZz48IS0tY2x1c3RlciBBcHBsaWNhdGlvbiBDb3JlLS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtZW50aXR5PSJBcHBsaWNhdGlvbiBDb3JlIiBkYXRhLXNvdXJjZS1saW5lPSIzNSIgZGF0YS11aWQ9ImVudDAwMDkiIGlkPSJjbHVzdGVyX0FwcGxpY2F0aW9uIENvcmUiPjxwYXRoIGQ9Ik01Ni41LDgzMi45NCBMMTg3Ljk2MzksODMyLjk0IEEzLjc1LDMuNzUgMCAwIDEgMTkwLjQ2MzksODM1LjQ0IEwxOTcuNDYzOSw4NTUuMjM2OSBMMjczLjUsODU1LjIzNjkgQTIuNSwyLjUgMCAwIDEgMjc2LDg1Ny43MzY5IEwyNzYsOTg4LjkyIEEyLjUsMi41IDAgMCAxIDI3My41LDk5MS40MiBMNTYuNSw5OTEuNDIgQTIuNSwyLjUgMCAwIDEgNTQsOTg4LjkyIEw1NCw4MzUuNDQgQTIuNSwyLjUgMCAwIDEgNTYuNSw4MzIuOTQiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjU0IiB4Mj0iMTk3LjQ2MzkiIHkxPSI4NTUuMjM2OSIgeTI9Ijg1NS4yMzY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMC40NjM5IiB4PSI1OCIgeT0iODQ3LjkzNTEiPkFwcGxpY2F0aW9uIENvcmU8L3RleHQ+PC9nPjwhLS1jbGFzcyBmeG1sLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9ImZ4bWwiIGRhdGEtc291cmNlLWxpbmU9IjgiIGRhdGEtdWlkPSJlbnQwMDA0IiBpZD0iZW50aXR5X2Z4bWwiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTA3LjQ4NDQiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE5OC44ODA5IiB4PSI2OC41NiIgeT0iMjY4LjQ4Ii8+PGVsbGlwc2UgY3g9IjExMS43NjY0IiBjeT0iMjg5Ljc3NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTExNC43MzUyLDI5NS40MTc1IFExMTQuMTU3MSwyOTUuNzE0NCAxMTMuNTE2NCwyOTUuODU1IFExMTIuODc1OCwyOTYuMDExMyAxMTIuMTcyNywyOTYuMDExMyBRMTA5LjY3MjcsMjk2LjAxMTMgMTA4LjM0NDYsMjk0LjM3MDYgUTEwNy4wMzIxLDI5Mi43MTQ0IDEwNy4wMzIxLDI4OS41ODk0IFExMDcuMDMyMSwyODYuNDY0NCAxMDguMzQ0NiwyODQuODA4MSBRMTA5LjY3MjcsMjgzLjE1MTkgMTEyLjE3MjcsMjgzLjE1MTkgUTExMi44NzU4LDI4My4xNTE5IDExMy41MTY0LDI4My4zMDgxIFExMTQuMTcyNywyODMuNDY0NCAxMTQuNzM1MiwyODMuNzYxMyBMMTE0LjczNTIsMjg2LjQ4IFExMTQuMTEwMiwyODUuOTAxOSAxMTMuNTE2NCwyODUuNjM2MyBRMTEyLjkyMjcsMjg1LjM1NSAxMTIuMjk3NywyODUuMzU1IFExMTAuOTUzOSwyODUuMzU1IDExMC4yNjY0LDI4Ni40MzMxIFExMDkuNTc4OSwyODcuNDk1NiAxMDkuNTc4OSwyODkuNTg5NCBRMTA5LjU3ODksMjkxLjY4MzEgMTEwLjI2NjQsMjkyLjc2MTMgUTExMC45NTM5LDI5My44MjM4IDExMi4yOTc3LDI5My44MjM4IFExMTIuOTIyNywyOTMuODIzOCAxMTMuNTE2NCwyOTMuNTU4MSBRMTE0LjExMDIsMjkzLjI3NjkgMTE0LjczNTIsMjkyLjY5ODggTDExNC43MzUyLDI5NS40MTc1IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzMuNzExOSIgeD0iMTQ3LjI3ODUiIHk9IjI4Ni40NzUxIj5GWE1MIEZpbGVzPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNC4xOTk5IiB4PSIxMzIuMDM0NSIgeT0iMzAyLjc3MiI+KCYjMjM0NTk7JiMzNTMyODsmIzMwMzQwOyBVSSAmIzIzNDUwOyYjMzI2ODE7KTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI2OS41NiIgeDI9IjI2Ni40NDA5IiB5MT0iMzExLjA3MzgiIHkyPSIzMTEuMDczOCIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9Ijc2LjU2IiB5PSIzMjEuNzIyMiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMi4xNDI2IiB4PSI4OC41NiIgeT0iMzI4LjA2ODkiPk1haW5WaWV3LmZ4bWw8L3RleHQ+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iNzYuNTYiIHk9IjMzOC4wMTkxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTAwLjU5MDgiIHg9Ijg4LjU2IiB5PSIzNDQuMzY1NyI+SXRlbVZpZXcuZnhtbDwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSI3Ni41NiIgeT0iMzU0LjMxNTkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNzIuODgwOSIgeD0iODguNTYiIHk9IjM2MC42NjI2Ij5QdXJjaGFzZU9yZGVyVmlldy5meG1sPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjY5LjU2IiB4Mj0iMjY2LjQ0MDkiIHkxPSIzNjcuOTY0NCIgeTI9IjM2Ny45NjQ0Ii8+PC9nPjwhLS1jbGFzcyBjc3MtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iY3NzIiBkYXRhLXNvdXJjZS1saW5lPSIxNCIgZGF0YS11aWQ9ImVudDAwMDUiIGlkPSJlbnRpdHlfY3NzIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwNy40ODQ0IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNDUuMzM5OCIgeD0iOTUuMzMiIHk9Ijg0Ii8+PGVsbGlwc2UgY3g9IjExMC4zMyIgY3k9IjEwNS4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0xMTMuMjk4OCwxMTAuOTM3NSBRMTEyLjcyMDYsMTExLjIzNDQgMTEyLjA4LDExMS4zNzUgUTExMS40Mzk0LDExMS41MzEzIDExMC43MzYzLDExMS41MzEzIFExMDguMjM2MywxMTEuNTMxMyAxMDYuOTA4MSwxMDkuODkwNiBRMTA1LjU5NTYsMTA4LjIzNDQgMTA1LjU5NTYsMTA1LjEwOTQgUTEwNS41OTU2LDEwMS45ODQ0IDEwNi45MDgxLDEwMC4zMjgxIFExMDguMjM2Myw5OC42NzE5IDExMC43MzYzLDk4LjY3MTkgUTExMS40Mzk0LDk4LjY3MTkgMTEyLjA4LDk4LjgyODEgUTExMi43MzYzLDk4Ljk4NDQgMTEzLjI5ODgsOTkuMjgxMyBMMTEzLjI5ODgsMTAyIFExMTIuNjczOCwxMDEuNDIxOSAxMTIuMDgsMTAxLjE1NjMgUTExMS40ODYzLDEwMC44NzUgMTEwLjg2MTMsMTAwLjg3NSBRMTA5LjUxNzUsMTAwLjg3NSAxMDguODMsMTAxLjk1MzEgUTEwOC4xNDI1LDEwMy4wMTU2IDEwOC4xNDI1LDEwNS4xMDk0IFExMDguMTQyNSwxMDcuMjAzMSAxMDguODMsMTA4LjI4MTMgUTEwOS41MTc1LDEwOS4zNDM4IDExMC44NjEzLDEwOS4zNDM4IFExMTEuNDg2MywxMDkuMzQzOCAxMTIuMDgsMTA5LjA3ODEgUTExMi42NzM4LDEwOC43OTY5IDExMy4yOTg4LDEwOC4yMTg4IEwxMTMuMjk4OCwxMTAuOTM3NSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMy4zMzk4IiB4PSIxMjQuMzMiIHk9IjEwMS45OTUxIj5DU1MgU3R5bGVzaGVldHM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTQuOTIzNSIgeD0iMTMzLjUzODIiIHk9IjExOC4yOTIiPigmIzEyNDczOyYjMTI0Nzk7JiMxMjQ1MjsmIzEyNTIzOyYjMjM0NTA7JiMzMjY4MTspPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9Ijk2LjMzIiB4Mj0iMjM5LjY2OTgiIHkxPSIxMjYuNTkzOCIgeTI9IjEyNi41OTM4Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iMTAzLjMzIiB5PSIxMzcuMjQyMiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMy45NjA5IiB4PSIxMTUuMzMiIHk9IjE0My41ODg5Ij5hcHBsaWNhdGlvbi5jc3M8L3RleHQ+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iMTAzLjMzIiB5PSIxNTMuNTM5MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOC4wNDIiIHg9IjExNS4zMyIgeT0iMTU5Ljg4NTciPnRoZW1lLWxpZ2h0LmNzczwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIxMDMuMzMiIHk9IjE2OS44MzU5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA4LjM0MjgiIHg9IjExNS4zMyIgeT0iMTc2LjE4MjYiPnRoZW1lLWRhcmsuY3NzPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9Ijk2LjMzIiB4Mj0iMjM5LjY2OTgiIHkxPSIxODMuNDg0NCIgeTI9IjE4My40ODQ0Ii8+PC9nPjwhLS1jbGFzcyBjb250cm9sbGVyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9ImNvbnRyb2xsZXIiIGRhdGEtc291cmNlLWxpbmU9IjIyIiBkYXRhLXVpZD0iZW50MDAwNyIgaWQ9ImVudGl0eV9jb250cm9sbGVyIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwNy40ODQ0IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxOTkuMzMyIiB4PSI2Ni4zMyIgeT0iNDc1Ljk3Ii8+PGVsbGlwc2UgY3g9IjEyMy41MTI2IiBjeT0iNDk3LjI2NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTEyNi40ODE0LDUwMi45MDc1IFExMjUuOTAzMiw1MDMuMjA0NCAxMjUuMjYyNiw1MDMuMzQ1IFExMjQuNjIyLDUwMy41MDEzIDEyMy45MTg5LDUwMy41MDEzIFExMjEuNDE4OSw1MDMuNTAxMyAxMjAuMDkwNyw1MDEuODYwNiBRMTE4Ljc3ODIsNTAwLjIwNDQgMTE4Ljc3ODIsNDk3LjA3OTQgUTExOC43NzgyLDQ5My45NTQ0IDEyMC4wOTA3LDQ5Mi4yOTgxIFExMjEuNDE4OSw0OTAuNjQxOSAxMjMuOTE4OSw0OTAuNjQxOSBRMTI0LjYyMiw0OTAuNjQxOSAxMjUuMjYyNiw0OTAuNzk4MSBRMTI1LjkxODksNDkwLjk1NDQgMTI2LjQ4MTQsNDkxLjI1MTMgTDEyNi40ODE0LDQ5My45NyBRMTI1Ljg1NjQsNDkzLjM5MTkgMTI1LjI2MjYsNDkzLjEyNjMgUTEyNC42Njg5LDQ5Mi44NDUgMTI0LjA0MzksNDkyLjg0NSBRMTIyLjcwMDEsNDkyLjg0NSAxMjIuMDEyNiw0OTMuOTIzMSBRMTIxLjMyNTEsNDk0Ljk4NTYgMTIxLjMyNTEsNDk3LjA3OTQgUTEyMS4zMjUxLDQ5OS4xNzMxIDEyMi4wMTI2LDUwMC4yNTEzIFExMjIuNzAwMSw1MDEuMzEzOCAxMjQuMDQzOSw1MDEuMzEzOCBRMTI0LjY2ODksNTAxLjMxMzggMTI1LjI2MjYsNTAxLjA0ODEgUTEyNS44NTY0LDUwMC43NjY5IDEyNi40ODE0LDUwMC4xODg4IEwxMjYuNDgxNCw1MDIuOTA3NSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc2LjQ2NjgiIHg9IjE0NC4wMTI2IiB5PSI0OTMuOTY1MSI+Q29udHJvbGxlcnM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjYuOTIzNiIgeD0iMTQ4Ljc4NDIiIHk9IjUxMC4yNjIiPigmIzMwMDExOyYjMzg3NTQ7JiMyMTA0NjsmIzI0NDgxOyk8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNjcuMzMiIHgyPSIyNjQuNjYyIiB5MT0iNTE4LjU2MzgiIHkyPSI1MTguNTYzOCIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9Ijc0LjMzIiB5PSI1MjkuMjEyMiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMi41OTM4IiB4PSI4Ni4zMyIgeT0iNTM1LjU1ODkiPk1haW5Db250cm9sbGVyPC90ZXh0PjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9Ijc0LjMzIiB5PSI1NDUuNTA5MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMS4wNDIiIHg9Ijg2LjMzIiB5PSI1NTEuODU1NyI+SXRlbUNvbnRyb2xsZXI8L3RleHQ+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iNzQuMzMiIHk9IjU2MS44MDU5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTczLjMzMiIgeD0iODYuMzMiIHk9IjU2OC4xNTI2Ij5QdXJjaGFzZU9yZGVyQ29udHJvbGxlcjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI2Ny4zMyIgeDI9IjI2NC42NjIiIHkxPSI1NzUuNDU0NCIgeTI9IjU3NS40NTQ0Ii8+PC9nPjwhLS1jbGFzcyB2aWV3bW9kZWwtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0idmlld21vZGVsIiBkYXRhLXNvdXJjZS1saW5lPSIyOCIgZGF0YS11aWQ9ImVudDAwMDgiIGlkPSJlbnRpdHlfdmlld21vZGVsIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwNy40ODQ0IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyMDUuNzIzNiIgeD0iNjIuMTQiIHk9IjY2MC40NSIvPjxlbGxpcHNlIGN4PSIxMTMuMjkwMSIgY3k9IjY4MS43NDY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0xMTYuMjU4OCw2ODcuMzg3NSBRMTE1LjY4MDcsNjg3LjY4NDQgMTE1LjA0MDEsNjg3LjgyNSBRMTE0LjM5OTUsNjg3Ljk4MTMgMTEzLjY5NjMsNjg3Ljk4MTMgUTExMS4xOTYzLDY4Ny45ODEzIDEwOS44NjgyLDY4Ni4zNDA2IFExMDguNTU1Nyw2ODQuNjg0NCAxMDguNTU1Nyw2ODEuNTU5NCBRMTA4LjU1NTcsNjc4LjQzNDQgMTA5Ljg2ODIsNjc2Ljc3ODEgUTExMS4xOTYzLDY3NS4xMjE5IDExMy42OTYzLDY3NS4xMjE5IFExMTQuMzk5NSw2NzUuMTIxOSAxMTUuMDQwMSw2NzUuMjc4MSBRMTE1LjY5NjMsNjc1LjQzNDQgMTE2LjI1ODgsNjc1LjczMTMgTDExNi4yNTg4LDY3OC40NSBRMTE1LjYzMzgsNjc3Ljg3MTkgMTE1LjA0MDEsNjc3LjYwNjMgUTExNC40NDYzLDY3Ny4zMjUgMTEzLjgyMTMsNjc3LjMyNSBRMTEyLjQ3NzYsNjc3LjMyNSAxMTEuNzkwMSw2NzguNDAzMSBRMTExLjEwMjYsNjc5LjQ2NTYgMTExLjEwMjYsNjgxLjU1OTQgUTExMS4xMDI2LDY4My42NTMxIDExMS43OTAxLDY4NC43MzEzIFExMTIuNDc3Niw2ODUuNzkzOCAxMTMuODIxMyw2ODUuNzkzOCBRMTE0LjQ0NjMsNjg1Ljc5MzggMTE1LjA0MDEsNjg1LjUyODEgUTExNS42MzM4LDY4NS4yNDY5IDExNi4yNTg4LDY4NC42Njg4IEwxMTYuMjU4OCw2ODcuMzg3NSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgyLjg1ODQiIHg9IjEzOS44MjI2IiB5PSI2NzguNDQ1MSI+Vmlld01vZGVsczwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5NC45MjM1IiB4PSIxMzMuNzkwMSIgeT0iNjk0Ljc0MiI+KCYjMzAwMTE7JiMzODc1NDsmIzI5MzY2OyYjMjQ5MDc7JiMzMTY0OTsmIzI5NzAyOyk8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNjMuMTQiIHgyPSIyNjYuODYzNiIgeTE9IjcwMy4wNDM4IiB5Mj0iNzAzLjA0MzgiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSI3MC4xNCIgeT0iNzEzLjY5MjIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDcuNDMzNiIgeD0iODIuMTQiIHk9IjcyMC4wMzg5Ij5JdGVtVmlld01vZGVsPC90ZXh0PjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjcwLjE0IiB5PSI3MjkuOTg5MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNy4zNzIxIiB4PSI4Mi4xNCIgeT0iNzM2LjMzNTciPkJvbVZpZXdNb2RlbDwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSI3MC4xNCIgeT0iNzQ2LjI4NTkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNzkuNzIzNiIgeD0iODIuMTQiIHk9Ijc1Mi42MzI2Ij5QdXJjaGFzZU9yZGVyVmlld01vZGVsPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjYzLjE0IiB4Mj0iMjY2Ljg2MzYiIHkxPSI3NTkuOTM0NCIgeTI9Ijc1OS45MzQ0Ii8+PC9nPjwhLS1jbGFzcyB1c2VjYXNlLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9InVzZWNhc2UiIGRhdGEtc291cmNlLWxpbmU9IjM2IiBkYXRhLXVpZD0iZW50MDAxMCIgaWQ9ImVudGl0eV91c2VjYXNlIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwNy40ODQ0IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxOTAuNTc1MiIgeD0iNjkuNzEiIHk9Ijg2Ny45NCIvPjxlbGxpcHNlIGN4PSIxMDAuNzUzMyIgY3k9Ijg4OS4yMzY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0xMDMuNzIyMSw4OTQuODc3NSBRMTAzLjE0NCw4OTUuMTc0NCAxMDIuNTAzMyw4OTUuMzE1IFExMDEuODYyNyw4OTUuNDcxMyAxMDEuMTU5Niw4OTUuNDcxMyBROTguNjU5Niw4OTUuNDcxMyA5Ny4zMzE1LDg5My44MzA2IFE5Ni4wMTksODkyLjE3NDQgOTYuMDE5LDg4OS4wNDk0IFE5Ni4wMTksODg1LjkyNDQgOTcuMzMxNSw4ODQuMjY4MSBROTguNjU5Niw4ODIuNjExOSAxMDEuMTU5Niw4ODIuNjExOSBRMTAxLjg2MjcsODgyLjYxMTkgMTAyLjUwMzMsODgyLjc2ODEgUTEwMy4xNTk2LDg4Mi45MjQ0IDEwMy43MjIxLDg4My4yMjEzIEwxMDMuNzIyMSw4ODUuOTQgUTEwMy4wOTcxLDg4NS4zNjE5IDEwMi41MDMzLDg4NS4wOTYzIFExMDEuOTA5Niw4ODQuODE1IDEwMS4yODQ2LDg4NC44MTUgUTk5Ljk0MDgsODg0LjgxNSA5OS4yNTMzLDg4NS44OTMxIFE5OC41NjU4LDg4Ni45NTU2IDk4LjU2NTgsODg5LjA0OTQgUTk4LjU2NTgsODkxLjE0MzEgOTkuMjUzMyw4OTIuMjIxMyBROTkuOTQwOCw4OTMuMjgzOCAxMDEuMjg0Niw4OTMuMjgzOCBRMTAxLjkwOTYsODkzLjI4MzggMTAyLjUwMzMsODkzLjAxODEgUTEwMy4wOTcxLDg5Mi43MzY5IDEwMy43MjIxLDg5Mi4xNTg4IEwxMDMuNzIyMSw4OTQuODc3NSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcyLjE2MDIiIHg9IjE0My43MDAxIiB5PSI4ODUuOTM1MSI+VXNlIENhc2VzPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMi45MjMzIiB4PSIxMTguMzE4NSIgeT0iOTAyLjIzMiI+KCYjMTI0OTk7JiMxMjQ3MjsmIzEyNDkzOyYjMTI0NzM7JiMxMjUyNTsmIzEyNDcyOyYjMTI0ODM7JiMxMjQ2MzspPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjcwLjcxIiB4Mj0iMjU5LjI4NTIiIHkxPSI5MTAuNTMzOCIgeTI9IjkxMC41MzM4Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iNzcuNzEiIHk9IjkyMS4xODIyIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTIuMjg1MiIgeD0iODkuNzEiIHk9IjkyNy41Mjg5Ij5JdGVtVXNlQ2FzZTwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSI3Ny43MSIgeT0iOTM3LjQ3OTEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My41NDg4IiB4PSI4OS43MSIgeT0iOTQzLjgyNTciPkJvbVNlcnZpY2U8L3RleHQ+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iNzcuNzEiIHk9Ijk1My43NzU5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY0LjU3NTIiIHg9Ijg5LjcxIiB5PSI5NjAuMTIyNiI+UHVyY2hhc2VPcmRlclVzZUNhc2U8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNzAuNzEiIHgyPSIyNTkuMjg1MiIgeTE9Ijk2Ny40MjQ0IiB5Mj0iOTY3LjQyNDQiLz48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkdNTjE1IiBkYXRhLXNvdXJjZS1saW5lPSI1MCIgZGF0YS11aWQ9ImVudDAwMTYiIGlkPSJlbnRpdHlfR01OMTUiPjxwYXRoIGQ9Ik0zMjQuMDYsNTA5LjU4IEwzMjQuMDYsNTQ5Ljg0NTYgQTAsMCAwIDAgMCAzMjQuMDYsNTQ5Ljg0NTYgTDQ1MS45MzU1LDU0OS44NDU2IEEwLDAgMCAwIDAgNDUxLjkzNTUsNTQ5Ljg0NTYgTDQ1MS45MzU1LDUxOS41OCBMNDQxLjkzNTUsNTA5LjU4IEwzNzEuMTUsNTA5LjU4IEwyMjQuOTQsMzc2LjQxIEwzNjMuMTUsNTA5LjU4IEwzMjQuMDYsNTA5LjU4IEEwLDAgMCAwIDAgMzI0LjA2LDUwOS41OCIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTQ0MS45MzU1LDUwOS41OCBMNDQxLjkzNTUsNTE5LjU4IEw0NTEuOTM1NSw1MTkuNTggTDQ0MS45MzU1LDUwOS41OCIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA2Ljg3NTUiIHg9IjMzMC4wNiIgeT0iNTI2LjY0NjkiPlNjZW5lIEJ1aWxkZXIgJiMxMjM5MTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA0LjAwMDEiIHg9IjMzMC4wNiIgeT0iNTQxLjc3OTciPiYjMzUyMjI7JiMzNTIyNjsmIzMwMzQwOyYjMTIzOTU7JiMzMjIzMjsmIzM4NTk4OyYjMjE0ODc7JiMzMzAyMTs8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJHTU4xOCIgZGF0YS1zb3VyY2UtbGluZT0iNTUiIGRhdGEtdWlkPSJlbnQwMDE5IiBpZD0iZW50aXR5X0dNTjE4Ij48cGF0aCBkPSJNMzI0LjUsNjg2LjQ5IEwzMjQuNSw3MTAuMTkgTDI2OC4yNyw3MTQuMTkgTDMyNC41LDcxOC4xOSBMMzI0LjUsNzQxLjg4ODQgQTAsMCAwIDAgMCAzMjQuNSw3NDEuODg4NCBMNDc1LjUwMDIsNzQxLjg4ODQgQTAsMCAwIDAgMCA0NzUuNTAwMiw3NDEuODg4NCBMNDc1LjUwMDIsNjk2LjQ5IEw0NjUuNTAwMiw2ODYuNDkgTDMyNC41LDY4Ni40OSBBMCwwIDAgMCAwIDMyNC41LDY4Ni40OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTQ2NS41MDAyLDY4Ni40OSBMNDY1LjUwMDIsNjk2LjQ5IEw0NzUuNTAwMiw2OTYuNDkgTDQ2NS41MDAyLDY4Ni40OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTAwLjk3ODUiIHg9IjMzMC41IiB5PSI3MDMuNTU2OSI+T2JzZXJ2YWJsZUxpc3QsPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk4LjY1NTMiIHg9IjMzMC41IiB5PSI3MTguNjg5NyI+UHJvcGVydHkgJiMxMjM5NTsmIzEyNDI0OyYjMTI0Mjc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMC4wMDAyIiB4PSIzMzAuNSIgeT0iNzMzLjgyMjUiPiYjMjE0NTI7JiMyNjA0MTsmIzIxNTIxOyYjMTI0OTY7JiMxMjQ1MjsmIzEyNTMxOyYjMTI0ODc7JiMxMjQ1MTsmIzEyNTMxOyYjMTI0NjQ7PC90ZXh0PjwvZz48IS0tbGluayBmeG1sIHRvIGNvbnRyb2xsZXItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZnhtbCIgZGF0YS1lbnRpdHktMj0iY29udHJvbGxlciIgZGF0YS1zb3VyY2UtbGluZT0iNDQiIGRhdGEtdWlkPSJsbmsxMSIgaWQ9ImxpbmtfZnhtbF9jb250cm9sbGVyIj48cGF0aCBjb2RlTGluZT0iNDQiIGQ9Ik0xNjcuNDgsMzc2LjQxIEMxNjcuMTgsNDA2Ljk3IDE2Ni44NjcsNDM5LjIyMDMgMTY2LjU3Nyw0NjkuNzUwMyIgZmlsbD0ibm9uZSIgaWQ9ImZ4bWwtdG8tY29udHJvbGxlciIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTY2LjUyLDQ3NS43NSwxNzAuNjA1Myw0NjYuNzg4NCwxNjYuNTY3NSw0NzAuNzUwMiwxNjIuNjA1Nyw0NjYuNzEyNCwxNjYuNTIsNDc1Ljc1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzguOTUyMSIgeD0iMTY4LjEyIiB5PSI0MjEuMDM2OSI+Zng6Y29udHJvbGxlcjwvdGV4dD48L2c+PCEtLWxpbmsgY3NzIHRvIGZ4bWwtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iY3NzIiBkYXRhLWVudGl0eS0yPSJmeG1sIiBkYXRhLXNvdXJjZS1saW5lPSI0NSIgZGF0YS11aWQ9ImxuazEyIiBpZD0ibGlua19jc3NfZnhtbCI+PHBhdGggY29kZUxpbmU9IjQ1IiBkPSJNMTY4LDE5MS41MiBDMTY4LDIxNS42MyAxNjgsMjM4LjEyIDE2OCwyNjIuMjUiIGZpbGw9Im5vbmUiIGlkPSJjc3MtdG8tZnhtbCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTY4LDI2OC4yNSwxNzIsMjU5LjI1LDE2OCwyNjMuMjUsMTY0LDI1OS4yNSwxNjgsMjY4LjI1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzQuMDUxOCIgeD0iMTY5IiB5PSIyMzQuNTQ2OSI+c3R5bGVzaGVldHM8L3RleHQ+PC9nPjwhLS1saW5rIGNvbnRyb2xsZXIgdG8gdmlld21vZGVsLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImNvbnRyb2xsZXIiIGRhdGEtZW50aXR5LTI9InZpZXdtb2RlbCIgZGF0YS1zb3VyY2UtbGluZT0iNDYiIGRhdGEtdWlkPSJsbmsxMyIgaWQ9ImxpbmtfY29udHJvbGxlcl92aWV3bW9kZWwiPjxwYXRoIGNvZGVMaW5lPSI0NiIgZD0iTTE2NS43MSw1ODMuNDkgQzE2NS41OCw2MDcuNiAxNjUuNDUyMyw2MzAuMDkwMSAxNjUuMzIyMyw2NTQuMjEwMSIgZmlsbD0ibm9uZSIgaWQ9ImNvbnRyb2xsZXItdG8tdmlld21vZGVsIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNjUuMjksNjYwLjIxLDE2OS4zMzg0LDY1MS4yMzE3LDE2NS4zMTY5LDY1NS4yMTAxLDE2MS4zMzg2LDY1MS4xODg2LDE2NS4yOSw2NjAuMjEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MS4wMDAxIiB4PSIxNjYuNTMiIHk9IjYyNi41MTY5Ij4mIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsmIzEyNDk2OyYjMTI0NTI7JiMxMjUzMTsmIzEyNDg5OzwvdGV4dD48L2c+PCEtLWxpbmsgdmlld21vZGVsIHRvIHVzZWNhc2UtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0idmlld21vZGVsIiBkYXRhLWVudGl0eS0yPSJ1c2VjYXNlIiBkYXRhLXNvdXJjZS1saW5lPSI0NyIgZGF0YS11aWQ9ImxuazE0IiBpZD0ibGlua192aWV3bW9kZWxfdXNlY2FzZSI+PHBhdGggY29kZUxpbmU9IjQ3IiBkPSJNMTY1LDc2OC4zOCBDMTY1LDc5OC45NCAxNjUsODMxLjE5IDE2NSw4NjEuNzIiIGZpbGw9Im5vbmUiIGlkPSJ2aWV3bW9kZWwtdG8tdXNlY2FzZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTY1LDg2Ny43MiwxNjksODU4LjcyLDE2NSw4NjIuNzIsMTYxLDg1OC43MiwxNjUsODY3LjcyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjQuMDI4OCIgeD0iMTY2IiB5PSI4MTMuMDA2OSI+SW5wdXQgUG9ydDwvdGV4dD48L2c+PCEtLVNSQz1bUkxEMUpuRDE1QnhGaG5aTjJvT014bm5DSWpDUUoybDRZazdXUFJmelJKVlR4WkdwcW1lWEpNSE4ydWU2WjhIM1pMNzQ4QVFuYzlZMEhDS1ZDcmNzXzBqZGpjTHRZc09sQy16enh0dFYtIC1SampKOUtCMFZtX01wY0dWaFVkTm1NY3BSWDcyNVVqdm1jT1FJMUl5SWlMbmJqRVVLQ2pJZDNydERQX0k3S0wwYkkxTXBTOU1zSU15OWZQak9pMFFQZUNTMUptU3h4TzZTXzZFbTVzcnRmZGFadEw3ZlR3TnN1T1UzTEhFcjMybnhaRjVhMWZrRW4zMkV0TENaWmQ2SzNWLUhDLU9GenVVNkplRlNLQnl2WFZ6MEJwaHdlRmVKWm9kQjNMZEtmTjIyTWV0akR3dVl3cG1iZTlFeUJCUU1FUzlYZFBNMW5lZUVJZDliWTRIVjVZa0FpMEdYRGg2TXhWd0p4SU5oejlBXzlVS1hCY2F0UkNlY21nM0VqT1llWVFqMjBiNnJMUXM4WUtZUWk3V093Y1pJUUZxQ1RtUVhqMHhrYkxITGU2VXBfLVg0M2pRdld2LVY1a3VfLW5oNV9qWlRNNUVLWkYtQUlpSTRKV0diNzRmYjlJbzlIQ01sbXVsWnlzVVJlUEtWU1JHTGdYQ2ZONHpRN1BVZS1Jb1VrX3hwNEEzNWZJcGhzNU1TZVdvamNCN0IwNlRLWlYyQmxaTkhfSUV6TGs2OVZteENkdFFFSGoxTzdLbTRaT1FmSTV1dmE1TzZyQkhFa1loaDRUNFFZbVhyQmZNdWRCUHgxSGNMdjlXdU9JNi00MWVMZWJVUm43Z2JhTkFhbmlMeUFBQnJyd1Z0SU0tUGpYdWxzTk5oRjNISFpUQ05iNjBlX3ZwSFIwWXpHOVdvNDcyZTBid1dHajg1ZjlJSDdISEZLN3B0UmljbXIydlBoZHo3bU83VHVxNUVfWnJwaDFvVTc1cy14X2pSSHFGa0RtMmJadE1CU1lFY2pyTnFZU1pIVnVpZWFLaDhYUnQ1bjRvcW1zV0djTGJKVmxkR3RmQms5X0FzTnZ4a2RfbFJobjAzaHFqdE4xX1RSbkY0Tl0tLT48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<p><strong>Web アプリケーションとの比較：</strong></p>
<table>
<thead>
<tr>
<th>特徴</th>
<th>Web アプリ（REST API）</th>
<th>JavaFX デスクトップ</th>
</tr>
</thead>
<tbody>
<tr>
<td>配置</td>
<td>サーバー + ブラウザ</td>
<td>ローカルインストール</td>
</tr>
<tr>
<td>オフライン</td>
<td>不可</td>
<td>可能（ローカル DB）</td>
</tr>
<tr>
<td>レスポンス</td>
<td>ネットワーク依存</td>
<td>高速</td>
</tr>
<tr>
<td>UI 自由度</td>
<td>HTML/CSS 制約</td>
<td>ネイティブ制御</td>
</tr>
<tr>
<td>印刷機能</td>
<td>制限あり</td>
<td>高機能</td>
</tr>
<tr>
<td>更新配布</td>
<td>自動</td>
<td>手動/自動更新</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="382-mvvm">38.2 MVVM パターンの採用<a class="headerlink" href="#382-mvvm" title="Permanent link">&para;</a></h3>
<p>JavaFX では、<strong>MVVM（Model-View-ViewModel）</strong> パターンを採用し、UI とビジネスロジックを分離します。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjY2OXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NTQ1cHg7aGVpZ2h0OjY2OXB4O2JhY2tncm91bmQ6I0ZFRkVGRTsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDU0NSA2NjkiIHdpZHRoPSI1NDVweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjxyZWN0IGZpbGw9IiNGRUZFRkUiIGhlaWdodD0iNjY5IiBzdHlsZT0ic3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNTQ1IiB4PSIwIiB5PSIwIi8+PCEtLWNsdXN0ZXIgTVZWTSBQYXR0ZXJuLS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtZW50aXR5PSJNVlZNIFBhdHRlcm4iIGRhdGEtc291cmNlLWxpbmU9IjUiIGRhdGEtdWlkPSJlbnQwMDAyIiBpZD0iY2x1c3Rlcl9NVlZNIFBhdHRlcm4iPjxwYXRoIGQ9Ik04LjUsNiBMMTIzLjM2NjIsNiBBMy43NSwzLjc1IDAgMCAxIDEyNS44NjYyLDguNSBMMTMyLjg2NjIsMjguMjk2OSBMMzY3LjUsMjguMjk2OSBBMi41LDIuNSAwIDAgMSAzNzAsMzAuNzk2OSBMMzcwLDY2MC4wMyBBMi41LDIuNSAwIDAgMSAzNjcuNSw2NjIuNTMgTDguNSw2NjIuNTMgQTIuNSwyLjUgMCAwIDEgNiw2NjAuMDMgTDYsOC41IEEyLjUsMi41IDAgMCAxIDguNSw2IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI2IiB4Mj0iMTMyLjg2NjIiIHkxPSIyOC4yOTY5IiB5Mj0iMjguMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTMuODY2MiIgeD0iMTAiIHk9IjIwLjk5NTEiPk1WVk0gUGF0dGVybjwvdGV4dD48L2c+PCEtLWNsYXNzIHZpZXctLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0idmlldyIgZGF0YS1zb3VyY2UtbGluZT0iNyIgZGF0YS11aWQ9ImVudDAwMDMiIGlkPSJlbnRpdHlfdmlldyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxNDAuMDc4MSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTgzLjEyNCIgeD0iMTY5LjQ0IiB5PSI0MSIvPjxlbGxpcHNlIGN4PSIxOTAuMjMzMyIgY3k9IjYyLjI5NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTE5My4yMDIxLDY3LjkzNzUgUTE5Mi42MjM5LDY4LjIzNDQgMTkxLjk4MzMsNjguMzc1IFExOTEuMzQyNyw2OC41MzEzIDE5MC42Mzk2LDY4LjUzMTMgUTE4OC4xMzk2LDY4LjUzMTMgMTg2LjgxMTQsNjYuODkwNiBRMTg1LjQ5ODksNjUuMjM0NCAxODUuNDk4OSw2Mi4xMDk0IFExODUuNDk4OSw1OC45ODQ0IDE4Ni44MTE0LDU3LjMyODEgUTE4OC4xMzk2LDU1LjY3MTkgMTkwLjYzOTYsNTUuNjcxOSBRMTkxLjM0MjcsNTUuNjcxOSAxOTEuOTgzMyw1NS44MjgxIFExOTIuNjM5Niw1NS45ODQ0IDE5My4yMDIxLDU2LjI4MTMgTDE5My4yMDIxLDU5IFExOTIuNTc3MSw1OC40MjE5IDE5MS45ODMzLDU4LjE1NjMgUTE5MS4zODk2LDU3Ljg3NSAxOTAuNzY0Niw1Ny44NzUgUTE4OS40MjA4LDU3Ljg3NSAxODguNzMzMyw1OC45NTMxIFExODguMDQ1OCw2MC4wMTU2IDE4OC4wNDU4LDYyLjEwOTQgUTE4OC4wNDU4LDY0LjIwMzEgMTg4LjczMzMsNjUuMjgxMyBRMTg5LjQyMDgsNjYuMzQzOCAxOTAuNzY0Niw2Ni4zNDM4IFExOTEuMzg5Niw2Ni4zNDM4IDE5MS45ODMzLDY2LjA3ODEgUTE5Mi41NzcxLDY1Ljc5NjkgMTkzLjIwMjEsNjUuMjE4OCBMMTkzLjIwMjEsNjcuOTM3NSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMzLjUzMDMiIHg9IjI1Ny44ODA2IiB5PSI1OC45OTUxIj5WaWV3PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzOC4yNSIgeD0iMjA1LjUyMDciIHk9Ijc1LjI5MiI+KEZYTUwgKyBDb250cm9sbGVyKTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxNzAuNDQiIHgyPSIzNTEuNTY0IiB5MT0iODMuNTkzOCIgeTI9IjgzLjU5MzgiLz48ZWxsaXBzZSBjeD0iMTgwLjQ0IiBjeT0iOTcuMjQyMiIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTU3LjEyNCIgeD0iMTg5LjQ0IiB5PSIxMDAuNTg4OSI+VGFibGVWaWV3Jmx0O0l0ZW1Sb3cmZ3Q7PC90ZXh0PjxlbGxpcHNlIGN4PSIxODAuNDQiIGN5PSIxMTMuNTM5MSIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjQuMjcxNSIgeD0iMTg5LjQ0IiB5PSIxMTYuODg1NyI+VGV4dEZpZWxkPC90ZXh0PjxlbGxpcHNlIGN4PSIxODAuNDQiIGN5PSIxMjkuODM1OSIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDYuODk0NSIgeD0iMTg5LjQ0IiB5PSIxMzMuMTgyNiI+QnV0dG9uPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNzAuNDQiIHgyPSIzNTEuNTY0IiB5MT0iMTQwLjQ4NDQiIHkyPSIxNDAuNDg0NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5LjI3NTQiIHg9IjE3NS40NCIgeT0iMTU3LjQ3OTUiPmluaXRpYWxpemUoKTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ni4wODU5IiB4PSIxNzUuNDQiIHk9IjE3My43NzY0Ij5vblNhdmVDbGljaygpPC90ZXh0PjwvZz48IS0tY2xhc3Mgdm0tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0idm0iIGRhdGEtc291cmNlLWxpbmU9IjE2IiBkYXRhLXVpZD0iZW50MDAwNCIgaWQ9ImVudGl0eV92bSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxNTYuMzc1IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyNTguNzQzMiIgeD0iODEuNjMiIHk9IjI3My4wOCIvPjxlbGxpcHNlIGN4PSIxNjguOTY5NCIgY3k9IjI5NC4zNzY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0xNzEuOTM4MSwzMDAuMDE3NSBRMTcxLjM2LDMwMC4zMTQ0IDE3MC43MTk0LDMwMC40NTUgUTE3MC4wNzg3LDMwMC42MTEzIDE2OS4zNzU2LDMwMC42MTEzIFExNjYuODc1NiwzMDAuNjExMyAxNjUuNTQ3NSwyOTguOTcwNiBRMTY0LjIzNSwyOTcuMzE0NCAxNjQuMjM1LDI5NC4xODk0IFExNjQuMjM1LDI5MS4wNjQ0IDE2NS41NDc1LDI4OS40MDgxIFExNjYuODc1NiwyODcuNzUxOSAxNjkuMzc1NiwyODcuNzUxOSBRMTcwLjA3ODcsMjg3Ljc1MTkgMTcwLjcxOTQsMjg3LjkwODEgUTE3MS4zNzU2LDI4OC4wNjQ0IDE3MS45MzgxLDI4OC4zNjEzIEwxNzEuOTM4MSwyOTEuMDggUTE3MS4zMTMxLDI5MC41MDE5IDE3MC43MTk0LDI5MC4yMzYzIFExNzAuMTI1NiwyODkuOTU1IDE2OS41MDA2LDI4OS45NTUgUTE2OC4xNTY5LDI4OS45NTUgMTY3LjQ2OTQsMjkxLjAzMzEgUTE2Ni43ODE5LDI5Mi4wOTU2IDE2Ni43ODE5LDI5NC4xODk0IFExNjYuNzgxOSwyOTYuMjgzMSAxNjcuNDY5NCwyOTcuMzYxMyBRMTY4LjE1NjksMjk4LjQyMzggMTY5LjUwMDYsMjk4LjQyMzggUTE3MC4xMjU2LDI5OC40MjM4IDE3MC43MTk0LDI5OC4xNTgxIFExNzEuMzEzMSwyOTcuODc2OSAxNzEuOTM4MSwyOTcuMjk4OCBMMTcxLjkzODEsMzAwLjAxNzUgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3NS41NjQ1IiB4PSIxODkuNDY5NCIgeT0iMjkxLjA3NTEiPlZpZXdNb2RlbDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2Ni45MjM2IiB4PSIxOTMuNzg5OCIgeT0iMzA3LjM3MiI+KCYjMzAwMTE7JiMzODc1NDsmIzI5MzY2OyYjMjQ5MDc7KTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI4Mi42MyIgeDI9IjMzOS4zNzMyIiB5MT0iMzE1LjY3MzgiIHkyPSIzMTUuNjczOCIvPjxlbGxpcHNlIGN4PSI5Mi42MyIgY3k9IjMyOS4zMjIyIiBmaWxsPSJub25lIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMzIuNzQzMiIgeD0iMTAxLjYzIiB5PSIzMzIuNjY4OSI+T2JzZXJ2YWJsZUxpc3QmbHQ7SXRlbVJvdyZndDsgaXRlbXM8L3RleHQ+PGVsbGlwc2UgY3g9IjkyLjYzIiBjeT0iMzQ1LjYxOTEiIGZpbGw9Im5vbmUiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIxMy41NzUyIiB4PSIxMDEuNjMiIHk9IjM0OC45NjU3Ij5TdHJpbmdQcm9wZXJ0eSBzZWFyY2hLZXl3b3JkPC90ZXh0PjxlbGxpcHNlIGN4PSI5Mi42MyIgY3k9IjM2MS45MTU5IiBmaWxsPSJub25lIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNzIuNTA0OSIgeD0iMTAxLjYzIiB5PSIzNjUuMjYyNiI+Qm9vbGVhblByb3BlcnR5IGxvYWRpbmc8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjgyLjYzIiB4Mj0iMzM5LjM3MzIiIHkxPSIzNzIuNTY0NCIgeTI9IjM3Mi41NjQ0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTcuNzM2MyIgeD0iODcuNjMiIHk9IjM4OS41NTk1Ij5zZWFyY2goKTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0My42OTUzIiB4PSI4Ny42MyIgeT0iNDA1Ljg1NjQiPnNhdmUoKTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS4wMjkzIiB4PSI4Ny42MyIgeT0iNDIyLjE1MzIiPmRlbGV0ZSgpPC90ZXh0PjwvZz48IS0tY2xhc3MgbW9kZWwtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0ibW9kZWwiIGRhdGEtc291cmNlLWxpbmU9IjI2IiBkYXRhLXVpZD0iZW50MDAwNSIgaWQ9ImVudGl0eV9tb2RlbCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxNDAuMDc4MSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTc4LjI5NTkiIHg9IjEyMS44NSIgeT0iNTA2LjQ1Ii8+PGVsbGlwc2UgY3g9IjEzNi44NSIgY3k9IjUyNy43NDY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0xMzkuODE4OCw1MzMuMzg3NSBRMTM5LjI0MDYsNTMzLjY4NDQgMTM4LjYsNTMzLjgyNSBRMTM3Ljk1OTQsNTMzLjk4MTIgMTM3LjI1NjMsNTMzLjk4MTIgUTEzNC43NTYzLDUzMy45ODEyIDEzMy40MjgxLDUzMi4zNDA2IFExMzIuMTE1Niw1MzAuNjg0NCAxMzIuMTE1Niw1MjcuNTU5NCBRMTMyLjExNTYsNTI0LjQzNDQgMTMzLjQyODEsNTIyLjc3ODEgUTEzNC43NTYzLDUyMS4xMjE5IDEzNy4yNTYzLDUyMS4xMjE5IFExMzcuOTU5NCw1MjEuMTIxOSAxMzguNiw1MjEuMjc4MSBRMTM5LjI1NjMsNTIxLjQzNDQgMTM5LjgxODgsNTIxLjczMTIgTDEzOS44MTg4LDUyNC40NSBRMTM5LjE5MzgsNTIzLjg3MTkgMTM4LjYsNTIzLjYwNjIgUTEzOC4wMDYzLDUyMy4zMjUgMTM3LjM4MTMsNTIzLjMyNSBRMTM2LjAzNzUsNTIzLjMyNSAxMzUuMzUsNTI0LjQwMzEgUTEzNC42NjI1LDUyNS40NjU2IDEzNC42NjI1LDUyNy41NTk0IFExMzQuNjYyNSw1MjkuNjUzMSAxMzUuMzUsNTMwLjczMTIgUTEzNi4wMzc1LDUzMS43OTM3IDEzNy4zODEzLDUzMS43OTM3IFExMzguMDA2Myw1MzEuNzkzNyAxMzguNiw1MzEuNTI4MSBRMTM5LjE5MzgsNTMxLjI0NjkgMTM5LjgxODgsNTMwLjY2ODcgTDEzOS44MTg4LDUzMy4zODc1IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDIuMDM0MiIgeD0iMjAyLjk4MDkiIHk9IjUyNC40NDUxIj5Nb2RlbDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDYuMjk1OSIgeD0iMTUwLjg1IiB5PSI1NDAuNzQyIj4oRG9tYWluICsgVXNlQ2FzZSk8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTIyLjg1IiB4Mj0iMjk5LjE0NTkiIHkxPSI1NDkuMDQzNyIgeTI9IjU0OS4wNDM3Ii8+PGVsbGlwc2UgY3g9IjEzMi44NSIgY3k9IjU2Mi42OTIyIiBmaWxsPSJub25lIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMS44NjkxIiB4PSIxNDEuODUiIHk9IjU2Ni4wMzg5Ij5JdGVtPC90ZXh0PjxlbGxpcHNlIGN4PSIxMzIuODUiIGN5PSI1NzguOTg5MSIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTIuMjg1MiIgeD0iMTQxLjg1IiB5PSI1ODIuMzM1NyI+SXRlbVVzZUNhc2U8L3RleHQ+PGVsbGlwc2UgY3g9IjEzMi44NSIgY3k9IjU5NS4yODU5IiBmaWxsPSJub25lIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuOTQxNCIgeD0iMTQxLjg1IiB5PSI1OTguNjMyNiI+SXRlbVJlcG9zaXRvcnk8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEyMi44NSIgeDI9IjI5OS4xNDU5IiB5MT0iNjA1LjkzNDQiIHkyPSI2MDUuOTM0NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxLjIzMjQiIHg9IjEyNy44NSIgeT0iNjIyLjkyOTUiPmZpbmRCeUNvZGUoKTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0My42OTUzIiB4PSIxMjcuODUiIHk9IjYzOS4yMjY0Ij5zYXZlKCk8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJHTU4xMCIgZGF0YS1zb3VyY2UtbGluZT0iNDIiIGRhdGEtdWlkPSJlbnQwMDExIiBpZD0iZW50aXR5X0dNTjEwIj48cGF0aCBkPSJNMzg3LjUsODMuMzQgTDM4Ny41LDEwNy4wNCBMMzUyLjkzLDExMS4wNCBMMzg3LjUsMTE1LjA0IEwzODcuNSwxMzguNzM4NCBBMCwwIDAgMCAwIDM4Ny41LDEzOC43Mzg0IEw1MzguNTAwMiwxMzguNzM4NCBBMCwwIDAgMCAwIDUzOC41MDAyLDEzOC43Mzg0IEw1MzguNTAwMiw5My4zNCBMNTI4LjUwMDIsODMuMzQgTDM4Ny41LDgzLjM0IEEwLDAgMCAwIDAgMzg3LjUsODMuMzQiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik01MjguNTAwMiw4My4zNCBMNTI4LjUwMDIsOTMuMzQgTDUzOC41MDAyLDkzLjM0IEw1MjguNTAwMiw4My4zNCIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI5Ljk3NDciIHg9IjM5My41IiB5PSIxMDAuNDA2OSI+RlhNTCAmIzEyMzkxOyYjMjM0NTk7JiMzNTMyODsmIzMwMzQwOyYjMTIzOTU7JiMyMzQ1MDsmIzMyNjgxOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4MS4zNjQzIiB4PSIzOTMuNSIgeT0iMTE1LjUzOTciPkNvbnRyb2xsZXIgJiMxMjM5MTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMwLjAwMDIiIHg9IjM5My41IiB5PSIxMzAuNjcyNSI+JiMxMjQ1MjsmIzEyNTA1OyYjMTI1MzE7JiMxMjQ4ODsmIzEyNDk1OyYjMTI1MzE7JiMxMjQ4OTsmIzEyNTIyOyYjMTI1MzE7JiMxMjQ2NDs8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJHTU4xMyIgZGF0YS1zb3VyY2UtbGluZT0iNDgiIGRhdGEtdWlkPSJlbnQwMDE0IiBpZD0iZW50aXR5X0dNTjEzIj48cGF0aCBkPSJNMzg2LjE4LDMyMy41NyBMMzg2LjE4LDM0Ny4yNiBMMzQwLjczLDM1MS4yNiBMMzg2LjE4LDM1NS4yNiBMMzg2LjE4LDM3OC45Njg0IEEwLDAgMCAwIDAgMzg2LjE4LDM3OC45Njg0IEw1MjcuODEwOSwzNzguOTY4NCBBMCwwIDAgMCAwIDUyNy44MTA5LDM3OC45Njg0IEw1MjcuODEwOSwzMzMuNTcgTDUxNy44MTA5LDMyMy41NyBMMzg2LjE4LDMyMy41NyBBMCwwIDAgMCAwIDM4Ni4xOCwzMjMuNTciIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik01MTcuODEwOSwzMjMuNTcgTDUxNy44MTA5LDMzMy41NyBMNTI3LjgxMDksMzMzLjU3IEw1MTcuODEwOSwzMjMuNTciIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMC42MzA5IiB4PSIzOTIuMTgiIHk9IjM0MC42MzY5Ij5KYXZhRlggUHJvcGVydHkgJiMxMjM5MTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEuMDAwMSIgeD0iMzkyLjE4IiB5PSIzNTUuNzY5NyI+JiMxMjUyMjsmIzEyNDUwOyYjMTI0NjM7JiMxMjQ4NjsmIzEyNDUxOyYjMTI1MDI7JiMxMjM5NDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIuMDAwMSIgeD0iMzkyLjE4IiB5PSIzNzAuOTAyNSI+JiMyOTM2NjsmIzI0OTA3OyYjMzE2NDk7JiMyOTcwMjs8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJHTU4xNiIgZGF0YS1zb3VyY2UtbGluZT0iNTQiIGRhdGEtdWlkPSJlbnQwMDE3IiBpZD0iZW50aXR5X0dNTjE2Ij48cGF0aCBkPSJNMzg2LjIyLDU1Ni4zNiBMMzg2LjIyLDU3Mi40OSBMMzAwLjMyLDU3Ni40OSBMMzg2LjIyLDU4MC40OSBMMzg2LjIyLDU5Ni42MjU2IEEwLDAgMCAwIDAgMzg2LjIyLDU5Ni42MjU2IEw0NzkuNzg2NSw1OTYuNjI1NiBBMCwwIDAgMCAwIDQ3OS43ODY1LDU5Ni42MjU2IEw0NzkuNzg2NSw1NjYuMzYgTDQ2OS43ODY1LDU1Ni4zNiBMMzg2LjIyLDU1Ni4zNiBBMCwwIDAgMCAwIDM4Ni4yMiw1NTYuMzYiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik00NjkuNzg2NSw1NTYuMzYgTDQ2OS43ODY1LDU2Ni4zNiBMNDc5Ljc4NjUsNTY2LjM2IEw0NjkuNzg2NSw1NTYuMzYiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcyLjU2NjUiIHg9IjM5Mi4yMiIgeT0iNTczLjQyNjkiPkFQSSYjMjkyNTY7JiMxMjM5MjsmIzIwODQ5OyYjMjYzNzc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyLjAwMDEiIHg9IjM5Mi4yMiIgeT0iNTg4LjU1OTciPiYjMjI3OTM7JiMyNjM1NjsmIzE5OTgxOyYjMzUyMDE7PC90ZXh0PjwvZz48IS0tbGluayB2aWV3IHRvIHZtLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9InZpZXciIGRhdGEtZW50aXR5LTI9InZtIiBkYXRhLXNvdXJjZS1saW5lPSIzNiIgZGF0YS11aWQ9ImxuazYiIGlkPSJsaW5rX3ZpZXdfdm0iPjxwYXRoIGNvZGVMaW5lPSIzNiIgZD0iTTE2OC45NiwxNzIuNCBDMTU3LjY2LDE4My44NSAxNDcuNzQsMTk2Ljc4IDE0MSwyMTEuMDggQzEzMS40OSwyMzEuMjYgMTMyLjc4MDEsMjQ3LjQ4MjUgMTQyLjQyMDEsMjY3LjUzMjUiIGZpbGw9Im5vbmUiIGlkPSJ2aWV3LXRvLXZtIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNDUuMDIsMjcyLjk0LDE0NC43MjUxLDI2My4wOTU2LDE0Mi44NTM0LDI2OC40MzM4LDEzNy41MTUyLDI2Ni41NjIxLDE0NS4wMiwyNzIuOTQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NC4yOTY5IiB4PSIxNDIiIHk9IjIyNC4xNDY5Ij5EYXRhIEJpbmRpbmc8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDkuMTQzNiIgeD0iMTU5LjU3NjYiIHk9IjIzOS4yNzk3Ij4oJiMyMTQ1MjsmIzI2MDQxOyYjMjE1MjE7KTwvdGV4dD48L2c+PCEtLWxpbmsgdm0gdG8gdmlldy0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJ2bSIgZGF0YS1lbnRpdHktMj0idmlldyIgZGF0YS1zb3VyY2UtbGluZT0iMzkiIGRhdGEtdWlkPSJsbms5IiBpZD0ibGlua192bV92aWV3Ij48cGF0aCBjb2RlTGluZT0iMzkiIGQ9Ik0yMjcuMjMsMjcyLjkyIEMyMzMuNDMsMjQzLjQxIDIzOS4yMDY3LDIxNS44NDE5IDI0NS4yMzY3LDE4Ny4xMzE5IiBmaWxsPSJub25lIiBpZD0idm0tdG8tdmlldyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjQ2LjQ3LDE4MS4yNiwyNDAuNzA1NSwxODkuMjQ1NiwyNDUuNDQyMywxODYuMTUzMiwyNDguNTM0NywxOTAuODksMjQ2LjQ3LDE4MS4yNiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjczLjYxMzgiIHg9IjIzOS45OSIgeT0iMjMxLjY0NjkiPiYjMzMyNTg7JiMyMTIwNTsgVUkgJiMyNjM1NjsmIzI2MDMyOzwvdGV4dD48L2c+PCEtLWxpbmsgdm0gdG8gbW9kZWwtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0idm0iIGRhdGEtZW50aXR5LTI9Im1vZGVsIiBkYXRhLXNvdXJjZS1saW5lPSIzNyIgZGF0YS11aWQ9ImxuazciIGlkPSJsaW5rX3ZtX21vZGVsIj48cGF0aCBjb2RlTGluZT0iMzciIGQ9Ik04MS4yNCw0MDUuMzkgQzU0LjQ5LDQyNC41NCAzOC41Niw0NDguNDUgNTQsNDc2LjQ1IEM2OS4wMiw1MDMuNjggODkuODIwOCw1MjEuNDY1MyAxMTYuNDAwOCw1MzYuNzc1MyIgZmlsbD0ibm9uZSIgaWQ9InZtLXRvLW1vZGVsIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMjEuNiw1MzkuNzcsMTE1Ljc5NzcsNTMxLjgxMTgsMTE3LjI2NzMsNTM3LjI3NDQsMTExLjgwNDcsNTM4Ljc0NCwxMjEuNiw1MzkuNzciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTIuMjMzIiB4PSI1NSIgeT0iNDcyLjUxNjkiPlVzZUNhc2UgJiMyMTYyODsmIzEyNDAzOyYjMjA5ODY7JiMxMjM3NTs8L3RleHQ+PC9nPjwhLS1saW5rIG1vZGVsIHRvIHZtLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9Im1vZGVsIiBkYXRhLWVudGl0eS0yPSJ2bSIgZGF0YS1zb3VyY2UtbGluZT0iMzgiIGRhdGEtdWlkPSJsbms4IiBpZD0ibGlua19tb2RlbF92bSI+PHBhdGggY29kZUxpbmU9IjM4IiBkPSJNMjExLDUwNi4wMiBDMjExLDQ4MS44MiAyMTEsNDYwLjUyIDIxMSw0MzUuNzEiIGZpbGw9Im5vbmUiIGlkPSJtb2RlbC10by12bSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjExLDQyOS43MSwyMDcsNDM4LjcxLDIxMSw0MzQuNzEsMjE1LDQzOC43MSwyMTEsNDI5LjcxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQxLjc4NzciIHg9IjIxMiIgeT0iNDcyLjUxNjkiPiYjMzIwODA7JiMyNjUyNDsmIzEyNDM0OyBQcm9wZXJ0eSAmIzEyMzk1OyYjMjE0NTM7JiMyNjE0NDs8L3RleHQ+PC9nPjwhLS1TUkM9W1RMOVRKbkQxNTdzVk5wNmtCbjNJRnMwQzJISGdLQWc0WnVPN051UmtmS3BPcFpJcEd4NFE0aFNoN25LOU8xR0xxSVdHSEttR1duZ191ZnlQVG5WX1hOVXNmSktYUFhfY3BmbnBwcGJwVG93dUNDcTVxRDcxeDdaVnpJbDNXeEplQ1R5ZG45X2JlaThLQXpDZkxmbWpBSmFkdEFwcWZBOE5TdUZzOHdJMjAyaTFUVkE1R2Z3RUNBcjEyT1ZVOFFJWnZYR3VwRHlLTlJkOV8zM2plTGFmajlBVTF3aFJlU29kTEtJbmVPVUVpb2FGQkZWb2E4Um9nOXBsak9UbUktU3VVMnhNX05EUUlxNG82Uzg1cnZudl8zUHFUSENmbmJXTGlYdWxwazlrdVBuck5oaFdlTl9vd0NVVjV4bDlfSV9udWNoQmtmbVF0dlpvR0xNai1wM3RUVGtUU1lueW5DVXF1ZzhxZWNHNWJBdkg3dldncGJvM3NobktRSW1mRk0yWVpOa0lrU1l0RVBqS0pFTFpHYm1tMjZXdWJfOGl1TzBpQ292bUhYQy1QOWFGcFBIYll3UDFSUkJNcWNBcVRnREdhSnhOS2pNaUFfdkRqeC1NblJRRXl1QXJKNFVUb1ZKUVlyLVlwVzNKWkZPWjZURVlVeEotOER4dzVjcmlUWmk0MlBSTmo0UGdvdXY2Y3B6RFMxOGpWcFYxNHVTcXVPdld5ZGFaVmhiWndXemZVbldjVTEtamh5TEZOeEtycW4xOEZicS1aNU9WcXVhWDZaX181NnlURXVHOGdPNGdOZmhITDR3ZEg5OC02WEV5Wk94c0pXX2s5amx0aEUzSFRsQmg3VWF5OTRpV2ZodmxtY1NjRjM3WFlXZE5xdzlYbWFEUnI4eTkyOVRRX05Da1BOQUxMTGJreWpfQ2c4UUR6THJKX3MzMjlMRlZDLTZNMkd2OXlfNGFIdy1KWlFOX0FnUEo4TnFaR3FiWm5HRzdxVUI3VUFUMWVscTZ0bEZ0cnhOSkRxNnh6SXkwXS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<p><strong>各層の責務：</strong></p>
<table>
<thead>
<tr>
<th>層</th>
<th>責務</th>
<th>JavaFX での実装</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>View</strong></td>
<td>UI 表示・ユーザー入力</td>
<td>FXML + Controller</td>
</tr>
<tr>
<td><strong>ViewModel</strong></td>
<td>画面状態管理・変換</td>
<td>Property, ObservableList</td>
</tr>
<tr>
<td><strong>Model</strong></td>
<td>ビジネスロジック</td>
<td>UseCase, Repository</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="383">38.3 ヘキサゴナルアーキテクチャとの統合<a class="headerlink" href="#383" title="Permanent link">&para;</a></h3>
<p>JavaFX を導入しても、既存のヘキサゴナルアーキテクチャ（ドメイン層・アプリケーション層）はそのまま共有し、<strong>Input Adapter として JavaFX の Controller/ViewModel 層のみを追加</strong>します。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjY1MXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NzM3cHg7aGVpZ2h0OjY1MXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDczNyA2NTEiIHdpZHRoPSI3MzdweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjwhLS1jbHVzdGVyIEhleGFnb25hbCBBcmNoaXRlY3R1cmUgKEphdmFGWD8pLS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtZW50aXR5PSJIZXhhZ29uYWwgQXJjaGl0ZWN0dXJlIC5KYXZhRlguLiIgZGF0YS1zb3VyY2UtbGluZT0iMyIgZGF0YS11aWQ9ImVudDAwMDIiIGlkPSJjbHVzdGVyX0hleGFnb25hbCBBcmNoaXRlY3R1cmUgLkphdmFGWC4uIj48cGF0aCBkPSJNMjE2LjIsNiBMNDg5LjIyMjQsNiBBMy43NSwzLjc1IDAgMCAxIDQ5MS43MjI0LDguNSBMNDk4LjcyMjQsMjguMjk2OSBMNDk5LjIsMjguMjk2OSBBMi41LDIuNSAwIDAgMSA1MDEuNywzMC43OTY5IEw1MDEuNyw2NDIuNDQgQTIuNSwyLjUgMCAwIDEgNDk5LjIsNjQ0Ljk0IEwyMTYuMiw2NDQuOTQgQTIuNSwyLjUgMCAwIDEgMjEzLjcsNjQyLjQ0IEwyMTMuNyw4LjUgQTIuNSwyLjUgMCAwIDEgMjE2LjIsNiIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMjEzLjciIHgyPSI0OTguNzIyNCIgeTE9IjI4LjI5NjkiIHkyPSIyOC4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Mi4wMjI0IiB4PSIyMTcuNyIgeT0iMjAuOTk1MSI+SGV4YWdvbmFsIEFyY2hpdGVjdHVyZSAoSmF2YUZYJiMyOTI1NjspPC90ZXh0PjwvZz48IS0tY2xhc3MgY29yZS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJjb3JlIiBkYXRhLXNvdXJjZS1saW5lPSI1IiBkYXRhLXVpZD0iZW50MDAwMyIgaWQ9ImVudGl0eV9jb3JlIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjE3Mi42NzE5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxOTAuNTc1MiIgeD0iMjczLjQxIiB5PSIyNTYuNzgiLz48ZWxsaXBzZSBjeD0iMjg4LjY1MDgiIGN5PSIyNzguMDc2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMjkxLjYxOTYsMjgzLjcxNzUgUTI5MS4wNDE0LDI4NC4wMTQ0IDI5MC40MDA4LDI4NC4xNTUgUTI4OS43NjAyLDI4NC4zMTEzIDI4OS4wNTcxLDI4NC4zMTEzIFEyODYuNTU3MSwyODQuMzExMyAyODUuMjI4OSwyODIuNjcwNiBRMjgzLjkxNjQsMjgxLjAxNDQgMjgzLjkxNjQsMjc3Ljg4OTQgUTI4My45MTY0LDI3NC43NjQ0IDI4NS4yMjg5LDI3My4xMDgxIFEyODYuNTU3MSwyNzEuNDUxOSAyODkuMDU3MSwyNzEuNDUxOSBRMjg5Ljc2MDIsMjcxLjQ1MTkgMjkwLjQwMDgsMjcxLjYwODEgUTI5MS4wNTcxLDI3MS43NjQ0IDI5MS42MTk2LDI3Mi4wNjEzIEwyOTEuNjE5NiwyNzQuNzggUTI5MC45OTQ2LDI3NC4yMDE5IDI5MC40MDA4LDI3My45MzYzIFEyODkuODA3MSwyNzMuNjU1IDI4OS4xODIxLDI3My42NTUgUTI4Ny44MzgzLDI3My42NTUgMjg3LjE1MDgsMjc0LjczMzEgUTI4Ni40NjMzLDI3NS43OTU2IDI4Ni40NjMzLDI3Ny44ODk0IFEyODYuNDYzMywyNzkuOTgzMSAyODcuMTUwOCwyODEuMDYxMyBRMjg3LjgzODMsMjgyLjEyMzggMjg5LjE4MjEsMjgyLjEyMzggUTI4OS44MDcxLDI4Mi4xMjM4IDI5MC40MDA4LDI4MS44NTgxIFEyOTAuOTk0NiwyODEuNTc2OSAyOTEuNjE5NiwyODAuOTk4OCBMMjkxLjYxOTYsMjgzLjcxNzUgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTUuMzgzOCIgeD0iMzI0LjAzMjUiIHk9IjI3NC43NzUxIj5BcHBsaWNhdGlvbiBDb3JlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1OC4wNCIgeD0iMzAyLjcwNDMiIHk9IjI5MS4wNzIiPihEb21haW4gKyBVc2UgQ2FzZXMpPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI3NC40MSIgeDI9IjQ2Mi45ODUyIiB5MT0iMjk5LjM3MzgiIHkyPSIyOTkuMzczOCIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjI4MS40MSIgeT0iMzEwLjAyMjIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Mi4yODUyIiB4PSIyOTMuNDEiIHk9IjMxNi4zNjg5Ij5JdGVtVXNlQ2FzZTwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIyODEuNDEiIHk9IjMyNi4zMTkxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuNTQ4OCIgeD0iMjkzLjQxIiB5PSIzMzIuNjY1NyI+Qm9tU2VydmljZTwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIyODEuNDEiIHk9IjM0Mi42MTU5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY0LjU3NTIiIHg9IjI5My40MSIgeT0iMzQ4Ljk2MjYiPlB1cmNoYXNlT3JkZXJVc2VDYXNlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI3NC40MSIgeDI9IjQ2Mi45ODUyIiB5MT0iMzU2LjI2NDQiIHkyPSIzNTYuMjY0NCIvPjxyZWN0IGZpbGw9IiNGMjRENUMiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjI4MS40MSIgeT0iMzY2LjkxMjgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3NS4yNDMiIHg9IjI5My40MSIgeT0iMzczLjI1OTUiPkl0ZW0gKCYjMjE2OTc7JiMzMDQ0NjspPC90ZXh0PjxyZWN0IGZpbGw9IiNGMjRENUMiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjI4MS40MSIgeT0iMzgzLjIwOTciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTcuMTgxMyIgeD0iMjkzLjQxIiB5PSIzODkuNTU2NCI+Qm9tICgmIzM3MDk2OyYjMjE2OTc7JiMyNzA4MzsmIzI1MTA0OyYjMzQ5MjA7KTwvdGV4dD48cmVjdCBmaWxsPSIjRjI0RDVDIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIyODEuNDEiIHk9IjM5OS41MDY2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ3LjUzMzEiIHg9IjI5My40MSIgeT0iNDA1Ljg1MzIiPlB1cmNoYXNlT3JkZXIgKCYjMzAzMzA7JiMyNzg4MDspPC90ZXh0PjxyZWN0IGZpbGw9IiNGMjRENUMiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjI4MS40MSIgeT0iNDE1LjgwMzQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4Mi4xMiIgeD0iMjkzLjQxIiB5PSI0MjIuMTUwMSI+U3RvY2sgKCYjMjIzMTI7JiMyNDIzNTspPC90ZXh0PjwvZz48IS0tY2xhc3MgaW5wdXQtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iaW5wdXQiIGRhdGEtc291cmNlLWxpbmU9IjE1IiBkYXRhLXVpZD0iZW50MDAwNCIgaWQ9ImVudGl0eV9pbnB1dCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMjMuNzgxMyIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMjMwLjgzODUiIHg9IjI1My4yOCIgeT0iNDEiLz48ZWxsaXBzZSBjeD0iMzEyLjU1NzYiIGN5PSI2Mi4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0zMTUuNTI2NCw2Ny45Mzc1IFEzMTQuOTQ4Myw2OC4yMzQ0IDMxNC4zMDc2LDY4LjM3NSBRMzEzLjY2Nyw2OC41MzEzIDMxMi45NjM5LDY4LjUzMTMgUTMxMC40NjM5LDY4LjUzMTMgMzA5LjEzNTgsNjYuODkwNiBRMzA3LjgyMzMsNjUuMjM0NCAzMDcuODIzMyw2Mi4xMDk0IFEzMDcuODIzMyw1OC45ODQ0IDMwOS4xMzU4LDU3LjMyODEgUTMxMC40NjM5LDU1LjY3MTkgMzEyLjk2MzksNTUuNjcxOSBRMzEzLjY2Nyw1NS42NzE5IDMxNC4zMDc2LDU1LjgyODEgUTMxNC45NjM5LDU1Ljk4NDQgMzE1LjUyNjQsNTYuMjgxMyBMMzE1LjUyNjQsNTkgUTMxNC45MDE0LDU4LjQyMTkgMzE0LjMwNzYsNTguMTU2MyBRMzEzLjcxMzksNTcuODc1IDMxMy4wODg5LDU3Ljg3NSBRMzExLjc0NTEsNTcuODc1IDMxMS4wNTc2LDU4Ljk1MzEgUTMxMC4zNzAxLDYwLjAxNTYgMzEwLjM3MDEsNjIuMTA5NCBRMzEwLjM3MDEsNjQuMjAzMSAzMTEuMDU3Niw2NS4yODEzIFEzMTEuNzQ1MSw2Ni4zNDM4IDMxMy4wODg5LDY2LjM0MzggUTMxMy43MTM5LDY2LjM0MzggMzE0LjMwNzYsNjYuMDc4MSBRMzE0LjkwMTQsNjUuNzk2OSAzMTUuNTI2NCw2NS4yMTg4IEwzMTUuNTI2NCw2Ny45Mzc1IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTAzLjc4MzIiIHg9IjMzMy4wNTc2IiB5PSI1OC45OTUxIj5JbnB1dCBBZGFwdGVyczwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ni4wMTA3IiB4PSIzMzYuOTQzOSIgeT0iNzUuMjkyIj4oRHJpdmluZyBTaWRlKTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyNTQuMjgiIHgyPSI0ODMuMTE4NSIgeTE9IjgzLjU5MzgiIHkyPSI4My41OTM4Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iMjYxLjI4IiB5PSI5NC4yNDIyIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTczLjc4MyIgeD0iMjczLjI4IiB5PSIxMDAuNTg4OSI+UkVTVCBDb250cm9sbGVyJiM2NTI4ODtBUEkmIzI5MjU2OyYjNjUyODk7PC90ZXh0PjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjI2MS4yOCIgeT0iMTEwLjUzOTEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMDQuODM4NSIgeD0iMjczLjI4IiB5PSIxMTYuODg1NyI+SmF2YUZYIENvbnRyb2xsZXImIzY1Mjg4OyYjMjYwMzI7JiMzNTIxNTsmIzM2ODYxOyYjMjExNTI7JiM2NTI4OTs8L3RleHQ+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iMjYxLjI4IiB5PSIxMjYuODM1OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc1LjU2NDUiIHg9IjI3My4yOCIgeT0iMTMzLjE4MjYiPlZpZXdNb2RlbDwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIyNjEuMjgiIHk9IjE0My4xMzI4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzUuNTAyOSIgeD0iMjczLjI4IiB5PSIxNDkuNDc5NSI+RlhNTCBWaWV3PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI1NC4yOCIgeDI9IjQ4My4xMTg1IiB5MT0iMTU2Ljc4MTMiIHkyPSIxNTYuNzgxMyIvPjwvZz48IS0tY2xhc3Mgb3V0cHV0LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9Im91dHB1dCIgZGF0YS1zb3VyY2UtbGluZT0iMjIiIGRhdGEtdWlkPSJlbnQwMDA1IiBpZD0iZW50aXR5X291dHB1dCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMDcuNDg0NCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTYwLjc0MzIiIHg9IjI4Ny4zMyIgeT0iNTIxLjQ2Ii8+PGVsbGlwc2UgY3g9IjMwNy45OTEiIGN5PSI1NDIuNzU2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMzEwLjk1OTgsNTQ4LjM5NzUgUTMxMC4zODE3LDU0OC42OTQ0IDMwOS43NDEsNTQ4LjgzNSBRMzA5LjEwMDQsNTQ4Ljk5MTMgMzA4LjM5NzMsNTQ4Ljk5MTMgUTMwNS44OTczLDU0OC45OTEzIDMwNC41NjkyLDU0Ny4zNTA2IFEzMDMuMjU2Nyw1NDUuNjk0NCAzMDMuMjU2Nyw1NDIuNTY5NCBRMzAzLjI1NjcsNTM5LjQ0NDQgMzA0LjU2OTIsNTM3Ljc4ODEgUTMwNS44OTczLDUzNi4xMzE5IDMwOC4zOTczLDUzNi4xMzE5IFEzMDkuMTAwNCw1MzYuMTMxOSAzMDkuNzQxLDUzNi4yODgxIFEzMTAuMzk3Myw1MzYuNDQ0NCAzMTAuOTU5OCw1MzYuNzQxMyBMMzEwLjk1OTgsNTM5LjQ2IFEzMTAuMzM0OCw1MzguODgxOSAzMDkuNzQxLDUzOC42MTYzIFEzMDkuMTQ3Myw1MzguMzM1IDMwOC41MjIzLDUzOC4zMzUgUTMwNy4xNzg1LDUzOC4zMzUgMzA2LjQ5MSw1MzkuNDEzMSBRMzA1LjgwMzUsNTQwLjQ3NTYgMzA1LjgwMzUsNTQyLjU2OTQgUTMwNS44MDM1LDU0NC42NjMxIDMwNi40OTEsNTQ1Ljc0MTMgUTMwNy4xNzg1LDU0Ni44MDM4IDMwOC41MjIzLDU0Ni44MDM4IFEzMDkuMTQ3Myw1NDYuODAzOCAzMDkuNzQxLDU0Ni41MzgxIFEzMTAuMzM0OCw1NDYuMjU2OSAzMTAuOTU5OCw1NDUuNjc4OCBMMzEwLjk1OTgsNTQ4LjM5NzUgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTYuMTYzMSIgeD0iMzIzLjI0OSIgeT0iNTM5LjQ1NTEiPk91dHB1dCBBZGFwdGVyczwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MS44NDc3IiB4PSIzMzUuNDA2OCIgeT0iNTU1Ljc1MiI+KERyaXZlbiBTaWRlKTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyODguMzMiIHgyPSI0NDcuMDczMiIgeTE9IjU2NC4wNTM4IiB5Mj0iNTY0LjA1MzgiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIyOTUuMzMiIHk9IjU3NC43MDIyIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM0Ljc0MzIiIHg9IjMwNy4zMyIgeT0iNTgxLjA0ODkiPk15QmF0aXMgUmVwb3NpdG9yeTwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIyOTUuMzMiIHk9IjU5MC45OTkxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE5LjQyMzgiIHg9IjMwNy4zMyIgeT0iNTk3LjM0NTciPkRhdGFiYXNlIEFjY2VzczwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIyOTUuMzMiIHk9IjYwNy4yOTU5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA1LjQwMzMiIHg9IjMwNy4zMyIgeT0iNjEzLjY0MjYiPkVudGl0eSBNYXBwaW5nPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI4OC4zMyIgeDI9IjQ0Ny4wNzMyIiB5MT0iNjIwLjk0NDQiIHkyPSI2MjAuOTQ0NCIvPjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iR01OOCIgZGF0YS1zb3VyY2UtbGluZT0iMzMiIGRhdGEtdWlkPSJlbnQwMDA5IiBpZD0iZW50aXR5X0dNTjgiPjxwYXRoIGQ9Ik01MTguNzEsNzUuMTkgTDUxOC43MSwxMzAuNTg4NCBBMCwwIDAgMCAwIDUxOC43MSwxMzAuNTg4NCBMNTkxLjgzLDEzMC41ODg0IEw0NjAuODYsMjU2LjM2IEw1OTkuODMsMTMwLjU4ODQgTDczMC42ODU4LDEzMC41ODg0IEEwLDAgMCAwIDAgNzMwLjY4NTgsMTMwLjU4ODQgTDczMC42ODU4LDg1LjE5IEw3MjAuNjg1OCw3NS4xOSBMNTE4LjcxLDc1LjE5IEEwLDAgMCAwIDAgNTE4LjcxLDc1LjE5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNzIwLjY4NTgsNzUuMTkgTDcyMC42ODU4LDg1LjE5IEw3MzAuNjg1OCw4NS4xOSBMNzIwLjY4NTgsNzUuMTkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0My4wMDAyIiB4PSI1MjQuNzEiIHk9IjkyLjI1NjkiPiYjMjYwODI7JiMyMzM4NDsmIzEyMzk4OyYjMTI0OTk7JiMxMjQ3MjsmIzEyNDkzOyYjMTI0NzM7JiMxMjUyNTsmIzEyNDcyOyYjMTI0ODM7JiMxMjQ2Mzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjI3MDYiIHg9IjUyNC43MSIgeT0iMTA3LjM4OTciPlJFU1QgQVBJICYjMjkyNTY7JiMxMjM5MjsmIzIzNDM2OyYjMjA4NDA7JiMxMjM5NTsmIzIwODQ5OyYjMjYzNzc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5MC45NzU4IiB4PSI1MjQuNzEiIHk9IjEyMi41MjI1Ij5KYXZhRlggJiMyMjI2NjsmIzI2Mzc3OyYjMTIzOTg7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7JiMxMjM5OTsmIzIxNTQ3OyYjMTI0MTQ7JiMxMjM5NDsmIzEyMzU2OzwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkdNTjExIiBkYXRhLXNvdXJjZS1saW5lPSIzOSIgZGF0YS11aWQ9ImVudDAwMTIiIGlkPSJlbnRpdHlfR01OMTEiPjxwYXRoIGQ9Ik02LDc1LjE5IEw2LDEzMC41ODg0IEEwLDAgMCAwIDAgNiwxMzAuNTg4NCBMMTk3LjQwMywxMzAuNTg4NCBBMCwwIDAgMCAwIDE5Ny40MDMsMTMwLjU4ODQgTDE5Ny40MDMsMTA2Ljg5IEwyNTMuMTEsMTAyLjg5IEwxOTcuNDAzLDk4Ljg5IEwxOTcuNDAzLDg1LjE5IEwxODcuNDAzLDc1LjE5IEw2LDc1LjE5IEEwLDAgMCAwIDAgNiw3NS4xOSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTE4Ny40MDMsNzUuMTkgTDE4Ny40MDMsODUuMTkgTDE5Ny40MDMsODUuMTkgTDE4Ny40MDMsNzUuMTkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyOS4zMzk5IiB4PSIxMiIgeT0iOTIuMjU2OSI+SmF2YUZYIENvbnRyb2xsZXIgJiMxMjQzNDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTU4LjcyOTYiIHg9IjEyIiB5PSIxMDcuMzg5NyI+SW5wdXQgQWRhcHRlciAmIzEyMzkyOyYjMTIzNzU7JiMxMjM5MDsmIzM2ODYxOyYjMjExNTI7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE3MC40MDMiIHg9IjEyIiB5PSIxMjIuNTIyNSI+JiMyNjA4MjsmIzIzMzg0OyYjMTIzOTg7IFJFU1QgQVBJICYjMTIzOTI7JiMyMDg0OTsmIzIzMzg0OyYjMjE0ODc7JiMzMzAyMTs8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJHTU4xNCIgZGF0YS1zb3VyY2UtbGluZT0iNDUiIGRhdGEtdWlkPSJlbnQwMDE1IiBpZD0iZW50aXR5X0dNTjE0Ij48cGF0aCBkPSJNNTE3LjIxLDU0Ny41IEw1MTcuMjEsNTcxLjIgTDQ0OC41Niw1NzUuMiBMNTE3LjIxLDU3OS4yIEw1MTcuMjEsNjAyLjg5ODQgQTAsMCAwIDAgMCA1MTcuMjEsNjAyLjg5ODQgTDY2OC4xODQ3LDYwMi44OTg0IEEwLDAgMCAwIDAgNjY4LjE4NDcsNjAyLjg5ODQgTDY2OC4xODQ3LDU1Ny41IEw2NTguMTg0Nyw1NDcuNSBMNTE3LjIxLDU0Ny41IEEwLDAgMCAwIDAgNTE3LjIxLDU0Ny41IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNjU4LjE4NDcsNTQ3LjUgTDY1OC4xODQ3LDU1Ny41IEw2NjguMTg0Nyw1NTcuNSBMNjU4LjE4NDcsNTQ3LjUiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyOS45NzQ3IiB4PSI1MjMuMjEiIHk9IjU2NC41NjY5Ij4mIzI2MDgyOyYjMjMzODQ7JiMxMjM5ODsgUmVwb3NpdG9yeSAmIzEyNDM0OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OC4wMDAxIiB4PSI1MjMuMjEiIHk9IjU3OS42OTk3Ij4mIzEyMzgxOyYjMTIzOTg7JiMxMjQxNDsmIzEyNDE0OyYjMjAzNTE7JiMyOTk5Mjs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIuMDAwMSIgeD0iNTIzLjIxIiB5PSI1OTQuODMyNSI+JiMyMjc5MzsmIzI2MzU2OyYjMTk5ODE7JiMzNTIwMTs8L3RleHQ+PC9nPjwhLS1saW5rIGlucHV0IHRvIGNvcmUtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iaW5wdXQiIGRhdGEtZW50aXR5LTI9ImNvcmUiIGRhdGEtc291cmNlLWxpbmU9IjI5IiBkYXRhLXVpZD0ibG5rNiIgaWQ9ImxpbmtfaW5wdXRfY29yZSI+PHBhdGggY29kZUxpbmU9IjI5IiBkPSJNMzY4LjcsMTY1LjI0IEMzNjguNywxOTIuOTUgMzY4LjcsMjIwLjE3IDM2OC43LDI1MC4yOSIgZmlsbD0ibm9uZSIgaWQ9ImlucHV0LXRvLWNvcmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM2OC43LDI1Ni4yOSwzNzIuNywyNDcuMjksMzY4LjcsMjUxLjI5LDM2NC43LDI0Ny4yOSwzNjguNywyNTYuMjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MC44MDE4IiB4PSIzNzIuODczOCIgeT0iMjA3Ljg0NjkiPklucHV0IFBvcnRzPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc3LjE0OTQiIHg9IjM2OS43IiB5PSIyMjIuOTc5NyI+KFVzZSBDYXNlcyk8L3RleHQ+PC9nPjwhLS1saW5rIGNvcmUgdG8gb3V0cHV0LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImNvcmUiIGRhdGEtZW50aXR5LTI9Im91dHB1dCIgZGF0YS1zb3VyY2UtbGluZT0iMzAiIGRhdGEtdWlkPSJsbms3IiBpZD0ibGlua19jb3JlX291dHB1dCI+PHBhdGggY29kZUxpbmU9IjMwIiBkPSJNMzY4LjMzLDQyOS43OSBDMzY4LjIsNDYwLjQ2IDM2OC4wNzY2LDQ4OC4xMDAxIDM2Ny45NTY2LDUxNS4yMDAxIiBmaWxsPSJub25lIiBpZD0iY29yZS10by1vdXRwdXQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM2Ny45Myw1MjEuMiwzNzEuOTY5OCw1MTIuMjE3OCwzNjcuOTUyMSw1MTYuMiwzNjMuOTY5OSw1MTIuMTgyNCwzNjcuOTMsNTIxLjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4Mi4yOTc0IiB4PSI0MDIuNTAxNSIgeT0iNDcyLjUyNjkiPk91dHB1dCBQb3J0czwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDguOTYwNCIgeD0iMzY5LjE3IiB5PSI0ODcuNjU5NyI+KFJlcG9zaXRvcnkgSW50ZXJmYWNlcyk8L3RleHQ+PC9nPjwhLS1TUkM9W1JMOUZKbkQxNUJfRmZ0WG9BWjd6MFhuQzJYSWplSzhlNld2VW5rc3FKNVhjRGhESmIxV0Zzdk00Z1dHWUhaSFdlaVJLbldRR3UwNDlWcHhDaURqd3VZbHVQaFRHRzZ5cHh4dHZfTmpwZ3ltZ04zMk9vZXpDdm54UzdTLTN1ckJWOXlJWnBYb2pDWFl1bnZ4SGdYSktYUG5vUGhiY1pndWYxZmR4VDg2RXBOR1FvdUMzeTlvR0ZpMTBwbERTeGIzRGZPMEhnVFhaYUhjTHl2R0JrMHFGVkdPWnI2Uy1sZzgtRURaNnJyYWVRM09GY01Xenc2cGszRTl6TUVCckp6WjJJbHB6VFJveXJsdElpbE45NmVoMHpuRWdwMUhhRVh5RnVfc2FLVEJJY0tFNGhMUHFzMXhpOElBUjlLbG5JYW1qUzhWVDFCY09VTjdER3E1dURHc3ZDbEtxS3h2cmVGVzI1cktleUo5QmpWRGFuOGdWb2ZVY3FRZEdJaGVrSy1UN294ZDkwWVBwVmpKMFJYaEt6Tnh5X2NVdGtUZXpGT3ZVVkt3ZDdkN3NqMlpCcENOcHM0bm5GMmRTNDNMSHFfekhuU0dMS0o4VGlRZ0FZeUV1MG4tY2MyVHpoZ0xRbkU4ZXJWRzlzZU1TdXAzU1NuUm9HZEV6MjROZ1VVV0Y2UDRwalBSRHRhYU5EN0lIbndIS3NqOVVzSTk5OWtuZVp0aGVLa1Y1VDV5MDUwR0FocjBkVUtjNHIwb3F6NDFNNFk4SVJ0b0RqWi1PT0NVNHd3UC1PQzhMS196am1rdGE3OWh3QmFjWW5kRzF1cEwxQXpmdjRvc3JKRDJFYmxSWWhHUmZQSHJqN2tCRHVqSnRKTlhhR1pwbEhjamo0dm9PdThTOU5YOGNvYzNmVW85U0xqNU1ITUFTX0JDbkNGTXR2RGdOMDJHdG1PTzlja2FJLXpCWEtnQkxqeEk3ck1YcmpuaVV0LUhLbDNnUmFBUjFOS05lMXNROUpWMzlNaDdRSnl3RUpwbGxNWUp3cmVXdFZ2cVRoN0lSbUlOa05tMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<p><strong>JavaFX でもヘキサゴナルアーキテクチャを維持する理由：</strong></p>
<ol>
<li><strong>再利用性</strong>: 既存の UseCase/Repository をそのまま活用</li>
<li><strong>並行運用</strong>: REST API と JavaFX の両方を提供可能</li>
<li><strong>テスト容易性</strong>: ドメインロジックは UI フレームワークに依存しない</li>
<li><strong>移行容易性</strong>: 段階的に Web からデスクトップへ移行可能</li>
</ol>
<hr />
<h3 id="384">38.4 ディレクトリ構成<a class="headerlink" href="#384" title="Permanent link">&para;</a></h3>
<p>既存の構成に <code>infrastructure/in/javafx/</code> を追加します。</p>
<div class="highlight"><pre><span></span><code>src/main/java/com/example/production/
├── domain/                       # ドメイン層（API版と共通）
│   ├── model/
│   │   ├── item/
│   │   ├── bom/
│   │   ├── purchase/
│   │   └── inventory/
│   └── exception/
│
├── application/                  # アプリケーション層（API版と共通）
│   ├── port/
│   │   ├── in/                  # Input Port（ユースケース）
│   │   └── out/                 # Output Port（リポジトリ）
│   └── service/
│
├── infrastructure/
│   ├── out/
│   │   └── persistence/         # Output Adapter（DB実装）- 既存
│   │       ├── mapper/
│   │       └── repository/
│   ├── in/
│   │   ├── rest/                # Input Adapter（REST実装）- 既存
│   │   │   ├── controller/
│   │   │   └── dto/
│   │   └── javafx/              # Input Adapter（JavaFX実装）- 新規追加
│   │       ├── controller/      # FXML Controller
│   │       ├── viewmodel/       # ViewModel
│   │       ├── view/            # 画面表示用の行モデル
│   │       ├── dialog/          # ダイアログ
│   │       ├── util/            # ユーティリティ
│   │       └── config/          # JavaFX 設定
│
└── Application.java              # Spring Boot + JavaFX 起動クラス

src/main/resources/
├── fxml/                         # FXML ファイル
│   ├── main.fxml
│   ├── item/
│   │   ├── item-list.fxml
│   │   └── item-edit.fxml
│   ├── bom/
│   │   ├── bom-tree.fxml
│   │   └── where-used.fxml
│   ├── purchase/
│   │   ├── order-list.fxml
│   │   └── order-entry.fxml
│   └── common/
│       ├── login.fxml
│       └── error-dialog.fxml
│
├── css/                          # スタイルシート
│   ├── application.css
│   └── theme/
│
├── images/                       # 画像リソース
│
└── reports/                      # JasperReports テンプレート
    ├── purchase-order.jrxml
    └── mrp-result.jrxml
</code></pre></div>
<hr />
<h3 id="385">38.5 技術スタックの追加<a class="headerlink" href="#385" title="Permanent link">&para;</a></h3>
<details>
<summary>build.gradle.kts（差分）</summary>

<div class="highlight"><pre><span></span><code><span class="n">plugins</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 既存のプラグイン...</span>
<span class="w">    </span><span class="n">id</span><span class="p">(</span><span class="s">&quot;org.openjfx.javafxplugin&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="s">&quot;0.1.0&quot;</span><span class="w">  </span><span class="c1">// 追加</span>
<span class="p">}</span>

<span class="c1">// JavaFX 設定</span>
<span class="n">javafx</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;21&quot;</span>
<span class="w">    </span><span class="n">modules</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">listOf</span><span class="p">(</span>
<span class="w">        </span><span class="s">&quot;javafx.controls&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s">&quot;javafx.fxml&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s">&quot;javafx.graphics&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s">&quot;javafx.swing&quot;</span><span class="w">  </span><span class="c1">// JasperReports 連携用</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">}</span>

<span class="n">dependencies</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 既存の依存関係（Spring Boot, MyBatis, PostgreSQL等）はそのまま</span>

<span class="w">    </span><span class="c1">// JavaFX 関連を追加</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;org.controlsfx:controlsfx:11.2.0&quot;</span><span class="p">)</span><span class="w">           </span><span class="c1">// 拡張コントロール</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;com.dlsc.formsfx:formsfx-core:11.6.0&quot;</span><span class="p">)</span><span class="w">        </span><span class="c1">// フォーム生成</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;org.kordamp.ikonli:ikonli-javafx:12.3.1&quot;</span><span class="p">)</span><span class="w">     </span><span class="c1">// アイコン</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;org.kordamp.ikonli:ikonli-fontawesome5-pack:12.3.1&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// JasperReports（帳票出力）</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;net.sf.jasperreports:jasperreports:6.20.6&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// Excel 出力</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;org.apache.poi:poi-ooxml:5.2.5&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// TestFX（UI テスト）</span>
<span class="w">    </span><span class="n">testImplementation</span><span class="p">(</span><span class="s">&quot;org.testfx:testfx-core:4.0.18&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">testImplementation</span><span class="p">(</span><span class="s">&quot;org.testfx:testfx-junit5:4.0.18&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

</details>

<p><strong>追加パッケージの説明：</strong></p>
<table>
<thead>
<tr>
<th>パッケージ</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>javafx.controls</td>
<td>標準 UI コントロール</td>
</tr>
<tr>
<td>javafx.fxml</td>
<td>FXML パーサー</td>
</tr>
<tr>
<td>ControlsFX</td>
<td>拡張コントロール（SearchableComboBox等）</td>
</tr>
<tr>
<td>Ikonli</td>
<td>アイコンフォント</td>
</tr>
<tr>
<td>JasperReports</td>
<td>帳票出力</td>
</tr>
<tr>
<td>Apache POI</td>
<td>Excel 出力</td>
</tr>
<tr>
<td>TestFX</td>
<td>UI 自動テスト</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="466-spring-boot-javafx">46.6 Spring Boot + JavaFX 統合<a class="headerlink" href="#466-spring-boot-javafx" title="Permanent link">&para;</a></h3>
<details>
<summary>JavaFxApplication.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.in.javafx</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.application.Application</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.application.Platform</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.stage.Stage</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.boot.builder.SpringApplicationBuilder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.context.ConfigurableApplicationContext</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * JavaFX アプリケーションのエントリーポイント</span>
<span class="cm"> * Spring Boot コンテキストと JavaFX を統合</span>
<span class="cm"> */</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">JavaFxApplication</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Application</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ConfigurableApplicationContext</span><span class="w"> </span><span class="n">springContext</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">init</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">springContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SpringApplicationBuilder</span><span class="p">(</span><span class="n">ProductionApplication</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">run</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">start</span><span class="p">(</span><span class="n">Stage</span><span class="w"> </span><span class="n">primaryStage</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">StageManager</span><span class="w"> </span><span class="n">stageManager</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">springContext</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">StageManager</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">        </span><span class="n">stageManager</span><span class="p">.</span><span class="na">setPrimaryStage</span><span class="p">(</span><span class="n">primaryStage</span><span class="p">);</span>
<span class="w">        </span><span class="n">stageManager</span><span class="p">.</span><span class="na">switchScene</span><span class="p">(</span><span class="n">FxmlView</span><span class="p">.</span><span class="na">MAIN</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">stop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">springContext</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
<span class="w">        </span><span class="n">Platform</span><span class="p">.</span><span class="na">exit</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>StageManager.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.in.javafx.config</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.fxml.FXMLLoader</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.scene.Parent</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.scene.Scene</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.stage.Stage</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.context.ApplicationContext</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Component</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.io.IOException</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Objects</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * JavaFX Stage/Scene の管理</span>
<span class="cm"> */</span>
<span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StageManager</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">applicationContext</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Stage</span><span class="w"> </span><span class="n">primaryStage</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">StageManager</span><span class="p">(</span><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">applicationContext</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">applicationContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">applicationContext</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setPrimaryStage</span><span class="p">(</span><span class="n">Stage</span><span class="w"> </span><span class="n">primaryStage</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">primaryStage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">primaryStage</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">switchScene</span><span class="p">(</span><span class="n">FxmlView</span><span class="w"> </span><span class="n">view</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Parent</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">loadView</span><span class="p">(</span><span class="n">view</span><span class="p">.</span><span class="na">getFxmlPath</span><span class="p">());</span>
<span class="w">        </span><span class="n">Scene</span><span class="w"> </span><span class="n">scene</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Scene</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>

<span class="w">        </span><span class="n">scene</span><span class="p">.</span><span class="na">getStylesheets</span><span class="p">().</span><span class="na">add</span><span class="p">(</span>
<span class="w">            </span><span class="n">Objects</span><span class="p">.</span><span class="na">requireNonNull</span><span class="p">(</span>
<span class="w">                </span><span class="n">getClass</span><span class="p">().</span><span class="na">getResource</span><span class="p">(</span><span class="s">&quot;/css/application.css&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">).</span><span class="na">toExternalForm</span><span class="p">()</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="n">primaryStage</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="n">view</span><span class="p">.</span><span class="na">getTitle</span><span class="p">());</span>
<span class="w">        </span><span class="n">primaryStage</span><span class="p">.</span><span class="na">setScene</span><span class="p">(</span><span class="n">scene</span><span class="p">);</span>
<span class="w">        </span><span class="n">primaryStage</span><span class="p">.</span><span class="na">centerOnScreen</span><span class="p">();</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">primaryStage</span><span class="p">.</span><span class="na">isShowing</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">primaryStage</span><span class="p">.</span><span class="na">show</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Parent</span><span class="w"> </span><span class="nf">loadView</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">fxmlPath</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">FXMLLoader</span><span class="w"> </span><span class="n">loader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FXMLLoader</span><span class="p">(</span><span class="n">getClass</span><span class="p">().</span><span class="na">getResource</span><span class="p">(</span><span class="n">fxmlPath</span><span class="p">));</span>
<span class="w">            </span><span class="n">loader</span><span class="p">.</span><span class="na">setControllerFactory</span><span class="p">(</span><span class="n">applicationContext</span><span class="p">::</span><span class="n">getBean</span><span class="p">);</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">loader</span><span class="p">.</span><span class="na">load</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="s">&quot;FXML ロードエラー: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">fxmlPath</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ApplicationContext</span><span class="w"> </span><span class="nf">getApplicationContext</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">applicationContext</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>FxmlView.java（画面定義）</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.in.javafx.config</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">FxmlView</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="n">MAIN</span><span class="p">(</span><span class="s">&quot;/fxml/main.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;生産管理システム&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">ITEM_LIST</span><span class="p">(</span><span class="s">&quot;/fxml/item/item-list.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;品目マスタ&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">ITEM_EDIT</span><span class="p">(</span><span class="s">&quot;/fxml/item/item-edit.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;品目編集&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">BOM_TREE</span><span class="p">(</span><span class="s">&quot;/fxml/bom/bom-tree.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;BOM展開&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">WHERE_USED</span><span class="p">(</span><span class="s">&quot;/fxml/bom/where-used.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;使用先照会&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">ORDER_LIST</span><span class="p">(</span><span class="s">&quot;/fxml/purchase/order-list.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;発注一覧&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">ORDER_ENTRY</span><span class="p">(</span><span class="s">&quot;/fxml/purchase/order-entry.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;発注入力&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">STOCK_LIST</span><span class="p">(</span><span class="s">&quot;/fxml/inventory/stock-list.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;在庫照会&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">MRP_EXECUTION</span><span class="p">(</span><span class="s">&quot;/fxml/mrp/mrp-execution.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;MRP実行&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">fxmlPath</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">title</span><span class="p">;</span>

<span class="w">    </span><span class="n">FxmlView</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">fxmlPath</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">title</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">fxmlPath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fxmlPath</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">title</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getFxmlPath</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">fxmlPath</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getTitle</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">title</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h3 id="467-javafx-property">46.7 JavaFX Property の活用<a class="headerlink" href="#467-javafx-property" title="Permanent link">&para;</a></h3>
<p>JavaFX の Property 機能を使って、UI とデータの双方向バインディングを実現します。</p>
<details>
<summary>ItemRow.java（View 用データクラス）</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.in.javafx.view</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.beans.property.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 品目マスタ画面用の行モデル</span>
<span class="cm"> */</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ItemRow</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">itemCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">itemName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">categoryName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">IntegerProperty</span><span class="w"> </span><span class="n">leadTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleIntegerProperty</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">IntegerProperty</span><span class="w"> </span><span class="n">safetyStock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleIntegerProperty</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">unitCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Property アクセサ</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">itemCodeProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">itemCode</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">itemNameProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">itemName</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">categoryNameProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">categoryName</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">IntegerProperty</span><span class="w"> </span><span class="nf">leadTimeProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">leadTime</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">IntegerProperty</span><span class="w"> </span><span class="nf">safetyStockProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">safetyStock</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">unitCodeProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">unitCode</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Getter/Setter</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getItemCode</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">itemCode</span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setItemCode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">itemCode</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getItemName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">itemName</span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setItemName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">itemName</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getCategoryName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">categoryName</span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setCategoryName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">categoryName</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getLeadTime</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">leadTime</span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setLeadTime</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">leadTime</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getSafetyStock</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">safetyStock</span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setSafetyStock</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">safetyStock</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>ItemViewModel.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.in.javafx.viewmodel</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.application.port.in.ItemUseCase</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.item.Item</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.item.ItemCategory</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.in.javafx.view.ItemRow</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.beans.property.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.collections.FXCollections</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.collections.ObservableList</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Component</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ItemViewModel</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ItemUseCase</span><span class="w"> </span><span class="n">itemUseCase</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ObservableList</span><span class="o">&lt;</span><span class="n">ItemRow</span><span class="o">&gt;</span><span class="w"> </span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FXCollections</span><span class="p">.</span><span class="na">observableArrayList</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">ItemRow</span><span class="o">&gt;</span><span class="w"> </span><span class="n">selectedItem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleObjectProperty</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">searchKeyword</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">ItemCategory</span><span class="o">&gt;</span><span class="w"> </span><span class="n">filterCategory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleObjectProperty</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">BooleanProperty</span><span class="w"> </span><span class="n">loading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleBooleanProperty</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">errorMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">ItemViewModel</span><span class="p">(</span><span class="n">ItemUseCase</span><span class="w"> </span><span class="n">itemUseCase</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">itemUseCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">itemUseCase</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">search</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">loading</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">        </span><span class="n">errorMessage</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">filterCategory</span><span class="p">.</span><span class="na">get</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">itemUseCase</span><span class="p">.</span><span class="na">getItemsByCategory</span><span class="p">(</span><span class="n">filterCategory</span><span class="p">.</span><span class="na">get</span><span class="p">());</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">searchKeyword</span><span class="p">.</span><span class="na">get</span><span class="p">().</span><span class="na">isBlank</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">itemUseCase</span><span class="p">.</span><span class="na">searchByKeyword</span><span class="p">(</span><span class="n">searchKeyword</span><span class="p">.</span><span class="na">get</span><span class="p">());</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">itemUseCase</span><span class="p">.</span><span class="na">getAllItems</span><span class="p">();</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="n">items</span><span class="p">.</span><span class="na">clear</span><span class="p">();</span>
<span class="w">            </span><span class="n">result</span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">item</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">toRow</span><span class="p">(</span><span class="n">item</span><span class="p">)));</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">errorMessage</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&quot;検索エラー: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">loading</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">delete</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">loading</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">itemUseCase</span><span class="p">.</span><span class="na">deleteItem</span><span class="p">(</span><span class="n">itemCode</span><span class="p">);</span>
<span class="w">            </span><span class="n">items</span><span class="p">.</span><span class="na">removeIf</span><span class="p">(</span><span class="n">row</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">row</span><span class="p">.</span><span class="na">getItemCode</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="n">itemCode</span><span class="p">));</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">errorMessage</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&quot;削除エラー: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="n">e</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">loading</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ObservableList</span><span class="o">&lt;</span><span class="n">ItemRow</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getItems</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">items</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">ItemRow</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">selectedItemProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">selectedItem</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">searchKeywordProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">searchKeyword</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">ItemCategory</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">filterCategoryProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">filterCategory</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BooleanProperty</span><span class="w"> </span><span class="nf">loadingProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">loading</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">errorMessageProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">errorMessage</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ItemRow</span><span class="w"> </span><span class="nf">toRow</span><span class="p">(</span><span class="n">Item</span><span class="w"> </span><span class="n">item</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ItemRow</span><span class="w"> </span><span class="n">row</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ItemRow</span><span class="p">();</span>
<span class="w">        </span><span class="n">row</span><span class="p">.</span><span class="na">setItemCode</span><span class="p">(</span><span class="n">item</span><span class="p">.</span><span class="na">getItemCode</span><span class="p">());</span>
<span class="w">        </span><span class="n">row</span><span class="p">.</span><span class="na">setItemName</span><span class="p">(</span><span class="n">item</span><span class="p">.</span><span class="na">getItemName</span><span class="p">());</span>
<span class="w">        </span><span class="n">row</span><span class="p">.</span><span class="na">setCategoryName</span><span class="p">(</span><span class="n">item</span><span class="p">.</span><span class="na">getCategory</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="na">getCategory</span><span class="p">().</span><span class="na">name</span><span class="p">()</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">row</span><span class="p">.</span><span class="na">setLeadTime</span><span class="p">(</span><span class="n">item</span><span class="p">.</span><span class="na">getLeadTime</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="na">getLeadTime</span><span class="p">()</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">        </span><span class="n">row</span><span class="p">.</span><span class="na">setSafetyStock</span><span class="p">(</span><span class="n">item</span><span class="p">.</span><span class="na">getSafetyStock</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="na">getSafetyStock</span><span class="p">()</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">row</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="39">第39章：マスタの実装<a class="headerlink" href="#39" title="Permanent link">&para;</a></h2>
<h3 id="391">39.1 品目マスタ画面の設計<a class="headerlink" href="#391" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9Ijc1MnB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NTMycHg7aGVpZ2h0Ojc1MnB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDUzMiA3NTIiIHdpZHRoPSI1MzJweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjwhLS1jbHVzdGVyID8/Pz8/Pz8/Py0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLWVudGl0eT0iLi4uLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIxIiBkYXRhLXVpZD0iZW50MDAwMiIgaWQ9ImNsdXN0ZXJfLi4uLi4uLi4uIj48cGF0aCBkPSJNOC41LDYgTDEzNS40OTk1LDYgQTMuNzUsMy43NSAwIDAgMSAxMzcuOTk5NSw4LjUgTDE0NC45OTk1LDI4LjI5NjkgTDUyMi41LDI4LjI5NjkgQTIuNSwyLjUgMCAwIDEgNTI1LDMwLjc5NjkgTDUyNSw3NDIuODEgQTIuNSwyLjUgMCAwIDEgNTIyLjUsNzQ1LjMxIEw4LjUsNzQ1LjMxIEEyLjUsMi41IDAgMCAxIDYsNzQyLjgxIEw2LDguNSBBMi41LDIuNSAwIDAgMSA4LjUsNiIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNiIgeDI9IjE0NC45OTk1IiB5MT0iMjguMjk2OSIgeTI9IjI4LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI1Ljk5OTUiIHg9IjEwIiB5PSIyMC45OTUxIj4mIzIxNjk3OyYjMzA0NDY7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7JiMzMDAxMTsmIzM4NzU0OyYjMjcwODM7JiMyNTEwNDs8L3RleHQ+PC9nPjwhLS1jbGFzcyBsaXN0LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9Imxpc3QiIGRhdGEtc291cmNlLWxpbmU9IjMiIGRhdGEtdWlkPSJlbnQwMDAzIiBpZD0iZW50aXR5X2xpc3QiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjA1LjI2NTYiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjIwMS4yNTk0IiB4PSIyMi4zNyIgeT0iNDEiLz48ZWxsaXBzZSBjeD0iNTcuMDU1MSIgY3k9IjYyLjI5NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTYwLjAyMzksNjcuOTM3NSBRNTkuNDQ1OCw2OC4yMzQ0IDU4LjgwNTEsNjguMzc1IFE1OC4xNjQ1LDY4LjUzMTMgNTcuNDYxNCw2OC41MzEzIFE1NC45NjE0LDY4LjUzMTMgNTMuNjMzMyw2Ni44OTA2IFE1Mi4zMjA4LDY1LjIzNDQgNTIuMzIwOCw2Mi4xMDk0IFE1Mi4zMjA4LDU4Ljk4NDQgNTMuNjMzMyw1Ny4zMjgxIFE1NC45NjE0LDU1LjY3MTkgNTcuNDYxNCw1NS42NzE5IFE1OC4xNjQ1LDU1LjY3MTkgNTguODA1MSw1NS44MjgxIFE1OS40NjE0LDU1Ljk4NDQgNjAuMDIzOSw1Ni4yODEzIEw2MC4wMjM5LDU5IFE1OS4zOTg5LDU4LjQyMTkgNTguODA1MSw1OC4xNTYzIFE1OC4yMTE0LDU3Ljg3NSA1Ny41ODY0LDU3Ljg3NSBRNTYuMjQyNiw1Ny44NzUgNTUuNTU1MSw1OC45NTMxIFE1NC44Njc2LDYwLjAxNTYgNTQuODY3Niw2Mi4xMDk0IFE1NC44Njc2LDY0LjIwMzEgNTUuNTU1MSw2NS4yODEzIFE1Ni4yNDI2LDY2LjM0MzggNTcuNTg2NCw2Ni4zNDM4IFE1OC4yMTE0LDY2LjM0MzggNTguODA1MSw2Ni4wNzgxIFE1OS4zOTg5LDY1Ljc5NjkgNjAuMDIzOSw2NS4yMTg4IEw2MC4wMjM5LDY3LjkzNzUgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjUuNTE0NiIgeD0iNzUuNDI5NiIgeT0iNTguOTk1MSI+SXRlbUxpc3RDb250cm9sbGVyPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY2LjkyMzYiIHg9IjEwNC43MjUxIiB5PSI3NS4yOTIiPigmIzE5OTY4OyYjMzUyMzk7JiMzMDAxMTsmIzM4NzU0Oyk8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjMuMzciIHgyPSIyMjIuNjI5NCIgeTE9IjgzLjU5MzgiIHkyPSI4My41OTM4Ii8+PGVsbGlwc2UgY3g9IjMzLjM3IiBjeT0iOTcuMjQyMiIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTU3LjEyNCIgeD0iNDIuMzciIHk9IjEwMC41ODg5Ij5UYWJsZVZpZXcmbHQ7SXRlbVJvdyZndDs8L3RleHQ+PGVsbGlwc2UgY3g9IjMzLjM3IiBjeT0iMTEzLjUzOTEiIGZpbGw9IiM4NEJFODQiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNy42NDU0IiB4PSI0Mi4zNyIgeT0iMTE2Ljg4NTciPlRleHRGaWVsZCAoJiMyNjkwODsmIzMyMDM0Oyk8L3RleHQ+PGVsbGlwc2UgY3g9IjMzLjM3IiBjeT0iMTI5LjgzNTkiIGZpbGw9IiM4NEJFODQiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE3NS4yNTk0IiB4PSI0Mi4zNyIgeT0iMTMzLjE4MjYiPkNvbWJvQm94ICgmIzIxMzA2OyYjMjA5OTg7JiMxMjUwMTsmIzEyNDUxOyYjMTI1MjM7JiMxMjQ3OTspPC90ZXh0PjxlbGxpcHNlIGN4PSIzMy4zNyIgY3k9IjE0Ni4xMzI4IiBmaWxsPSIjODRCRTg0IiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTUuNzAxOCIgeD0iNDIuMzciIHk9IjE0OS40Nzk1Ij5CdXR0b24gKCYjMjYwMzI7JiMzNTIxNTsvJiMzMjIzMjsmIzM4NTk4Oy8mIzIxMDY2OyYjMzg1MDA7KTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjMuMzciIHgyPSIyMjIuNjI5NCIgeTE9IjE1Ni43ODEzIiB5Mj0iMTU2Ljc4MTMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS4yNzU0IiB4PSIyOC4zNyIgeT0iMTczLjc3NjQiPmluaXRpYWxpemUoKTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3Ni43Njc2IiB4PSIyOC4zNyIgeT0iMTkwLjA3MzIiPm9uU2VhcmNoKCk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTguODk4NCIgeD0iMjguMzciIHk9IjIwNi4zNzAxIj5vbk5ldygpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1LjQ3MzYiIHg9IjI4LjM3IiB5PSIyMjIuNjY3Ij5vbkVkaXQoKTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3NC4zNjEzIiB4PSIyOC4zNyIgeT0iMjM4Ljk2MzkiPm9uRGVsZXRlKCk8L3RleHQ+PC9nPjwhLS1jbGFzcyBlZGl0LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9ImVkaXQiIGRhdGEtc291cmNlLWxpbmU9IjE2IiBkYXRhLXVpZD0iZW50MDAwNCIgaWQ9ImVudGl0eV9lZGl0Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjE1Ni4zNzUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjI1MC4zNjE3IiB4PSIyNTguODIiIHk9IjY1LjQ0Ii8+PGVsbGlwc2UgY3g9IjMxNS42NzQyIiBjeT0iODYuNzM2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMzE4LjY0MjksOTIuMzc3NSBRMzE4LjA2NDgsOTIuNjc0NCAzMTcuNDI0Miw5Mi44MTUgUTMxNi43ODM2LDkyLjk3MTIgMzE2LjA4MDQsOTIuOTcxMiBRMzEzLjU4MDQsOTIuOTcxMiAzMTIuMjUyMyw5MS4zMzA2IFEzMTAuOTM5OCw4OS42NzQ0IDMxMC45Mzk4LDg2LjU0OTQgUTMxMC45Mzk4LDgzLjQyNDQgMzEyLjI1MjMsODEuNzY4MSBRMzEzLjU4MDQsODAuMTExOSAzMTYuMDgwNCw4MC4xMTE5IFEzMTYuNzgzNiw4MC4xMTE5IDMxNy40MjQyLDgwLjI2ODEgUTMxOC4wODA0LDgwLjQyNDQgMzE4LjY0MjksODAuNzIxMiBMMzE4LjY0MjksODMuNDQgUTMxOC4wMTc5LDgyLjg2MTkgMzE3LjQyNDIsODIuNTk2MiBRMzE2LjgzMDQsODIuMzE1IDMxNi4yMDU0LDgyLjMxNSBRMzE0Ljg2MTcsODIuMzE1IDMxNC4xNzQyLDgzLjM5MzEgUTMxMy40ODY3LDg0LjQ1NTYgMzEzLjQ4NjcsODYuNTQ5NCBRMzEzLjQ4NjcsODguNjQzMSAzMTQuMTc0Miw4OS43MjEyIFEzMTQuODYxNyw5MC43ODM3IDMxNi4yMDU0LDkwLjc4MzcgUTMxNi44MzA0LDkwLjc4MzcgMzE3LjQyNDIsOTAuNTE4MSBRMzE4LjAxNzksOTAuMjM2OSAzMTguNjQyOSw4OS42NTg3IEwzMTguNjQyOSw5Mi4zNzc1IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI4LjE1MzMiIHg9IjMzNi4xNzQyIiB5PSI4My40MzUxIj5JdGVtRWRpdENvbnRyb2xsZXI8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjYuOTIzNiIgeD0iMzY2Ljc4OTEiIHk9Ijk5LjczMiI+KCYjMzIyMzI7JiMzODU5ODsmIzMwMDExOyYjMzg3NTQ7KTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyNTkuODIiIHgyPSI1MDguMTgxNyIgeTE9IjEwOC4wMzM3IiB5Mj0iMTA4LjAzMzciLz48ZWxsaXBzZSBjeD0iMjY5LjgyIiBjeT0iMTIxLjY4MjIiIGZpbGw9IiM4NEJFODQiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1NC4zNjIiIHg9IjI3OC44MiIgeT0iMTI1LjAyODkiPlRleHRGaWVsZCAoJiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7LyYjMjE1MTc7JiMzMTIxNjspPC90ZXh0PjxlbGxpcHNlIGN4PSIyNjkuODIiIGN5PSIxMzcuOTc5MSIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ3LjI1OTUiIHg9IjI3OC44MiIgeT0iMTQxLjMyNTciPkNvbWJvQm94ICgmIzIxNjk3OyYjMzA0NDY7JiMyMTMwNjsmIzIwOTk4Oyk8L3RleHQ+PGVsbGlwc2UgY3g9IjI2OS44MiIgY3k9IjE1NC4yNzU5IiBmaWxsPSIjODRCRTg0IiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMjQuMzYxNyIgeD0iMjc4LjgyIiB5PSIxNTcuNjIyNiI+VGV4dEZpZWxkICgmIzEyNTIyOyYjMTI1NDA7JiMxMjQ4OTsmIzEyNDc5OyYjMTI0NTI7JiMxMjUxMjsvJiMyMzQzMzsmIzIwODQwOyYjMjIzMTI7JiMyNDIzNTspPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNTkuODIiIHgyPSI1MDguMTgxNyIgeTE9IjE2NC45MjQ0IiB5Mj0iMTY0LjkyNDQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS4yNzU0IiB4PSIyNjQuODIiIHk9IjE4MS45MTk1Ij5pbml0aWFsaXplKCk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjIuNzI2NiIgeD0iMjY0LjgyIiB5PSIxOTguMjE2NCI+b25TYXZlKCk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzUuNzkiIHg9IjI2NC44MiIgeT0iMjE0LjUxMzIiPm9uQ2FuY2VsKCk8L3RleHQ+PC9nPjwhLS1jbGFzcyB2bS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJ2bSIgZGF0YS1zb3VyY2UtbGluZT0iMjYiIGRhdGEtdWlkPSJlbnQwMDA1IiBpZD0iZW50aXR5X3ZtIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjE4OC45Njg4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyMTUuMzY5MSIgeD0iMTA3LjMyIiB5PSIzMjMuMjYiLz48ZWxsaXBzZSBjeD0iMTU3LjAzNzgiIGN5PSIzNDQuNTU2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMTYwLjAwNjUsMzUwLjE5NzUgUTE1OS40Mjg0LDM1MC40OTQ0IDE1OC43ODc4LDM1MC42MzUgUTE1OC4xNDcxLDM1MC43OTEyIDE1Ny40NDQsMzUwLjc5MTIgUTE1NC45NDQsMzUwLjc5MTIgMTUzLjYxNTksMzQ5LjE1MDYgUTE1Mi4zMDM0LDM0Ny40OTQ0IDE1Mi4zMDM0LDM0NC4zNjk0IFExNTIuMzAzNCwzNDEuMjQ0NCAxNTMuNjE1OSwzMzkuNTg4MSBRMTU0Ljk0NCwzMzcuOTMxOSAxNTcuNDQ0LDMzNy45MzE5IFExNTguMTQ3MSwzMzcuOTMxOSAxNTguNzg3OCwzMzguMDg4MSBRMTU5LjQ0NCwzMzguMjQ0NCAxNjAuMDA2NSwzMzguNTQxMiBMMTYwLjAwNjUsMzQxLjI2IFExNTkuMzgxNSwzNDAuNjgxOSAxNTguNzg3OCwzNDAuNDE2MiBRMTU4LjE5NCwzNDAuMTM1IDE1Ny41NjksMzQwLjEzNSBRMTU2LjIyNTMsMzQwLjEzNSAxNTUuNTM3OCwzNDEuMjEzMSBRMTU0Ljg1MDMsMzQyLjI3NTYgMTU0Ljg1MDMsMzQ0LjM2OTQgUTE1NC44NTAzLDM0Ni40NjMxIDE1NS41Mzc4LDM0Ny41NDEyIFExNTYuMjI1MywzNDguNjAzNyAxNTcuNTY5LDM0OC42MDM3IFExNTguMTk0LDM0OC42MDM3IDE1OC43ODc4LDM0OC4zMzgxIFExNTkuMzgxNSwzNDguMDU2OSAxNjAuMDA2NSwzNDcuNDc4NyBMMTYwLjAwNjUsMzUwLjE5NzUgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDcuNDMzNiIgeD0iMTc3LjUzNzgiIHk9IjM0MS4yNTUxIj5JdGVtVmlld01vZGVsPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY2LjkyMzYiIHg9IjE5Ny43OTI4IiB5PSIzNTcuNTUyIj4oJiMzMDAxMTsmIzM4NzU0OyYjMjkzNjY7JiMyNDkwNzspPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjEwOC4zMiIgeDI9IjMyMS42ODkxIiB5MT0iMzY1Ljg1MzciIHkyPSIzNjUuODUzNyIvPjxlbGxpcHNlIGN4PSIxMTguMzIiIGN5PSIzNzkuNTAyMiIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTg5LjM2OTEiIHg9IjEyNy4zMiIgeT0iMzgyLjg0ODkiPk9ic2VydmFibGVMaXN0Jmx0O0l0ZW1Sb3cmZ3Q7PC90ZXh0PjxlbGxpcHNlIGN4PSIxMTguMzIiIGN5PSIzOTUuNzk5MSIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTAuOTY1OCIgeD0iMTI3LjMyIiB5PSIzOTkuMTQ1NyI+c2VsZWN0ZWRJdGVtPC90ZXh0PjxlbGxpcHNlIGN4PSIxMTguMzIiIGN5PSI0MTIuMDk1OSIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA3LjU0OTgiIHg9IjEyNy4zMiIgeT0iNDE1LjQ0MjYiPnNlYXJjaEtleXdvcmQ8L3RleHQ+PGVsbGlwc2UgY3g9IjExOC4zMiIgY3k9IjQyOC4zOTI4IiBmaWxsPSJub25lIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ni41MTY2IiB4PSIxMjcuMzIiIHk9IjQzMS43Mzk1Ij5maWx0ZXJDYXRlZ29yeTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTA4LjMyIiB4Mj0iMzIxLjY4OTEiIHkxPSI0MzkuMDQxMiIgeTI9IjQzOS4wNDEyIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTcuNzM2MyIgeD0iMTEzLjMyIiB5PSI0NTYuMDM2NCI+c2VhcmNoKCk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuNjcxOSIgeD0iMTEzLjMyIiB5PSI0NzIuMzMzMiI+Y3JlYXRlKCk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjAuMjUyIiB4PSIxMTMuMzIiIHk9IjQ4OC42MzAxIj51cGRhdGUoKTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS4wMjkzIiB4PSIxMTMuMzIiIHk9IjUwNC45MjciPmRlbGV0ZSgpPC90ZXh0PjwvZz48IS0tY2xhc3MgdXNlY2FzZS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJ1c2VjYXNlIiBkYXRhLXNvdXJjZS1saW5lPSIzOCIgZGF0YS11aWQ9ImVudDAwMDYiIGlkPSJlbnRpdHlfdXNlY2FzZSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxNDAuMDc4MSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTU0LjkyMzMiIHg9IjEzNy41NCIgeT0iNTg5LjIzIi8+PGVsbGlwc2UgY3g9IjE1Mi41NCIgY3k9IjYxMC41MjY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0xNTUuNTA4OCw2MTYuMTY3NSBRMTU0LjkzMDYsNjE2LjQ2NDQgMTU0LjI5LDYxNi42MDUgUTE1My42NDk0LDYxNi43NjEyIDE1Mi45NDYzLDYxNi43NjEyIFExNTAuNDQ2Myw2MTYuNzYxMiAxNDkuMTE4MSw2MTUuMTIwNiBRMTQ3LjgwNTYsNjEzLjQ2NDQgMTQ3LjgwNTYsNjEwLjMzOTQgUTE0Ny44MDU2LDYwNy4yMTQ0IDE0OS4xMTgxLDYwNS41NTgxIFExNTAuNDQ2Myw2MDMuOTAxOSAxNTIuOTQ2Myw2MDMuOTAxOSBRMTUzLjY0OTQsNjAzLjkwMTkgMTU0LjI5LDYwNC4wNTgxIFExNTQuOTQ2Myw2MDQuMjE0NCAxNTUuNTA4OCw2MDQuNTExMiBMMTU1LjUwODgsNjA3LjIzIFExNTQuODgzOCw2MDYuNjUxOSAxNTQuMjksNjA2LjM4NjIgUTE1My42OTYzLDYwNi4xMDUgMTUzLjA3MTMsNjA2LjEwNSBRMTUxLjcyNzUsNjA2LjEwNSAxNTEuMDQsNjA3LjE4MzEgUTE1MC4zNTI1LDYwOC4yNDU2IDE1MC4zNTI1LDYxMC4zMzk0IFExNTAuMzUyNSw2MTIuNDMzMSAxNTEuMDQsNjEzLjUxMTIgUTE1MS43Mjc1LDYxNC41NzM3IDE1My4wNzEzLDYxNC41NzM3IFExNTMuNjk2Myw2MTQuNTczNyAxNTQuMjksNjE0LjMwODEgUTE1NC44ODM4LDYxNC4wMjY5IDE1NS41MDg4LDYxMy40NDg3IEwxNTUuNTA4OCw2MTYuMTY3NSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkyLjI4NTIiIHg9IjE4MS44NTkxIiB5PSI2MDcuMjI1MSI+SXRlbVVzZUNhc2U8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIyLjkyMzMiIHg9IjE2Ni41NCIgeT0iNjIzLjUyMiI+KCYjMTI0OTk7JiMxMjQ3MjsmIzEyNDkzOyYjMTI0NzM7JiMxMjUyNTsmIzEyNDcyOyYjMTI0ODM7JiMxMjQ2MzspPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjEzOC41NCIgeDI9IjI5MS40NjMzIiB5MT0iNjMxLjgyMzciIHkyPSI2MzEuODIzNyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjEzOC41NCIgeDI9IjI5MS40NjMzIiB5MT0iNjM5LjgyMzciIHkyPSI2MzkuODIzNyIvPjxlbGxpcHNlIGN4PSIxNDguNTQiIGN5PSI2NTMuNDcyMiIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTQuODU4NCIgeD0iMTU3LjU0IiB5PSI2NTYuODE4OSI+ZmluZEFsbCgpPC90ZXh0PjxlbGxpcHNlIGN4PSIxNDguNTQiIGN5PSI2NjkuNzY5MSIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEuMjMyNCIgeD0iMTU3LjU0IiB5PSI2NzMuMTE1NyI+ZmluZEJ5Q29kZSgpPC90ZXh0PjxlbGxpcHNlIGN4PSIxNDguNTQiIGN5PSI2ODYuMDY1OSIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuNjcxOSIgeD0iMTU3LjU0IiB5PSI2ODkuNDEyNiI+Y3JlYXRlKCk8L3RleHQ+PGVsbGlwc2UgY3g9IjE0OC41NCIgY3k9IjcwMi4zNjI4IiBmaWxsPSIjODRCRTg0IiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2MC4yNTIiIHg9IjE1Ny41NCIgeT0iNzA1LjcwOTUiPnVwZGF0ZSgpPC90ZXh0PjxlbGxpcHNlIGN4PSIxNDguNTQiIGN5PSI3MTguNjU5NyIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuMDI5MyIgeD0iMTU3LjU0IiB5PSI3MjIuMDA2NCI+ZGVsZXRlKCk8L3RleHQ+PC9nPjwhLS1saW5rIGxpc3QgdG8gdm0tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0ibGlzdCIgZGF0YS1lbnRpdHktMj0idm0iIGRhdGEtc291cmNlLWxpbmU9IjQ3IiBkYXRhLXVpZD0ibG5rNyIgaWQ9ImxpbmtfbGlzdF92bSI+PHBhdGggY29kZUxpbmU9IjQ3IiBkPSJNMTU3LjUyLDI0Ni43MyBDMTY1Ljk4LDI3MS43NyAxNzMuMDc5MSwyOTIuNzU1OCAxODEuMzk5MSwzMTcuMzc1OCIgZmlsbD0ibm9uZSIgaWQ9Imxpc3QtdG8tdm0iIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjE4My4zMiwzMjMuMDYsMTg0LjIyODEsMzEzLjI1MzEsMTgxLjcxOTMsMzE4LjMyMzIsMTc2LjY0OTIsMzE1LjgxNDMsMTgzLjMyLDMyMy4wNiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyLjAwMDEiIHg9IjE3Mi43NiIgeT0iMjg5LjMyNjkiPiYjMTI0OTY7JiMxMjQ1MjsmIzEyNTMxOyYjMTI0ODk7PC90ZXh0PjwvZz48IS0tbGluayBlZGl0IHRvIHZtLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVkaXQiIGRhdGEtZW50aXR5LTI9InZtIiBkYXRhLXNvdXJjZS1saW5lPSI0OCIgZGF0YS11aWQ9ImxuazgiIGlkPSJsaW5rX2VkaXRfdm0iPjxwYXRoIGNvZGVMaW5lPSI0OCIgZD0iTTMzNS44LDIyMi4yNCBDMzE2LjI5LDI1My42NiAyOTYuNzQ1NSwyODUuMTEzIDI3Ni4zMjU1LDMxNy45OTMiIGZpbGw9Im5vbmUiIGlkPSJlZGl0LXRvLXZtIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNzMuMTYsMzIzLjA5LDI4MS4zMDYzLDMxNy41NTQ4LDI3NS43OTc5LDMxOC44NDI1LDI3NC41MTAyLDMxMy4zMzQxLDI3My4xNiwzMjMuMDkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1Mi4wMDAxIiB4PSIzMDAuNSIgeT0iMjg5LjMyNjkiPiYjMTI0OTY7JiMxMjQ1MjsmIzEyNTMxOyYjMTI0ODk7PC90ZXh0PjwvZz48IS0tbGluayB2bSB0byB1c2VjYXNlLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9InZtIiBkYXRhLWVudGl0eS0yPSJ1c2VjYXNlIiBkYXRhLXNvdXJjZS1saW5lPSI0OSIgZGF0YS11aWQ9ImxuazkiIGlkPSJsaW5rX3ZtX3VzZWNhc2UiPjxwYXRoIGNvZGVMaW5lPSI0OSIgZD0iTTIxNSw1MTIuNzMgQzIxNSw1MzguMTUgMjE1LDU1OS4yMSAyMTUsNTgzIiBmaWxsPSJub25lIiBpZD0idm0tdG8tdXNlY2FzZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjE1LDU4OSwyMTksNTgwLDIxNSw1ODQsMjExLDU4MCwyMTUsNTg5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjQuMDI4OCIgeD0iMjE2IiB5PSI1NTUuMjk2OSI+SW5wdXQgUG9ydDwvdGV4dD48L2c+PCEtLVNSQz1bVFA5UlFuRDE1Q1ZWenJDQy12R0dHanY1MmNQTEE1eG56a0pCUEZVcTNhdnNtaXVhUUhIMVRzWGZVaTUwUks1UUhNZmVXaUxRS0JITW1HeXBSaFJ2NWl3NXJoSk1mcHJwQmZwX3h0LXNXU0Y3VTFRR2R3c3pvM1Z0YjdvaHFreWdfUE1fLVo1LWlwcVFCOHlNVXB2d3dkYVhuUG1aVnJmMF9KaFg4YzJuSTFZYmEzb0MyeHlGZFhfajNEbjhxS1VPOHdmUno1Rzl0U0NyMld5OGoyLVFvSmtpRk1NSUMyVWs0ZzBIQWVwd01fY054UTlFMWduVU9yS3NYbWhQb2M2c2tBM2FrYWhWQXhjaHJQWHdqSWE0WV9ONG5seEhwaWpBX2NxdXRib2VQRHNieVVqLXFJa05GSDhKR0owYkp3MUd6NVh5NXQwSUZoQlhKTVpSeHZNODIxalMxV2gyajNxeDFNUmdmeTNTYWFhbXEycUV4Mi0zSVp5aC1MRjlSWU5oaFVRM19KQ3FyYlo3TDNtcEEzLXVHT3NlcWh3SXhvaFBOWlVSN3NQUm0tbm16cm1ndDc5MVdFQ0d3M3k4bmtlUkIwOWdyNWxULVRCTnFWb29Lei1nTS1zdFFYb0liaGNDRVVOYVBSV3M5WEdHY1BIejZXLWxHUVZEYWFZX1BtV0xhMEhPbTJuQkVhT1VGdE92SjAxUkl2a0RvME5ILUlSVnZuMVczYmdWYWNpZ0ZMMW9yVm5veWdFRGZLZV9FUXJEM2c3a2l1OWRJMW5UZWVSTW5UTEVlMWRqeXNIbDJQcmlCZzY5dE5neF9IbEJ2SWQzVm03dklsUWlzX2ZnTlQtcDVfclZLVVRDd0xZQmhhXzdaUVAwanJhWV8zeTBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h3 id="392-tdd">39.2 品目マスタ一覧画面の TDD 実装<a class="headerlink" href="#392-tdd" title="Permanent link">&para;</a></h3>
<h4 id="red">Red: 失敗するテストを書く<a class="headerlink" href="#red" title="Permanent link">&para;</a></h4>
<details>
<summary>ItemListControllerTest.java</summary>

<div class="highlight"><pre><span></span><code><span class="nd">@ExtendWith</span><span class="p">({</span><span class="n">ApplicationExtension</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">MockitoExtension</span><span class="p">.</span><span class="na">class</span><span class="p">})</span>
<span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;品目マスタ一覧画面&quot;</span><span class="p">)</span>
<span class="kd">class</span> <span class="nc">ItemListControllerTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Mock</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ItemUseCase</span><span class="w"> </span><span class="n">itemUseCase</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ItemViewModel</span><span class="w"> </span><span class="n">viewModel</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Start</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">start</span><span class="p">(</span><span class="n">Stage</span><span class="w"> </span><span class="n">stage</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">viewModel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ItemViewModel</span><span class="p">(</span><span class="n">itemUseCase</span><span class="p">);</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">controller</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ItemListController</span><span class="p">(</span><span class="n">viewModel</span><span class="p">);</span>

<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">loader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FXMLLoader</span><span class="p">(</span><span class="n">getClass</span><span class="p">().</span><span class="na">getResource</span><span class="p">(</span><span class="s">&quot;/fxml/item/item-list.fxml&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">loader</span><span class="p">.</span><span class="na">setController</span><span class="p">(</span><span class="n">controller</span><span class="p">);</span>
<span class="w">        </span><span class="n">stage</span><span class="p">.</span><span class="na">setScene</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Scene</span><span class="p">(</span><span class="n">loader</span><span class="p">.</span><span class="na">load</span><span class="p">()));</span>
<span class="w">        </span><span class="n">stage</span><span class="p">.</span><span class="na">show</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;品目一覧がテーブルに表示される&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldDisplayItemsInTable</span><span class="p">(</span><span class="n">FxRobot</span><span class="w"> </span><span class="n">robot</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Arrange</span>
<span class="w">        </span><span class="n">when</span><span class="p">(</span><span class="n">itemUseCase</span><span class="p">.</span><span class="na">getAllItems</span><span class="p">()).</span><span class="na">thenReturn</span><span class="p">(</span><span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span>
<span class="w">            </span><span class="n">createItem</span><span class="p">(</span><span class="s">&quot;PROD-001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;製品A&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ItemCategory</span><span class="p">.</span><span class="na">PRODUCT</span><span class="p">),</span>
<span class="w">            </span><span class="n">createItem</span><span class="p">(</span><span class="s">&quot;PART-001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;部品B&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ItemCategory</span><span class="p">.</span><span class="na">PART</span><span class="p">)</span>
<span class="w">        </span><span class="p">));</span>

<span class="w">        </span><span class="c1">// Act</span>
<span class="w">        </span><span class="n">robot</span><span class="p">.</span><span class="na">interact</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">viewModel</span><span class="p">.</span><span class="na">search</span><span class="p">());</span>

<span class="w">        </span><span class="c1">// Assert</span>
<span class="w">        </span><span class="n">TableView</span><span class="o">&lt;</span><span class="n">ItemRow</span><span class="o">&gt;</span><span class="w"> </span><span class="n">table</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="p">.</span><span class="na">lookup</span><span class="p">(</span><span class="s">&quot;#itemTable&quot;</span><span class="p">).</span><span class="na">queryTableView</span><span class="p">();</span>
<span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">table</span><span class="p">.</span><span class="na">getItems</span><span class="p">()).</span><span class="na">hasSize</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">table</span><span class="p">.</span><span class="na">getItems</span><span class="p">().</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="na">getItemCode</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&quot;PROD-001&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;品目区分でフィルタリングできる&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldFilterByCategory</span><span class="p">(</span><span class="n">FxRobot</span><span class="w"> </span><span class="n">robot</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">when</span><span class="p">(</span><span class="n">itemUseCase</span><span class="p">.</span><span class="na">getItemsByCategory</span><span class="p">(</span><span class="n">ItemCategory</span><span class="p">.</span><span class="na">PRODUCT</span><span class="p">)).</span><span class="na">thenReturn</span><span class="p">(</span><span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span>
<span class="w">            </span><span class="n">createItem</span><span class="p">(</span><span class="s">&quot;PROD-001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;製品A&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ItemCategory</span><span class="p">.</span><span class="na">PRODUCT</span><span class="p">)</span>
<span class="w">        </span><span class="p">));</span>

<span class="w">        </span><span class="n">robot</span><span class="p">.</span><span class="na">clickOn</span><span class="p">(</span><span class="s">&quot;#categoryComboBox&quot;</span><span class="p">).</span><span class="na">clickOn</span><span class="p">(</span><span class="s">&quot;製品&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">robot</span><span class="p">.</span><span class="na">clickOn</span><span class="p">(</span><span class="s">&quot;#searchButton&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="n">TableView</span><span class="o">&lt;</span><span class="n">ItemRow</span><span class="o">&gt;</span><span class="w"> </span><span class="n">table</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="p">.</span><span class="na">lookup</span><span class="p">(</span><span class="s">&quot;#itemTable&quot;</span><span class="p">).</span><span class="na">queryTableView</span><span class="p">();</span>
<span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">table</span><span class="p">.</span><span class="na">getItems</span><span class="p">()).</span><span class="na">hasSize</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;キーワードで品目を検索できる&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldSearchItemsByKeyword</span><span class="p">(</span><span class="n">FxRobot</span><span class="w"> </span><span class="n">robot</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">when</span><span class="p">(</span><span class="n">itemUseCase</span><span class="p">.</span><span class="na">searchByKeyword</span><span class="p">(</span><span class="s">&quot;製品&quot;</span><span class="p">)).</span><span class="na">thenReturn</span><span class="p">(</span><span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span>
<span class="w">            </span><span class="n">createItem</span><span class="p">(</span><span class="s">&quot;PROD-001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;製品A&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ItemCategory</span><span class="p">.</span><span class="na">PRODUCT</span><span class="p">)</span>
<span class="w">        </span><span class="p">));</span>

<span class="w">        </span><span class="n">robot</span><span class="p">.</span><span class="na">clickOn</span><span class="p">(</span><span class="s">&quot;#searchField&quot;</span><span class="p">).</span><span class="na">write</span><span class="p">(</span><span class="s">&quot;製品&quot;</span><span class="p">).</span><span class="na">type</span><span class="p">(</span><span class="n">KeyCode</span><span class="p">.</span><span class="na">ENTER</span><span class="p">);</span>

<span class="w">        </span><span class="n">TableView</span><span class="o">&lt;</span><span class="n">ItemRow</span><span class="o">&gt;</span><span class="w"> </span><span class="n">table</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="p">.</span><span class="na">lookup</span><span class="p">(</span><span class="s">&quot;#itemTable&quot;</span><span class="p">).</span><span class="na">queryTableView</span><span class="p">();</span>
<span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">table</span><span class="p">.</span><span class="na">getItems</span><span class="p">()).</span><span class="na">hasSize</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Item</span><span class="w"> </span><span class="nf">createItem</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">ItemCategory</span><span class="w"> </span><span class="n">category</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Item</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">itemCode</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">itemName</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">category</span><span class="p">(</span><span class="n">category</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">effectiveDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">())</span>
<span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="green-controller">Green: Controller の実装<a class="headerlink" href="#green-controller" title="Permanent link">&para;</a></h4>
<details>
<summary>ItemListController.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.in.javafx.controller</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.item.ItemCategory</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.in.javafx.util.AlertHelper</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.in.javafx.view.ItemRow</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.in.javafx.viewmodel.ItemViewModel</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.fxml.FXML</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.fxml.Initializable</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.scene.control.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.scene.control.cell.PropertyValueFactory</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Component</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.net.URL</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ResourceBundle</span><span class="p">;</span>

<span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ItemListController</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Initializable</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ItemViewModel</span><span class="w"> </span><span class="n">viewModel</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TextField</span><span class="w"> </span><span class="n">searchField</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">ComboBox</span><span class="o">&lt;</span><span class="n">ItemCategory</span><span class="o">&gt;</span><span class="w"> </span><span class="n">categoryComboBox</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TableView</span><span class="o">&lt;</span><span class="n">ItemRow</span><span class="o">&gt;</span><span class="w"> </span><span class="n">itemTable</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TableColumn</span><span class="o">&lt;</span><span class="n">ItemRow</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">codeColumn</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TableColumn</span><span class="o">&lt;</span><span class="n">ItemRow</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">nameColumn</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TableColumn</span><span class="o">&lt;</span><span class="n">ItemRow</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">categoryColumn</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TableColumn</span><span class="o">&lt;</span><span class="n">ItemRow</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">leadTimeColumn</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TableColumn</span><span class="o">&lt;</span><span class="n">ItemRow</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">safetyStockColumn</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Button</span><span class="w"> </span><span class="n">editButton</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Button</span><span class="w"> </span><span class="n">deleteButton</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Label</span><span class="w"> </span><span class="n">recordCount</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">ProgressIndicator</span><span class="w"> </span><span class="n">loadingIndicator</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">ItemListController</span><span class="p">(</span><span class="n">ItemViewModel</span><span class="w"> </span><span class="n">viewModel</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">viewModel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">viewModel</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">initialize</span><span class="p">(</span><span class="n">URL</span><span class="w"> </span><span class="n">url</span><span class="p">,</span><span class="w"> </span><span class="n">ResourceBundle</span><span class="w"> </span><span class="n">rb</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// カテゴリコンボボックスの設定</span>
<span class="w">        </span><span class="n">categoryComboBox</span><span class="p">.</span><span class="na">getItems</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span><span class="w">  </span><span class="c1">// 全て</span>
<span class="w">        </span><span class="n">categoryComboBox</span><span class="p">.</span><span class="na">getItems</span><span class="p">().</span><span class="na">addAll</span><span class="p">(</span><span class="n">ItemCategory</span><span class="p">.</span><span class="na">values</span><span class="p">());</span>
<span class="w">        </span><span class="n">categoryComboBox</span><span class="p">.</span><span class="na">valueProperty</span><span class="p">().</span><span class="na">bindBidirectional</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="na">filterCategoryProperty</span><span class="p">());</span>

<span class="w">        </span><span class="c1">// テーブルカラムの設定</span>
<span class="w">        </span><span class="n">codeColumn</span><span class="p">.</span><span class="na">setCellValueFactory</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PropertyValueFactory</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;itemCode&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">nameColumn</span><span class="p">.</span><span class="na">setCellValueFactory</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PropertyValueFactory</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;itemName&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">categoryColumn</span><span class="p">.</span><span class="na">setCellValueFactory</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PropertyValueFactory</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;categoryName&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">leadTimeColumn</span><span class="p">.</span><span class="na">setCellValueFactory</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PropertyValueFactory</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;leadTime&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">safetyStockColumn</span><span class="p">.</span><span class="na">setCellValueFactory</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PropertyValueFactory</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;safetyStock&quot;</span><span class="p">));</span>

<span class="w">        </span><span class="c1">// テーブルとViewModelのバインド</span>
<span class="w">        </span><span class="n">itemTable</span><span class="p">.</span><span class="na">setItems</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="na">getItems</span><span class="p">());</span>
<span class="w">        </span><span class="n">viewModel</span><span class="p">.</span><span class="na">selectedItemProperty</span><span class="p">().</span><span class="na">bind</span><span class="p">(</span><span class="n">itemTable</span><span class="p">.</span><span class="na">getSelectionModel</span><span class="p">().</span><span class="na">selectedItemProperty</span><span class="p">());</span>

<span class="w">        </span><span class="c1">// ボタンの有効/無効制御</span>
<span class="w">        </span><span class="n">editButton</span><span class="p">.</span><span class="na">disableProperty</span><span class="p">().</span><span class="na">bind</span><span class="p">(</span>
<span class="w">            </span><span class="n">itemTable</span><span class="p">.</span><span class="na">getSelectionModel</span><span class="p">().</span><span class="na">selectedItemProperty</span><span class="p">().</span><span class="na">isNull</span><span class="p">()</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">        </span><span class="n">deleteButton</span><span class="p">.</span><span class="na">disableProperty</span><span class="p">().</span><span class="na">bind</span><span class="p">(</span>
<span class="w">            </span><span class="n">itemTable</span><span class="p">.</span><span class="na">getSelectionModel</span><span class="p">().</span><span class="na">selectedItemProperty</span><span class="p">().</span><span class="na">isNull</span><span class="p">()</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="c1">// ローディングインジケーター</span>
<span class="w">        </span><span class="n">loadingIndicator</span><span class="p">.</span><span class="na">visibleProperty</span><span class="p">().</span><span class="na">bind</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="na">loadingProperty</span><span class="p">());</span>

<span class="w">        </span><span class="c1">// 検索フィールドのバインド</span>
<span class="w">        </span><span class="n">searchField</span><span class="p">.</span><span class="na">textProperty</span><span class="p">().</span><span class="na">bindBidirectional</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="na">searchKeywordProperty</span><span class="p">());</span>

<span class="w">        </span><span class="c1">// 件数表示</span>
<span class="w">        </span><span class="n">viewModel</span><span class="p">.</span><span class="na">getItems</span><span class="p">().</span><span class="na">addListener</span><span class="p">((</span><span class="n">observable</span><span class="p">,</span><span class="w"> </span><span class="n">oldValue</span><span class="p">,</span><span class="w"> </span><span class="n">newValue</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">recordCount</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="na">getItems</span><span class="p">().</span><span class="na">size</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; 件&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">});</span>

<span class="w">        </span><span class="c1">// 初期検索</span>
<span class="w">        </span><span class="n">viewModel</span><span class="p">.</span><span class="na">search</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onSearch</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">viewModel</span><span class="p">.</span><span class="na">search</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onNew</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 新規画面への遷移</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onEdit</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 編集画面への遷移</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onDelete</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ItemRow</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">viewModel</span><span class="p">.</span><span class="na">selectedItemProperty</span><span class="p">().</span><span class="na">get</span><span class="p">();</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">selected</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">AlertHelper</span><span class="p">.</span><span class="na">showConfirmation</span><span class="p">(</span>
<span class="w">                </span><span class="s">&quot;品目「&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">selected</span><span class="p">.</span><span class="na">getItemName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;」を削除しますか？&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">viewModel</span><span class="p">.</span><span class="na">delete</span><span class="p">(</span><span class="n">selected</span><span class="p">.</span><span class="na">getItemCode</span><span class="p">());</span>
<span class="w">                </span><span class="n">AlertHelper</span><span class="p">.</span><span class="na">showInfo</span><span class="p">(</span><span class="s">&quot;削除しました&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">AlertHelper</span><span class="p">.</span><span class="na">showError</span><span class="p">(</span><span class="s">&quot;削除に失敗しました: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onExportExcel</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Excel出力処理</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>item-list.fxml</summary>

<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="cp">&lt;?import javafx.scene.control.*?&gt;</span>
<span class="cp">&lt;?import javafx.scene.layout.*?&gt;</span>
<span class="cp">&lt;?import org.kordamp.ikonli.javafx.FontIcon?&gt;</span>

<span class="nt">&lt;VBox</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://javafx.com/javafx/21&quot;</span>
<span class="w">      </span><span class="na">xmlns:fx=</span><span class="s">&quot;http://javafx.com/fxml/1&quot;</span>
<span class="w">      </span><span class="na">fx:controller=</span><span class="s">&quot;com.example.production.infrastructure.in.javafx.controller.ItemListController&quot;</span>
<span class="w">      </span><span class="na">spacing=</span><span class="s">&quot;10&quot;</span><span class="w"> </span><span class="na">padding=</span><span class="s">&quot;10&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- ツールバー --&gt;</span>
<span class="w">    </span><span class="nt">&lt;HBox</span><span class="w"> </span><span class="na">spacing=</span><span class="s">&quot;10&quot;</span><span class="w"> </span><span class="na">alignment=</span><span class="s">&quot;CENTER_LEFT&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;ComboBox</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;categoryComboBox&quot;</span><span class="w"> </span><span class="na">promptText=</span><span class="s">&quot;品目区分&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;120&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;TextField</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;searchField&quot;</span><span class="w"> </span><span class="na">promptText=</span><span class="s">&quot;品目コード・品目名で検索&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;250&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;searchButton&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onSearch&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-search&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">        </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">        </span><span class="nt">&lt;Pane</span><span class="w"> </span><span class="na">HBox.hgrow=</span><span class="s">&quot;ALWAYS&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;newButton&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;新規&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;primary&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onNew&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-plus&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">        </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">        </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;editButton&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;編集&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onEdit&quot;</span><span class="w"> </span><span class="na">disable=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;deleteButton&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;削除&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;danger&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onDelete&quot;</span><span class="w"> </span><span class="na">disable=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;Excel出力&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onExportExcel&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-file-excel&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">        </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">    </span><span class="nt">&lt;/HBox&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- 品目テーブル --&gt;</span>
<span class="w">    </span><span class="nt">&lt;TableView</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;itemTable&quot;</span><span class="w"> </span><span class="na">VBox.vgrow=</span><span class="s">&quot;ALWAYS&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;placeholder&gt;&lt;Label</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;該当する品目がありません&quot;</span><span class="nt">/&gt;&lt;/placeholder&gt;</span>
<span class="w">        </span><span class="nt">&lt;columns&gt;</span>
<span class="w">            </span><span class="nt">&lt;TableColumn</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;codeColumn&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;品目コード&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;120&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;TableColumn</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;nameColumn&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;品目名&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;200&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;TableColumn</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;categoryColumn&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;品目区分&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;100&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;TableColumn</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;leadTimeColumn&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;リードタイム&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;100&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;TableColumn</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;safetyStockColumn&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;安全在庫&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;100&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;/columns&gt;</span>
<span class="w">    </span><span class="nt">&lt;/TableView&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- ステータスバー --&gt;</span>
<span class="w">    </span><span class="nt">&lt;HBox</span><span class="w"> </span><span class="na">spacing=</span><span class="s">&quot;10&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;status-bar&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;recordCount&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;0 件&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;Pane</span><span class="w"> </span><span class="na">HBox.hgrow=</span><span class="s">&quot;ALWAYS&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;ProgressIndicator</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;loadingIndicator&quot;</span><span class="w"> </span><span class="na">visible=</span><span class="s">&quot;false&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;20&quot;</span><span class="w"> </span><span class="na">prefHeight=</span><span class="s">&quot;20&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/HBox&gt;</span>
<span class="nt">&lt;/VBox&gt;</span>
</code></pre></div>

</details>

<h3 id="393-bom">39.3 BOM 展開画面の実装<a class="headerlink" href="#393-bom" title="Permanent link">&para;</a></h3>
<details>
<summary>BomTreeController.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.in.javafx.controller</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.application.service.BomNode</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.application.service.BomService</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.in.javafx.util.AlertHelper</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.fxml.FXML</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.fxml.Initializable</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.scene.control.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Component</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.net.URL</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ResourceBundle</span><span class="p">;</span>

<span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">BomTreeController</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Initializable</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">BomService</span><span class="w"> </span><span class="n">bomService</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TextField</span><span class="w"> </span><span class="n">itemCodeField</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TreeView</span><span class="o">&lt;</span><span class="n">BomNode</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bomTreeView</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Label</span><span class="w"> </span><span class="n">itemNameLabel</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">ProgressIndicator</span><span class="w"> </span><span class="n">loadingIndicator</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">BomTreeController</span><span class="p">(</span><span class="n">BomService</span><span class="w"> </span><span class="n">bomService</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">bomService</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bomService</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">initialize</span><span class="p">(</span><span class="n">URL</span><span class="w"> </span><span class="n">url</span><span class="p">,</span><span class="w"> </span><span class="n">ResourceBundle</span><span class="w"> </span><span class="n">rb</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// TreeView のセルファクトリ設定</span>
<span class="w">        </span><span class="n">bomTreeView</span><span class="p">.</span><span class="na">setCellFactory</span><span class="p">(</span><span class="n">tv</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TreeCell</span><span class="o">&lt;&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nd">@Override</span>
<span class="w">            </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">updateItem</span><span class="p">(</span><span class="n">BomNode</span><span class="w"> </span><span class="n">item</span><span class="p">,</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">empty</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="kd">super</span><span class="p">.</span><span class="na">updateItem</span><span class="p">(</span><span class="n">item</span><span class="p">,</span><span class="w"> </span><span class="n">empty</span><span class="p">);</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">empty</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">setText</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">                    </span><span class="n">setGraphic</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">                </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">String</span><span class="w"> </span><span class="n">indent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;  &quot;</span><span class="p">.</span><span class="na">repeat</span><span class="p">(</span><span class="n">item</span><span class="p">.</span><span class="na">getLevel</span><span class="p">());</span>
<span class="w">                    </span><span class="n">setText</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;%s%s [%s] x %s&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="n">indent</span><span class="p">,</span>
<span class="w">                        </span><span class="n">item</span><span class="p">.</span><span class="na">getItemCode</span><span class="p">(),</span>
<span class="w">                        </span><span class="n">item</span><span class="p">.</span><span class="na">getItemName</span><span class="p">(),</span>
<span class="w">                        </span><span class="n">item</span><span class="p">.</span><span class="na">getRequiredQuantity</span><span class="p">()));</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onExpand</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">itemCodeField</span><span class="p">.</span><span class="na">getText</span><span class="p">();</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">itemCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">itemCode</span><span class="p">.</span><span class="na">isBlank</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">AlertHelper</span><span class="p">.</span><span class="na">showWarning</span><span class="p">(</span><span class="s">&quot;品目コードを入力してください&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="k">return</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">loadingIndicator</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">BomNode</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bomService</span><span class="p">.</span><span class="na">explodeBom</span><span class="p">(</span><span class="n">itemCode</span><span class="p">);</span>
<span class="w">            </span><span class="n">TreeItem</span><span class="o">&lt;</span><span class="n">BomNode</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rootItem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createTreeItem</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>
<span class="w">            </span><span class="n">rootItem</span><span class="p">.</span><span class="na">setExpanded</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">            </span><span class="n">bomTreeView</span><span class="p">.</span><span class="na">setRoot</span><span class="p">(</span><span class="n">rootItem</span><span class="p">);</span>
<span class="w">            </span><span class="n">itemNameLabel</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="na">getItemName</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">AlertHelper</span><span class="p">.</span><span class="na">showError</span><span class="p">(</span><span class="s">&quot;BOM展開エラー: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">loadingIndicator</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">TreeItem</span><span class="o">&lt;</span><span class="n">BomNode</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">createTreeItem</span><span class="p">(</span><span class="n">BomNode</span><span class="w"> </span><span class="n">node</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">TreeItem</span><span class="o">&lt;</span><span class="n">BomNode</span><span class="o">&gt;</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TreeItem</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">node</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="na">getChildren</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">BomNode</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">node</span><span class="p">.</span><span class="na">getChildren</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">item</span><span class="p">.</span><span class="na">getChildren</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="n">createTreeItem</span><span class="p">(</span><span class="n">child</span><span class="p">));</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">item</span><span class="p">.</span><span class="na">setExpanded</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onExpandAll</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">expandAll</span><span class="p">(</span><span class="n">bomTreeView</span><span class="p">.</span><span class="na">getRoot</span><span class="p">(),</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onCollapseAll</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">expandAll</span><span class="p">(</span><span class="n">bomTreeView</span><span class="p">.</span><span class="na">getRoot</span><span class="p">(),</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">expandAll</span><span class="p">(</span><span class="n">TreeItem</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">item</span><span class="p">,</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">expand</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">item</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">item</span><span class="p">.</span><span class="na">setExpanded</span><span class="p">(</span><span class="n">expand</span><span class="p">);</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">TreeItem</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="na">getChildren</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">expandAll</span><span class="p">(</span><span class="n">child</span><span class="p">,</span><span class="w"> </span><span class="n">expand</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>bom-tree.fxml</summary>

<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="cp">&lt;?import javafx.scene.control.*?&gt;</span>
<span class="cp">&lt;?import javafx.scene.layout.*?&gt;</span>
<span class="cp">&lt;?import org.kordamp.ikonli.javafx.FontIcon?&gt;</span>

<span class="nt">&lt;VBox</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://javafx.com/javafx/21&quot;</span>
<span class="w">      </span><span class="na">xmlns:fx=</span><span class="s">&quot;http://javafx.com/fxml/1&quot;</span>
<span class="w">      </span><span class="na">fx:controller=</span><span class="s">&quot;com.example.production.infrastructure.in.javafx.controller.BomTreeController&quot;</span>
<span class="w">      </span><span class="na">spacing=</span><span class="s">&quot;10&quot;</span><span class="w"> </span><span class="na">padding=</span><span class="s">&quot;10&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- 検索エリア --&gt;</span>
<span class="w">    </span><span class="nt">&lt;HBox</span><span class="w"> </span><span class="na">spacing=</span><span class="s">&quot;10&quot;</span><span class="w"> </span><span class="na">alignment=</span><span class="s">&quot;CENTER_LEFT&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;品目コード:&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;TextField</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;itemCodeField&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;150&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;展開&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;primary&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onExpand&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-sitemap&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">        </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">        </span><span class="nt">&lt;Separator</span><span class="w"> </span><span class="na">orientation=</span><span class="s">&quot;VERTICAL&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;全展開&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onExpandAll&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-plus-square&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">        </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">        </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;全折畳&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onCollapseAll&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-minus-square&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">        </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">        </span><span class="nt">&lt;Pane</span><span class="w"> </span><span class="na">HBox.hgrow=</span><span class="s">&quot;ALWAYS&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;itemNameLabel&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;item-name-label&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/HBox&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- BOM ツリー --&gt;</span>
<span class="w">    </span><span class="nt">&lt;TreeView</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;bomTreeView&quot;</span><span class="w"> </span><span class="na">VBox.vgrow=</span><span class="s">&quot;ALWAYS&quot;</span><span class="w"> </span><span class="na">showRoot=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- ステータスバー --&gt;</span>
<span class="w">    </span><span class="nt">&lt;HBox</span><span class="w"> </span><span class="na">spacing=</span><span class="s">&quot;10&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;status-bar&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;ProgressIndicator</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;loadingIndicator&quot;</span><span class="w"> </span><span class="na">visible=</span><span class="s">&quot;false&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;20&quot;</span><span class="w"> </span><span class="na">prefHeight=</span><span class="s">&quot;20&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/HBox&gt;</span>
<span class="nt">&lt;/VBox&gt;</span>
</code></pre></div>

</details>

<hr />
<h2 id="40">第40章：トランザクションの実装<a class="headerlink" href="#40" title="Permanent link">&para;</a></h2>
<h3 id="401">40.1 トランザクション画面の特徴<a class="headerlink" href="#401" title="Permanent link">&para;</a></h3>
<p>トランザクション画面は、マスタ画面とは異なる以下の特徴があります。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjUyNHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDAycHg7aGVpZ2h0OjUyNHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQwMiA1MjQiIHdpZHRoPSI0MDJweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjwhLS1jbHVzdGVyID8/Pz8/Pz8/Pz8/Pz8tLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1lbnRpdHk9Ii4uLi4uLi4uLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjEiIGRhdGEtdWlkPSJlbnQwMDAyIiBpZD0iY2x1c3Rlcl8uLi4uLi4uLi4uLi4uIj48cGF0aCBkPSJNOC41LDYgTDE5MS40OTkyLDYgQTMuNzUsMy43NSAwIDAgMSAxOTMuOTk5Miw4LjUgTDIwMC45OTkyLDI4LjI5NjkgTDM5Mi41LDI4LjI5NjkgQTIuNSwyLjUgMCAwIDEgMzk1LDMwLjc5NjkgTDM5NSw1MTUuNDcgQTIuNSwyLjUgMCAwIDEgMzkyLjUsNTE3Ljk3IEw4LjUsNTE3Ljk3IEEyLjUsMi41IDAgMCAxIDYsNTE1LjQ3IEw2LDguNSBBMi41LDIuNSAwIDAgMSA4LjUsNiIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNiIgeDI9IjIwMC45OTkyIiB5MT0iMjguMjk2OSIgeTI9IjI4LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgxLjk5OTIiIHg9IjEwIiB5PSIyMC45OTUxIj4mIzEyNDg4OyYjMTI1MjE7JiMxMjUzMTsmIzEyNDcwOyYjMTI0NjM7JiMxMjQ3MTsmIzEyNTE5OyYjMTI1MzE7JiMzMDAxMTsmIzM4NzU0OyYjMTIzOTg7JiMyOTMwNTsmIzI0NTAwOzwvdGV4dD48L2c+PCEtLWNsYXNzIGhlYWRlcl9kZXRhaWwtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iaGVhZGVyX2RldGFpbCIgZGF0YS1zb3VyY2UtbGluZT0iMyIgZGF0YS11aWQ9ImVudDAwMDMiIGlkPSJlbnRpdHlfaGVhZGVyX2RldGFpbCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMTMuMTg3NSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMjIxLjk5OTEiIHg9IjY1IiB5PSIyMTQuODkiLz48ZWxsaXBzZSBjeD0iMTE1Ljc0OTgiIGN5PSIyMzAuODkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTExOC43MTg2LDIzNi41MzA2IFExMTguMTQwNCwyMzYuODI3NSAxMTcuNDk5OCwyMzYuOTY4MSBRMTE2Ljg1OTIsMjM3LjEyNDQgMTE2LjE1NjEsMjM3LjEyNDQgUTExMy42NTYxLDIzNy4xMjQ0IDExMi4zMjc5LDIzNS40ODM4IFExMTEuMDE1NCwyMzMuODI3NSAxMTEuMDE1NCwyMzAuNzAyNSBRMTExLjAxNTQsMjI3LjU3NzUgMTEyLjMyNzksMjI1LjkyMTMgUTExMy42NTYxLDIyNC4yNjUgMTE2LjE1NjEsMjI0LjI2NSBRMTE2Ljg1OTIsMjI0LjI2NSAxMTcuNDk5OCwyMjQuNDIxMyBRMTE4LjE1NjEsMjI0LjU3NzUgMTE4LjcxODYsMjI0Ljg3NDQgTDExOC43MTg2LDIyNy41OTMxIFExMTguMDkzNiwyMjcuMDE1IDExNy40OTk4LDIyNi43NDk0IFExMTYuOTA2MSwyMjYuNDY4MSAxMTYuMjgxMSwyMjYuNDY4MSBRMTE0LjkzNzMsMjI2LjQ2ODEgMTE0LjI0OTgsMjI3LjU0NjMgUTExMy41NjIzLDIyOC42MDg4IDExMy41NjIzLDIzMC43MDI1IFExMTMuNTYyMywyMzIuNzk2MyAxMTQuMjQ5OCwyMzMuODc0NCBRMTE0LjkzNzMsMjM0LjkzNjkgMTE2LjI4MTEsMjM0LjkzNjkgUTExNi45MDYxLDIzNC45MzY5IDExNy40OTk4LDIzNC42NzEzIFExMTguMDkzNiwyMzQuMzkgMTE4LjcxODYsMjMzLjgxMTkgTDExOC43MTg2LDIzNi41MzA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTExLjk5OTUiIHg9IjEzNi4yNDk4IiB5PSIyMzUuNzM2NyI+JiMxMjUwNDsmIzEyNDgzOyYjMTI0ODA7JiMxMjUzOTsmIzI2MTI2OyYjMzIwNDg7JiMyNzA4MzsmIzM2ODk2OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI2NiIgeDI9IjI4NS45OTkxIiB5MT0iMjQ2Ljg5IiB5Mj0iMjQ2Ljg5Ii8+PGVsbGlwc2UgY3g9Ijc2IiBjeT0iMjYwLjUzODQiIGZpbGw9Im5vbmUiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5NS45OTkxIiB4PSI4NSIgeT0iMjYzLjg4NTEiPiYjMzAzMzA7JiMyNzg4MDsmIzEyNTA0OyYjMTI0ODM7JiMxMjQ4MDsmIzY1Mjg4OyYjMjAxODE7JiMyMDgzNzsmIzIwODA4OyYjMTIyODk7JiMzMDMzMDsmIzI3ODgwOyYjMjYwODU7JiM2NTI4OTs8L3RleHQ+PGVsbGlwc2UgY3g9Ijc2IiBjeT0iMjc2LjgzNTMiIGZpbGw9Im5vbmUiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5NS45OTkxIiB4PSI4NSIgeT0iMjgwLjE4MiI+JiMzMDMzMDsmIzI3ODgwOyYjMjYxMjY7JiMzMjA0ODsmIzY1Mjg4OyYjMjE2OTc7JiMzMDQ0NjsmIzEyMjg5OyYjMjU5Njg7JiMzNzMyNzsmIzEyMjg5OyYjMjEzMzY7JiMyMDM4NTsmIzY1Mjg5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjYiIHgyPSIyODUuOTk5MSIgeTE9IjI4Ny40ODM4IiB5Mj0iMjg3LjQ4MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MC41NDY3IiB4PSI3MSIgeT0iMzA0LjQ3ODkiPjE6TiAmIzEyMzk4OyYjMzgzMDY7JiMyMDQxODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM5Ljk5OTQiIHg9IjcxIiB5PSIzMjAuNzc1NyI+JiMyNjEyNjsmIzMyMDQ4OyYjMTIzOTg7JiMyMTIwNTsmIzMwMzQwOyYjMzY4NjE7JiMyMTE1MjsmIzEyNTM5OyYjMjEwNjY7JiMzODUwMDs8L3RleHQ+PC9nPjwhLS1jbGFzcyBjYWxjdWxhdGlvbi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJjYWxjdWxhdGlvbiIgZGF0YS1zb3VyY2UtbGluZT0iMTEiIGRhdGEtdWlkPSJlbnQwMDA0IiBpZD0iZW50aXR5X2NhbGN1bGF0aW9uIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9Ijk2Ljg5MDYiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE3OS4yNjEyIiB4PSIyMi4zNyIgeT0iNDA1LjA4Ii8+PGVsbGlwc2UgY3g9Ijc5Ljc1MDciIGN5PSI0MjEuMDgiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTgyLjcxOTUsNDI2LjcyMDYgUTgyLjE0MTQsNDI3LjAxNzUgODEuNTAwNyw0MjcuMTU4MSBRODAuODYwMSw0MjcuMzE0NCA4MC4xNTcsNDI3LjMxNDQgUTc3LjY1Nyw0MjcuMzE0NCA3Ni4zMjg5LDQyNS42NzM4IFE3NS4wMTY0LDQyNC4wMTc1IDc1LjAxNjQsNDIwLjg5MjUgUTc1LjAxNjQsNDE3Ljc2NzUgNzYuMzI4OSw0MTYuMTExMyBRNzcuNjU3LDQxNC40NTUgODAuMTU3LDQxNC40NTUgUTgwLjg2MDEsNDE0LjQ1NSA4MS41MDA3LDQxNC42MTEzIFE4Mi4xNTcsNDE0Ljc2NzUgODIuNzE5NSw0MTUuMDY0NCBMODIuNzE5NSw0MTcuNzgzMSBRODIuMDk0NSw0MTcuMjA1IDgxLjUwMDcsNDE2LjkzOTQgUTgwLjkwNyw0MTYuNjU4MSA4MC4yODIsNDE2LjY1ODEgUTc4LjkzODIsNDE2LjY1ODEgNzguMjUwNyw0MTcuNzM2MyBRNzcuNTYzMiw0MTguNzk4OCA3Ny41NjMyLDQyMC44OTI1IFE3Ny41NjMyLDQyMi45ODYzIDc4LjI1MDcsNDI0LjA2NDQgUTc4LjkzODIsNDI1LjEyNjkgODAuMjgyLDQyNS4xMjY5IFE4MC45MDcsNDI1LjEyNjkgODEuNTAwNyw0MjQuODYxMyBRODIuMDk0NSw0MjQuNTggODIuNzE5NSw0MjQuMDAxOSBMODIuNzE5NSw0MjYuNzIwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjEwMC4yNTA3IiB5PSI0MjUuOTI2NyI+JiMzNTMzNjsmIzMxNjM5OyYjMjA5NjY7JiMyOTcwMjs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjMuMzciIHgyPSIyMDAuNjMxMiIgeTE9IjQzNy4wOCIgeTI9IjQzNy4wOCIvPjxlbGxpcHNlIGN4PSIzMy4zNyIgY3k9IjQ1MC43Mjg0IiBmaWxsPSJub25lIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTMuMjYxMiIgeD0iNDIuMzciIHk9IjQ1NC4wNzUxIj4mIzI2MTI2OyYjMzIwNDg7JiMzNzMyOTsmIzM4OTg5OyA9ICYjMjU5Njg7JiMzNzMyNzsgJiMyMTU7ICYjMjEzMzY7JiMyMDM4NTs8L3RleHQ+PGVsbGlwc2UgY3g9IjMzLjM3IiBjeT0iNDY3LjAyNTMiIGZpbGw9Im5vbmUiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0NS45MjYzIiB4PSI0Mi4zNyIgeT0iNDcwLjM3MiI+JiMyMTUxMjsmIzM1MzM2OyYjMzczMjk7JiMzODk4OTsgPSAmIzkzMTsgJiMyNjEyNjsmIzMyMDQ4OyYjMzczMjk7JiMzODk4OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIzLjM3IiB4Mj0iMjAwLjYzMTIiIHkxPSI0NzcuNjczOCIgeTI9IjQ3Ny42NzM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI1Ljk5OTUiIHg9IjI4LjM3IiB5PSI0OTQuNjY4OSI+JiMxMjUyMjsmIzEyNDUwOyYjMTI1MjM7JiMxMjQ3OTsmIzEyNDUyOyYjMTI1MTI7JiMyMDg3NzsmIzM1MzM2OyYjMzE2Mzk7PC90ZXh0PjwvZz48IS0tY2xhc3Mgc3RhdHVzLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9InN0YXR1cyIgZGF0YS1zb3VyY2UtbGluZT0iMTgiIGRhdGEtdWlkPSJlbnQwMDA1IiBpZD0iZW50aXR5X3N0YXR1cyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI5Ni44OTA2IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxOTMuOTk5MyIgeD0iNzkiIHk9IjQxIi8+PGVsbGlwc2UgY3g9IjEyMi43OTk5IiBjeT0iNTciIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTEyNS43Njg2LDYyLjY0MDYgUTEyNS4xOTA1LDYyLjkzNzUgMTI0LjU0OTksNjMuMDc4MSBRMTIzLjkwOTIsNjMuMjM0NCAxMjMuMjA2MSw2My4yMzQ0IFExMjAuNzA2MSw2My4yMzQ0IDExOS4zNzgsNjEuNTkzOCBRMTE4LjA2NTUsNTkuOTM3NSAxMTguMDY1NSw1Ni44MTI1IFExMTguMDY1NSw1My42ODc1IDExOS4zNzgsNTIuMDMxMyBRMTIwLjcwNjEsNTAuMzc1IDEyMy4yMDYxLDUwLjM3NSBRMTIzLjkwOTIsNTAuMzc1IDEyNC41NDk5LDUwLjUzMTMgUTEyNS4yMDYxLDUwLjY4NzUgMTI1Ljc2ODYsNTAuOTg0NCBMMTI1Ljc2ODYsNTMuNzAzMSBRMTI1LjE0MzYsNTMuMTI1IDEyNC41NDk5LDUyLjg1OTQgUTEyMy45NTYxLDUyLjU3ODEgMTIzLjMzMTEsNTIuNTc4MSBRMTIxLjk4NzQsNTIuNTc4MSAxMjEuMjk5OSw1My42NTYzIFExMjAuNjEyNCw1NC43MTg4IDEyMC42MTI0LDU2LjgxMjUgUTEyMC42MTI0LDU4LjkwNjMgMTIxLjI5OTksNTkuOTg0NCBRMTIxLjk4NzQsNjEuMDQ2OSAxMjMuMzMxMSw2MS4wNDY5IFExMjMuOTU2MSw2MS4wNDY5IDEyNC41NDk5LDYwLjc4MTMgUTEyNS4xNDM2LDYwLjUgMTI1Ljc2ODYsNTkuOTIxOSBMMTI1Ljc2ODYsNjIuNjQwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjE0My4xOTk4IiB5PSI2MS44NDY3Ij4mIzEyNDczOyYjMTI0ODY7JiMxMjU0MDsmIzEyNDc5OyYjMTI0NzM7JiMzMTY0OTsmIzI5NzAyOzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI4MCIgeDI9IjI3MS45OTkzIiB5MT0iNzMiIHkyPSI3MyIvPjxlbGxpcHNlIGN4PSI5MCIgY3k9Ijg2LjY0ODQiIGZpbGw9Im5vbmUiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzOS4yNjEzIiB4PSI5OSIgeT0iODkuOTk1MSI+JiMxOTk3OTsmIzI2MzYwOyYjMTIzNjU7ICYjODU5NDsgJiMzMDkwNjsmIzIzNDUwOyAmIzg1OTQ7ICYjMjM0MzY7JiMyMDEwMjs8L3RleHQ+PGVsbGlwc2UgY3g9IjkwIiBjeT0iMTAyLjk0NTMiIGZpbGw9Im5vbmUiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2Ny45OTkzIiB4PSI5OSIgeT0iMTA2LjI5MiI+JiMxMjQ3MzsmIzEyNDg2OyYjMTI1NDA7JiMxMjQ3OTsmIzEyNDczOyYjMTIzOTU7JiMxMjQyNDsmIzEyNDI3OyYjMzIyMzI7JiMzODU5ODsmIzIxMDQ2OyYjMzg0ODA7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI4MCIgeDI9IjI3MS45OTkzIiB5MT0iMTEzLjU5MzgiIHkyPSIxMTMuNTkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9Ijg1IiB5PSIxMzAuNTg4OSI+JiMyNjk4OTsmIzIxMjA5OyYjMTI1MDE7JiMxMjUyNTsmIzEyNTQwOyYjMjEwNDY7JiMyNDQ4MTs8L3RleHQ+PC9nPjwhLS1jbGFzcyByZXBvcnQtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0icmVwb3J0IiBkYXRhLXNvdXJjZS1saW5lPSIyNSIgZGF0YS11aWQ9ImVudDAwMDYiIGlkPSJlbnRpdHlfcmVwb3J0Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9Ijk2Ljg5MDYiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE0Mi4wMzk5IiB4PSIyMzYuOTgiIHk9IjQwNS4wOCIvPjxlbGxpcHNlIGN4PSIyNzYuMjk4MSIgY3k9IjQyMS4wOCIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMjc5LjI2NjgsNDI2LjcyMDYgUTI3OC42ODg3LDQyNy4wMTc1IDI3OC4wNDgxLDQyNy4xNTgxIFEyNzcuNDA3NCw0MjcuMzE0NCAyNzYuNzA0Myw0MjcuMzE0NCBRMjc0LjIwNDMsNDI3LjMxNDQgMjcyLjg3NjIsNDI1LjY3MzggUTI3MS41NjM3LDQyNC4wMTc1IDI3MS41NjM3LDQyMC44OTI1IFEyNzEuNTYzNyw0MTcuNzY3NSAyNzIuODc2Miw0MTYuMTExMyBRMjc0LjIwNDMsNDE0LjQ1NSAyNzYuNzA0Myw0MTQuNDU1IFEyNzcuNDA3NCw0MTQuNDU1IDI3OC4wNDgxLDQxNC42MTEzIFEyNzguNzA0Myw0MTQuNzY3NSAyNzkuMjY2OCw0MTUuMDY0NCBMMjc5LjI2NjgsNDE3Ljc4MzEgUTI3OC42NDE4LDQxNy4yMDUgMjc4LjA0ODEsNDE2LjkzOTQgUTI3Ny40NTQzLDQxNi42NTgxIDI3Ni44MjkzLDQxNi42NTgxIFEyNzUuNDg1Niw0MTYuNjU4MSAyNzQuNzk4MSw0MTcuNzM2MyBRMjc0LjExMDYsNDE4Ljc5ODggMjc0LjExMDYsNDIwLjg5MjUgUTI3NC4xMTA2LDQyMi45ODYzIDI3NC43OTgxLDQyNC4wNjQ0IFEyNzUuNDg1Niw0MjUuMTI2OSAyNzYuODI5Myw0MjUuMTI2OSBRMjc3LjQ1NDMsNDI1LjEyNjkgMjc4LjA0ODEsNDI0Ljg2MTMgUTI3OC42NDE4LDQyNC41OCAyNzkuMjY2OCw0MjQuMDAxOSBMMjc5LjI2NjgsNDI2LjcyMDYgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIyOTUuNzAyMSIgeT0iNDI1LjkyNjciPiYjMjQxMTU7JiMzMTA4MDsmIzIwOTg2OyYjMjExNDc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjIzNy45OCIgeDI9IjM3OC4wMTk5IiB5MT0iNDM3LjA4IiB5Mj0iNDM3LjA4Ii8+PGVsbGlwc2UgY3g9IjI0Ny45OCIgY3k9IjQ1MC43Mjg0IiBmaWxsPSJub25lIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIyNTYuOTgiIHk9IjQ1NC4wNzUxIj4mIzMwMzMwOyYjMjc4ODA7JiMyNjM2MDs8L3RleHQ+PGVsbGlwc2UgY3g9IjI0Ny45OCIgY3k9IjQ2Ny4wMjUzIiBmaWxsPSJub25lIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTQuMjQ4NyIgeD0iMjU2Ljk4IiB5PSI0NzAuMzcyIj5NUlAmIzMyMDgwOyYjMjY1MjQ7JiMxMjUyNDsmIzEyNTA5OyYjMTI1NDA7JiMxMjQ4ODs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIzNy45OCIgeDI9IjM3OC4wMTk5IiB5MT0iNDc3LjY3MzgiIHkyPSI0NzcuNjczOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMC4wMzk5IiB4PSIyNDIuOTgiIHk9IjQ5NC42Njg5Ij5KYXNwZXJSZXBvcnRzICYjMzY4OTk7JiMyNTY1ODs8L3RleHQ+PC9nPjwhLS1saW5rIGhlYWRlcl9kZXRhaWwgdG8gY2FsY3VsYXRpb24tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iaGVhZGVyX2RldGFpbCIgZGF0YS1lbnRpdHktMj0iY2FsY3VsYXRpb24iIGRhdGEtc291cmNlLWxpbmU9IjMzIiBkYXRhLXVpZD0ibG5rNyIgaWQ9ImxpbmtfaGVhZGVyX2RldGFpbF9jYWxjdWxhdGlvbiI+PHBhdGggY29kZUxpbmU9IjMzIiBkPSJNMTU2LjEsMzI4LjQ2IEMxNDcuNCwzNTIuOTMgMTM5LjMyMTMsMzc1LjY3NzIgMTMwLjk4MTMsMzk5LjExNzIiIGZpbGw9Im5vbmUiIGlkPSJoZWFkZXJfZGV0YWlsLXRvLWNhbGN1bGF0aW9uIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMjguOTcsNDA0Ljc3LDEzNS43NTU1LDM5Ny42MzE2LDEzMC42NDYxLDQwMC4wNTkzLDEyOC4yMTg0LDM5NC45NDk5LDEyOC45Nyw0MDQuNzciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NS4wMDAxIiB4PSIxNDUiIHk9IjM3MS4xNDY5Ij4mIzI2MTI2OyYjMzIwNDg7JiMyMjc5MzsmIzI2MzU2OyYjMjYxNzg7PC90ZXh0PjwvZz48IS0tbGluayBzdGF0dXMgdG8gaGVhZGVyX2RldGFpbC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJzdGF0dXMiIGRhdGEtZW50aXR5LTI9ImhlYWRlcl9kZXRhaWwiIGRhdGEtc291cmNlLWxpbmU9IjM0IiBkYXRhLXVpZD0ibG5rOCIgaWQ9Imxpbmtfc3RhdHVzX2hlYWRlcl9kZXRhaWwiPjxwYXRoIGNvZGVMaW5lPSIzNCIgZD0iTTE3NiwxMzguMjIgQzE3NiwxNjEuNjYgMTc2LDE4NC4wNCAxNzYsMjA4LjQ5IiBmaWxsPSJub25lIiBpZD0ic3RhdHVzLXRvLWhlYWRlcl9kZXRhaWwiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjE3NiwyMTQuNDksMTgwLDIwNS40OSwxNzYsMjA5LjQ5LDE3MiwyMDUuNDksMTc2LDIxNC40OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyLjAwMDEiIHg9IjE3NyIgeT0iMTgwLjk1NjkiPiYjMzIyMzI7JiMzODU5ODsmIzIxNDg3OyYjMjE1NDI7PC90ZXh0PjwvZz48IS0tbGluayBoZWFkZXJfZGV0YWlsIHRvIHJlcG9ydC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJoZWFkZXJfZGV0YWlsIiBkYXRhLWVudGl0eS0yPSJyZXBvcnQiIGRhdGEtc291cmNlLWxpbmU9IjM1IiBkYXRhLXVpZD0ibG5rOSIgaWQ9ImxpbmtfaGVhZGVyX2RldGFpbF9yZXBvcnQiPjxwYXRoIGNvZGVMaW5lPSIzNSIgZD0iTTIxNy4wNCwzMjguNDYgQzIzNC45OCwzNTIuOTMgMjUyLjI1MTcsMzc2LjQ5MTYgMjY5LjQ0MTcsMzk5LjkzMTYiIGZpbGw9Im5vbmUiIGlkPSJoZWFkZXJfZGV0YWlsLXRvLXJlcG9ydCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjcyLjk5LDQwNC43NywyNzAuODkzMiwzOTUuMTQ2OSwyNzAuMDMzMSw0MDAuNzM4LDI2NC40NDIsMzk5Ljg3OCwyNzIuOTksNDA0Ljc3IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjYiIHg9IjI1MC45IiB5PSIzNzEuMTQ2OSI+JiMyMTM2MDsmIzIxMDQ3OzwvdGV4dD48L2c+PCEtLVNSQz1bUlBCQlJqRDA1OFJ0VmVnSGpvV0JqZk5XMFAxMGcyLTBoREkyWWVYNlNSZjJJOGM3RWF3Q2dSYzQ5MHNqYVpIZm13TGtmOEpjSWhEV3BxRG1TY1JnTEwtMU9wazQxaDZScVZvTnhubXhoSU1WUWV6cmZXQXRXTnkydFdWcDBpbnBDOFYwSi1hZ3RxLTNtblJhVkxhU3UtTDBQU3lMOVBkSTMyRXFMODVwdTNkV0tyNXpCR1N6U1VlNGtPUkFEOEN6cVJLakZWRGVJeXpnc29hb3RNQW9EWDd6eGlmcUZSQ05xcEJrVE4zRlhibS1WWE1McGxNaWsxQjdnUUo0VHRiUHpxYWNvaHNXaTR5N1RBa0Jvc09lSllJS3NuaUY2MjQ2N3JnQmtRZDRCaGdaS3ZPN0J3X2N0eDdLODRPaWJlOVFNdGNuNmsyZ1Fxa19XZUtKd0xhSFQ1OUI5TlRKTWRQeHZyYzQ3MlM1WEpUMXFzTHRNNXBFVmJIT3Q0dUF6Nm5BTUliLTdnenZHWlJXZHk1aTBWeTJ2WHBDRGwwNk1jeFNWMEM1cDM1bTJfV2lLZXNidF9wM1A2SXJ4QXVIdUluNlpnWUY4RS1vTnpQUjliaUp6MC1ZOF9nbDVYRUI1Rl80Rzl2UVJKMFRFVW02VEdsall3M2NYTDJZU3VQRTNOV1AtMWNmd0c1ZmRCeXVFRWhCSlhTQjRvcEw4dWdDZGp4OVA2enlIbUFYeV90RFhfQVI5dXUtMGx5QV8zMGl2ZFBPUzR5cHFkZmNDdDhQQkNXVDJzejItVEltX2NDYTRkVk5qaHgxcjdZMXMyd0EtYTNLSjVMUFJZMktoZmo5bDFuaV9ub3o0X0tfc0tqa0tnQlJHdGtlX1dPMF0tLT48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h3 id="402">40.2 発注入力画面の設計<a class="headerlink" href="#402" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9Ijc4NXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDE1cHg7aGVpZ2h0Ojc4NXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQxNSA3ODUiIHdpZHRoPSI0MTVweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjwhLS1jbHVzdGVyID8/Pz8/Py0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLWVudGl0eT0iLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIxIiBkYXRhLXVpZD0iZW50MDAwMiIgaWQ9ImNsdXN0ZXJfLi4uLi4uIj48cGF0aCBkPSJNOC41LDYgTDkzLjQ5OTYsNiBBMy43NSwzLjc1IDAgMCAxIDk1Ljk5OTYsOC41IEwxMDIuOTk5NiwyOC4yOTY5IEwyNzcuNSwyOC4yOTY5IEEyLjUsMi41IDAgMCAxIDI4MCwzMC43OTY5IEwyODAsNzc2LjIyIEEyLjUsMi41IDAgMCAxIDI3Ny41LDc3OC43MiBMOC41LDc3OC43MiBBMi41LDIuNSAwIDAgMSA2LDc3Ni4yMiBMNiw4LjUgQTIuNSwyLjUgMCAwIDEgOC41LDYiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjYiIHgyPSIxMDIuOTk5NiIgeTE9IjI4LjI5NjkiIHkyPSIyOC4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjEwIiB5PSIyMC45OTUxIj4mIzMwMzMwOyYjMjc4ODA7JiMyMDgzNzsmIzIxMTQ3OyYjMzAwMTE7JiMzODc1NDs8L3RleHQ+PC9nPjwhLS1jbGFzcyBjb250cm9sbGVyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9ImNvbnRyb2xsZXIiIGRhdGEtc291cmNlLWxpbmU9IjMiIGRhdGEtdWlkPSJlbnQwMDAzIiBpZD0iZW50aXR5X2NvbnRyb2xsZXIiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjEwLjk2ODgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjI0Mi41ODExIiB4PSIyMS43MSIgeT0iNDEiLz48ZWxsaXBzZSBjeD0iMzYuNzEiIGN5PSI1NyIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMzkuNjc4OCw2Mi42NDA2IFEzOS4xMDA2LDYyLjkzNzUgMzguNDYsNjMuMDc4MSBRMzcuODE5NCw2My4yMzQ0IDM3LjExNjMsNjMuMjM0NCBRMzQuNjE2Myw2My4yMzQ0IDMzLjI4ODEsNjEuNTkzOCBRMzEuOTc1Niw1OS45Mzc1IDMxLjk3NTYsNTYuODEyNSBRMzEuOTc1Niw1My42ODc1IDMzLjI4ODEsNTIuMDMxMyBRMzQuNjE2Myw1MC4zNzUgMzcuMTE2Myw1MC4zNzUgUTM3LjgxOTQsNTAuMzc1IDM4LjQ2LDUwLjUzMTMgUTM5LjExNjMsNTAuNjg3NSAzOS42Nzg4LDUwLjk4NDQgTDM5LjY3ODgsNTMuNzAzMSBRMzkuMDUzOCw1My4xMjUgMzguNDYsNTIuODU5NCBRMzcuODY2Myw1Mi41NzgxIDM3LjI0MTMsNTIuNTc4MSBRMzUuODk3NSw1Mi41NzgxIDM1LjIxLDUzLjY1NjMgUTM0LjUyMjUsNTQuNzE4OCAzNC41MjI1LDU2LjgxMjUgUTM0LjUyMjUsNTguOTA2MyAzNS4yMSw1OS45ODQ0IFEzNS44OTc1LDYxLjA0NjkgMzcuMjQxMyw2MS4wNDY5IFEzNy44NjYzLDYxLjA0NjkgMzguNDYsNjAuNzgxMyBRMzkuMDUzOCw2MC41IDM5LjY3ODgsNTkuOTIxOSBMMzkuNjc4OCw2Mi42NDA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjEwLjU4MTEiIHg9IjUwLjcxIiB5PSI2MS44NDY3Ij5QdXJjaGFzZU9yZGVyRW50cnlDb250cm9sbGVyPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjIyLjcxIiB4Mj0iMjYzLjI5MTEiIHkxPSI3MyIgeTI9IjczIi8+PGVsbGlwc2UgY3g9IjMyLjcxIiBjeT0iODYuNjQ4NCIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMxLjk3NDYiIHg9IjQxLjcxIiB5PSI4OS45OTUxIj5zdXBwbGllckNvbWJvQm94PC90ZXh0PjxlbGxpcHNlIGN4PSIzMi43MSIgY3k9IjEwMi45NDUzIiBmaWxsPSJub25lIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTMuNTQ0OSIgeD0iNDEuNzEiIHk9IjEwNi4yOTIiPm9yZGVyRGF0ZVBpY2tlcjwvdGV4dD48ZWxsaXBzZSBjeD0iMzIuNzEiIGN5PSIxMTkuMjQyMiIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTExLjM5ODQiIHg9IjQxLjcxIiB5PSIxMjIuNTg4OSI+ZGV0YWlsVGFibGVWaWV3PC90ZXh0PjxlbGxpcHNlIGN4PSIzMi43MSIgY3k9IjEzNS41MzkxIiBmaWxsPSJub25lIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjQuNzk2OSIgeD0iNDEuNzEiIHk9IjEzOC44ODU3Ij50b3RhbEFtb3VudExhYmVsPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMi43MSIgeDI9IjI2My4yOTExIiB5MT0iMTQ2LjE4NzUiIHkyPSIxNDYuMTg3NSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzOS42NDQ1IiB4PSIyNy43MSIgeT0iMTYzLjE4MjYiPm9uU3VwcGxpZXJDaGFuZ2UoKTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ni45NTQxIiB4PSIyNy43MSIgeT0iMTc5LjQ3OTUiPm9uQWRkRGV0YWlsKCk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI3LjA0NTkiIHg9IjI3LjcxIiB5PSIxOTUuNzc2NCI+b25SZW1vdmVEZXRhaWwoKTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2Mi43MjY2IiB4PSIyNy43MSIgeT0iMjEyLjA3MzIiPm9uU2F2ZSgpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjc4ODEiIHg9IjI3LjcxIiB5PSIyMjguMzcwMSI+b25Db25maXJtKCk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjAuODEyNSIgeD0iMjcuNzEiIHk9IjI0NC42NjciPm9uUHJpbnQoKTwvdGV4dD48L2c+PCEtLWNsYXNzIHZtLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9InZtIiBkYXRhLXNvdXJjZS1saW5lPSIxNyIgZGF0YS11aWQ9ImVudDAwMDQiIGlkPSJlbnRpdHlfdm0iPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjEwLjk2ODgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjIzMS43ODIyIiB4PSIzMC4xMSIgeT0iMzI4Ljk3Ii8+PGVsbGlwc2UgY3g9IjU0LjEzNjQiIGN5PSIzNDQuOTciIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTU3LjEwNTEsMzUwLjYxMDYgUTU2LjUyNywzNTAuOTA3NSA1NS44ODY0LDM1MS4wNDgxIFE1NS4yNDU3LDM1MS4yMDQ0IDU0LjU0MjYsMzUxLjIwNDQgUTUyLjA0MjYsMzUxLjIwNDQgNTAuNzE0NSwzNDkuNTYzOCBRNDkuNDAyLDM0Ny45MDc1IDQ5LjQwMiwzNDQuNzgyNSBRNDkuNDAyLDM0MS42NTc1IDUwLjcxNDUsMzQwLjAwMTMgUTUyLjA0MjYsMzM4LjM0NSA1NC41NDI2LDMzOC4zNDUgUTU1LjI0NTcsMzM4LjM0NSA1NS44ODY0LDMzOC41MDEzIFE1Ni41NDI2LDMzOC42NTc1IDU3LjEwNTEsMzM4Ljk1NDQgTDU3LjEwNTEsMzQxLjY3MzEgUTU2LjQ4MDEsMzQxLjA5NSA1NS44ODY0LDM0MC44Mjk0IFE1NS4yOTI2LDM0MC41NDgxIDU0LjY2NzYsMzQwLjU0ODEgUTUzLjMyMzksMzQwLjU0ODEgNTIuNjM2NCwzNDEuNjI2MyBRNTEuOTQ4OSwzNDIuNjg4OCA1MS45NDg5LDM0NC43ODI1IFE1MS45NDg5LDM0Ni44NzYzIDUyLjYzNjQsMzQ3Ljk1NDQgUTUzLjMyMzksMzQ5LjAxNjkgNTQuNjY3NiwzNDkuMDE2OSBRNTUuMjkyNiwzNDkuMDE2OSA1NS44ODY0LDM0OC43NTEzIFE1Ni40ODAxLDM0OC40NyA1Ny4xMDUxLDM0Ny44OTE5IEw1Ny4xMDUxLDM1MC42MTA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTc5LjcyMzYiIHg9IjcwLjE0MjIiIHk9IjM0OS44MTY3Ij5QdXJjaGFzZU9yZGVyVmlld01vZGVsPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjMxLjExIiB4Mj0iMjYwLjg5MjIiIHkxPSIzNjAuOTciIHkyPSIzNjAuOTciLz48ZWxsaXBzZSBjeD0iNDEuMTEiIGN5PSIzNzQuNjE4NCIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE2Ljc3ODMiIHg9IjUwLjExIiB5PSIzNzcuOTY1MSI+c2VsZWN0ZWRTdXBwbGllcjwvdGV4dD48ZWxsaXBzZSBjeD0iNDEuMTEiIGN5PSIzOTAuOTE1MyIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzEuMDM5MSIgeD0iNTAuMTEiIHk9IjM5NC4yNjIiPm9yZGVyRGF0ZTwvdGV4dD48ZWxsaXBzZSBjeD0iNDEuMTEiIGN5PSI0MDcuMjEyMiIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjA1Ljc4MjIiIHg9IjUwLjExIiB5PSI0MTAuNTU4OSI+b3JkZXJEZXRhaWxzIChPYnNlcnZhYmxlTGlzdCk8L3RleHQ+PGVsbGlwc2UgY3g9IjQxLjExIiBjeT0iNDIzLjUwOTEiIGZpbGw9IiM4NEJFODQiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE3NC41OTY3IiB4PSI1MC4xMSIgeT0iNDI2Ljg1NTciPnRvdGFsQW1vdW50IChjYWxjdWxhdGVkKTwvdGV4dD48ZWxsaXBzZSBjeD0iNDEuMTEiIGN5PSI0MzkuODA1OSIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDMuMDE4NiIgeD0iNTAuMTEiIHk9IjQ0My4xNTI2Ij5zdGF0dXM8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMxLjExIiB4Mj0iMjYwLjg5MjIiIHkxPSI0NTAuNDU0NCIgeTI9IjQ1MC40NTQ0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzguNTE3NiIgeD0iMzYuMTEiIHk9IjQ2Ny40NDk1Ij5hZGREZXRhaWwoKTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDUuNjM1NyIgeD0iMzYuMTEiIHk9IjQ4My43NDY0Ij5yZW1vdmVEZXRhaWwoKTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDkuMzA2NiIgeD0iMzYuMTEiIHk9IjUwMC4wNDMyIj5jYWxjdWxhdGVUb3RhbCgpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQzLjY5NTMiIHg9IjM2LjExIiB5PSI1MTYuMzQwMSI+c2F2ZSgpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY0LjI3MTUiIHg9IjM2LjExIiB5PSI1MzIuNjM3Ij5jb25maXJtKCk8L3RleHQ+PC9nPjwhLS1jbGFzcyBkZXRhaWwtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iZGV0YWlsIiBkYXRhLXNvdXJjZS1saW5lPSIzMSIgZGF0YS11aWQ9ImVudDAwMDUiIGlkPSJlbnRpdHlfZGV0YWlsIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjE0NS43ODEzIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNjcuNTg1OSIgeD0iODUuMjEiIHk9IjYxNi45NCIvPjxlbGxpcHNlIGN4PSIxMTEuMjY2NiIgY3k9IjYzMi45NCIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMTE0LjIzNTQsNjM4LjU4MDYgUTExMy42NTczLDYzOC44Nzc1IDExMy4wMTY2LDYzOS4wMTgxIFExMTIuMzc2LDYzOS4xNzQ0IDExMS42NzI5LDYzOS4xNzQ0IFExMDkuMTcyOSw2MzkuMTc0NCAxMDcuODQ0OCw2MzcuNTMzOCBRMTA2LjUzMjMsNjM1Ljg3NzUgMTA2LjUzMjMsNjMyLjc1MjUgUTEwNi41MzIzLDYyOS42Mjc1IDEwNy44NDQ4LDYyNy45NzEzIFExMDkuMTcyOSw2MjYuMzE1IDExMS42NzI5LDYyNi4zMTUgUTExMi4zNzYsNjI2LjMxNSAxMTMuMDE2Niw2MjYuNDcxMyBRMTEzLjY3MjksNjI2LjYyNzUgMTE0LjIzNTQsNjI2LjkyNDQgTDExNC4yMzU0LDYyOS42NDMxIFExMTMuNjEwNCw2MjkuMDY1IDExMy4wMTY2LDYyOC43OTk0IFExMTIuNDIyOSw2MjguNTE4MSAxMTEuNzk3OSw2MjguNTE4MSBRMTEwLjQ1NDEsNjI4LjUxODEgMTA5Ljc2NjYsNjI5LjU5NjMgUTEwOS4wNzkxLDYzMC42NTg4IDEwOS4wNzkxLDYzMi43NTI1IFExMDkuMDc5MSw2MzQuODQ2MyAxMDkuNzY2Niw2MzUuOTI0NCBRMTEwLjQ1NDEsNjM2Ljk4NjkgMTExLjc5NzksNjM2Ljk4NjkgUTExMi40MjI5LDYzNi45ODY5IDExMy4wMTY2LDYzNi43MjEzIFExMTMuNjEwNCw2MzYuNDQgMTE0LjIzNTQsNjM1Ljg2MTkgTDExNC4yMzU0LDYzOC41ODA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTExLjAxNTYiIHg9IjEyNy43MjM3IiB5PSI2MzcuNzg2NyI+T3JkZXJEZXRhaWxSb3c8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iODYuMjEiIHgyPSIyNTEuNzk1OSIgeTE9IjY0OC45NCIgeTI9IjY0OC45NCIvPjxlbGxpcHNlIGN4PSI5Ni4yMSIgY3k9IjY2Mi41ODg0IiBmaWxsPSJub25lIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2Ny40NzA3IiB4PSIxMDUuMjEiIHk9IjY2NS45MzUxIj5pdGVtQ29kZTwvdGV4dD48ZWxsaXBzZSBjeD0iOTYuMjEiIGN5PSI2NzguODg1MyIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzIuOTMyNiIgeD0iMTA1LjIxIiB5PSI2ODIuMjMyIj5pdGVtTmFtZTwvdGV4dD48ZWxsaXBzZSBjeD0iOTYuMjEiIGN5PSI2OTUuMTgyMiIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTguMzY1MiIgeD0iMTA1LjIxIiB5PSI2OTguNTI4OSI+cXVhbnRpdHk8L3RleHQ+PGVsbGlwc2UgY3g9Ijk2LjIxIiBjeT0iNzExLjQ3OTEiIGZpbGw9Im5vbmUiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYxLjUyMzQiIHg9IjEwNS4yMSIgeT0iNzE0LjgyNTciPnVuaXRQcmljZTwvdGV4dD48ZWxsaXBzZSBjeD0iOTYuMjEiIGN5PSI3MjcuNzc1OSIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODkuNjgwNyIgeD0iMTA1LjIxIiB5PSI3MzEuMTIyNiI+ZGVsaXZlcnlEYXRlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9Ijg2LjIxIiB4Mj0iMjUxLjc5NTkiIHkxPSI3MzguNDI0NCIgeTI9IjczOC40MjQ0Ii8+PGVsbGlwc2UgY3g9Ijk2LjIxIiBjeT0iNzUyLjA3MjgiIGZpbGw9IiM4NEJFODQiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0MS41ODU5IiB4PSIxMDUuMjEiIHk9Ijc1NS40MTk1Ij5hbW91bnQgKGNhbGN1bGF0ZWQpPC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iR01OOCIgZGF0YS1zb3VyY2UtbGluZT0iNDUiIGRhdGEtdWlkPSJlbnQwMDA5IiBpZD0iZW50aXR5X0dNTjgiPjxwYXRoIGQ9Ik0yOTYsNjYyLjEzIEwyOTYsNjg1LjgzIEwyNTIuOTksNjg5LjgzIEwyOTYsNjkzLjgzIEwyOTYsNzE3LjUyODQgQTAsMCAwIDAgMCAyOTYsNzE3LjUyODQgTDQwOC4wMDAxLDcxNy41Mjg0IEEwLDAgMCAwIDAgNDA4LjAwMDEsNzE3LjUyODQgTDQwOC4wMDAxLDY3Mi4xMyBMMzk4LjAwMDEsNjYyLjEzIEwyOTYsNjYyLjEzIEEwLDAgMCAwIDAgMjk2LDY2Mi4xMyIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTM5OC4wMDAxLDY2Mi4xMyBMMzk4LjAwMDEsNjcyLjEzIEw0MDguMDAwMSw2NzIuMTMgTDM5OC4wMDAxLDY2Mi4xMyIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEuMDAwMSIgeD0iMzAyIiB5PSI2NzkuMTk2OSI+JiMyNjEyNjsmIzMyMDQ4OyYjMzQ4OTI7JiMxMjM5ODsmIzM3MzI5OyYjMzg5ODk7JiMxMjM5OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODguMjg5NiIgeD0iMzAyIiB5PSI2OTQuMzI5NyI+JiMyNTk2ODsmIzM3MzI3OyAmIzIxNTsgJiMyMTMzNjsmIzIwMzg1OyAmIzEyMzkxOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1Mi4wMDAxIiB4PSIzMDIiIHk9IjcwOS40NjI1Ij4mIzMzMjU4OyYjMjEyMDU7JiMzNTMzNjsmIzMxNjM5OzwvdGV4dD48L2c+PCEtLWxpbmsgY29udHJvbGxlciB0byB2bS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJjb250cm9sbGVyIiBkYXRhLWVudGl0eS0yPSJ2bSIgZGF0YS1zb3VyY2UtbGluZT0iNDEiIGRhdGEtdWlkPSJsbms2IiBpZD0ibGlua19jb250cm9sbGVyX3ZtIj48cGF0aCBjb2RlTGluZT0iNDEiIGQ9Ik0xNDQuMSwyNTIuMzUgQzE0NC4zNiwyNzcuMjEgMTQ0LjU3NzMsMjk3Ljc0MDMgMTQ0LjgzNzMsMzIyLjYxMDMiIGZpbGw9Im5vbmUiIGlkPSJjb250cm9sbGVyLXRvLXZtIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNDQuOSwzMjguNjEsMTQ4LjgwNTcsMzE5LjU2ODcsMTQ0Ljg0NzcsMzIzLjYxMDMsMTQwLjgwNjEsMzE5LjY1MjMsMTQ0LjksMzI4LjYxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIuMDAwMSIgeD0iMTQ1LjUiIHk9IjI5NS4wMzY5Ij4mIzEyNDk2OyYjMTI0NTI7JiMxMjUzMTsmIzEyNDg5OzwvdGV4dD48L2c+PCEtLWxpbmsgdm0gdG8gZGV0YWlsLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9InZtIiBkYXRhLWVudGl0eS0yPSJkZXRhaWwiIGRhdGEtc291cmNlLWxpbmU9IjQyIiBkYXRhLXVpZD0ibG5rNyIgaWQ9Imxpbmtfdm1fZGV0YWlsIj48cGF0aCBjb2RlTGluZT0iNDIiIGQ9Ik0xNTUuNTIsNTQwLjM0IEMxNTcuODQsNTY1Ljk0IDE1OS43Mzc5LDU4Ni43NzQ1IDE2MS44ODc5LDYxMC40NzQ1IiBmaWxsPSJub25lIiBpZD0idm0tdG8tZGV0YWlsIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNjIuNDMsNjE2LjQ1LDE2NS42MDA1LDYwNy4xMjU0LDE2MS45NzgzLDYxMS40NzA0LDE1Ny42MzMyLDYwNy44NDgyLDE2Mi40Myw2MTYuNDUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS4wMjc4IiB4PSIxNjAuNTYiIHk9IjU4My4wMDY5Ij5jb250YWluczwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4LjI3MSIgeD0iMTQ3Ljg5OTkiIHk9IjU2MC4wMjk1Ij4xPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYuNSIgeD0iMTU1LjU0MTQiIHk9IjYwNS44MTQzIj4qPC90ZXh0PjwvZz48IS0tU1JDPVtSUDR6UnJDbjU4UHRfbWhCS21oQW1DZzBMNUFzR2dBc09aX25GS3NpLWpoMXpocWJHWHIyWEM5TkFLWEtCSzhDR0kwZ1hiQWZKMjJueTVDay1WZU5zQ3ZkZkl4TXd6VC1aeXpwdDBBLTFtc2FSRkpYcl8zb1JGM2l3LTNibno3eHR2REZkbmJ6R1dZTk8ycmJqU3BtOWJZaWNXSkRGVUxDa3dCemdnTDRtb1hPb1hUUmR4ZjlSVFBnSU82Y2VqRXdsZ2lWVXFrN3cwT3VoMGMtWHlPeDJKZUdTV1ZnNFh5QXRGVUVxbXhhVWdlcHZKUVhaZkFLb3FJaHhOY245Z1c2YmpReWpQdWE2cDRUVHJrT3dYbk5aNnQ4Zl9UeWJ4bDJmNTdOWjUzRWd1RmhnSzhCenRNMkNsQmF3UEczOU5BN29SbzVMT3c1Wmt6UU1naE1CUGV5dTZtQXd6UWt5ajBJMXlhcHdPRDlFQjhFTjZPMzhBb21jQWlhWXlYRUFFR0RFbU5aMndtYko3TlBvdlJVWm4zSjBLU0d1SjJqVUJnUFYwMWZhOHlvSzR3dWpmVVA0aXZGWTZGeTYyYm9ERXFQOUxtM1MxMVZOZHZ3a05tZHBFbXNQS050UlY3cUl6NnpCQmVsNkY0VWt5TllDUmwxdlh0dlFvNEJHYmI2WUQ4RWdINkRmZ0R3VHRRNTM0X1ZaN3ZVWkZrbFl5eHZmRlRrcVp5aUVaXzh5RlhZcVprWVZxX2V1RjNxdHZ5LUJKaFZvQlp0VlYzZ1U3cHNWN0gtR2IwYkQxSnkzbTAwXS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="403-tdd">40.3 発注入力画面の TDD 実装<a class="headerlink" href="#403-tdd" title="Permanent link">&para;</a></h3>
<h4 id="red_1">Red: 失敗するテストを書く<a class="headerlink" href="#red_1" title="Permanent link">&para;</a></h4>
<details>
<summary>PurchaseOrderEntryControllerTest.java</summary>

<div class="highlight"><pre><span></span><code><span class="nd">@ExtendWith</span><span class="p">({</span><span class="n">ApplicationExtension</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">MockitoExtension</span><span class="p">.</span><span class="na">class</span><span class="p">})</span>
<span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;発注入力画面&quot;</span><span class="p">)</span>
<span class="kd">class</span> <span class="nc">PurchaseOrderEntryControllerTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Mock</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">PurchaseOrderUseCase</span><span class="w"> </span><span class="n">orderUseCase</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@Mock</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ItemUseCase</span><span class="w"> </span><span class="n">itemUseCase</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">PurchaseOrderViewModel</span><span class="w"> </span><span class="n">viewModel</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Nested</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;明細追加&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">class</span> <span class="nc">AddDetail</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;品目を選択して明細を追加できる&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldAddDetailWhenItemSelected</span><span class="p">(</span><span class="n">FxRobot</span><span class="w"> </span><span class="n">robot</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">when</span><span class="p">(</span><span class="n">itemUseCase</span><span class="p">.</span><span class="na">getItemByCode</span><span class="p">(</span><span class="s">&quot;PART-001&quot;</span><span class="p">)).</span><span class="na">thenReturn</span><span class="p">(</span>
<span class="w">                </span><span class="n">createItem</span><span class="p">(</span><span class="s">&quot;PART-001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;テスト部品&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;500&quot;</span><span class="p">))</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">            </span><span class="n">robot</span><span class="p">.</span><span class="na">clickOn</span><span class="p">(</span><span class="s">&quot;#itemCodeField&quot;</span><span class="p">).</span><span class="na">write</span><span class="p">(</span><span class="s">&quot;PART-001&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">robot</span><span class="p">.</span><span class="na">clickOn</span><span class="p">(</span><span class="s">&quot;#quantityField&quot;</span><span class="p">).</span><span class="na">write</span><span class="p">(</span><span class="s">&quot;100&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">robot</span><span class="p">.</span><span class="na">clickOn</span><span class="p">(</span><span class="s">&quot;#addDetailButton&quot;</span><span class="p">);</span>

<span class="w">            </span><span class="n">TableView</span><span class="o">&lt;</span><span class="n">OrderDetailRow</span><span class="o">&gt;</span><span class="w"> </span><span class="n">table</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="p">.</span><span class="na">lookup</span><span class="p">(</span><span class="s">&quot;#detailTable&quot;</span><span class="p">).</span><span class="na">queryTableView</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">table</span><span class="p">.</span><span class="na">getItems</span><span class="p">()).</span><span class="na">hasSize</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">table</span><span class="p">.</span><span class="na">getItems</span><span class="p">().</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="na">getAmount</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">isEqualByComparingTo</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;50000&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Nested</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;合計計算&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">class</span> <span class="nc">TotalCalculation</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;明細追加時に合計金額が再計算される&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldRecalculateTotalWhenDetailAdded</span><span class="p">(</span><span class="n">FxRobot</span><span class="w"> </span><span class="n">robot</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">viewModel</span><span class="p">.</span><span class="na">addDetail</span><span class="p">(</span><span class="n">createDetailRow</span><span class="p">(</span><span class="s">&quot;PART-001&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;500&quot;</span><span class="p">)));</span>
<span class="w">            </span><span class="n">viewModel</span><span class="p">.</span><span class="na">addDetail</span><span class="p">(</span><span class="n">createDetailRow</span><span class="p">(</span><span class="s">&quot;MAT-001&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;200&quot;</span><span class="p">)));</span>

<span class="w">            </span><span class="n">Label</span><span class="w"> </span><span class="n">totalLabel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">robot</span><span class="p">.</span><span class="na">lookup</span><span class="p">(</span><span class="s">&quot;#totalAmountLabel&quot;</span><span class="p">).</span><span class="na">queryAs</span><span class="p">(</span><span class="n">Label</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">            </span><span class="c1">// 100 × 500 + 50 × 200 = 60,000</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">totalLabel</span><span class="p">.</span><span class="na">getText</span><span class="p">()).</span><span class="na">contains</span><span class="p">(</span><span class="s">&quot;60,000&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Nested</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;発注確定&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">class</span> <span class="nc">ConfirmOrder</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;下書き状態の発注を確定できる&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">shouldConfirmDraftOrder</span><span class="p">(</span><span class="n">FxRobot</span><span class="w"> </span><span class="n">robot</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Arrange</span>
<span class="w">            </span><span class="n">viewModel</span><span class="p">.</span><span class="na">addDetail</span><span class="p">(</span><span class="n">createDetailRow</span><span class="p">(</span><span class="s">&quot;PART-001&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;500&quot;</span><span class="p">)));</span>
<span class="w">            </span><span class="n">when</span><span class="p">(</span><span class="n">orderUseCase</span><span class="p">.</span><span class="na">confirmOrder</span><span class="p">(</span><span class="n">anyString</span><span class="p">())).</span><span class="na">thenReturn</span><span class="p">(</span>
<span class="w">                </span><span class="n">createOrder</span><span class="p">(</span><span class="s">&quot;PO-001&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">OrderStatus</span><span class="p">.</span><span class="na">CONFIRMED</span><span class="p">)</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Act</span>
<span class="w">            </span><span class="n">robot</span><span class="p">.</span><span class="na">clickOn</span><span class="p">(</span><span class="s">&quot;#confirmButton&quot;</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Assert</span>
<span class="w">            </span><span class="n">verify</span><span class="p">(</span><span class="n">orderUseCase</span><span class="p">).</span><span class="na">confirmOrder</span><span class="p">(</span><span class="n">anyString</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="green-controller-fxml">Green: Controller と FXML の実装<a class="headerlink" href="#green-controller-fxml" title="Permanent link">&para;</a></h4>
<details>
<summary>PurchaseOrderEntryController.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.in.javafx.controller</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.application.port.in.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.purchase.OrderStatus</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.in.javafx.util.AlertHelper</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.in.javafx.view.OrderDetailRow</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.in.javafx.viewmodel.PurchaseOrderViewModel</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.fxml.FXML</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.fxml.Initializable</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.scene.control.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.scene.control.cell.PropertyValueFactory</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Component</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.net.URL</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ResourceBundle</span><span class="p">;</span>

<span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">PurchaseOrderEntryController</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Initializable</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">PurchaseOrderViewModel</span><span class="w"> </span><span class="n">viewModel</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ItemUseCase</span><span class="w"> </span><span class="n">itemUseCase</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TextField</span><span class="w"> </span><span class="n">orderNumberField</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">DatePicker</span><span class="w"> </span><span class="n">orderDatePicker</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TextField</span><span class="w"> </span><span class="n">supplierCodeField</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TextField</span><span class="w"> </span><span class="n">supplierNameField</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Label</span><span class="w"> </span><span class="n">statusLabel</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TextField</span><span class="w"> </span><span class="n">itemCodeField</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TextField</span><span class="w"> </span><span class="n">itemNameField</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TextField</span><span class="w"> </span><span class="n">quantityField</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TextField</span><span class="w"> </span><span class="n">unitPriceField</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">DatePicker</span><span class="w"> </span><span class="n">deliveryDatePicker</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TableView</span><span class="o">&lt;</span><span class="n">OrderDetailRow</span><span class="o">&gt;</span><span class="w"> </span><span class="n">detailTable</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TableColumn</span><span class="o">&lt;</span><span class="n">OrderDetailRow</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">lineNoColumn</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TableColumn</span><span class="o">&lt;</span><span class="n">OrderDetailRow</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">itemCodeColumn</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TableColumn</span><span class="o">&lt;</span><span class="n">OrderDetailRow</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">itemNameColumn</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TableColumn</span><span class="o">&lt;</span><span class="n">OrderDetailRow</span><span class="p">,</span><span class="w"> </span><span class="n">BigDecimal</span><span class="o">&gt;</span><span class="w"> </span><span class="n">quantityColumn</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TableColumn</span><span class="o">&lt;</span><span class="n">OrderDetailRow</span><span class="p">,</span><span class="w"> </span><span class="n">BigDecimal</span><span class="o">&gt;</span><span class="w"> </span><span class="n">unitPriceColumn</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TableColumn</span><span class="o">&lt;</span><span class="n">OrderDetailRow</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="o">&gt;</span><span class="w"> </span><span class="n">deliveryDateColumn</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TableColumn</span><span class="o">&lt;</span><span class="n">OrderDetailRow</span><span class="p">,</span><span class="w"> </span><span class="n">BigDecimal</span><span class="o">&gt;</span><span class="w"> </span><span class="n">amountColumn</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Label</span><span class="w"> </span><span class="n">totalAmountLabel</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Button</span><span class="w"> </span><span class="n">saveButton</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Button</span><span class="w"> </span><span class="n">confirmButton</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">PurchaseOrderEntryController</span><span class="p">(</span>
<span class="w">            </span><span class="n">PurchaseOrderViewModel</span><span class="w"> </span><span class="n">viewModel</span><span class="p">,</span>
<span class="w">            </span><span class="n">ItemUseCase</span><span class="w"> </span><span class="n">itemUseCase</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">viewModel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">viewModel</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">itemUseCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">itemUseCase</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">initialize</span><span class="p">(</span><span class="n">URL</span><span class="w"> </span><span class="n">url</span><span class="p">,</span><span class="w"> </span><span class="n">ResourceBundle</span><span class="w"> </span><span class="n">rb</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// テーブルカラムの設定</span>
<span class="w">        </span><span class="n">lineNoColumn</span><span class="p">.</span><span class="na">setCellValueFactory</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PropertyValueFactory</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;lineNumber&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">itemCodeColumn</span><span class="p">.</span><span class="na">setCellValueFactory</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PropertyValueFactory</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;itemCode&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">itemNameColumn</span><span class="p">.</span><span class="na">setCellValueFactory</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PropertyValueFactory</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;itemName&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">quantityColumn</span><span class="p">.</span><span class="na">setCellValueFactory</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PropertyValueFactory</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;quantity&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">unitPriceColumn</span><span class="p">.</span><span class="na">setCellValueFactory</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PropertyValueFactory</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;unitPrice&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">deliveryDateColumn</span><span class="p">.</span><span class="na">setCellValueFactory</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PropertyValueFactory</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;deliveryDate&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">amountColumn</span><span class="p">.</span><span class="na">setCellValueFactory</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PropertyValueFactory</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;amount&quot;</span><span class="p">));</span>

<span class="w">        </span><span class="c1">// 金額カラムの書式設定</span>
<span class="w">        </span><span class="n">amountColumn</span><span class="p">.</span><span class="na">setCellFactory</span><span class="p">(</span><span class="n">col</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TableCell</span><span class="o">&lt;&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nd">@Override</span>
<span class="w">            </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">updateItem</span><span class="p">(</span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">item</span><span class="p">,</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">empty</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="kd">super</span><span class="p">.</span><span class="na">updateItem</span><span class="p">(</span><span class="n">item</span><span class="p">,</span><span class="w"> </span><span class="n">empty</span><span class="p">);</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">empty</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">setText</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">                </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">setText</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;%,d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="na">intValue</span><span class="p">()));</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">                </span><span class="n">setStyle</span><span class="p">(</span><span class="s">&quot;-fx-alignment: CENTER-RIGHT;&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">});</span>

<span class="w">        </span><span class="c1">// テーブルとViewModelのバインド</span>
<span class="w">        </span><span class="n">detailTable</span><span class="p">.</span><span class="na">setItems</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="na">getOrderDetails</span><span class="p">());</span>

<span class="w">        </span><span class="c1">// 合計金額のバインド</span>
<span class="w">        </span><span class="n">viewModel</span><span class="p">.</span><span class="na">totalAmountProperty</span><span class="p">().</span><span class="na">addListener</span><span class="p">((</span><span class="n">obs</span><span class="p">,</span><span class="w"> </span><span class="n">oldVal</span><span class="p">,</span><span class="w"> </span><span class="n">newVal</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">totalAmountLabel</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;¥%,d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">newVal</span><span class="p">.</span><span class="na">intValue</span><span class="p">()));</span>
<span class="w">        </span><span class="p">});</span>

<span class="w">        </span><span class="c1">// 初期日付の設定</span>
<span class="w">        </span><span class="n">orderDatePicker</span><span class="p">.</span><span class="na">setValue</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">());</span>
<span class="w">        </span><span class="n">deliveryDatePicker</span><span class="p">.</span><span class="na">setValue</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">().</span><span class="na">plusDays</span><span class="p">(</span><span class="mi">7</span><span class="p">));</span>

<span class="w">        </span><span class="c1">// ボタン制御</span>
<span class="w">        </span><span class="n">updateButtonState</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onSearchItem</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">itemCodeField</span><span class="p">.</span><span class="na">getText</span><span class="p">();</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">itemCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">itemCode</span><span class="p">.</span><span class="na">isBlank</span><span class="p">())</span><span class="w"> </span><span class="k">return</span><span class="p">;</span>

<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">itemUseCase</span><span class="p">.</span><span class="na">getItemByCode</span><span class="p">(</span><span class="n">itemCode</span><span class="p">);</span>
<span class="w">            </span><span class="n">itemNameField</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">item</span><span class="p">.</span><span class="na">getItemName</span><span class="p">());</span>
<span class="w">            </span><span class="c1">// デフォルト単価があれば設定</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">AlertHelper</span><span class="p">.</span><span class="na">showWarning</span><span class="p">(</span><span class="s">&quot;品目が見つかりません: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">itemCode</span><span class="p">);</span>
<span class="w">            </span><span class="n">itemNameField</span><span class="p">.</span><span class="na">clear</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onAddDetail</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">itemCodeField</span><span class="p">.</span><span class="na">getText</span><span class="p">();</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">itemName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">itemNameField</span><span class="p">.</span><span class="na">getText</span><span class="p">();</span>
<span class="w">            </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">quantity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="n">quantityField</span><span class="p">.</span><span class="na">getText</span><span class="p">());</span>
<span class="w">            </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">unitPrice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="n">unitPriceField</span><span class="p">.</span><span class="na">getText</span><span class="p">());</span>
<span class="w">            </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">deliveryDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">deliveryDatePicker</span><span class="p">.</span><span class="na">getValue</span><span class="p">();</span>

<span class="w">            </span><span class="n">viewModel</span><span class="p">.</span><span class="na">addDetail</span><span class="p">(</span><span class="n">itemCode</span><span class="p">,</span><span class="w"> </span><span class="n">itemName</span><span class="p">,</span><span class="w"> </span><span class="n">quantity</span><span class="p">,</span><span class="w"> </span><span class="n">unitPrice</span><span class="p">,</span><span class="w"> </span><span class="n">deliveryDate</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// 入力フィールドをクリア</span>
<span class="w">            </span><span class="n">itemCodeField</span><span class="p">.</span><span class="na">clear</span><span class="p">();</span>
<span class="w">            </span><span class="n">itemNameField</span><span class="p">.</span><span class="na">clear</span><span class="p">();</span>
<span class="w">            </span><span class="n">quantityField</span><span class="p">.</span><span class="na">clear</span><span class="p">();</span>
<span class="w">            </span><span class="n">unitPriceField</span><span class="p">.</span><span class="na">clear</span><span class="p">();</span>
<span class="w">            </span><span class="n">itemCodeField</span><span class="p">.</span><span class="na">requestFocus</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">NumberFormatException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">AlertHelper</span><span class="p">.</span><span class="na">showWarning</span><span class="p">(</span><span class="s">&quot;数量・単価は数値で入力してください&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onRemoveDetail</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">OrderDetailRow</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">detailTable</span><span class="p">.</span><span class="na">getSelectionModel</span><span class="p">().</span><span class="na">getSelectedItem</span><span class="p">();</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">selected</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">viewModel</span><span class="p">.</span><span class="na">removeDetail</span><span class="p">(</span><span class="n">selected</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onSave</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="na">getOrderDetails</span><span class="p">().</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">AlertHelper</span><span class="p">.</span><span class="na">showWarning</span><span class="p">(</span><span class="s">&quot;明細を1件以上入力してください&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="k">return</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">viewModel</span><span class="p">.</span><span class="na">setSupplierCode</span><span class="p">(</span><span class="n">supplierCodeField</span><span class="p">.</span><span class="na">getText</span><span class="p">());</span>
<span class="w">            </span><span class="n">viewModel</span><span class="p">.</span><span class="na">setOrderDate</span><span class="p">(</span><span class="n">orderDatePicker</span><span class="p">.</span><span class="na">getValue</span><span class="p">());</span>
<span class="w">            </span><span class="n">viewModel</span><span class="p">.</span><span class="na">save</span><span class="p">();</span>
<span class="w">            </span><span class="n">orderNumberField</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="na">getOrderNumber</span><span class="p">());</span>
<span class="w">            </span><span class="n">AlertHelper</span><span class="p">.</span><span class="na">showInfo</span><span class="p">(</span><span class="s">&quot;保存しました&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">updateButtonState</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">AlertHelper</span><span class="p">.</span><span class="na">showError</span><span class="p">(</span><span class="s">&quot;保存エラー: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onConfirm</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">AlertHelper</span><span class="p">.</span><span class="na">showConfirmation</span><span class="p">(</span><span class="s">&quot;発注を確定しますか？\n確定後は編集できません。&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">viewModel</span><span class="p">.</span><span class="na">confirm</span><span class="p">();</span>
<span class="w">                </span><span class="n">statusLabel</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;確定&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="n">AlertHelper</span><span class="p">.</span><span class="na">showInfo</span><span class="p">(</span><span class="s">&quot;発注を確定しました&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="n">updateButtonState</span><span class="p">();</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">AlertHelper</span><span class="p">.</span><span class="na">showError</span><span class="p">(</span><span class="s">&quot;確定エラー: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onPrint</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// JasperReports で発注書を印刷</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onClear</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">viewModel</span><span class="p">.</span><span class="na">clear</span><span class="p">();</span>
<span class="w">        </span><span class="n">orderNumberField</span><span class="p">.</span><span class="na">clear</span><span class="p">();</span>
<span class="w">        </span><span class="n">supplierCodeField</span><span class="p">.</span><span class="na">clear</span><span class="p">();</span>
<span class="w">        </span><span class="n">supplierNameField</span><span class="p">.</span><span class="na">clear</span><span class="p">();</span>
<span class="w">        </span><span class="n">orderDatePicker</span><span class="p">.</span><span class="na">setValue</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">());</span>
<span class="w">        </span><span class="n">statusLabel</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&quot;新規&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">updateButtonState</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">updateButtonState</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">boolean</span><span class="w"> </span><span class="n">isNew</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">viewModel</span><span class="p">.</span><span class="na">getOrderNumber</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">        </span><span class="kt">boolean</span><span class="w"> </span><span class="n">isDraft</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">viewModel</span><span class="p">.</span><span class="na">getStatus</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">OrderStatus</span><span class="p">.</span><span class="na">DRAFT</span><span class="p">;</span>

<span class="w">        </span><span class="n">saveButton</span><span class="p">.</span><span class="na">setDisable</span><span class="p">(</span><span class="o">!</span><span class="n">isDraft</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">isNew</span><span class="p">);</span>
<span class="w">        </span><span class="n">confirmButton</span><span class="p">.</span><span class="na">setDisable</span><span class="p">(</span><span class="n">isNew</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="n">isDraft</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>order-entry.fxml</summary>

<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="cp">&lt;?import javafx.scene.control.*?&gt;</span>
<span class="cp">&lt;?import javafx.scene.layout.*?&gt;</span>
<span class="cp">&lt;?import org.kordamp.ikonli.javafx.FontIcon?&gt;</span>

<span class="nt">&lt;VBox</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://javafx.com/javafx/21&quot;</span>
<span class="w">      </span><span class="na">xmlns:fx=</span><span class="s">&quot;http://javafx.com/fxml/1&quot;</span>
<span class="w">      </span><span class="na">fx:controller=</span><span class="s">&quot;com.example.production.infrastructure.in.javafx.controller.PurchaseOrderEntryController&quot;</span>
<span class="w">      </span><span class="na">spacing=</span><span class="s">&quot;10&quot;</span><span class="w"> </span><span class="na">padding=</span><span class="s">&quot;10&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- ヘッダ情報 --&gt;</span>
<span class="w">    </span><span class="nt">&lt;GridPane</span><span class="w"> </span><span class="na">hgap=</span><span class="s">&quot;10&quot;</span><span class="w"> </span><span class="na">vgap=</span><span class="s">&quot;10&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;header-form&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;発注番号:&quot;</span><span class="w"> </span><span class="na">GridPane.columnIndex=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">GridPane.rowIndex=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;TextField</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;orderNumberField&quot;</span><span class="w"> </span><span class="na">editable=</span><span class="s">&quot;false&quot;</span><span class="w"> </span><span class="na">GridPane.columnIndex=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>

<span class="w">        </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;発注日:&quot;</span><span class="w"> </span><span class="na">GridPane.columnIndex=</span><span class="s">&quot;2&quot;</span><span class="w"> </span><span class="na">GridPane.rowIndex=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;DatePicker</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;orderDatePicker&quot;</span><span class="w"> </span><span class="na">GridPane.columnIndex=</span><span class="s">&quot;3&quot;</span><span class="nt">/&gt;</span>

<span class="w">        </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;ステータス:&quot;</span><span class="w"> </span><span class="na">GridPane.columnIndex=</span><span class="s">&quot;4&quot;</span><span class="w"> </span><span class="na">GridPane.rowIndex=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;statusLabel&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;新規&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;status-label&quot;</span><span class="w"> </span><span class="na">GridPane.columnIndex=</span><span class="s">&quot;5&quot;</span><span class="nt">/&gt;</span>

<span class="w">        </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;仕入先:&quot;</span><span class="w"> </span><span class="na">GridPane.columnIndex=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">GridPane.rowIndex=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;HBox</span><span class="w"> </span><span class="na">spacing=</span><span class="s">&quot;5&quot;</span><span class="w"> </span><span class="na">GridPane.columnIndex=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">GridPane.columnSpan=</span><span class="s">&quot;3&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;TextField</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;supplierCodeField&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;100&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onSearchSupplier&quot;</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-search&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">            </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">            </span><span class="nt">&lt;TextField</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;supplierNameField&quot;</span><span class="w"> </span><span class="na">editable=</span><span class="s">&quot;false&quot;</span><span class="w"> </span><span class="na">HBox.hgrow=</span><span class="s">&quot;ALWAYS&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;/HBox&gt;</span>
<span class="w">    </span><span class="nt">&lt;/GridPane&gt;</span>

<span class="w">    </span><span class="nt">&lt;Separator/&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- 明細入力エリア --&gt;</span>
<span class="w">    </span><span class="nt">&lt;HBox</span><span class="w"> </span><span class="na">spacing=</span><span class="s">&quot;10&quot;</span><span class="w"> </span><span class="na">alignment=</span><span class="s">&quot;CENTER_LEFT&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;品目:&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;TextField</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;itemCodeField&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onSearchItem&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onSearchItem&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-search&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">        </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">        </span><span class="nt">&lt;TextField</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;itemNameField&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;150&quot;</span><span class="w"> </span><span class="na">editable=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;数量:&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;TextField</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;quantityField&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;80&quot;</span><span class="w"> </span><span class="na">alignment=</span><span class="s">&quot;CENTER_RIGHT&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;単価:&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;TextField</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;unitPriceField&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="na">alignment=</span><span class="s">&quot;CENTER_RIGHT&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;納期:&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;DatePicker</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;deliveryDatePicker&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;130&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;addDetailButton&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;追加&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;primary&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onAddDetail&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-plus&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">        </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">    </span><span class="nt">&lt;/HBox&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- 明細テーブル --&gt;</span>
<span class="w">    </span><span class="nt">&lt;TableView</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;detailTable&quot;</span><span class="w"> </span><span class="na">VBox.vgrow=</span><span class="s">&quot;ALWAYS&quot;</span><span class="w"> </span><span class="na">editable=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;columns&gt;</span>
<span class="w">            </span><span class="nt">&lt;TableColumn</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;lineNoColumn&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;No.&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;50&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;TableColumn</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;itemCodeColumn&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;品目コード&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;100&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;TableColumn</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;itemNameColumn&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;品目名&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;180&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;TableColumn</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;quantityColumn&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;数量&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;80&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;quantity-column&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;TableColumn</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;unitPriceColumn&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;単価&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;amount-column&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;TableColumn</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;deliveryDateColumn&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;納期&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;100&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;TableColumn</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;amountColumn&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;金額&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;120&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;amount-column&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;TableColumn</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;削除&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;60&quot;</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;cellFactory&gt;</span>
<span class="w">                    </span><span class="cm">&lt;!-- 削除ボタン --&gt;</span>
<span class="w">                </span><span class="nt">&lt;/cellFactory&gt;</span>
<span class="w">            </span><span class="nt">&lt;/TableColumn&gt;</span>
<span class="w">        </span><span class="nt">&lt;/columns&gt;</span>
<span class="w">    </span><span class="nt">&lt;/TableView&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- 合計エリア --&gt;</span>
<span class="w">    </span><span class="nt">&lt;HBox</span><span class="w"> </span><span class="na">spacing=</span><span class="s">&quot;20&quot;</span><span class="w"> </span><span class="na">alignment=</span><span class="s">&quot;CENTER_RIGHT&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;total-area&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;VBox</span><span class="w"> </span><span class="na">alignment=</span><span class="s">&quot;CENTER_RIGHT&quot;</span><span class="w"> </span><span class="na">spacing=</span><span class="s">&quot;5&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;HBox</span><span class="w"> </span><span class="na">spacing=</span><span class="s">&quot;10&quot;</span><span class="w"> </span><span class="na">alignment=</span><span class="s">&quot;CENTER_RIGHT&quot;</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;合計金額:&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;total-label-large&quot;</span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;totalAmountLabel&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;¥0&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;total-value-large&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;/HBox&gt;</span>
<span class="w">        </span><span class="nt">&lt;/VBox&gt;</span>
<span class="w">    </span><span class="nt">&lt;/HBox&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- ボタンエリア --&gt;</span>
<span class="w">    </span><span class="nt">&lt;HBox</span><span class="w"> </span><span class="na">spacing=</span><span class="s">&quot;10&quot;</span><span class="w"> </span><span class="na">alignment=</span><span class="s">&quot;CENTER_RIGHT&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;クリア&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onClear&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;印刷&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onPrint&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-print&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">        </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">        </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;saveButton&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;保存&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;primary&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onSave&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-save&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">        </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">        </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;confirmButton&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;確定&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;success&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onConfirm&quot;</span><span class="w"> </span><span class="na">disable=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-check&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">        </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">    </span><span class="nt">&lt;/HBox&gt;</span>
<span class="nt">&lt;/VBox&gt;</span>
</code></pre></div>

</details>

<h3 id="404-mrp">40.4 MRP 実行画面の実装<a class="headerlink" href="#404-mrp" title="Permanent link">&para;</a></h3>
<details>
<summary>MrpExecutionController.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.in.javafx.controller</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.application.service.MrpService</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.application.service.PlannedOrder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.application.service.ShortageItem</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.in.javafx.util.AlertHelper</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.application.Platform</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.concurrent.Task</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.fxml.FXML</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.fxml.Initializable</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.scene.control.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.scene.control.cell.PropertyValueFactory</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Component</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.net.URL</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ResourceBundle</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.concurrent.ExecutorService</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.concurrent.Executors</span><span class="p">;</span>

<span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MrpExecutionController</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Initializable</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">MrpService</span><span class="w"> </span><span class="n">mrpService</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ExecutorService</span><span class="w"> </span><span class="n">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Executors</span><span class="p">.</span><span class="na">newSingleThreadExecutor</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">DatePicker</span><span class="w"> </span><span class="n">startDatePicker</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">DatePicker</span><span class="w"> </span><span class="n">endDatePicker</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">ProgressBar</span><span class="w"> </span><span class="n">progressBar</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Label</span><span class="w"> </span><span class="n">progressLabel</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TableView</span><span class="o">&lt;</span><span class="n">PlannedOrder</span><span class="o">&gt;</span><span class="w"> </span><span class="n">plannedOrderTable</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TableColumn</span><span class="o">&lt;</span><span class="n">PlannedOrder</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">poItemCodeColumn</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TableColumn</span><span class="o">&lt;</span><span class="n">PlannedOrder</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">poItemNameColumn</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TableColumn</span><span class="o">&lt;</span><span class="n">PlannedOrder</span><span class="p">,</span><span class="w"> </span><span class="n">BigDecimal</span><span class="o">&gt;</span><span class="w"> </span><span class="n">poQuantityColumn</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TableColumn</span><span class="o">&lt;</span><span class="n">PlannedOrder</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="o">&gt;</span><span class="w"> </span><span class="n">poDueDateColumn</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TableView</span><span class="o">&lt;</span><span class="n">ShortageItem</span><span class="o">&gt;</span><span class="w"> </span><span class="n">shortageTable</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TableColumn</span><span class="o">&lt;</span><span class="n">ShortageItem</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">siItemCodeColumn</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TableColumn</span><span class="o">&lt;</span><span class="n">ShortageItem</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">siItemNameColumn</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TableColumn</span><span class="o">&lt;</span><span class="n">ShortageItem</span><span class="p">,</span><span class="w"> </span><span class="n">BigDecimal</span><span class="o">&gt;</span><span class="w"> </span><span class="n">siShortageColumn</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Label</span><span class="w"> </span><span class="n">executionTimeLabel</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Label</span><span class="w"> </span><span class="n">totalItemsLabel</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Label</span><span class="w"> </span><span class="n">shortageCountLabel</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">MrpExecutionController</span><span class="p">(</span><span class="n">MrpService</span><span class="w"> </span><span class="n">mrpService</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">mrpService</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mrpService</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">initialize</span><span class="p">(</span><span class="n">URL</span><span class="w"> </span><span class="n">url</span><span class="p">,</span><span class="w"> </span><span class="n">ResourceBundle</span><span class="w"> </span><span class="n">rb</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 初期日付の設定</span>
<span class="w">        </span><span class="n">startDatePicker</span><span class="p">.</span><span class="na">setValue</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">());</span>
<span class="w">        </span><span class="n">endDatePicker</span><span class="p">.</span><span class="na">setValue</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">().</span><span class="na">plusMonths</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span>

<span class="w">        </span><span class="c1">// 計画オーダテーブルのカラム設定</span>
<span class="w">        </span><span class="n">poItemCodeColumn</span><span class="p">.</span><span class="na">setCellValueFactory</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PropertyValueFactory</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;itemCode&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">poItemNameColumn</span><span class="p">.</span><span class="na">setCellValueFactory</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PropertyValueFactory</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;itemName&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">poQuantityColumn</span><span class="p">.</span><span class="na">setCellValueFactory</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PropertyValueFactory</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;quantity&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">poDueDateColumn</span><span class="p">.</span><span class="na">setCellValueFactory</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PropertyValueFactory</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;dueDate&quot;</span><span class="p">));</span>

<span class="w">        </span><span class="c1">// 不足品目テーブルのカラム設定</span>
<span class="w">        </span><span class="n">siItemCodeColumn</span><span class="p">.</span><span class="na">setCellValueFactory</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PropertyValueFactory</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;itemCode&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">siItemNameColumn</span><span class="p">.</span><span class="na">setCellValueFactory</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PropertyValueFactory</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;itemName&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">siShortageColumn</span><span class="p">.</span><span class="na">setCellValueFactory</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PropertyValueFactory</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;shortageQuantity&quot;</span><span class="p">));</span>

<span class="w">        </span><span class="n">progressBar</span><span class="p">.</span><span class="na">setProgress</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onExecute</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">startDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">startDatePicker</span><span class="p">.</span><span class="na">getValue</span><span class="p">();</span>
<span class="w">        </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">endDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">endDatePicker</span><span class="p">.</span><span class="na">getValue</span><span class="p">();</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">startDate</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">endDate</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">AlertHelper</span><span class="p">.</span><span class="na">showWarning</span><span class="p">(</span><span class="s">&quot;期間を指定してください&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="k">return</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">startDate</span><span class="p">.</span><span class="na">isAfter</span><span class="p">(</span><span class="n">endDate</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">AlertHelper</span><span class="p">.</span><span class="na">showWarning</span><span class="p">(</span><span class="s">&quot;開始日は終了日より前にしてください&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="k">return</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// バックグラウンドでMRP実行</span>
<span class="w">        </span><span class="n">Task</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Task</span><span class="o">&lt;&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nd">@Override</span>
<span class="w">            </span><span class="kd">protected</span><span class="w"> </span><span class="n">Void</span><span class="w"> </span><span class="nf">call</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">updateProgress</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">);</span>
<span class="w">                </span><span class="n">updateMessage</span><span class="p">(</span><span class="s">&quot;需要取得中...&quot;</span><span class="p">);</span>

<span class="w">                </span><span class="n">updateProgress</span><span class="p">(</span><span class="mf">0.3</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">);</span>
<span class="w">                </span><span class="n">updateMessage</span><span class="p">(</span><span class="s">&quot;BOM展開中...&quot;</span><span class="p">);</span>

<span class="w">                </span><span class="n">updateProgress</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">);</span>
<span class="w">                </span><span class="n">updateMessage</span><span class="p">(</span><span class="s">&quot;正味所要量計算中...&quot;</span><span class="p">);</span>

<span class="w">                </span><span class="n">updateProgress</span><span class="p">(</span><span class="mf">0.7</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">);</span>
<span class="w">                </span><span class="n">updateMessage</span><span class="p">(</span><span class="s">&quot;計画オーダ生成中...&quot;</span><span class="p">);</span>

<span class="w">                </span><span class="kt">long</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">();</span>
<span class="w">                </span><span class="kd">var</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mrpService</span><span class="p">.</span><span class="na">execute</span><span class="p">(</span><span class="n">startDate</span><span class="p">,</span><span class="w"> </span><span class="n">endDate</span><span class="p">);</span>
<span class="w">                </span><span class="kt">long</span><span class="w"> </span><span class="n">elapsed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start</span><span class="p">;</span>

<span class="w">                </span><span class="n">updateProgress</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">);</span>
<span class="w">                </span><span class="n">updateMessage</span><span class="p">(</span><span class="s">&quot;完了&quot;</span><span class="p">);</span>

<span class="w">                </span><span class="n">Platform</span><span class="p">.</span><span class="na">runLater</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">plannedOrderTable</span><span class="p">.</span><span class="na">getItems</span><span class="p">().</span><span class="na">setAll</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="na">getPlannedOrders</span><span class="p">());</span>
<span class="w">                    </span><span class="n">shortageTable</span><span class="p">.</span><span class="na">getItems</span><span class="p">().</span><span class="na">setAll</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="na">getShortageItems</span><span class="p">());</span>

<span class="w">                    </span><span class="n">executionTimeLabel</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;%.2f 秒&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">elapsed</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">1000.0</span><span class="p">));</span>
<span class="w">                    </span><span class="n">totalItemsLabel</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="na">getPlannedOrders</span><span class="p">().</span><span class="na">size</span><span class="p">()));</span>
<span class="w">                    </span><span class="n">shortageCountLabel</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="na">getShortageItems</span><span class="p">().</span><span class="na">size</span><span class="p">()));</span>
<span class="w">                </span><span class="p">});</span>

<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">};</span>

<span class="w">        </span><span class="n">progressBar</span><span class="p">.</span><span class="na">progressProperty</span><span class="p">().</span><span class="na">bind</span><span class="p">(</span><span class="n">task</span><span class="p">.</span><span class="na">progressProperty</span><span class="p">());</span>
<span class="w">        </span><span class="n">progressLabel</span><span class="p">.</span><span class="na">textProperty</span><span class="p">().</span><span class="na">bind</span><span class="p">(</span><span class="n">task</span><span class="p">.</span><span class="na">messageProperty</span><span class="p">());</span>

<span class="w">        </span><span class="n">task</span><span class="p">.</span><span class="na">setOnFailed</span><span class="p">(</span><span class="n">e</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">AlertHelper</span><span class="p">.</span><span class="na">showError</span><span class="p">(</span><span class="s">&quot;MRP実行エラー: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">task</span><span class="p">.</span><span class="na">getException</span><span class="p">().</span><span class="na">getMessage</span><span class="p">());</span>
<span class="w">            </span><span class="n">progressBar</span><span class="p">.</span><span class="na">progressProperty</span><span class="p">().</span><span class="na">unbind</span><span class="p">();</span>
<span class="w">            </span><span class="n">progressLabel</span><span class="p">.</span><span class="na">textProperty</span><span class="p">().</span><span class="na">unbind</span><span class="p">();</span>
<span class="w">        </span><span class="p">});</span>

<span class="w">        </span><span class="n">executor</span><span class="p">.</span><span class="na">submit</span><span class="p">(</span><span class="n">task</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onExportExcel</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Excel出力処理</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="41">第41章：エラーハンドリングと帳票出力<a class="headerlink" href="#41" title="Permanent link">&para;</a></h2>
<h3 id="411-alerthelper">41.1 AlertHelper の実装<a class="headerlink" href="#411-alerthelper" title="Permanent link">&para;</a></h3>
<p>アラートダイアログを統一的に扱うためのヘルパークラスを作成します。</p>
<details>
<summary>AlertHelper.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.in.javafx.util</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.scene.control.Alert</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.scene.control.ButtonType</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.scene.control.TextArea</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.scene.layout.GridPane</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.scene.layout.Priority</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.io.PrintWriter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.io.StringWriter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Optional</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AlertHelper</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="nf">AlertHelper</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">showInfo</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Alert</span><span class="w"> </span><span class="n">alert</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Alert</span><span class="p">(</span><span class="n">Alert</span><span class="p">.</span><span class="na">AlertType</span><span class="p">.</span><span class="na">INFORMATION</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;情報&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">setHeaderText</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">setContentText</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">showAndWait</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">showWarning</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Alert</span><span class="w"> </span><span class="n">alert</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Alert</span><span class="p">(</span><span class="n">Alert</span><span class="p">.</span><span class="na">AlertType</span><span class="p">.</span><span class="na">WARNING</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;警告&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">setHeaderText</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">setContentText</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">showAndWait</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">showError</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Alert</span><span class="w"> </span><span class="n">alert</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Alert</span><span class="p">(</span><span class="n">Alert</span><span class="p">.</span><span class="na">AlertType</span><span class="p">.</span><span class="na">ERROR</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;エラー&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">setHeaderText</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">setContentText</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">showAndWait</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">showException</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">header</span><span class="p">,</span><span class="w"> </span><span class="n">Throwable</span><span class="w"> </span><span class="n">exception</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Alert</span><span class="w"> </span><span class="n">alert</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Alert</span><span class="p">(</span><span class="n">Alert</span><span class="p">.</span><span class="na">AlertType</span><span class="p">.</span><span class="na">ERROR</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="n">title</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">setHeaderText</span><span class="p">(</span><span class="n">header</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">setContentText</span><span class="p">(</span><span class="n">exception</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span>

<span class="w">        </span><span class="n">StringWriter</span><span class="w"> </span><span class="n">sw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">StringWriter</span><span class="p">();</span>
<span class="w">        </span><span class="n">PrintWriter</span><span class="w"> </span><span class="n">pw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PrintWriter</span><span class="p">(</span><span class="n">sw</span><span class="p">);</span>
<span class="w">        </span><span class="n">exception</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">(</span><span class="n">pw</span><span class="p">);</span>

<span class="w">        </span><span class="n">TextArea</span><span class="w"> </span><span class="n">textArea</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TextArea</span><span class="p">(</span><span class="n">sw</span><span class="p">.</span><span class="na">toString</span><span class="p">());</span>
<span class="w">        </span><span class="n">textArea</span><span class="p">.</span><span class="na">setEditable</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">        </span><span class="n">textArea</span><span class="p">.</span><span class="na">setWrapText</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">        </span><span class="n">textArea</span><span class="p">.</span><span class="na">setMaxWidth</span><span class="p">(</span><span class="n">Double</span><span class="p">.</span><span class="na">MAX_VALUE</span><span class="p">);</span>
<span class="w">        </span><span class="n">textArea</span><span class="p">.</span><span class="na">setMaxHeight</span><span class="p">(</span><span class="n">Double</span><span class="p">.</span><span class="na">MAX_VALUE</span><span class="p">);</span>
<span class="w">        </span><span class="n">GridPane</span><span class="p">.</span><span class="na">setVgrow</span><span class="p">(</span><span class="n">textArea</span><span class="p">,</span><span class="w"> </span><span class="n">Priority</span><span class="p">.</span><span class="na">ALWAYS</span><span class="p">);</span>
<span class="w">        </span><span class="n">GridPane</span><span class="p">.</span><span class="na">setHgrow</span><span class="p">(</span><span class="n">textArea</span><span class="p">,</span><span class="w"> </span><span class="n">Priority</span><span class="p">.</span><span class="na">ALWAYS</span><span class="p">);</span>

<span class="w">        </span><span class="n">GridPane</span><span class="w"> </span><span class="n">expContent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GridPane</span><span class="p">();</span>
<span class="w">        </span><span class="n">expContent</span><span class="p">.</span><span class="na">setMaxWidth</span><span class="p">(</span><span class="n">Double</span><span class="p">.</span><span class="na">MAX_VALUE</span><span class="p">);</span>
<span class="w">        </span><span class="n">expContent</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">textArea</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>

<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">getDialogPane</span><span class="p">().</span><span class="na">setExpandableContent</span><span class="p">(</span><span class="n">expContent</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">showAndWait</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">showConfirmation</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Alert</span><span class="w"> </span><span class="n">alert</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Alert</span><span class="p">(</span><span class="n">Alert</span><span class="p">.</span><span class="na">AlertType</span><span class="p">.</span><span class="na">CONFIRMATION</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;確認&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">setHeaderText</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">setContentText</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>

<span class="w">        </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">ButtonType</span><span class="o">&gt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">alert</span><span class="p">.</span><span class="na">showAndWait</span><span class="p">();</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="na">isPresent</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="na">get</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">ButtonType</span><span class="p">.</span><span class="na">OK</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="412">41.2 グローバル例外ハンドラ<a class="headerlink" href="#412" title="Permanent link">&para;</a></h3>
<details>
<summary>グローバル例外ハンドラ</summary>

<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">JavaFxApplication</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Application</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Logger</span><span class="w"> </span><span class="n">logger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LoggerFactory</span><span class="p">.</span><span class="na">getLogger</span><span class="p">(</span><span class="n">JavaFxApplication</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">init</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Thread</span><span class="p">.</span><span class="na">setDefaultUncaughtExceptionHandler</span><span class="p">(</span><span class="k">this</span><span class="p">::</span><span class="n">handleUncaughtException</span><span class="p">);</span>
<span class="w">        </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">handleUncaughtException</span><span class="p">(</span><span class="n">Thread</span><span class="w"> </span><span class="n">thread</span><span class="p">,</span><span class="w"> </span><span class="n">Throwable</span><span class="w"> </span><span class="n">throwable</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">logger</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="s">&quot;未処理例外が発生しました [Thread: {}]&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">thread</span><span class="p">.</span><span class="na">getName</span><span class="p">(),</span><span class="w"> </span><span class="n">throwable</span><span class="p">);</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Platform</span><span class="p">.</span><span class="na">isFxApplicationThread</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">showErrorDialog</span><span class="p">(</span><span class="n">throwable</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Platform</span><span class="p">.</span><span class="na">runLater</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">showErrorDialog</span><span class="p">(</span><span class="n">throwable</span><span class="p">));</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">showErrorDialog</span><span class="p">(</span><span class="n">Throwable</span><span class="w"> </span><span class="n">throwable</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">AlertHelper</span><span class="p">.</span><span class="na">showException</span><span class="p">(</span>
<span class="w">            </span><span class="s">&quot;予期しないエラー&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s">&quot;アプリケーションで予期しないエラーが発生しました&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="n">throwable</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="413-jasperreports">41.3 JasperReports による帳票出力<a class="headerlink" href="#413-jasperreports" title="Permanent link">&para;</a></h3>
<details>
<summary>ReportService.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.in.javafx.util</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">net.sf.jasperreports.engine.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">net.sf.jasperreports.engine.data.JRBeanCollectionDataSource</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.core.io.ClassPathResource</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Service</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.io.InputStream</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span>

<span class="nd">@Service</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ReportService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 発注書を生成して印刷プレビューを表示</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">printPurchaseOrder</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">orderNumber</span><span class="p">,</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">parameters</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">details</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">InputStream</span><span class="w"> </span><span class="n">reportStream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ClassPathResource</span><span class="p">(</span><span class="s">&quot;reports/purchase-order.jrxml&quot;</span><span class="p">).</span><span class="na">getInputStream</span><span class="p">();</span>
<span class="w">            </span><span class="n">JasperReport</span><span class="w"> </span><span class="n">jasperReport</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JasperCompileManager</span><span class="p">.</span><span class="na">compileReport</span><span class="p">(</span><span class="n">reportStream</span><span class="p">);</span>

<span class="w">            </span><span class="n">JRBeanCollectionDataSource</span><span class="w"> </span><span class="n">dataSource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JRBeanCollectionDataSource</span><span class="p">(</span><span class="n">details</span><span class="p">);</span>
<span class="w">            </span><span class="n">JasperPrint</span><span class="w"> </span><span class="n">jasperPrint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JasperFillManager</span><span class="p">.</span><span class="na">fillReport</span><span class="p">(</span><span class="n">jasperReport</span><span class="p">,</span><span class="w"> </span><span class="n">parameters</span><span class="p">,</span><span class="w"> </span><span class="n">dataSource</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// プレビュー表示</span>
<span class="w">            </span><span class="n">javafx</span><span class="p">.</span><span class="na">embed</span><span class="p">.</span><span class="na">swing</span><span class="p">.</span><span class="na">SwingNode</span><span class="w"> </span><span class="n">swingNode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">javafx</span><span class="p">.</span><span class="na">embed</span><span class="p">.</span><span class="na">swing</span><span class="p">.</span><span class="na">SwingNode</span><span class="p">();</span>
<span class="w">            </span><span class="n">javax</span><span class="p">.</span><span class="na">swing</span><span class="p">.</span><span class="na">SwingUtilities</span><span class="p">.</span><span class="na">invokeLater</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">net</span><span class="p">.</span><span class="na">sf</span><span class="p">.</span><span class="na">jasperreports</span><span class="p">.</span><span class="na">swing</span><span class="p">.</span><span class="na">JRViewer</span><span class="w"> </span><span class="n">viewer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">net</span><span class="p">.</span><span class="na">sf</span><span class="p">.</span><span class="na">jasperreports</span><span class="p">.</span><span class="na">swing</span><span class="p">.</span><span class="na">JRViewer</span><span class="p">(</span><span class="n">jasperPrint</span><span class="p">);</span>
<span class="w">                </span><span class="n">swingNode</span><span class="p">.</span><span class="na">setContent</span><span class="p">(</span><span class="n">viewer</span><span class="p">);</span>
<span class="w">            </span><span class="p">});</span>

<span class="w">            </span><span class="c1">// 新しいウィンドウでプレビュー表示</span>
<span class="w">            </span><span class="n">javafx</span><span class="p">.</span><span class="na">stage</span><span class="p">.</span><span class="na">Stage</span><span class="w"> </span><span class="n">previewStage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">javafx</span><span class="p">.</span><span class="na">stage</span><span class="p">.</span><span class="na">Stage</span><span class="p">();</span>
<span class="w">            </span><span class="n">previewStage</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;発注書プレビュー - &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">orderNumber</span><span class="p">);</span>
<span class="w">            </span><span class="n">javafx</span><span class="p">.</span><span class="na">scene</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">BorderPane</span><span class="w"> </span><span class="n">pane</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">javafx</span><span class="p">.</span><span class="na">scene</span><span class="p">.</span><span class="na">layout</span><span class="p">.</span><span class="na">BorderPane</span><span class="p">(</span><span class="n">swingNode</span><span class="p">);</span>
<span class="w">            </span><span class="n">previewStage</span><span class="p">.</span><span class="na">setScene</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">javafx</span><span class="p">.</span><span class="na">scene</span><span class="p">.</span><span class="na">Scene</span><span class="p">(</span><span class="n">pane</span><span class="p">,</span><span class="w"> </span><span class="mi">800</span><span class="p">,</span><span class="w"> </span><span class="mi">600</span><span class="p">));</span>
<span class="w">            </span><span class="n">previewStage</span><span class="p">.</span><span class="na">show</span><span class="p">();</span>

<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="s">&quot;帳票生成エラー&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * MRP結果レポートをExcel出力</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">exportMrpResultToExcel</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">plannedOrders</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">shortageItems</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">filePath</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Apache POI を使用したExcel出力</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="_2">まとめ<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<h3 id="_3">実装した機能一覧<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>章</th>
<th>内容</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>第38章: 基礎</strong></td>
<td>JavaFX + Spring Boot 統合、MVVM パターン、Property と DataBinding</td>
</tr>
<tr>
<td><strong>第39章: マスタ画面</strong></td>
<td>品目マスタ CRUD、BOM展開画面、TestFX による TDD、Excel エクスポート</td>
</tr>
<tr>
<td><strong>第40章: トランザクション画面</strong></td>
<td>発注入力・確定処理、MRP実行画面、ヘッダ・明細構造、進捗表示</td>
</tr>
<tr>
<td><strong>第41章: エラーハンドリング</strong></td>
<td>統一的なアラート表示、バリデーション、JasperReports 帳票出力</td>
</tr>
</tbody>
</table>
<h3 id="_4">アーキテクチャの特徴<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjcxOHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NjU5cHg7aGVpZ2h0OjcxOHB4O2JhY2tncm91bmQ6I0ZFRkVGRTsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDY1OSA3MTgiIHdpZHRoPSI2NTlweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjxyZWN0IGZpbGw9IiNGRUZFRkUiIGhlaWdodD0iNzE4IiBzdHlsZT0ic3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNjU5IiB4PSIwIiB5PSIwIi8+PCEtLWNsdXN0ZXIgVUkgTGF5ZXItLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1lbnRpdHk9IlVJIExheWVyIiBkYXRhLXNvdXJjZS1saW5lPSI0IiBkYXRhLXVpZD0iZW50MDAwMiIgaWQ9ImNsdXN0ZXJfVUkgTGF5ZXIiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMjQ5LjYiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIzNTYiIHg9IjE2NiIgeT0iNyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NS4zNDQ3IiB4PSIzMTEuMzI3NiIgeT0iMjEuOTk1MSI+VUkgTGF5ZXI8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIGphdmFmeC0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLWVudGl0eT0iamF2YWZ4IiBkYXRhLXNvdXJjZS1saW5lPSI1IiBkYXRhLXVpZD0iZW50MDAwMyIgaWQ9ImNsdXN0ZXJfamF2YWZ4Ij48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9Ijk3LjMiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIxNDIiIHg9IjE5MCIgeT0iNTAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzUuMDM4MSIgeD0iMjIzLjQ4MSIgeT0iNjQuOTk1MSI+SmF2YUZYIFVJPC90ZXh0PjwvZz48IS0tY2x1c3RlciByZXN0LS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtZW50aXR5PSJyZXN0IiBkYXRhLXNvdXJjZS1saW5lPSI4IiBkYXRhLXVpZD0iZW50MDAwNSIgaWQ9ImNsdXN0ZXJfcmVzdCI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI5Ny4zIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iMTQyIiB4PSIzNTYiIHk9IjUwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkyLjYwNjQiIHg9IjM4MC42OTY4IiB5PSI2NC45OTUxIj5SRVNUIEFQSSBVSTwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgQXBwbGljYXRpb24gTGF5ZXItLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1lbnRpdHk9IkFwcGxpY2F0aW9uIExheWVyIiBkYXRhLXNvdXJjZS1saW5lPSIxOSIgZGF0YS11aWQ9ImVudDAwMTEiIGlkPSJjbHVzdGVyX0FwcGxpY2F0aW9uIExheWVyIj48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjExMy41OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjMwMiIgeD0iMjA4IiB5PSIyODkuNiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzguMDY1NCIgeD0iMjg5Ljk2NzMiIHk9IjMwNC41OTUxIj5BcHBsaWNhdGlvbiBMYXllcjwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgRG9tYWluIExheWVyLS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtZW50aXR5PSJEb21haW4gTGF5ZXIiIGRhdGEtc291cmNlLWxpbmU9IjIzIiBkYXRhLXVpZD0iZW50MDAxMyIgaWQ9ImNsdXN0ZXJfRG9tYWluIExheWVyIj48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjExMy42IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNTgzIiB4PSI3IiB5PSI0MzYuMTkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA4LjgwNzYiIHg9IjI0NC4wOTYyIiB5PSI0NTEuMTg1MSI+RG9tYWluIExheWVyPC90ZXh0PjwvZz48IS0tY2x1c3RlciBJbmZyYXN0cnVjdHVyZSBMYXllci0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLWVudGl0eT0iSW5mcmFzdHJ1Y3R1cmUgTGF5ZXIiIGRhdGEtc291cmNlLWxpbmU9IjI5IiBkYXRhLXVpZD0iZW50MDAxNyIgaWQ9ImNsdXN0ZXJfSW5mcmFzdHJ1Y3R1cmUgTGF5ZXIiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMTEzLjU5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iMjc0IiB4PSIzNzkiIHk9IjU5OC43OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTkuNjM5NiIgeD0iNDM2LjE4MDIiIHk9IjYxMy43ODUxIj5JbmZyYXN0cnVjdHVyZSBMYXllcjwvdGV4dD48L2c+PCEtLWVudGl0eSB2aWV3bW9kZWwtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0idmlld21vZGVsIiBkYXRhLXNvdXJjZS1saW5lPSIxMiIgZGF0YS11aWQ9ImVudDAwMDciIGlkPSJlbnRpdHlfdmlld21vZGVsIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExNS41NjQ1IiB4PSIyMDQuMjIiIHk9IjE5NC4zIi8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTUiIHg9IjI5OS43ODQ1IiB5PSIxOTkuMyIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMjk3Ljc4NDUiIHk9IjIwMS4zIi8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSIyOTcuNzg0NSIgeT0iMjA1LjMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3NS41NjQ1IiB4PSIyMTkuMjIiIHk9IjIyNy4yOTUxIj5WaWV3TW9kZWw8L3RleHQ+PC9nPjwhLS1lbnRpdHkgZHRvLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9ImR0byIgZGF0YS1zb3VyY2UtbGluZT0iMTMiIGRhdGEtdWlkPSJlbnQwMDA4IiBpZD0iZW50aXR5X2R0byI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0Ni4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNDIuOTM1NSIgeD0iMzU0LjUzIiB5PSIxOTQuMyIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1IiB4PSI0NzcuNDY1NSIgeT0iMTk5LjMiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjQ3NS40NjU1IiB5PSIyMDEuMyIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iNDc1LjQ2NTUiIHk9IjIwNS4zIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTAyLjkzNTUiIHg9IjM2OS41MyIgeT0iMjI3LjI5NTEiPkRUTy9SZXNwb25zZTwvdGV4dD48L2c+PCEtLWVudGl0eSBmeG1sLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9ImZ4bWwiIGRhdGEtc291cmNlLWxpbmU9IjYiIGRhdGEtdWlkPSJlbnQwMDA0IiBpZD0iZW50aXR5X2Z4bWwiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTA5Ljc4ODEiIHg9IjIwNi4xMSIgeT0iODUiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNSIgeD0iMjk1Ljg5ODEiIHk9IjkwIi8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSIyOTMuODk4MSIgeT0iOTIiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjI5My44OTgxIiB5PSI5NiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljc4ODEiIHg9IjIyMS4xMSIgeT0iMTE3Ljk5NTEiPkZYTUwvQ1NTPC90ZXh0PjwvZz48IS0tZW50aXR5IGNvbnRyb2xsZXItLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iY29udHJvbGxlciIgZGF0YS1zb3VyY2UtbGluZT0iOSIgZGF0YS11aWQ9ImVudDAwMDYiIGlkPSJlbnRpdHlfY29udHJvbGxlciI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0Ni4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDkuMTcyOSIgeD0iMzcyLjQxIiB5PSI4NSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1IiB4PSI0NjEuNTgyOSIgeT0iOTAiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjQ1OS41ODI5IiB5PSI5MiIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iNDU5LjU4MjkiIHk9Ijk2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuMTcyOSIgeD0iMzg3LjQxIiB5PSIxMTcuOTk1MSI+Q29udHJvbGxlcjwvdGV4dD48L2c+PCEtLWVudGl0eSB1c2VjYXNlLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9InVzZWNhc2UiIGRhdGEtc291cmNlLWxpbmU9IjIwIiBkYXRhLXVpZD0iZW50MDAxMiIgaWQ9ImVudGl0eV91c2VjYXNlIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjYyLjU5MzgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjI3MC44MDg2IiB4PSIyMjMuNiIgeT0iMzI0LjYiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNSIgeD0iNDc0LjQwODYiIHk9IjMyOS42Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSI0NzIuNDA4NiIgeT0iMzMxLjYiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjQ3Mi40MDg2IiB5PSIzMzUuNiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYwLjQxNiIgeD0iMjM4LjYiIHk9IjM1Ny41OTUxIj5Vc2VDYXNlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIzMC44MDg2IiB4PSIyMzguNiIgeT0iMzczLjg5MiI+KEl0ZW1Vc2VDYXNlLCBCb21TZXJ2aWNlLCBldGMuKTwvdGV4dD48L2c+PCEtLWVudGl0eSBlbnRpdHktLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iZW50aXR5IiBkYXRhLXNvdXJjZS1saW5lPSIyNCIgZGF0YS11aWQ9ImVudDAwMTQiIGlkPSJlbnRpdHlfZW50aXR5Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjYyLjU5MzgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjIzNi41NjA1IiB4PSIyMi43MiIgeT0iNDcxLjE5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTUiIHg9IjIzOS4yODA1IiB5PSI0NzYuMTkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjIzNy4yODA1IiB5PSI0NzguMTkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjIzNy4yODA1IiB5PSI0ODIuMTkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MC44NzIxIiB4PSIzNy43MiIgeT0iNTA0LjE4NTEiPkVudGl0eTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTYuNTYwNSIgeD0iMzcuNzIiIHk9IjUyMC40ODIiPihJdGVtLCBCb20sIFB1cmNoYXNlT3JkZXIpPC90ZXh0PjwvZz48IS0tZW50aXR5IHZvLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9InZvIiBkYXRhLXNvdXJjZS1saW5lPSIyNSIgZGF0YS11aWQ9ImVudDAwMTUiIGlkPSJlbnRpdHlfdm8iPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTI5LjU3ODEiIHg9IjI5NC4yMSIgeT0iNDc5LjM0Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTUiIHg9IjQwMy43ODgxIiB5PSI0ODQuMzQiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjQwMS43ODgxIiB5PSI0ODYuMzQiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjQwMS43ODgxIiB5PSI0OTAuMzQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4OS41NzgxIiB4PSIzMDkuMjEiIHk9IjUxMi4zMzUxIj5WYWx1ZSBPYmplY3Q8L3RleHQ+PC9nPjwhLS1lbnRpdHkgcmVwb19wb3J0LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9InJlcG9fcG9ydCIgZGF0YS1zb3VyY2UtbGluZT0iMjYiIGRhdGEtdWlkPSJlbnQwMDE2IiBpZD0iZW50aXR5X3JlcG9fcG9ydCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2Mi41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMTUuMDcyMyIgeD0iNDU4LjQ2IiB5PSI0NzEuMTkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNSIgeD0iNTUzLjUzMjMiIHk9IjQ3Ni4xOSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iNTUxLjUzMjMiIHk9IjQ3OC4xOSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iNTUxLjUzMjMiIHk9IjQ4Mi4xOSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc1LjA3MjMiIHg9IjQ3My40NiIgeT0iNTA0LjE4NTEiPlJlcG9zaXRvcnk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzkuMTc2OCIgeD0iNDczLjQ2IiB5PSI1MjAuNDgyIj4oUG9ydCk8L3RleHQ+PC9nPjwhLS1lbnRpdHkgbWFwcGVyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9Im1hcHBlciIgZGF0YS1zb3VyY2UtbGluZT0iMzAiIGRhdGEtdWlkPSJlbnQwMDE4IiBpZD0iZW50aXR5X21hcHBlciI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2Mi41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyNDEuNjEyMyIgeD0iMzk1LjE5IiB5PSI2MzMuNzkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNSIgeD0iNjE2LjgwMjMiIHk9IjYzOC43OSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iNjE0LjgwMjMiIHk9IjY0MC43OSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iNjE0LjgwMjMiIHk9IjY0NC43OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMi40NzE3IiB4PSI0MTAuMTkiIHk9IjY2Ni43ODUxIj5NeUJhdGlzIE1hcHBlcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMDEuNjEyMyIgeD0iNDEwLjE5IiB5PSI2ODMuMDgyIj4oUmVwb3NpdG9yeSBJbXBsZW1lbnRhdGlvbik8L3RleHQ+PC9nPjwhLS1saW5rIGZ4bWwgdG8gdmlld21vZGVsLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImZ4bWwiIGRhdGEtZW50aXR5LTI9InZpZXdtb2RlbCIgZGF0YS1zb3VyY2UtbGluZT0iMTUiIGRhdGEtdWlkPSJsbms5IiBpZD0ibGlua19meG1sX3ZpZXdtb2RlbCI+PHBhdGggZD0iTTI2MS4yMSwxMzEuNjUgQzI2MS4zOCwxNDkuOTYgMjYxLjU2NDMsMTY5LjY4MDMgMjYxLjczNDMsMTg3Ljk5MDMiIGZpbGw9Im5vbmUiIGlkPSJmeG1sLXRvLXZpZXdtb2RlbCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjYxLjc5LDE5My45OSwyNjUuNzA2MywxODQuOTUzMywyNjEuNzQzNiwxODguOTkwMiwyNTcuNzA2NiwxODUuMDI3NSwyNjEuNzksMTkzLjk5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIGNvbnRyb2xsZXIgdG8gZHRvLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImNvbnRyb2xsZXIiIGRhdGEtZW50aXR5LTI9ImR0byIgZGF0YS1zb3VyY2UtbGluZT0iMTYiIGRhdGEtdWlkPSJsbmsxMCIgaWQ9ImxpbmtfY29udHJvbGxlcl9kdG8iPjxwYXRoIGQ9Ik00MjYuNzksMTMxLjY1IEM0MjYuNjIsMTQ5Ljk2IDQyNi40MzU3LDE2OS42ODAzIDQyNi4yNjU3LDE4Ny45OTAzIiBmaWxsPSJub25lIiBpZD0iY29udHJvbGxlci10by1kdG8iIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjQyNi4yMSwxOTMuOTksNDMwLjI5MzQsMTg1LjAyNzUsNDI2LjI1NjQsMTg4Ljk5MDIsNDIyLjI5MzcsMTg0Ljk1MzMsNDI2LjIxLDE5My45OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayB2aWV3bW9kZWwgdG8gdXNlY2FzZS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJ2aWV3bW9kZWwiIGRhdGEtZW50aXR5LTI9InVzZWNhc2UiIGRhdGEtc291cmNlLWxpbmU9IjMzIiBkYXRhLXVpZD0ibG5rMTkiIGlkPSJsaW5rX3ZpZXdtb2RlbF91c2VjYXNlIj48cGF0aCBkPSJNMjc4LjAyLDI0MC45OCBDMjk0LjE2LDI2My42OSAzMTUuNzEzMiwyOTQuMDEgMzMzLjY3MzIsMzE5LjI3IiBmaWxsPSJub25lIiBpZD0idmlld21vZGVsLXRvLXVzZWNhc2UiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMzNy4xNSwzMjQuMTYsMzM1LjE5NDgsMzE0LjUwNzIsMzM0LjI1MjcsMzIwLjA4NSwzMjguNjc0OCwzMTkuMTQyOSwzMzcuMTUsMzI0LjE2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIGR0byB0byB1c2VjYXNlLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImR0byIgZGF0YS1lbnRpdHktMj0idXNlY2FzZSIgZGF0YS1zb3VyY2UtbGluZT0iMzQiIGRhdGEtdWlkPSJsbmsyMCIgaWQ9ImxpbmtfZHRvX3VzZWNhc2UiPjxwYXRoIGQ9Ik00MTQuOTQsMjQwLjk4IEM0MDMuNzksMjYzLjY5IDM4OS4xNDU3LDI5My41MTQ4IDM3Ni43MzU3LDMxOC43NzQ4IiBmaWxsPSJub25lIiBpZD0iZHRvLXRvLXVzZWNhc2UiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM3NC4wOSwzMjQuMTYsMzgxLjY0ODcsMzE3Ljg0NiwzNzYuMjk0NywzMTkuNjcyMywzNzQuNDY4NCwzMTQuMzE4NCwzNzQuMDksMzI0LjE2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIHVzZWNhc2UgdG8gZW50aXR5LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9InVzZWNhc2UiIGRhdGEtZW50aXR5LTI9ImVudGl0eSIgZGF0YS1zb3VyY2UtbGluZT0iMzUiIGRhdGEtdWlkPSJsbmsyMSIgaWQ9ImxpbmtfdXNlY2FzZV9lbnRpdHkiPjxwYXRoIGQ9Ik0zMTIuNzcsMzg3LjU2IEMyNzUuNzcsNDEyLjEgMjI5LjEzOTYsNDQzLjAyMjcgMTkyLjE2OTYsNDY3LjU1MjciIGZpbGw9Im5vbmUiIGlkPSJ1c2VjYXNlLXRvLWVudGl0eSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTg3LjE3LDQ3MC44NywxOTYuODgwOSw0NjkuMjI3MSwxOTEuMzM2Myw0NjguMTA1NiwxOTIuNDU3OCw0NjIuNTYxLDE4Ny4xNyw0NzAuODciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgdXNlY2FzZSB0byB2by0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJ1c2VjYXNlIiBkYXRhLWVudGl0eS0yPSJ2byIgZGF0YS1zb3VyY2UtbGluZT0iMzYiIGRhdGEtdWlkPSJsbmsyMiIgaWQ9ImxpbmtfdXNlY2FzZV92byI+PHBhdGggZD0iTTM1OSwzODcuNTYgQzM1OSw0MTQuOTIgMzU5LDQ0OC4zNCAzNTksNDcyLjkxIiBmaWxsPSJub25lIiBpZD0idXNlY2FzZS10by12byIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzU5LDQ3OC45MSwzNjMsNDY5LjkxLDM1OSw0NzMuOTEsMzU1LDQ2OS45MSwzNTksNDc4LjkxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIHVzZWNhc2UgdG8gcmVwb19wb3J0LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9InVzZWNhc2UiIGRhdGEtZW50aXR5LTI9InJlcG9fcG9ydCIgZGF0YS1zb3VyY2UtbGluZT0iMzciIGRhdGEtdWlkPSJsbmsyMyIgaWQ9ImxpbmtfdXNlY2FzZV9yZXBvX3BvcnQiPjxwYXRoIGQ9Ik0zOTUuMzIsMzg3LjY4IEM0MDkuNzEsNDAwLjA4IDQyNi4zLDQxNC42NCA0NDEsNDI4LjE5IEM0NTUuODYsNDQxLjg5IDQ2Ny42NjIsNDUzLjI3MjggNDgxLjEwMiw0NjYuNTUyOCIgZmlsbD0ibm9uZSIgaWQ9InVzZWNhc2UtdG8tcmVwb19wb3J0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0ODUuMzcsNDcwLjc3LDQ4MS43Nzk1LDQ2MS41OTg5LDQ4MS44MTM0LDQ2Ny4yNTU3LDQ3Ni4xNTY2LDQ2Ny4yODk2LDQ4NS4zNyw0NzAuNzciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLXJldmVyc2UgbGluayByZXBvX3BvcnQgdG8gbWFwcGVyLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9InJlcG9fcG9ydCIgZGF0YS1lbnRpdHktMj0ibWFwcGVyIiBkYXRhLXNvdXJjZS1saW5lPSIzOCIgZGF0YS11aWQ9ImxuazI0IiBpZD0ibGlua19yZXBvX3BvcnRfbWFwcGVyIj48cGF0aCBkPSJNNTE2LDU1Mi4wNyBDNTE2LDU4MC41NiA1MTYsNjA0LjggNTE2LDYzMy4zNCIgZmlsbD0ibm9uZSIgaWQ9InJlcG9fcG9ydC1iYWNrdG8tbWFwcGVyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTo3LDc7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSI1MTYsNTM0LjA3LDUxMCw1NTIuMDcsNTIyLDU1Mi4wNyw1MTYsNTM0LjA3IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzYuOTA4MiIgeD0iNTE3IiB5PSI1NzguODU2OSI+aW1wbGVtZW50czwvdGV4dD48L2c+PCEtLVNSQz1bTEw1VEotQ200N3B0aHJZTGJwaTlvbGxmVDFBS0xXZ1lRakxHWDFHR0Nrd3M2Rm9ialRFWmtrRV9pdDdKOWJLVXg5ZFQ2VXppdWVUc0dQQXF5MmhMbnVQeXhMT1pScHAxc01KU1YyOFVFbTl0bzBzTVFNU0cyNU1JUmNER1k5UTdtUkEwRXhiMzZpMl9aaG9MTXBidlg2S24wMWRYZFQ3d2EtbEx2NzV3VHBhZ28tVTZOZHpROHh1d3FNOVN0aUZMbDNaODI2RGdIMkZsNGRiWmFCOUM3STZCSFZNV3lVX0toejNhdWZRSFJQMmVSa3ZkYm1rQ21SazhrUlBBTmVaY0tSWXUtREZoeDBucGVNZHh3V015Mmk1ZTlQRnNoYWpRQklFRVBDR2R6d0Q4UTVqcTNqVlViYVhSaFZZRUlHcl92ZlZoWThoQjl4T3R0YWhUVG5veGZERWtEU25FdnAybElSc25TYU9oZkJxTnZaUkVCS3NEQzdqenZ0LW9aLXY1alMzV2Vxd1U2Zi12ZnhKTjREQ2xXVTc5MThMUmF1bzlRZkxnbWp1YXF6cXJudXFtYkk0V2lMRGQydUtEMVlxRmFIVW9qeFV2aF80LUJaTGx5WDJSRHRnMnNwRHBSUG0tbks3d2kxbC1VOEZWX3VWM3piZHUxVmVtS19tNl0tLT48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_5">技術スタック<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>カテゴリ</th>
<th>技術</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>言語</strong></td>
<td>Java 21</td>
</tr>
<tr>
<td><strong>フレームワーク</strong></td>
<td>Spring Boot 3.4, JavaFX 21</td>
</tr>
<tr>
<td><strong>ORM</strong></td>
<td>MyBatis 3.0</td>
</tr>
<tr>
<td><strong>データベース</strong></td>
<td>PostgreSQL 16</td>
</tr>
<tr>
<td><strong>帳票</strong></td>
<td>JasperReports</td>
</tr>
<tr>
<td><strong>Excel</strong></td>
<td>Apache POI</td>
</tr>
<tr>
<td><strong>テスト</strong></td>
<td>JUnit 5, TestFX</td>
</tr>
</tbody>
</table>
<h3 id="api">API サーバー版との比較<a class="headerlink" href="#api" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>観点</th>
<th>API サーバー版</th>
<th>デスクトップ版</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>UI</strong></td>
<td>React/Vue</td>
<td>JavaFX + FXML</td>
</tr>
<tr>
<td><strong>通信</strong></td>
<td>HTTP/REST</td>
<td>直接呼び出し</td>
</tr>
<tr>
<td><strong>状態管理</strong></td>
<td>Redux/Vuex</td>
<td>JavaFX Property</td>
</tr>
<tr>
<td><strong>配置</strong></td>
<td>サーバー + クライアント</td>
<td>スタンドアロン</td>
</tr>
<tr>
<td><strong>オフライン</strong></td>
<td>不可</td>
<td>可能</td>
</tr>
<tr>
<td><strong>帳票</strong></td>
<td>サーバー生成 PDF</td>
<td>クライアント直接印刷</td>
</tr>
</tbody>
</table>
<h3 id="_6">デスクトップアプリケーションの選択基準<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>選択基準</th>
<th>デスクトップ向き</th>
<th>Web 向き</th>
</tr>
</thead>
<tbody>
<tr>
<td>オフライン要件</td>
<td>必須</td>
<td>不要</td>
</tr>
<tr>
<td>帳票・印刷</td>
<td>高度な制御</td>
<td>基本的な印刷</td>
</tr>
<tr>
<td>レスポンス</td>
<td>即座の応答</td>
<td>ネットワーク許容</td>
</tr>
<tr>
<td>配布・更新</td>
<td>限定的</td>
<td>全ユーザー同時</td>
</tr>
<tr>
<td>UI 自由度</td>
<td>高い</td>
<td>HTML/CSS 制約</td>
</tr>
</tbody>
</table>
<p>JavaFX デスクトップアプリケーションは、オフライン環境での利用や高度な帳票出力が必要な業務システムに適しています。既存のヘキサゴナルアーキテクチャを活かしながら、Input Adapter として追加することで、REST API と並行運用も可能です。</p>
<hr />
<p><a href="../../">目次へ戻る</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/k2works/practical-database-design" target="_blank" rel="noopener" title="GitHub Repository" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
      
        <script src="../../../docs/assets/js/extra.js"></script>
      
    
  </body>
</html>