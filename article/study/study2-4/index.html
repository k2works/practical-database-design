
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="基幹業務システム（販売管理・財務会計・生産管理）のデータベース設計を体系的に解説">
      
      
        <meta name="author" content="k2works">
      
      
      
        <link rel="prev" href="../study2-3/">
      
      
        <link rel="next" href="../study2-5/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>研究4 GraphQLサービスの実装 - 実践データベース設計：基幹業務システム編</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../docs/mkdocs/assets/css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#4-graphql" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="実践データベース設計：基幹業務システム編" class="md-header__button md-logo" aria-label="実践データベース設計：基幹業務システム編" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            実践データベース設計：基幹業務システム編
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              研究4 GraphQLサービスの実装
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/k2works/practical-database-design" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    practical-database-design
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
  実践データベース設計

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="実践データベース設計：基幹業務システム編" class="md-nav__button md-logo" aria-label="実践データベース設計：基幹業務システム編" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    実践データベース設計：基幹業務システム編
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/k2works/practical-database-design" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    practical-database-design
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    実践データベース設計
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    実践データベース設計
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../techstack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    技術スタック
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    アウトライン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    執筆ワークフロー
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    運用ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../project-setup-instruction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    プロジェクトセットアップ手順書
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7" >
        
          
          <label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    デプロイ
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    デプロイ
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-sms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SMS デモデプロイ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-fas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FAS デモデプロイ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-pms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PMS デモデプロイ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_8" >
        
          
          <label class="md-nav__link" for="__nav_1_8" id="__nav_1_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第1部 基幹業務システムの全体像
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    第1部 基幹業務システムの全体像
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第1章 基幹業務システムとは
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第2章 基幹業務システムの業務領域
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第3章 業務フローの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_9" >
        
          
          <label class="md-nav__link" for="__nav_1_9" id="__nav_1_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第2部 販売管理システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    第2部 販売管理システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第4章 販売管理システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter05/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第5章 マスタ情報の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter06/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第6章 受注・出荷・売上の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter07/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第7章 債権管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter08/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第8章 調達管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter09/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第9章 在庫管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第10章 債務管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第11章 共通処理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第12章 販売管理データ設計（B社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第13章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_10" >
        
          
          <label class="md-nav__link" for="__nav_1_10" id="__nav_1_10_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第3部 財務会計システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    第3部 財務会計システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章 財務会計システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章 勘定科目の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章 仕訳の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章 勘定科目残高の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter19/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章 赤黒とログの設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter20/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章 財務会計データ設計（D社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter21/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_11" >
        
          
          <label class="md-nav__link" for="__nav_1_11" id="__nav_1_11_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第4部 生産管理システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    第4部 生産管理システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter22/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第22章 生産管理システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter23/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第23章 マスタ情報の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter24/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第24章 生産計画の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter25/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第25章 購買管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter26/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第26章 外注委託管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter27/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第27章 工程管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter28/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第28章 在庫管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第29章 品質管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter30/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第30章 製造原価管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter31/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第31章 生産管理データ設計（E社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter32/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第32章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_12" >
        
          
          <label class="md-nav__link" for="__nav_1_12" id="__nav_1_12_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第5部 エンタープライズインテグレーション
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    第5部 エンタープライズインテグレーション
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter33.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第33章 システム統合の概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter34.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第34章 メッセージングパターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter35.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第35章 システム間連携パターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter36.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第36章 マスタデータ管理（MDM）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter37.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第37章 イベント駆動アーキテクチャ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter38.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第38章 API設計とサービス連携
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter39.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第39章 データ連携の実装パターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_13" checked>
        
          
          <label class="md-nav__link" for="__nav_1_13" id="__nav_1_13_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 販売管理システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_13_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 販売管理システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study2-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study2-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study2-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        はじめに
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#14graphql" class="md-nav__link">
    <span class="md-ellipsis">
      
        第14章：GraphQL サーバーの基礎
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第14章：GraphQL サーバーの基礎">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#141-graphql" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.1 GraphQL とは
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#142-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.2 3つの操作タイプ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#143-graphql" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.3 GraphQL におけるヘキサゴナルアーキテクチャ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#144" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.4 ディレクトリ構成
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#145" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.5 技術スタックの追加
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="14.5 技術スタックの追加">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#buildgradlekts" class="md-nav__link">
    <span class="md-ellipsis">
      
        build.gradle.kts（差分）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#applicationyml" class="md-nav__link">
    <span class="md-ellipsis">
      
        application.yml（差分）
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#146-graphql" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.6 GraphQL 設定クラス
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#147-graphql" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.7 GraphQL スキーマ定義
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="14.7 GraphQL スキーマ定義">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#srcmainresourcesgraphqlschemagraphqls" class="md-nav__link">
    <span class="md-ellipsis">
      
        src/main/resources/graphql/schema.graphqls
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#srcmainresourcesgraphqlproductgraphqls" class="md-nav__link">
    <span class="md-ellipsis">
      
        src/main/resources/graphql/product.graphqls
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#srcmainresourcesgraphqlordergraphqls" class="md-nav__link">
    <span class="md-ellipsis">
      
        src/main/resources/graphql/order.graphqls
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#148" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.8 基本的なリゾルバの実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="14.8 基本的なリゾルバの実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#query" class="md-nav__link">
    <span class="md-ellipsis">
      
        Query リゾルバ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connection-dto" class="md-nav__link">
    <span class="md-ellipsis">
      
        Connection DTO（ページネーション）
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#149-spring-for-graphql" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.9 Spring for GraphQL の統合テスト
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#15-api" class="md-nav__link">
    <span class="md-ellipsis">
      
        第15章：マスタ API の実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第15章：マスタ API の実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#151-n1" class="md-nav__link">
    <span class="md-ellipsis">
      
        15.1 N+1 問題とは
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#152-dataloader" class="md-nav__link">
    <span class="md-ellipsis">
      
        15.2 DataLoader による解決
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#153-dataloader" class="md-nav__link">
    <span class="md-ellipsis">
      
        15.3 DataLoader の実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="15.3 DataLoader の実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dataloader" class="md-nav__link">
    <span class="md-ellipsis">
      
        在庫 DataLoader
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dataloader_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        取引先 DataLoader
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#154-dataloader" class="md-nav__link">
    <span class="md-ellipsis">
      
        15.4 DataLoader の登録
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#155-dataloader" class="md-nav__link">
    <span class="md-ellipsis">
      
        15.5 商品リゾルバの実装（DataLoader 使用）
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#16-api" class="md-nav__link">
    <span class="md-ellipsis">
      
        第16章：トランザクション API の実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第16章：トランザクション API の実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#161-graphql-subscription" class="md-nav__link">
    <span class="md-ellipsis">
      
        16.1 GraphQL Subscription とは
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#162" class="md-nav__link">
    <span class="md-ellipsis">
      
        16.2 イベントクラスの定義
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#163-reactor-sinks" class="md-nav__link">
    <span class="md-ellipsis">
      
        16.3 イベントパブリッシャー（Reactor Sinks）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#164-subscription" class="md-nav__link">
    <span class="md-ellipsis">
      
        16.4 受注リゾルバの実装（Subscription 対応）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#165-graphiql" class="md-nav__link">
    <span class="md-ellipsis">
      
        16.5 GraphiQL によるトランザクション操作
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#17" class="md-nav__link">
    <span class="md-ellipsis">
      
        第17章：エラーハンドリングとベストプラクティス
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第17章：エラーハンドリングとベストプラクティス">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#171-graphql" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.1 GraphQL エラーハンドリング
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17.1 GraphQL エラーハンドリング">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        カスタム例外クラス
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#172" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.2 例外リゾルバ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#173" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.3 入力バリデーション
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17.3 入力バリデーション">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#graphql" class="md-nav__link">
    <span class="md-ellipsis">
      
        GraphQL ディレクティブによるバリデーション
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jakarta-validation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Jakarta Validation との統合
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#174" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.4 セキュリティ
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17.4 セキュリティ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        認可ディレクティブ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        クエリ深度制限
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#175" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.5 運用のベストプラクティス
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17.5 運用のベストプラクティス">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        ログインターセプター
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        メトリクス収集
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#part-10-e" class="md-nav__link">
    <span class="md-ellipsis">
      
        Part 10-E のまとめ
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Part 10-E のまとめ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        実装した機能一覧
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graphql_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        実装した GraphQL 操作
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        アーキテクチャの特徴
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        技術スタック
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    <span class="md-ellipsis">
      
        API 形式の比較と選択基準
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graphql_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        GraphQL を選択する場面
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study2-5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究5 AxonCQRS/ESの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_14" >
        
          
          <label class="md-nav__link" for="__nav_1_14" id="__nav_1_14_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 財務会計システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 財務会計システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study3-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study3-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study3-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study3-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study3-5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究5 AxonCQRS/ESの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_15" >
        
          
          <label class="md-nav__link" for="__nav_1_15" id="__nav_1_15_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 生産管理システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 生産管理システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study4-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study4-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study4-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study4-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study4-5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究5 AxonCQRS/ESの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_16" >
        
          
          <label class="md-nav__link" for="__nav_1_16" id="__nav_1_16_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 財務会計システムORM実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_16">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 財務会計システムORM実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter14-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章 財務会計システムの全体像【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter15-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章 勘定科目の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter16-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章 仕訳の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter17-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter18-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章 勘定科目残高の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter19-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章 赤黒とログの設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter20-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章 財務会計データ設計（D社事例）【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter21-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章 APIサービスの実装【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter22-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第22章 Axon CQRS/ESの実装【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_17" >
        
          
          <label class="md-nav__link" for="__nav_1_17" id="__nav_1_17_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    付録
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_17">
            <span class="md-nav__icon md-icon"></span>
            
  
    付録
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/er-diagrams.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    A 全体ER図
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/table-definitions.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    B テーブル定義一覧
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/glossary.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C 用語集
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_18" >
        
          
          <label class="md-nav__link" for="__nav_1_18" id="__nav_1_18_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    データベース
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_18">
            <span class="md-nav__icon md-icon"></span>
            
  
    データベース
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../assets/schemaspy-output/sms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SchemaSpy ER図（SMS）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../assets/schemaspy-output/fas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SchemaSpy ER図（FAS）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../assets/schemaspy-output/pms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SchemaSpy ER図（PMS）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="4-graphql">実践データベース設計：販売管理システム 研究 4 - GraphQL サービスの実装<a class="headerlink" href="#4-graphql" title="Permanent link">&para;</a></h1>
<h2 id="_1">はじめに<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>本研究では、REST API（第10部-A）や gRPC（研究 3）とは異なるアプローチとして、<strong>GraphQL</strong> による販売管理システムを実装します。クライアントが必要なデータを正確に指定できる柔軟なクエリと、リアルタイム更新を実現する Subscription を活用します。</p>
<p>研究 1 で構築したヘキサゴナルアーキテクチャ（ドメイン層・アプリケーション層）はそのまま共有し、<strong>Input Adapter として GraphQL リゾルバ層のみを追加</strong>します。</p>
<hr />
<h2 id="14graphql">第14章：GraphQL サーバーの基礎<a class="headerlink" href="#14graphql" title="Permanent link">&para;</a></h2>
<h3 id="141-graphql">14.1 GraphQL とは<a class="headerlink" href="#141-graphql" title="Permanent link">&para;</a></h3>
<p>GraphQL は Facebook が開発したクエリ言語および実行エンジンです。クライアントが必要なデータの形状を指定でき、Over-fetching（不要なデータの取得）や Under-fetching（必要なデータの不足）を防ぎます。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjgxOHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDQxcHg7aGVpZ2h0OjgxOHB4O2JhY2tncm91bmQ6I0ZFRkVGRTsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQ0MSA4MTgiIHdpZHRoPSI0NDFweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjxyZWN0IGZpbGw9IiNGRUZFRkUiIGhlaWdodD0iODE4IiBzdHlsZT0ic3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNDQxIiB4PSIwIiB5PSIwIi8+PCEtLWNsdXN0ZXIgR3JhcGhRTCBBcmNoaXRlY3R1cmUgKD8/Pz8/Pz8/KS0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJHcmFwaFFMIEFyY2hpdGVjdHVyZSAuLi4uLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSI1IiBpZD0iZW50MDAwMiI+PHBhdGggZD0iTTguNSw2IEwzMTEuMDQ2NCw2IEEzLjc1LDMuNzUgMCAwIDEgMzEzLjU0NjQsOC41IEwzMjAuNTQ2NCwyOC4yOTY5IEw0MjYuNSwyOC4yOTY5IEEyLjUsMi41IDAgMCAxIDQyOSwzMC43OTY5IEw0MjksNzA2LjU1IEEyLjUsMi41IDAgMCAxIDQyNi41LDcwOS4wNSBMOC41LDcwOS4wNSBBMi41LDIuNSAwIDAgMSA2LDcwNi41NSBMNiw4LjUgQTIuNSwyLjUgMCAwIDEgOC41LDYiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjYiIHgyPSIzMjAuNTQ2NCIgeTE9IjI4LjI5NjkiIHkyPSIyOC4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMwMS41NDY0IiB4PSIxMCIgeT0iMjAuOTk1MSI+R3JhcGhRTCBBcmNoaXRlY3R1cmUgKCYjMzYwMDk7JiMyMjc3MDsmIzMxNjQ5OyYjMjk3MDI7JiMxMjQ3MTsmIzEyNDczOyYjMTI0ODY7JiMxMjUxMjspPC90ZXh0PjwvZz48IS0tY2x1c3RlciBDbGllbnQgU2lkZS0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJHcmFwaFFMIEFyY2hpdGVjdHVyZSAuLi4uLi4uLi4uLkNsaWVudCBTaWRlIiBkYXRhLXNvdXJjZS1saW5lPSI3IiBpZD0iZW50MDAwMyI+PHBhdGggZD0iTTk3LjUsNDkgTDE4My43OTg4LDQ5IEEzLjc1LDMuNzUgMCAwIDEgMTg2LjI5ODgsNTEuNSBMMTkzLjI5ODgsNzEuMjk2OSBMMzM2LjUsNzEuMjk2OSBBMi41LDIuNSAwIDAgMSAzMzksNzMuNzk2OSBMMzM5LDIwNC45OSBBMi41LDIuNSAwIDAgMSAzMzYuNSwyMDcuNDkgTDk3LjUsMjA3LjQ5IEEyLjUsMi41IDAgMCAxIDk1LDIwNC45OSBMOTUsNTEuNSBBMi41LDIuNSAwIDAgMSA5Ny41LDQ5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI5NSIgeDI9IjE5My4yOTg4IiB5MT0iNzEuMjk2OSIgeTI9IjcxLjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODUuMjk4OCIgeD0iOTkiIHk9IjYzLjk5NTEiPkNsaWVudCBTaWRlPC90ZXh0PjwvZz48IS0tY2x1c3RlciBTZXJ2ZXIgU2lkZS0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJHcmFwaFFMIEFyY2hpdGVjdHVyZSAuLi4uLi4uLi4uLlNlcnZlciBTaWRlIiBkYXRhLXNvdXJjZS1saW5lPSIxNSIgaWQ9ImVudDAwMDUiPjxwYXRoIGQ9Ik0zMi41LDI3MS40OSBMMTI0Ljc4MDMsMjcxLjQ5IEEzLjc1LDMuNzUgMCAwIDEgMTI3LjI4MDMsMjczLjk5IEwxMzQuMjgwMywyOTMuNzg2OSBMMjM3LjUsMjkzLjc4NjkgQTIuNSwyLjUgMCAwIDEgMjQwLDI5Ni4yODY5IEwyNDAsNDQzLjc3IEEyLjUsMi41IDAgMCAxIDIzNy41LDQ0Ni4yNyBMMzIuNSw0NDYuMjcgQTIuNSwyLjUgMCAwIDEgMzAsNDQzLjc3IEwzMCwyNzMuOTkgQTIuNSwyLjUgMCAwIDEgMzIuNSwyNzEuNDkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjMwIiB4Mj0iMTM0LjI4MDMiIHkxPSIyOTMuNzg2OSIgeTI9IjI5My43ODY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxLjI4MDMiIHg9IjM0IiB5PSIyODYuNDg1MSI+U2VydmVyIFNpZGU8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIFNoYXJlZC0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJHcmFwaFFMIEFyY2hpdGVjdHVyZSAuLi4uLi4uLi4uLlNoYXJlZCIgZGF0YS1zb3VyY2UtbGluZT0iMjQiIGlkPSJlbnQwMDA3Ij48cGF0aCBkPSJNMTQwLjUsNTEwLjI3IEwxOTcuNDE4LDUxMC4yNyBBMy43NSwzLjc1IDAgMCAxIDE5OS45MTgsNTEyLjc3IEwyMDYuOTE4LDUzMi41NjY5IEwzMjEuNSw1MzIuNTY2OSBBMi41LDIuNSAwIDAgMSAzMjQsNTM1LjA2NjkgTDMyNCw2ODIuNTUgQTIuNSwyLjUgMCAwIDEgMzIxLjUsNjg1LjA1IEwxNDAuNSw2ODUuMDUgQTIuNSwyLjUgMCAwIDEgMTM4LDY4Mi41NSBMMTM4LDUxMi43NyBBMi41LDIuNSAwIDAgMSAxNDAuNSw1MTAuMjciIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjEzOCIgeDI9IjIwNi45MTgiIHkxPSI1MzIuNTY2OSIgeTI9IjUzMi41NjY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1LjkxOCIgeD0iMTQyIiB5PSI1MjUuMjY1MSI+U2hhcmVkPC90ZXh0PjwvZz48IS0tY2xhc3MgY2xpZW50LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iR3JhcGhRTCBBcmNoaXRlY3R1cmUgLi4uLi4uLi4uLi5DbGllbnQgU2lkZS5jbGllbnQiIGRhdGEtc291cmNlLWxpbmU9IjgiIGlkPSJlbnQwMDA0Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwNy40ODQ0IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyMTIuMzYxIiB4PSIxMTAuODIiIHk9Ijg0Ii8+PGVsbGlwc2UgY3g9IjE0OC4zNzgzIiBjeT0iMTA1LjI5NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTE1MS4zNDcsMTEwLjkzNzUgUTE1MC43Njg5LDExMS4yMzQ0IDE1MC4xMjgzLDExMS4zNzUgUTE0OS40ODc3LDExMS41MzEzIDE0OC43ODQ1LDExMS41MzEzIFExNDYuMjg0NSwxMTEuNTMxMyAxNDQuOTU2NCwxMDkuODkwNiBRMTQzLjY0MzksMTA4LjIzNDQgMTQzLjY0MzksMTA1LjEwOTQgUTE0My42NDM5LDEwMS45ODQ0IDE0NC45NTY0LDEwMC4zMjgxIFExNDYuMjg0NSw5OC42NzE5IDE0OC43ODQ1LDk4LjY3MTkgUTE0OS40ODc3LDk4LjY3MTkgMTUwLjEyODMsOTguODI4MSBRMTUwLjc4NDUsOTguOTg0NCAxNTEuMzQ3LDk5LjI4MTMgTDE1MS4zNDcsMTAyIFExNTAuNzIyLDEwMS40MjE5IDE1MC4xMjgzLDEwMS4xNTYzIFExNDkuNTM0NSwxMDAuODc1IDE0OC45MDk1LDEwMC44NzUgUTE0Ny41NjU4LDEwMC44NzUgMTQ2Ljg3ODMsMTAxLjk1MzEgUTE0Ni4xOTA4LDEwMy4wMTU2IDE0Ni4xOTA4LDEwNS4xMDk0IFExNDYuMTkwOCwxMDcuMjAzMSAxNDYuODc4MywxMDguMjgxMyBRMTQ3LjU2NTgsMTA5LjM0MzggMTQ4LjkwOTUsMTA5LjM0MzggUTE0OS41MzQ1LDEwOS4zNDM4IDE1MC4xMjgzLDEwOS4wNzgxIFExNTAuNzIyLDEwOC43OTY5IDE1MS4zNDcsMTA4LjIxODggTDE1MS4zNDcsMTEwLjkzNzUgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNzQzMiIgeD0iMTc5LjEzNTQiIHk9IjEwMS45OTUxIj5HcmFwaFFMIENsaWVudDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzAuMjMxNCIgeD0iMTY3LjM5MTIiIHk9IjExOC4yOTIiPihBcG9sbG8vUmVsYXkvdXJxbCk8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTExLjgyIiB4Mj0iMzIyLjE4MSIgeTE9IjEyNi41OTM4IiB5Mj0iMTI2LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxMTEuODIiIHgyPSIzMjIuMTgxIiB5MT0iMTM0LjU5MzgiIHkyPSIxMzQuNTkzOCIvPjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iUFJJVkFURV9NRVRIT0QiPjxyZWN0IGZpbGw9IiNGMjRENUMiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjExOC44MiIgeT0iMTQ1LjI0MjIiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTEzLjkyMDciIHg9IjEzMC44MiIgeT0iMTUxLjU4ODkiPlF1ZXJ5ICgmIzM1NTAxOyYjMTI0MTU7JiMyMTQ2MjsmIzEyNDI2Oyk8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJQUklWQVRFX01FVEhPRCI+PHJlY3QgZmlsbD0iI0YyNEQ1QyIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iMTE4LjgyIiB5PSIxNjEuNTM5MSIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzMuMjExNyIgeD0iMTMwLjgyIiB5PSIxNjcuODg1NyI+TXV0YXRpb24gKCYjMjYzNjA7JiMxMjM2NTsmIzM2Nzk2OyYjMTI0MTU7KTwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IlBSSVZBVEVfTUVUSE9EIj48cmVjdCBmaWxsPSIjRjI0RDVDIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIxMTguODIiIHk9IjE3Ny44MzU5Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4Ni4zNjEiIHg9IjEzMC44MiIgeT0iMTg0LjE4MjYiPlN1YnNjcmlwdGlvbiAoJiMxMjUyMjsmIzEyNDUwOyYjMTI1MjM7JiMxMjQ3OTsmIzEyNDUyOyYjMTI1MTI7KTwvdGV4dD48L2c+PCEtLWNsYXNzIHNlcnZlci0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkdyYXBoUUwgQXJjaGl0ZWN0dXJlIC4uLi4uLi4uLi4uU2VydmVyIFNpZGUuc2VydmVyIiBkYXRhLXNvdXJjZS1saW5lPSIxNiIgaWQ9ImVudDAwMDYiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTIzLjc4MTMiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE3OC4wMTU2IiB4PSI0NS45OSIgeT0iMzA2LjQ5Ii8+PGVsbGlwc2UgY3g9IjYwLjk5IiBjeT0iMzI3Ljc4NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTYzLjk1ODgsMzMzLjQyNzUgUTYzLjM4MDYsMzMzLjcyNDQgNjIuNzQsMzMzLjg2NSBRNjIuMDk5NCwzMzQuMDIxMyA2MS4zOTYzLDMzNC4wMjEzIFE1OC44OTYzLDMzNC4wMjEzIDU3LjU2ODEsMzMyLjM4MDYgUTU2LjI1NTYsMzMwLjcyNDQgNTYuMjU1NiwzMjcuNTk5NCBRNTYuMjU1NiwzMjQuNDc0NCA1Ny41NjgxLDMyMi44MTgxIFE1OC44OTYzLDMyMS4xNjE5IDYxLjM5NjMsMzIxLjE2MTkgUTYyLjA5OTQsMzIxLjE2MTkgNjIuNzQsMzIxLjMxODEgUTYzLjM5NjMsMzIxLjQ3NDQgNjMuOTU4OCwzMjEuNzcxMyBMNjMuOTU4OCwzMjQuNDkgUTYzLjMzMzgsMzIzLjkxMTkgNjIuNzQsMzIzLjY0NjMgUTYyLjE0NjMsMzIzLjM2NSA2MS41MjEzLDMyMy4zNjUgUTYwLjE3NzUsMzIzLjM2NSA1OS40OSwzMjQuNDQzMSBRNTguODAyNSwzMjUuNTA1NiA1OC44MDI1LDMyNy41OTk0IFE1OC44MDI1LDMyOS42OTMxIDU5LjQ5LDMzMC43NzEzIFE2MC4xNzc1LDMzMS44MzM4IDYxLjUyMTMsMzMxLjgzMzggUTYyLjE0NjMsMzMxLjgzMzggNjIuNzQsMzMxLjU2ODEgUTYzLjMzMzgsMzMxLjI4NjkgNjMuOTU4OCwzMzAuNzA4OCBMNjMuOTU4OCwzMzMuNDI3NSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMi4xMjMiIHg9IjkxLjkzNjMiIHk9IjMyNC40ODUxIj5HcmFwaFFMIFNlcnZlcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDYuMDE1NiIgeD0iNzQuOTkiIHk9IjM0MC43ODIiPihTcHJpbmcgZm9yIEdyYXBoUUwpPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjQ2Ljk5IiB4Mj0iMjIzLjAwNTYiIHkxPSIzNDkuMDgzOCIgeTI9IjM0OS4wODM4Ii8+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJQUklWQVRFX0ZJRUxEIj48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSI1My45OSIgeT0iMzU5LjczMjIiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE0LjQ1NDEiIHg9IjY1Ljk5IiB5PSIzNjYuMDc4OSI+UHJvZHVjdFJlc29sdmVyPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iUFJJVkFURV9GSUVMRCI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iNTMuOTkiIHk9IjM3Ni4wMjkxIi8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMi4yNTI5IiB4PSI2NS45OSIgeT0iMzgyLjM3NTciPlBhcnRuZXJSZXNvbHZlcjwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IlBSSVZBVEVfRklFTEQiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjUzLjk5IiB5PSIzOTIuMzI1OSIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDAuNzc1NCIgeD0iNjUuOTkiIHk9IjM5OC42NzI2Ij5PcmRlclJlc29sdmVyPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iUFJJVkFURV9GSUVMRCI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iNTMuOTkiIHk9IjQwOC42MjI4Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMC43OTY5IiB4PSI2NS45OSIgeT0iNDE0Ljk2OTUiPkludm9pY2VSZXNvbHZlcjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI0Ni45OSIgeDI9IjIyMy4wMDU2IiB5MT0iNDIyLjI3MTMiIHkyPSI0MjIuMjcxMyIvPjwvZz48IS0tY2xhc3Mgc2NoZW1hLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iR3JhcGhRTCBBcmNoaXRlY3R1cmUgLi4uLi4uLi4uLi5TaGFyZWQuc2NoZW1hIiBkYXRhLXNvdXJjZS1saW5lPSIyNSIgaWQ9ImVudDAwMDgiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTIzLjc4MTMiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1NC41IiB4PSIxNTMuNzUiIHk9IjU0NS4yNyIvPjxlbGxpcHNlIGN4PSIxNjguNzUiIGN5PSI1NjYuNTY2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMTcxLjcxODgsNTcyLjIwNzUgUTE3MS4xNDA2LDU3Mi41MDQ0IDE3MC41LDU3Mi42NDUgUTE2OS44NTk0LDU3Mi44MDEzIDE2OS4xNTYzLDU3Mi44MDEzIFExNjYuNjU2Myw1NzIuODAxMyAxNjUuMzI4MSw1NzEuMTYwNiBRMTY0LjAxNTYsNTY5LjUwNDQgMTY0LjAxNTYsNTY2LjM3OTQgUTE2NC4wMTU2LDU2My4yNTQ0IDE2NS4zMjgxLDU2MS41OTgxIFExNjYuNjU2Myw1NTkuOTQxOSAxNjkuMTU2Myw1NTkuOTQxOSBRMTY5Ljg1OTQsNTU5Ljk0MTkgMTcwLjUsNTYwLjA5ODEgUTE3MS4xNTYzLDU2MC4yNTQ0IDE3MS43MTg4LDU2MC41NTEzIEwxNzEuNzE4OCw1NjMuMjcgUTE3MS4wOTM4LDU2Mi42OTE5IDE3MC41LDU2Mi40MjYzIFExNjkuOTA2Myw1NjIuMTQ1IDE2OS4yODEzLDU2Mi4xNDUgUTE2Ny45Mzc1LDU2Mi4xNDUgMTY3LjI1LDU2My4yMjMxIFExNjYuNTYyNSw1NjQuMjg1NiAxNjYuNTYyNSw1NjYuMzc5NCBRMTY2LjU2MjUsNTY4LjQ3MzEgMTY3LjI1LDU2OS41NTEzIFExNjcuOTM3NSw1NzAuNjEzOCAxNjkuMjgxMyw1NzAuNjEzOCBRMTY5LjkwNjMsNTcwLjYxMzggMTcwLjUsNTcwLjM0ODEgUTE3MS4wOTM4LDU3MC4wNjY5IDE3MS43MTg4LDU2OS40ODg4IEwxNzEuNzE4OCw1NzIuMjA3NSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMi41IiB4PSIxODIuNzUiIHk9IjU2My4yNjUxIj5HcmFwaFFMIFNjaGVtYTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDkuNDkxMiIgeD0iMTg5LjI1NDQiIHk9IjU3OS41NjIiPiguZ3JhcGhxbHMgZmlsZXMpPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjE1NC43NSIgeDI9IjMwNy4yNSIgeTE9IjU4Ny44NjM4IiB5Mj0iNTg3Ljg2MzgiLz48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IlBSSVZBVEVfRklFTEQiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjE2MS43NSIgeT0iNTk4LjUxMjIiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIwLjE5NjMiIHg9IjE3My43NSIgeT0iNjA0Ljg1ODkiPnNjaGVtYS5ncmFwaHFsczwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IlBSSVZBVEVfRklFTEQiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjE2MS43NSIgeT0iNjE0LjgwOTEiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE5LjY1NjMiIHg9IjE3My43NSIgeT0iNjIxLjE1NTciPnByb2R1Y3QuZ3JhcGhxbHM8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJQUklWQVRFX0ZJRUxEIj48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIxNjEuNzUiIHk9IjYzMS4xMDU5Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNy40NTUxIiB4PSIxNzMuNzUiIHk9IjYzNy40NTI2Ij5wYXJ0bmVyLmdyYXBocWxzPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iUFJJVkFURV9GSUVMRCI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iMTYxLjc1IiB5PSI2NDcuNDAyOCIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDMuMDc5MSIgeD0iMTczLjc1IiB5PSI2NTMuNzQ5NSI+b3JkZXIuZ3JhcGhxbHM8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTU0Ljc1IiB4Mj0iMzA3LjI1IiB5MT0iNjYxLjA1MTMiIHkyPSI2NjEuMDUxMyIvPjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJHTU4xMiIgZGF0YS1zb3VyY2UtbGluZT0iMzkiIGlkPSJlbnQwMDEzIj48cGF0aCBkPSJNMTI5LjUsNzU2LjA1IEwxMjkuNSw4MTEuNDQ4NCBBMCwwIDAgMCAwIDEyOS41LDgxMS40NDg0IEwzMzIuNTAwMiw4MTEuNDQ4NCBBMCwwIDAgMCAwIDMzMi41MDAyLDgxMS40NDg0IEwzMzIuNTAwMiw3NjYuMDUgTDMyMi41MDAyLDc1Ni4wNSBMMjM1LDc1Ni4wNSBMMjMxLDY2OS4yMiBMMjI3LDc1Ni4wNSBMMTI5LjUsNzU2LjA1IEEwLDAgMCAwIDAgMTI5LjUsNzU2LjA1IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMzIyLjUwMDIsNzU2LjA1IEwzMjIuNTAwMiw3NjYuMDUgTDMzMi41MDAyLDc2Ni4wNSBMMzIyLjUwMDIsNzU2LjA1IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDQuMDAwMSIgeD0iMTM1LjUiIHk9Ijc3My4xMTY5Ij4mIzEyNDczOyYjMTI0NjE7JiMxMjU0MDsmIzEyNTEwOyYjMzkzNjY7JiMyMTIwNTsmIzM4MjgzOyYjMzAzMzA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4Mi4wMDAyIiB4PSIxMzUuNSIgeT0iNzg4LjI0OTciPiYjMTI0NjM7JiMxMjUyMTsmIzEyNDUyOyYjMTI0NTA7JiMxMjUzMTsmIzEyNDg4OyYjMjAwMjc7JiMyMzU2NjsmIzEyMzk4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyYjMjE0NjI7JiMyNDQ3MTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzYuNjk4OCIgeD0iMTM1LjUiIHk9IjgwMy4zODI1Ij4mIzIyNDExOyYjMjM0MzM7JiMyMDg0MDsmIzEyMzk0OyBBUEk8L3RleHQ+PC9nPjwhLS1saW5rIGNsaWVudCB0byBzY2hlbWEtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNCIgZGF0YS1lbnRpdHktMj0iZW50MDAwOCIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjM0IiBpZD0ibG5rOSI+PHBhdGggY29kZUxpbmU9IjM0IiBkPSJNMjcxLjI2LDE5MS42MyBDMjc4LjUyLDIwMS40OSAyODQuODcsMjEyLjI1IDI4OSwyMjMuNDkgQzMzMC41MSwzMzYuNDUgMzE3LjUsMzc3LjM1IDI4OSw0OTQuMjcgQzI4NC44LDUxMS40OSAyODAuMTY1NSw1MjMuNjU5NyAyNzIuMDg1NSw1MzkuNTc5NyIgZmlsbD0ibm9uZSIgaWQ9ImNsaWVudC10by1zY2hlbWEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI2OS4zNyw1NDQuOTMsMjc3LjAxMDEsNTM4LjcxNDgsMjcxLjYzMjksNTQwLjQ3MTQsMjY5Ljg3NjQsNTM1LjA5NDIsMjY5LjM3LDU0NC45MyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNy4wMDAxIiB4PSIzMTYuNDgiIHk9IjM2NS40NDY5Ij4mIzEyNDczOyYjMTI0NjE7JiMxMjU0MDsmIzEyNTEwOyYjMTIzOTU7JiMyMjUyMjsmIzEyMzg5OyYjMTIzNTY7JiMxMjM5MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzguMDAwMSIgeD0iMzM1Ljk4IiB5PSIzODAuNTc5NyI+JiMxMjQ2MzsmIzEyNDU2OyYjMTI1MjI7JiMxMjQzNDsmIzI3MDgzOyYjMzE2ODk7PC90ZXh0PjwvZz48IS0tbGluayBzZXJ2ZXIgdG8gc2NoZW1hLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDYiIGRhdGEtZW50aXR5LTI9ImVudDAwMDgiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIzNSIgaWQ9ImxuazEwIj48cGF0aCBjb2RlTGluZT0iMzUiIGQ9Ik0xNDYuNTMsNDMwLjUgQzE1MS4zOCw0NTEuMTUgMTU3LjgyLDQ3NC4wOCAxNjYsNDk0LjI3IEMxNzIuOTEsNTExLjM0IDE3OS4wNzU0LDUyMy43NjA3IDE4OC4zMjU0LDUzOS44MjA3IiBmaWxsPSJub25lIiBpZD0ic2VydmVyLXRvLXNjaGVtYSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTkxLjMyLDU0NS4wMiwxOTAuMjk0Myw1MzUuMjI0NywxODguODI0NSw1NDAuNjg3MywxODMuMzYxOSw1MzkuMjE3NSwxOTEuMzIsNTQ1LjAyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE3LjAwMDEiIHg9IjE2NyIgeT0iNDc1LjMzNjkiPiYjMTI0NzM7JiMxMjQ2MTsmIzEyNTQwOyYjMTI1MTA7JiMxMjM5NTsmIzIyNTIyOyYjMTIzODk7JiMxMjM1NjsmIzEyMzkwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MS4wMDAxIiB4PSIxODAiIHk9IjQ5MC40Njk3Ij4mIzEyNTIyOyYjMTI0Nzg7JiMxMjUyMzsmIzEyNDk2OyYjMTI0MzQ7JiMyMzQ1NTsmIzM1MDEzOzwvdGV4dD48L2c+PCEtLWxpbmsgY2xpZW50IHRvIHNlcnZlci0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA0IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA2IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMzYiIGlkPSJsbmsxMSI+PHBhdGggY29kZUxpbmU9IjM2IiBkPSJNMTg0LjU1NSwxOTcuMDgwNyBDMTc5LjM5NSwyMDcuNDQwNyAxNzcuMDYsMjEyLjk3IDE3MywyMjMuNDkgQzE2Mi43NiwyNTAgMTU1LjczMDgsMjc0LjQ3MDcgMTQ5LjQxMDgsMzAwLjQwMDciIGZpbGw9Im5vbmUiIGlkPSJjbGllbnQtc2VydmVyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxODcuMjMsMTkxLjcxLDE3OS42MzcxLDE5Ny45ODI3LDE4NS4wMDA4LDE5Ni4xODU2LDE4Ni43OTgsMjAxLjU0OTQsMTg3LjIzLDE5MS43MSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTQ3Ljk5LDMwNi4yMywxNTQuMDA3NCwyOTguNDMzMiwxNDkuMTc0LDMwMS4zNzIyLDE0Ni4yMzUsMjk2LjUzODgsMTQ3Ljk5LDMwNi4yMyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMC45NTciIHg9IjE3NCIgeT0iMjM2LjU1NjkiPkhUVFAvV2ViU29ja2V0PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQyLjE4NjUiIHg9IjIwOC4zODUzIiB5PSIyNTEuNjg5NyI+KEpTT04pPC90ZXh0PjwvZz48P3BsYW50dW1sLXNyYyBiUDkxSm5EMTVDVmx5b2Q2VWNhRmpOVFpKOWdjOFdRWFQ5anV1SkJUZFJRUlJjVU1zTHFJR1paaWhiSW5LT2M5NjZDMkFZZkdHWjV1NDk2SzNfRFNNaHc1Q3p0STVYRERwNW5zX195dF9fVkJsN1YzZTFNSktMcEN2cWhQc1FjUEZET2p1Wlc4RU5NSnNLSUcxWXVKbEx1THQ2RDZaYmpTdTlsdHlrZVdQNGszTDJiRUowYllyLVBkUzVSZURURWJra2k5WWZGenVfcmV2eFpOLVQzUlE0Qm03TzhWNDNPWFY5ekF1OU05b3BkQmZDcDVjY2JHUE9uMUhoNW5uRzlCUGNya01KbkpmMVBQcGRYWXFQOUhuOTc0V3VHTGJDUnA3WE5CaWROeDRGcHB3RUtjMUN6SUtkeGVrU0dyRVNGOVl0U2R1M19sVHktYWhucERBcGt3Q0V0T1hSMERtS1M4M28wdVgtMkpXYU1oeWVuZkRJZ01nRldOUkxtWFFKTFJjQW9BQV9COVhid0N3eUdIMmhTV2tFN2ZSZjR3dDlBUUtlWG02SEtKb2ZtbWhsckZpb0xrd2RJYV9DNU44dThRVnFGSlF4SDE5RGdqZ2I4TUJHVE5KOGl3R3d3MUUtMkFGcVRMS2g1WnFjaklaM2VmU1NLdzViUFprRTV5cWtjeExwcmt1dUhRWC0wR21aQzhqeTBfWUJQRm1WeUNfY0ZtbG9tbTI4dVdzMWpDdXpONVJnanRqOXYwbXNWeGRuSHJsd2tjNk14OGVBWXB0VHpQSXJwWHQxYWFuUTRvd053ZkxDV3llY01Ed3RNZ2JrczFEWlVSSVkzNGs0am5jUmlrUnMxVTZWUDZhdXFsVHZqSHdfTmJQZ2x0elhHZno3MVZCT3pRZjZ5R0ZscnJ5WkZ3LVdCeTNlSEZyOEwwQk1SS1ZPRVloTFJLTU9fTXppMWx1c25YNmI1Y09ETmtEbTAwPz48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<p><strong>REST API / gRPC / GraphQL の比較：</strong></p>
<table>
<thead>
<tr>
<th>特徴</th>
<th>REST API</th>
<th>gRPC</th>
<th>GraphQL</th>
</tr>
</thead>
<tbody>
<tr>
<td>プロトコル</td>
<td>HTTP/1.1</td>
<td>HTTP/2</td>
<td>HTTP/1.1 or HTTP/2</td>
</tr>
<tr>
<td>データ形式</td>
<td>JSON</td>
<td>Protocol Buffers</td>
<td>JSON</td>
</tr>
<tr>
<td>スキーマ</td>
<td>OpenAPI (任意)</td>
<td>.proto (必須)</td>
<td>.graphqls (必須)</td>
</tr>
<tr>
<td>データ取得</td>
<td>固定レスポンス</td>
<td>固定レスポンス</td>
<td>クライアント指定</td>
</tr>
<tr>
<td>エンドポイント</td>
<td>複数</td>
<td>複数</td>
<td>単一</td>
</tr>
<tr>
<td>リアルタイム</td>
<td>WebSocket 別実装</td>
<td>ストリーミング</td>
<td>Subscription</td>
</tr>
<tr>
<td>主な用途</td>
<td>汎用 API</td>
<td>マイクロサービス</td>
<td>フロントエンド向け</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="142-3">14.2 3つの操作タイプ<a class="headerlink" href="#142-3" title="Permanent link">&para;</a></h3>
<p>GraphQL は 3 つの操作タイプをサポートします：</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjM1OXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDM3cHg7aGVpZ2h0OjM1OXB4O2JhY2tncm91bmQ6I0ZFRkVGRTsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQzNyAzNTkiIHdpZHRoPSI0MzdweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjxyZWN0IGZpbGw9IiNGRUZFRkUiIGhlaWdodD0iMzU5IiBzdHlsZT0ic3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNDM3IiB4PSIwIiB5PSIwIi8+PCEtLWVudGl0eSBxdWVyeS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9InF1ZXJ5IiBkYXRhLXNvdXJjZS1saW5lPSIzIiBpZD0iZW50MDAwMiI+PHJlY3QgZmlsbD0iI0FERDhFNiIgaGVpZ2h0PSI1Mi41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI4Ni45MjM2IiB4PSIyNS45NCIgeT0iMjIuNTQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2MC4zNTQ1IiB4PSIzNS45NCIgeT0iNDUuNTM1MSI+MS4gUXVlcnk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjYuOTIzNiIgeD0iMzUuOTQiIHk9IjYxLjgzMiI+KCYjMzU1MDE7JiMxMjQxNTsmIzIxNDYyOyYjMTI0MjY7KTwvdGV4dD48L2c+PCEtLWVudGl0eSBtdXRhdGlvbi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Im11dGF0aW9uIiBkYXRhLXNvdXJjZS1saW5lPSIxMyIgaWQ9ImVudDAwMDYiPjxyZWN0IGZpbGw9IiM5MEVFOTAiIGhlaWdodD0iNTIuNTkzOCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iOTkuNjQ1NSIgeD0iMTkuNTciIHk9IjE2MC42NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc5LjY0NTUiIHg9IjI5LjU3IiB5PSIxODMuNjM1MSI+Mi4gTXV0YXRpb248L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjYuOTIzNiIgeD0iMjkuNTciIHk9IjE5OS45MzIiPigmIzI2MzYwOyYjMTIzNjU7JiMzNjc5NjsmIzEyNDE1Oyk8L3RleHQ+PC9nPjwhLS1lbnRpdHkgc3Vic2NyaXB0aW9uLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0ic3Vic2NyaXB0aW9uIiBkYXRhLXNvdXJjZS1saW5lPSIyMiIgaWQ9ImVudDAwMTAiPjxyZWN0IGZpbGw9IiNGMDgwODAiIGhlaWdodD0iNTIuNTkzOCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTI0Ljc5NDkiIHg9IjciIHk9IjI5MS4xNyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNC43OTQ5IiB4PSIxNyIgeT0iMzE0LjE2NTEiPjMuIFN1YnNjcmlwdGlvbjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5NC45MjM1IiB4PSIxNyIgeT0iMzMwLjQ2MiI+KCYjMTI1MjI7JiMxMjQ1MDsmIzEyNTIzOyYjMTI0Nzk7JiMxMjQ1MjsmIzEyNTEyOyk8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkdNTjMiIGRhdGEtc291cmNlLWxpbmU9IjYiIGlkPSJlbnQwMDA0Ij48cGF0aCBkPSJNMTQ4LjA4LDYgTDE0OC4wOCw0NC44NCBMMTEzLjMyLDQ4Ljg0IEwxNDguMDgsNTIuODQgTDE0OC4wOCw5MS42NjQxIEEwLDAgMCAwIDAgMTQ4LjA4LDkxLjY2NDEgTDM4OC43MjE2LDkxLjY2NDEgQTAsMCAwIDAgMCAzODguNzIxNiw5MS42NjQxIEwzODguNzIxNiwxNiBMMzc4LjcyMTYsNiBMMTQ4LjA4LDYgQTAsMCAwIDAgMCAxNDguMDgsNiIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTM3OC43MjE2LDYgTDM3OC43MjE2LDE2IEwzODguNzIxNiwxNiBMMzc4LjcyMTYsNiIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjE5LjY0MTYiIHg9IjE1NC4wOCIgeT0iMjMuMDY2OSI+eyBwcm9kdWN0cyB7IGNvZGUgbmFtZSBwcmljZSB9IH08L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI3Ljk0MzQiIHg9IjE1NC4wOCIgeT0iMzguMTk5NyI+JiM4NTk0OyB7IHByb2R1Y3RzOiBbLi4uXSB9PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuMTMyMyIgeD0iMTU0LjA4IiB5PSI1My4zMzI1Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzguMDAwMSIgeD0iMTU0LjA4IiB5PSI2OC40NjUzIj4mIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsmIzEyMzk4OyYjMjE0NjI7JiMyNDQ3MTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTc3LjI3MTIiIHg9IjE1NC4wOCIgeT0iODMuNTk4MSI+JiMzNTA3OTsmIzI1OTY4OyYjMTI1MjI7JiMxMjQ3NzsmIzEyNTQwOyYjMTI0NzM7JiMxMjQzNDsxJiMyMjIzODsmIzEyMzkxOyYjMjE0NjI7JiMyNDQ3MTsmIzIxNDg3OyYjMzMwMjE7PC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJHTU43IiBkYXRhLXNvdXJjZS1saW5lPSIxNiIgaWQ9ImVudDAwMDgiPjxwYXRoIGQ9Ik0xNTQuMzYsMTUxLjY3IEwxNTQuMzYsMTgyLjkzIEwxMTkuNSwxODYuOTMgTDE1NC4zNiwxOTAuOTMgTDE1NC4zNiwyMjIuMjAxMyBBMCwwIDAgMCAwIDE1NC4zNiwyMjIuMjAxMyBMMzY0LjQzMTMsMjIyLjIwMTMgQTAsMCAwIDAgMCAzNjQuNDMxMywyMjIuMjAxMyBMMzY0LjQzMTMsMTYxLjY3IEwzNTQuNDMxMywxNTEuNjcgTDE1NC4zNiwxNTEuNjcgQTAsMCAwIDAgMCAxNTQuMzYsMTUxLjY3IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMzU0LjQzMTMsMTUxLjY3IEwzNTQuNDMxMywxNjEuNjcgTDM2NC40MzEzLDE2MS42NyBMMzU0LjQzMTMsMTUxLjY3IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxODkuMDcxMyIgeD0iMTYwLjM2IiB5PSIxNjguNzM2OSI+bXV0YXRpb24geyBjcmVhdGVPcmRlciguLi4pIH08L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTU2LjAwNjMiIHg9IjE2MC4zNiIgeT0iMTgzLjg2OTciPiYjODU5NDsgeyBjcmVhdGVPcmRlcjogey4uLn0gfTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0LjEzMjMiIHg9IjE2MC4zNiIgeT0iMTk5LjAwMjUiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTYuMDAwMiIgeD0iMTYwLjM2IiB5PSIyMTQuMTM1MyI+JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7JiMxMjM5ODsmIzIwMzE2OyYjMjUxMDQ7JiMxMjUzOTsmIzI2MzU2OyYjMjYwMzI7JiMxMjUzOTsmIzIxMDY2OyYjMzg1MDA7PC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJHTU4xMSIgZGF0YS1zb3VyY2UtbGluZT0iMjUiIGlkPSJlbnQwMDEyIj48cGF0aCBkPSJNMTY2LjYxLDI4Mi4yIEwxNjYuNjEsMzEzLjQ2IEwxMzIuMDEsMzE3LjQ2IEwxNjYuNjEsMzIxLjQ2IEwxNjYuNjEsMzUyLjczMTMgQTAsMCAwIDAgMCAxNjYuNjEsMzUyLjczMTMgTDQzMC4xODU3LDM1Mi43MzEzIEEwLDAgMCAwIDAgNDMwLjE4NTcsMzUyLjczMTMgTDQzMC4xODU3LDI5Mi4yIEw0MjAuMTg1NywyODIuMiBMMTY2LjYxLDI4Mi4yIEEwLDAgMCAwIDAgMTY2LjYxLDI4Mi4yIiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNDIwLjE4NTcsMjgyLjIgTDQyMC4xODU3LDI5Mi4yIEw0MzAuMTg1NywyOTIuMiBMNDIwLjE4NTcsMjgyLjIiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI0Mi41NzU3IiB4PSIxNzIuNjEiIHk9IjI5OS4yNjY5Ij5zdWJzY3JpcHRpb24geyBvcmRlclN0YXR1c0NoYW5nZWQgfTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTMuMzgxNSIgeD0iMTcyLjYxIiB5PSIzMTQuMzk5NyI+JiM4NTk0OyAoV2ViU29ja2V0ICYjMTIzOTE7JiMxMjUwMzsmIzEyNDgzOyYjMTI0NzE7JiMxMjUxNzsmIzM2ODkwOyYjMzA2OTM7KTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0LjEzMjMiIHg9IjE3Mi42MSIgeT0iMzI5LjUzMjUiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDMuMDAwMiIgeD0iMTcyLjYxIiB5PSIzNDQuNjY1MyI+JiMxMjUyMjsmIzEyNDUwOyYjMTI1MjM7JiMxMjQ3OTsmIzEyNDUyOyYjMTI1MTI7JiMyNjM1NjsmIzI2MDMyOyYjMTIzOTg7JiMyMTQ2MzsmIzIwNDQ5OzwvdGV4dD48L2c+PCEtLWxpbmsgcXVlcnkgdG8gbXV0YXRpb24tLT48IS0tbGluayBtdXRhdGlvbiB0byBzdWJzY3JpcHRpb24tLT48P3BsYW50dW1sLXNyYyBSVEIxSnpERzcwVm0tX2loVmU3QlRnMDlTa0ZXbUtNdkk4cFBtR0RtVTZqX1Jpc3N6LVBoVW8zRDRqVU5ZOThPMzhhaUVnRDJIYVdtVzBTSkRKM3NsX1laVFZtTmxqQTJYSW96bFQtdHhWVnBReHNjQXBmU3lKUktrRHNpQW5hOGZvOVJLaTdpZXVWZm5QWDJzLVVZdGFBT2NSVldRTzFnVkxNSzllVDdyMWw3TXBpS1JQUGRXN2xtOGZ0MHg2RXR0bDBWajBBNGE3TVBhM3cySWV6MEZpeVlCOElFYWF2Vy1udzRPNGk3R1Ywc2NhRk5Ia1gyYl9ydmpHdF9HdWttT2JkTWNaYmRmM1Q4ZHI0cWZqd25VTkx5dGNVSnVLUm9fWmxmR3VmNkx4RlY1NnRGbnVGRnIzbDg4bDdNb0tJRjYwZTdxWlF0R0ZTaU0wdnl4aGpJNjVDby00TXpqdkZwQ29GQkpFcnljQkVNNUFBT3VoZ0VpUGt5V0lkYUZadkgzZ2dJd0wtLVNISzZZbjJRS1ZTa3hNQnFBTmR6WmxIZkNsWUh4MVpTUVZuY3lfQjNTQmZYbU85Z0tGRGl2TlBvbnpLc3phWF9JbnlOM0tiX3BKSFU4UFFCQWJCbnJYSEhDU2ZrdEhVMkpBak4zSkptQVdySjBmdFNMZGc2alFncWMtWTNzSnhmRmNiRHFLX0ktdlNsRl94emliekVjTlVodlNScVdfT2xuaGk1T19QM3BRcXFOQ1QxaUpQdFZ5Z1VZekRZcE55MD8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<p><strong>用途：</strong></p>
<ol>
<li><strong>Query</strong>: データ取得（商品一覧、受注明細、在庫照会）</li>
<li><strong>Mutation</strong>: データ更新（受注登録、出荷確定、入金処理）</li>
<li><strong>Subscription</strong>: リアルタイム通知（受注ステータス変更、在庫変動）</li>
</ol>
<hr />
<h3 id="143-graphql">14.3 GraphQL におけるヘキサゴナルアーキテクチャ<a class="headerlink" href="#143-graphql" title="Permanent link">&para;</a></h3>
<p>GraphQL を導入しても、既存のヘキサゴナルアーキテクチャ（ドメイン層・アプリケーション層）はそのまま共有し、<strong>Input Adapter として GraphQL リゾルバ層のみを追加</strong>します。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjY4NHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6Nzc5cHg7aGVpZ2h0OjY4NHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDc3OSA2ODQiIHdpZHRoPSI3NzlweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjwhLS1jbHVzdGVyIEhleGFnb25hbCBBcmNoaXRlY3R1cmUgKEdyYXBoUUw/KS0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJIZXhhZ29uYWwgQXJjaGl0ZWN0dXJlIC5HcmFwaFFMLi4iIGRhdGEtc291cmNlLWxpbmU9IjMiIGlkPSJlbnQwMDAyIj48cGF0aCBkPSJNMjMwLjE0LDYgTDUxOC4yMjg4LDYgQTMuNzUsMy43NSAwIDAgMSA1MjAuNzI4OCw4LjUgTDUyNy43Mjg4LDI4LjI5NjkgTDUyOC4xNCwyOC4yOTY5IEEyLjUsMi41IDAgMCAxIDUzMC42NCwzMC43OTY5IEw1MzAuNjQsNjc1LjAzIEEyLjUsMi41IDAgMCAxIDUyOC4xNCw2NzcuNTMgTDIzMC4xNCw2NzcuNTMgQTIuNSwyLjUgMCAwIDEgMjI3LjY0LDY3NS4wMyBMMjI3LjY0LDguNSBBMi41LDIuNSAwIDAgMSAyMzAuMTQsNiIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMjI3LjY0IiB4Mj0iNTI3LjcyODgiIHkxPSIyOC4yOTY5IiB5Mj0iMjguMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyODcuMDg4OCIgeD0iMjMxLjY0IiB5PSIyMC45OTUxIj5IZXhhZ29uYWwgQXJjaGl0ZWN0dXJlIChHcmFwaFFMJiMyOTI1NjspPC90ZXh0PjwvZz48IS0tY2xhc3MgY29yZS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkhleGFnb25hbCBBcmNoaXRlY3R1cmUgLkdyYXBoUUwuLi5jb3JlIiBkYXRhLXNvdXJjZS1saW5lPSI1IiBpZD0iZW50MDAwMyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxODguOTY4OCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTkwLjA0IiB4PSIyODQuNjIiIHk9IjI3My4wOCIvPjxlbGxpcHNlIGN4PSIyOTkuNjIiIGN5PSIyOTQuMzc2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMzAyLjU4ODgsMzAwLjAxNzUgUTMwMi4wMTA2LDMwMC4zMTQ0IDMwMS4zNywzMDAuNDU1IFEzMDAuNzI5NCwzMDAuNjExMyAzMDAuMDI2MywzMDAuNjExMyBRMjk3LjUyNjMsMzAwLjYxMTMgMjk2LjE5ODEsMjk4Ljk3MDYgUTI5NC44ODU2LDI5Ny4zMTQ0IDI5NC44ODU2LDI5NC4xODk0IFEyOTQuODg1NiwyOTEuMDY0NCAyOTYuMTk4MSwyODkuNDA4MSBRMjk3LjUyNjMsMjg3Ljc1MTkgMzAwLjAyNjMsMjg3Ljc1MTkgUTMwMC43Mjk0LDI4Ny43NTE5IDMwMS4zNywyODcuOTA4MSBRMzAyLjAyNjMsMjg4LjA2NDQgMzAyLjU4ODgsMjg4LjM2MTMgTDMwMi41ODg4LDI5MS4wOCBRMzAxLjk2MzgsMjkwLjUwMTkgMzAxLjM3LDI5MC4yMzYzIFEzMDAuNzc2MywyODkuOTU1IDMwMC4xNTEzLDI4OS45NTUgUTI5OC44MDc1LDI4OS45NTUgMjk4LjEyLDI5MS4wMzMxIFEyOTcuNDMyNSwyOTIuMDk1NiAyOTcuNDMyNSwyOTQuMTg5NCBRMjk3LjQzMjUsMjk2LjI4MzEgMjk4LjEyLDI5Ny4zNjEzIFEyOTguODA3NSwyOTguNDIzOCAzMDAuMTUxMywyOTguNDIzOCBRMzAwLjc3NjMsMjk4LjQyMzggMzAxLjM3LDI5OC4xNTgxIFEzMDEuOTYzOCwyOTcuODc2OSAzMDIuNTg4OCwyOTcuMjk4OCBMMzAyLjU4ODgsMzAwLjAxNzUgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTUuMzgzOCIgeD0iMzM0Ljk0ODEiIHk9IjI5MS4wNzUxIj5BcHBsaWNhdGlvbiBDb3JlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1OC4wNCIgeD0iMzEzLjYyIiB5PSIzMDcuMzcyIj4oRG9tYWluICsgVXNlIENhc2VzKTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyODUuNjIiIHgyPSI0NzMuNjYiIHkxPSIzMTUuNjczOCIgeTI9IjMxNS42NzM4Ii8+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJQUklWQVRFX0ZJRUxEIj48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIyOTIuNjIiIHk9IjMyNi4zMjIyIi8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNC4xMjYiIHg9IjMwNC42MiIgeT0iMzMyLjY2ODkiPlByb2R1Y3RVc2VDYXNlPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iUFJJVkFURV9GSUVMRCI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iMjkyLjYyIiB5PSIzNDIuNjE5MSIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDAuNDQ3MyIgeD0iMzA0LjYyIiB5PSIzNDguOTY1NyI+T3JkZXJVc2VDYXNlPC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iUFJJVkFURV9GSUVMRCI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iMjkyLjYyIiB5PSIzNTguOTE1OSIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTAuNDY4OCIgeD0iMzA0LjYyIiB5PSIzNjUuMjYyNiI+SW52b2ljZVVzZUNhc2U8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjg1LjYyIiB4Mj0iNDczLjY2IiB5MT0iMzcyLjU2NDQiIHkyPSIzNzIuNTY0NCIvPjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iUFJJVkFURV9NRVRIT0QiPjxyZWN0IGZpbGw9IiNGMjRENUMiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjI5Mi42MiIgeT0iMzgzLjIxMjgiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuMDgzOSIgeD0iMzA0LjYyIiB5PSIzODkuNTU5NSI+UHJvZHVjdCAoJiMyMTgzMDsmIzIxNjk3Oyk8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJQUklWQVRFX01FVEhPRCI+PHJlY3QgZmlsbD0iI0YyNEQ1QyIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iMjkyLjYyIiB5PSIzOTkuNTA5NyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDguODgyNiIgeD0iMzA0LjYyIiB5PSI0MDUuODU2NCI+UGFydG5lciAoJiMyMTQ2MjsmIzI0MzQxOyYjMjA4MDg7KTwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IlBSSVZBVEVfTUVUSE9EIj48cmVjdCBmaWxsPSIjRjI0RDVDIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIyOTIuNjIiIHk9IjQxNS44MDY2Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjQwNTIiIHg9IjMwNC42MiIgeT0iNDIyLjE1MzIiPk9yZGVyICgmIzIxNDYzOyYjMjc4ODA7KTwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IlBSSVZBVEVfTUVUSE9EIj48cmVjdCBmaWxsPSIjRjI0RDVDIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIyOTIuNjIiIHk9IjQzMi4xMDM0Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMC41MjMzIiB4PSIzMDQuNjIiIHk9IjQzOC40NTAxIj5TaGlwbWVudCAoJiMyMDk4NjsmIzMzNjU1Oyk8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJQUklWQVRFX01FVEhPRCI+PHJlY3QgZmlsbD0iI0YyNEQ1QyIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iMjkyLjYyIiB5PSI0NDguNDAwMyIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5My40MjY2IiB4PSIzMDQuNjIiIHk9IjQ1NC43NDciPkludm9pY2UgKCYjMzU1MzE7JiMyNzcxNDspPC90ZXh0PjwvZz48IS0tY2xhc3MgaW5wdXQtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJIZXhhZ29uYWwgQXJjaGl0ZWN0dXJlIC5HcmFwaFFMLi4uaW5wdXQiIGRhdGEtc291cmNlLWxpbmU9IjE2IiBpZD0iZW50MDAwNCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxNDAuMDc4MSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMjM2Ljk1NjciIHg9IjI2MS4xNiIgeT0iNDEiLz48ZWxsaXBzZSBjeD0iMzIzLjQ5NjciIGN5PSI2Mi4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0zMjYuNDY1NSw2Ny45Mzc1IFEzMjUuODg3NCw2OC4yMzQ0IDMyNS4yNDY3LDY4LjM3NSBRMzI0LjYwNjEsNjguNTMxMyAzMjMuOTAzLDY4LjUzMTMgUTMyMS40MDMsNjguNTMxMyAzMjAuMDc0OSw2Ni44OTA2IFEzMTguNzYyNCw2NS4yMzQ0IDMxOC43NjI0LDYyLjEwOTQgUTMxOC43NjI0LDU4Ljk4NDQgMzIwLjA3NDksNTcuMzI4MSBRMzIxLjQwMyw1NS42NzE5IDMyMy45MDMsNTUuNjcxOSBRMzI0LjYwNjEsNTUuNjcxOSAzMjUuMjQ2Nyw1NS44MjgxIFEzMjUuOTAzLDU1Ljk4NDQgMzI2LjQ2NTUsNTYuMjgxMyBMMzI2LjQ2NTUsNTkgUTMyNS44NDA1LDU4LjQyMTkgMzI1LjI0NjcsNTguMTU2MyBRMzI0LjY1Myw1Ny44NzUgMzI0LjAyOCw1Ny44NzUgUTMyMi42ODQyLDU3Ljg3NSAzMjEuOTk2Nyw1OC45NTMxIFEzMjEuMzA5Miw2MC4wMTU2IDMyMS4zMDkyLDYyLjEwOTQgUTMyMS4zMDkyLDY0LjIwMzEgMzIxLjk5NjcsNjUuMjgxMyBRMzIyLjY4NDIsNjYuMzQzOCAzMjQuMDI4LDY2LjM0MzggUTMyNC42NTMsNjYuMzQzOCAzMjUuMjQ2Nyw2Ni4wNzgxIFEzMjUuODQwNSw2NS43OTY5IDMyNi40NjU1LDY1LjIxODggTDMyNi40NjU1LDY3LjkzNzUgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDMuNzgzMiIgeD0iMzQzLjk5NjciIHk9IjU4Ljk5NTEiPklucHV0IEFkYXB0ZXJzPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk2LjAxMDciIHg9IjM0Ny44ODMiIHk9Ijc1LjI5MiI+KERyaXZpbmcgU2lkZSk8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjYyLjE2IiB4Mj0iNDk3LjExNjciIHkxPSI4My41OTM4IiB5Mj0iODMuNTkzOCIvPjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iUFJJVkFURV9GSUVMRCI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iMjY5LjE2IiB5PSI5NC4yNDIyIi8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2NS42MzQ1IiB4PSIyODEuMTYiIHk9IjEwMC41ODg5Ij5SRVNUIENvbnRyb2xsZXImIzY1Mjg4OyYjMjYwODI7JiMyMzM4NDsmIzY1Mjg5OzwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IlBSSVZBVEVfRklFTEQiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjI2OS4xNiIgeT0iMTEwLjUzOTEiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ5LjAyMzIiIHg9IjI4MS4xNiIgeT0iMTE2Ljg4NTciPmdSUEMgU2VydmljZSYjNjUyODg7JiMyNjA4MjsmIzIzMzg0OyYjNjUyODk7PC90ZXh0PjxnIGRhdGEtdmlzaWJpbGl0eS1tb2RpZmllcj0iUFJJVkFURV9GSUVMRCI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iMjY5LjE2IiB5PSIxMjYuODM1OSIvPjwvZz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMTAuOTU2NyIgeD0iMjgxLjE2IiB5PSIxMzMuMTgyNiI+R3JhcGhRTCBSZXNvbHZlciYjNjUyODg7JiMyNjAzMjsmIzM1MjE1OyYjMzY4NjE7JiMyMTE1MjsmIzY1Mjg5OzwvdGV4dD48ZyBkYXRhLXZpc2liaWxpdHktbW9kaWZpZXI9IlBSSVZBVEVfRklFTEQiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjI2OS4xNiIgeT0iMTQzLjEzMjgiLz48L2c+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODYuNTIyNSIgeD0iMjgxLjE2IiB5PSIxNDkuNDc5NSI+RGF0YUZldGNoZXI8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJQUklWQVRFX0ZJRUxEIj48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIyNjkuMTYiIHk9IjE1OS40Mjk3Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgxLjYyNzkiIHg9IjI4MS4xNiIgeT0iMTY1Ljc3NjQiPkRhdGFMb2FkZXI8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjYyLjE2IiB4Mj0iNDk3LjExNjciIHkxPSIxNzMuMDc4MSIgeTI9IjE3My4wNzgxIi8+PC9nPjwhLS1jbGFzcyBvdXRwdXQtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJIZXhhZ29uYWwgQXJjaGl0ZWN0dXJlIC5HcmFwaFFMLi4ub3V0cHV0IiBkYXRhLXNvdXJjZS1saW5lPSIyNCIgaWQ9ImVudDAwMDUiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTA3LjQ4NDQiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE2MC43NDMyIiB4PSIyNjcuMjciIHk9IjU1NC4wNSIvPjxlbGxpcHNlIGN4PSIyODcuOTMxIiBjeT0iNTc1LjM0NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTI5MC44OTk4LDU4MC45ODc1IFEyOTAuMzIxNyw1ODEuMjg0NCAyODkuNjgxLDU4MS40MjUgUTI4OS4wNDA0LDU4MS41ODEzIDI4OC4zMzczLDU4MS41ODEzIFEyODUuODM3Myw1ODEuNTgxMyAyODQuNTA5Miw1NzkuOTQwNiBRMjgzLjE5NjcsNTc4LjI4NDQgMjgzLjE5NjcsNTc1LjE1OTQgUTI4My4xOTY3LDU3Mi4wMzQ0IDI4NC41MDkyLDU3MC4zNzgxIFEyODUuODM3Myw1NjguNzIxOSAyODguMzM3Myw1NjguNzIxOSBRMjg5LjA0MDQsNTY4LjcyMTkgMjg5LjY4MSw1NjguODc4MSBRMjkwLjMzNzMsNTY5LjAzNDQgMjkwLjg5OTgsNTY5LjMzMTMgTDI5MC44OTk4LDU3Mi4wNSBRMjkwLjI3NDgsNTcxLjQ3MTkgMjg5LjY4MSw1NzEuMjA2MyBRMjg5LjA4NzMsNTcwLjkyNSAyODguNDYyMyw1NzAuOTI1IFEyODcuMTE4NSw1NzAuOTI1IDI4Ni40MzEsNTcyLjAwMzEgUTI4NS43NDM1LDU3My4wNjU2IDI4NS43NDM1LDU3NS4xNTk0IFEyODUuNzQzNSw1NzcuMjUzMSAyODYuNDMxLDU3OC4zMzEzIFEyODcuMTE4NSw1NzkuMzkzOCAyODguNDYyMyw1NzkuMzkzOCBRMjg5LjA4NzMsNTc5LjM5MzggMjg5LjY4MSw1NzkuMTI4MSBRMjkwLjI3NDgsNTc4Ljg0NjkgMjkwLjg5OTgsNTc4LjI2ODggTDI5MC44OTk4LDU4MC45ODc1IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE2LjE2MzEiIHg9IjMwMy4xODkiIHk9IjU3Mi4wNDUxIj5PdXRwdXQgQWRhcHRlcnM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEuODQ3NyIgeD0iMzE1LjM0NjgiIHk9IjU4OC4zNDIiPihEcml2ZW4gU2lkZSk8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjY4LjI3IiB4Mj0iNDI3LjAxMzIiIHkxPSI1OTYuNjQzOCIgeTI9IjU5Ni42NDM4Ii8+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJQUklWQVRFX0ZJRUxEIj48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIyNzUuMjciIHk9IjYwNy4yOTIyIi8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzNC43NDMyIiB4PSIyODcuMjciIHk9IjYxMy42Mzg5Ij5NeUJhdGlzIFJlcG9zaXRvcnk8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJQUklWQVRFX0ZJRUxEIj48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIyNzUuMjciIHk9IjYyMy41ODkxIi8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExOS40MjM4IiB4PSIyODcuMjciIHk9IjYyOS45MzU3Ij5EYXRhYmFzZSBBY2Nlc3M8L3RleHQ+PGcgZGF0YS12aXNpYmlsaXR5LW1vZGlmaWVyPSJQUklWQVRFX0ZJRUxEIj48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIyNzUuMjciIHk9IjYzOS44ODU5Ii8+PC9nPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNS40MDMzIiB4PSIyODcuMjciIHk9IjY0Ni4yMzI2Ij5FbnRpdHkgTWFwcGluZzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyNjguMjciIHgyPSI0MjcuMDEzMiIgeTE9IjY1My41MzQ0IiB5Mj0iNjUzLjUzNDQiLz48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iR01OOCIgZGF0YS1zb3VyY2UtbGluZT0iMzUiIGlkPSJlbnQwMDA5Ij48cGF0aCBkPSJNNTQ2LjksODMuMzQgTDU0Ni45LDEzOC43Mzg0IEEwLDAgMCAwIDAgNTQ2LjksMTM4LjczODQgTDYyNS45NCwxMzguNzM4NCBMNDc0Ljk1LDI3OS45MiBMNjMzLjk0LDEzOC43Mzg0IEw3NzIuMzgzNiwxMzguNzM4NCBBMCwwIDAgMCAwIDc3Mi4zODM2LDEzOC43Mzg0IEw3NzIuMzgzNiw5My4zNCBMNzYyLjM4MzYsODMuMzQgTDU0Ni45LDgzLjM0IEEwLDAgMCAwIDAgNTQ2LjksODMuMzQiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik03NjIuMzgzNiw4My4zNCBMNzYyLjM4MzYsOTMuMzQgTDc3Mi4zODM2LDkzLjM0IEw3NjIuMzgzNiw4My4zNCIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQzLjAwMDIiIHg9IjU1Mi45IiB5PSIxMDAuNDA2OSI+JiMyNjA4MjsmIzIzMzg0OyYjMTIzOTg7JiMxMjQ5OTsmIzEyNDcyOyYjMTI0OTM7JiMxMjQ3MzsmIzEyNTI1OyYjMTI0NzI7JiMxMjQ4MzsmIzEyNDYzOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMDAuMTE2MyIgeD0iNTUyLjkiIHk9IjExNS41Mzk3Ij5SRVNUIEFQSSAvIGdSUEMgJiMyOTI1NjsmIzEyMzkyOyYjMjM0MzY7JiMyMDg0MDsmIzEyMzk1OyYjMjA4NDk7JiMyNjM3Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjA0LjQ4MzYiIHg9IjU1Mi45IiB5PSIxMzAuNjcyNSI+R3JhcGhRTCAmIzIyMjY2OyYjMjYzNzc7JiMxMjM5ODsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsmIzEyMzk5OyYjMjE1NDc7JiMxMjQxNDsmIzEyMzk0OyYjMTIzNTY7PC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJHTU4xMSIgZGF0YS1zb3VyY2UtbGluZT0iNDEiIGlkPSJlbnQwMDEyIj48cGF0aCBkPSJNNiw4My4zNCBMNiwxMzguNzM4NCBBMCwwIDAgMCAwIDYsMTM4LjczODQgTDIxMS4yODUzLDEzOC43Mzg0IEEwLDAgMCAwIDAgMjExLjI4NTMsMTM4LjczODQgTDIxMS4yODUzLDExNS4wNCBMMjYwLjgyLDExMS4wNCBMMjExLjI4NTMsMTA3LjA0IEwyMTEuMjg1Myw5My4zNCBMMjAxLjI4NTMsODMuMzQgTDYsODMuMzQgQTAsMCAwIDAgMCA2LDgzLjM0IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMjAxLjI4NTMsODMuMzQgTDIwMS4yODUzLDkzLjM0IEwyMTEuMjg1Myw5My4zNCBMMjAxLjI4NTMsODMuMzQiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNi40ODM1IiB4PSIxMiIgeT0iMTAwLjQwNjkiPkdyYXBoUUwgJiMxMjUyMjsmIzEyNDc4OyYjMTI1MjM7JiMxMjQ5NjsmIzEyNDM0OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTguNzI5NiIgeD0iMTIiIHk9IjExNS41Mzk3Ij5JbnB1dCBBZGFwdGVyICYjMTIzOTI7JiMxMjM3NTsmIzEyMzkwOyYjMzY4NjE7JiMyMTE1Mjs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTg0LjI4NTMiIHg9IjEyIiB5PSIxMzAuNjcyNSI+JiMyNjA4MjsmIzIzMzg0OyYjMTIzOTg7IFJFU1QvZ1JQQyAmIzEyMzkyOyYjMjA4NDk7JiMyMzM4NDsmIzIxNDg3OyYjMzMwMjE7PC90ZXh0PjwvZz48IS0tbGluayBpbnB1dCB0byBjb3JlLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDQiIGRhdGEtZW50aXR5LTI9ImVudDAwMDMiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIzMSIgaWQ9ImxuazYiPjxwYXRoIGNvZGVMaW5lPSIzMSIgZD0iTTM3OS42NCwxODEuMjUgQzM3OS42NCwyMDkuNTEgMzc5LjY0LDIzNi42NCAzNzkuNjQsMjY3LjAxIiBmaWxsPSJub25lIiBpZD0iaW5wdXQtdG8tY29yZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzc5LjY0LDI3My4wMSwzODMuNjQsMjY0LjAxLDM3OS42NCwyNjguMDEsMzc1LjY0LDI2NC4wMSwzNzkuNjQsMjczLjAxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzAuODAxOCIgeD0iMzgzLjgxMzgiIHk9IjIyNC4xNDY5Ij5JbnB1dCBQb3J0czwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3Ny4xNDk0IiB4PSIzODAuNjQiIHk9IjIzOS4yNzk3Ij4oVXNlIENhc2VzKTwvdGV4dD48L2c+PCEtLWxpbmsgY29yZSB0byBvdXRwdXQtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMyIgZGF0YS1lbnRpdHktMj0iZW50MDAwNSIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjMyIiBpZD0ibG5rNyI+PHBhdGggY29kZUxpbmU9IjMyIiBkPSJNMzY3LjA0LDQ2Mi4zNyBDMzYyLjg4LDQ5My4zNiAzNTkuMTg3Myw1MjAuODAzMiAzNTUuNTg3Myw1NDcuNjUzMiIgZmlsbD0ibm9uZSIgaWQ9ImNvcmUtdG8tb3V0cHV0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzNTQuNzksNTUzLjYsMzU5Ljk1MDUsNTQ1LjIxMTQsMzU1LjQ1NDQsNTQ4LjY0NDMsMzUyLjAyMTUsNTQ0LjE0ODMsMzU0Ljc5LDU1My42IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODIuMjk3NCIgeD0iMzk3LjAxMTUiIHk9IjUwNS4xMTY5Ij5PdXRwdXQgUG9ydHM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ4Ljk2MDQiIHg9IjM2My42OCIgeT0iNTIwLjI0OTciPihSZXBvc2l0b3J5IEludGVyZmFjZXMpPC90ZXh0PjwvZz48P3BsYW50dW1sLXNyYyBSTDlEUm45MTZCeGxodFpiMTM2YXpudkNMZWdMWDVnNFVsQ294V3VtU0prcGNIczhuN1pPTlQ1SVJNWGlNYXBxTzNtcWZBSDVxZUZRcUZmWjllbFMtWFVTc1VNWlJScERGRV83eXBwbC16d3BTUExHM0VMeVJpanlpYnhDVy1LV3BwQ0M1cmFsS0dyM3daNS1YTWdDOFdUQ1JqTTltOVBlUzBwZlRPeFMtakZZdHl2RTlXTWwzTUZQOE1Nd2hhQ2k5MFlaYTZDU0Z3VmZEUlFEMjhOeHlDcDNhNENVemJHTHlpMUlPTE1UWEg5ZFRpQ0lhOHVFdHFLN1ZhUDNZMGtBa09Bd0h6N3VDNmhsUTdJSnNtZE1jdnB0REwyZjR0U1JLcnR3X2NBd3pyRFoxVGZhbjU4Z2Z1Q0ZhcjZHTUg4ZVZhcV9SeEp5cGFoY205alJaV2hLUkdXbVJVR0FwM3RqWHZDY2VKTWU0MWlkSmFZU2Vnc0t5dktqdlBpQXBYbTd5LWxucGdKdEZKaHpWM3RrZzZZak5DZjExVkVjOGhpSmNlcUtvalhaSlpFZkZGZW5GVXZFX3JuNmt6LUlmM0thcTJDaWgzaGNpci1IOFVOYVprQkRYbFlGUDRubEE2UDlZZlF5cU5nZXJrS2ZQZlR2SDMzVWNsTC1lTU8xZmNMWFRIRFBvNUQxSDBpc2FFaWd5dWZIU0lRLWl6YTdvSXZOdnlDZ0NJdXF4T3M1NnQ2Nkpmckhob3ZxcGhFTjBqSDJiRjBnaWs5QVdwQTFHSjBOTTNLY0NmQjFJVnpDWFdTby0yTjNGSGR5Yms1Zl8wdmJDM0pZRlBZYjBnbWFHclVkQWxyLVRGT25RbFViRnVaUWV5ZE5aWjRWVWxKYkdkcnJsLTFTWGNDUGdsU21zWHo4X3Fodzl6OV9RczFnV3ZPbjQtRldnajFndVc0aXNpWm1IMFBOQ1hwOFM1eTZkdW5SYm1FQU5fZXp3SHlkNnJzUVk4emM5UFFmRFJQNzJld3dtc2J1a1EzejFtMDA/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<p><strong>GraphQL でもヘキサゴナルアーキテクチャを維持する理由：</strong></p>
<ol>
<li><strong>再利用性</strong>: 既存の UseCase/Repository をそのまま活用</li>
<li><strong>並行運用</strong>: REST API、gRPC、GraphQL を同時提供可能</li>
<li><strong>テスト容易性</strong>: ドメインロジックは通信プロトコルに依存しない</li>
<li><strong>移行容易性</strong>: 段階的に API 形式を追加・変更可能</li>
</ol>
<hr />
<h3 id="144">14.4 ディレクトリ構成<a class="headerlink" href="#144" title="Permanent link">&para;</a></h3>
<p>既存の構成に <code>infrastructure/graphql/</code> を追加するだけです。</p>
<details>
<summary>コード例: ディレクトリ構成</summary>

<div class="highlight"><pre><span></span><code>src/main/java/com/example/sales/
├── domain/                     # ドメイン層（API版と共通）
│   ├── model/
│   │   ├── product/
│   │   ├── partner/
│   │   ├── order/
│   │   ├── shipment/
│   │   └── invoice/
│   └── exception/
│
├── application/               # アプリケーション層（API版と共通）
│   ├── port/
│   │   ├── in/               # Input Port（ユースケース）
│   │   └── out/              # Output Port（リポジトリ）
│   └── service/
│
├── infrastructure/
│   ├── persistence/          # Output Adapter（DB実装）- 既存
│   │   ├── mapper/
│   │   └── repository/
│   ├── rest/                 # Input Adapter（REST実装）- 既存
│   ├── grpc/                 # Input Adapter（gRPC実装）- 既存
│   └── graphql/              # Input Adapter（GraphQL実装）- 新規追加
│       ├── resolver/         # Query/Mutation リゾルバ
│       ├── dataloader/       # N+1 問題対策
│       ├── scalar/           # カスタムスカラー型
│       └── subscription/     # Subscription ハンドラ
│
├── config/
│
└── src/main/resources/
    └── graphql/              # GraphQL スキーマ定義
        ├── schema.graphqls
        ├── product.graphqls
        ├── partner.graphqls
        ├── order.graphqls
        ├── shipment.graphqls
        └── invoice.graphqls
</code></pre></div>

</details>

<hr />
<h3 id="145">14.5 技術スタックの追加<a class="headerlink" href="#145" title="Permanent link">&para;</a></h3>
<p>既存の <code>build.gradle.kts</code> に GraphQL 関連の依存関係を追加します。</p>
<h4 id="buildgradlekts">build.gradle.kts（差分）<a class="headerlink" href="#buildgradlekts" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: build.gradle.kts</summary>

<div class="highlight"><pre><span></span><code><span class="n">dependencies</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 既存の依存関係（Spring Boot, MyBatis, PostgreSQL等）はそのまま</span>

<span class="w">    </span><span class="c1">// GraphQL 関連を追加</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;org.springframework.boot:spring-boot-starter-graphql&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;org.springframework.boot:spring-boot-starter-websocket&quot;</span><span class="p">)</span><span class="w">  </span><span class="c1">// Subscription 用</span>

<span class="w">    </span><span class="c1">// GraphQL 拡張</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;com.graphql-java:graphql-java-extended-scalars:21.0&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// Test</span>
<span class="w">    </span><span class="n">testImplementation</span><span class="p">(</span><span class="s">&quot;org.springframework.graphql:spring-graphql-test&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

</details>

<p><strong>追加パッケージの説明：</strong></p>
<table>
<thead>
<tr>
<th>パッケージ</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>spring-boot-starter-graphql</td>
<td>Spring Boot GraphQL 統合</td>
</tr>
<tr>
<td>spring-boot-starter-websocket</td>
<td>Subscription (WebSocket)</td>
</tr>
<tr>
<td>graphql-java-extended-scalars</td>
<td>DateTime, BigDecimal 等のスカラー型</td>
</tr>
<tr>
<td>spring-graphql-test</td>
<td>GraphQL テストサポート</td>
</tr>
</tbody>
</table>
<h4 id="applicationyml">application.yml（差分）<a class="headerlink" href="#applicationyml" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: application.yml</summary>

<div class="highlight"><pre><span></span><code><span class="nt">spring</span><span class="p">:</span>
<span class="w">  </span><span class="nt">graphql</span><span class="p">:</span>
<span class="w">    </span><span class="nt">graphiql</span><span class="p">:</span>
<span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/graphiql</span>
<span class="w">    </span><span class="nt">websocket</span><span class="p">:</span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/graphql</span>
<span class="w">      </span><span class="nt">connection-init-timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">60s</span>
<span class="w">      </span><span class="nt">keep-alive</span><span class="p">:</span>
<span class="w">        </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">        </span><span class="nt">interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30s</span>
<span class="w">    </span><span class="nt">schema</span><span class="p">:</span>
<span class="w">      </span><span class="nt">printer</span><span class="p">:</span>
<span class="w">        </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">      </span><span class="nt">locations</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">classpath:graphql/</span>
<span class="w">    </span><span class="nt">cors</span><span class="p">:</span>
<span class="w">      </span><span class="nt">allowed-origins</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;*&quot;</span>
<span class="w">      </span><span class="nt">allowed-methods</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GET, POST</span>
</code></pre></div>

</details>

<hr />
<h3 id="146-graphql">14.6 GraphQL 設定クラス<a class="headerlink" href="#146-graphql" title="Permanent link">&para;</a></h3>
<details>
<summary>コード例: GraphQLConfig.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.config</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">graphql.scalars.ExtendedScalars</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.context.annotation.Bean</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.context.annotation.Configuration</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.graphql.execution.RuntimeWiringConfigurer</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * GraphQL 設定</span>
<span class="cm"> */</span>
<span class="nd">@Configuration</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GraphQLConfig</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">RuntimeWiringConfigurer</span><span class="w"> </span><span class="nf">runtimeWiringConfigurer</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">wiringBuilder</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">wiringBuilder</span>
<span class="w">            </span><span class="p">.</span><span class="na">scalar</span><span class="p">(</span><span class="n">ExtendedScalars</span><span class="p">.</span><span class="na">Date</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">scalar</span><span class="p">(</span><span class="n">ExtendedScalars</span><span class="p">.</span><span class="na">DateTime</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">scalar</span><span class="p">(</span><span class="n">ExtendedScalars</span><span class="p">.</span><span class="na">GraphQLBigDecimal</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">scalar</span><span class="p">(</span><span class="n">ExtendedScalars</span><span class="p">.</span><span class="na">GraphQLLong</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h3 id="147-graphql">14.7 GraphQL スキーマ定義<a class="headerlink" href="#147-graphql" title="Permanent link">&para;</a></h3>
<h4 id="srcmainresourcesgraphqlschemagraphqls">src/main/resources/graphql/schema.graphqls<a class="headerlink" href="#srcmainresourcesgraphqlschemagraphqls" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: schema.graphqls</summary>

<div class="highlight"><pre><span></span><code><span class="c"># ルートスキーマ</span>
<span class="k">type</span><span class="w"> </span><span class="err">Query</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c"># 商品</span>
<span class="w">    </span><span class="n">product</span><span class="p">(</span><span class="n">productCode</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Product</span>
<span class="w">    </span><span class="n">products</span><span class="p">(</span><span class="n">category</span><span class="p">:</span><span class="w"> </span><span class="no">ProductCategory</span><span class="p">,</span><span class="w"> </span><span class="n">page</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">ProductConnection</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 取引先</span>
<span class="w">    </span><span class="n">partner</span><span class="p">(</span><span class="n">partnerCode</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Partner</span>
<span class="w">    </span><span class="n">partners</span><span class="p">(</span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="no">PartnerType</span><span class="p">,</span><span class="w"> </span><span class="n">page</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">PartnerConnection</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 倉庫</span>
<span class="w">    </span><span class="n">warehouse</span><span class="p">(</span><span class="n">warehouseCode</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Warehouse</span>
<span class="w">    </span><span class="n">warehouses</span><span class="p">(</span><span class="n">page</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">WarehouseConnection</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 受注</span>
<span class="w">    </span><span class="n">order</span><span class="p">(</span><span class="n">orderNumber</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Order</span>
<span class="w">    </span><span class="n">orders</span><span class="p">(</span><span class="n">status</span><span class="p">:</span><span class="w"> </span><span class="no">OrderStatus</span><span class="p">,</span><span class="w"> </span><span class="n">partnerCode</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="p">,</span><span class="w"> </span><span class="n">page</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">OrderConnection</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 出荷</span>
<span class="w">    </span><span class="n">shipment</span><span class="p">(</span><span class="n">shipmentNumber</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Shipment</span>
<span class="w">    </span><span class="n">shipments</span><span class="p">(</span><span class="n">status</span><span class="p">:</span><span class="w"> </span><span class="no">ShipmentStatus</span><span class="p">,</span><span class="w"> </span><span class="n">page</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">ShipmentConnection</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 請求</span>
<span class="w">    </span><span class="n">invoice</span><span class="p">(</span><span class="n">invoiceNumber</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Invoice</span>
<span class="w">    </span><span class="n">invoices</span><span class="p">(</span><span class="n">status</span><span class="p">:</span><span class="w"> </span><span class="no">InvoiceStatus</span><span class="p">,</span><span class="w"> </span><span class="n">partnerCode</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="p">,</span><span class="w"> </span><span class="n">page</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">InvoiceConnection</span><span class="err">!</span>
<span class="p">}</span>

<span class="k">type</span><span class="w"> </span><span class="err">Mutation</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c"># 商品</span>
<span class="w">    </span><span class="n">createProduct</span><span class="p">(</span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="no">CreateProductInput</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Product</span><span class="err">!</span>
<span class="w">    </span><span class="n">updateProduct</span><span class="p">(</span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="no">UpdateProductInput</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Product</span><span class="err">!</span>
<span class="w">    </span><span class="n">deleteProduct</span><span class="p">(</span><span class="n">productCode</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Boolean</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 取引先</span>
<span class="w">    </span><span class="n">createPartner</span><span class="p">(</span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="no">CreatePartnerInput</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Partner</span><span class="err">!</span>
<span class="w">    </span><span class="n">updatePartner</span><span class="p">(</span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="no">UpdatePartnerInput</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Partner</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 受注</span>
<span class="w">    </span><span class="n">createOrder</span><span class="p">(</span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="no">CreateOrderInput</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Order</span><span class="err">!</span>
<span class="w">    </span><span class="n">confirmOrder</span><span class="p">(</span><span class="n">orderNumber</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Order</span><span class="err">!</span>
<span class="w">    </span><span class="n">cancelOrder</span><span class="p">(</span><span class="n">orderNumber</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">,</span><span class="w"> </span><span class="n">reason</span><span class="p">:</span><span class="w"> </span><span class="no">String</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Order</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 出荷</span>
<span class="w">    </span><span class="n">createShipment</span><span class="p">(</span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="no">CreateShipmentInput</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Shipment</span><span class="err">!</span>
<span class="w">    </span><span class="n">startPicking</span><span class="p">(</span><span class="n">shipmentNumber</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Shipment</span><span class="err">!</span>
<span class="w">    </span><span class="n">confirmShipment</span><span class="p">(</span><span class="n">shipmentNumber</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Shipment</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 請求</span>
<span class="w">    </span><span class="n">executeClosing</span><span class="p">(</span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="no">ExecuteClosingInput</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">ClosingResult</span><span class="err">!</span>
<span class="w">    </span><span class="n">issueInvoice</span><span class="p">(</span><span class="n">invoiceNumber</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Invoice</span><span class="err">!</span>
<span class="w">    </span><span class="n">recordReceipt</span><span class="p">(</span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="no">RecordReceiptInput</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Receipt</span><span class="err">!</span>
<span class="p">}</span>

<span class="k">type</span><span class="w"> </span><span class="err">Subscription</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c"># 受注ステータス変更</span>
<span class="w">    </span><span class="n">orderStatusChanged</span><span class="p">(</span><span class="n">orderNumber</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">OrderStatusChange</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 出荷進捗</span>
<span class="w">    </span><span class="n">shipmentProgressUpdated</span><span class="p">(</span><span class="n">shipmentNumber</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">ShipmentProgress</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 在庫変動</span>
<span class="w">    </span><span class="n">inventoryChanged</span><span class="p">(</span><span class="n">warehouseCode</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="p">,</span><span class="w"> </span><span class="n">productCode</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">InventoryChange</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 締処理進捗</span>
<span class="w">    </span><span class="n">closingProgressUpdated</span><span class="p">(</span><span class="n">closingId</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">ClosingProgress</span><span class="err">!</span>
<span class="p">}</span>

<span class="c"># ページネーション共通型</span>
<span class="k">type</span><span class="w"> </span><span class="err">PageInfo</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">hasNextPage</span><span class="p">:</span><span class="w"> </span><span class="n">Boolean</span><span class="err">!</span>
<span class="w">    </span><span class="nl">hasPreviousPage</span><span class="p">:</span><span class="w"> </span><span class="n">Boolean</span><span class="err">!</span>
<span class="w">    </span><span class="nl">totalElements</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="err">!</span>
<span class="w">    </span><span class="nl">totalPages</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="err">!</span>
<span class="w">    </span><span class="nl">currentPage</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="err">!</span>
<span class="p">}</span>

<span class="c"># カスタムスカラー</span>
<span class="k">scalar</span><span class="w"> </span><span class="err">Date</span>
<span class="k">scalar</span><span class="w"> </span><span class="err">DateTime</span>
<span class="k">scalar</span><span class="w"> </span><span class="err">BigDecimal</span>
<span class="k">scalar</span><span class="w"> </span><span class="err">Long</span>
</code></pre></div>

</details>

<h4 id="srcmainresourcesgraphqlproductgraphqls">src/main/resources/graphql/product.graphqls<a class="headerlink" href="#srcmainresourcesgraphqlproductgraphqls" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: product.graphqls</summary>

<div class="highlight"><pre><span></span><code><span class="c"># 商品区分</span>
<span class="k">enum</span><span class="w"> </span><span class="err">ProductCategory</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">PRODUCT</span><span class="w">      </span><span class="c"># 製品</span>
<span class="w">    </span><span class="n">MATERIAL</span><span class="w">     </span><span class="c"># 原材料</span>
<span class="w">    </span><span class="n">PART</span><span class="w">         </span><span class="c"># 部品</span>
<span class="p">}</span>

<span class="c"># 税区分</span>
<span class="k">enum</span><span class="w"> </span><span class="err">TaxCategory</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">TAXABLE</span><span class="w">      </span><span class="c"># 課税</span>
<span class="w">    </span><span class="n">TAX_EXEMPT</span><span class="w">   </span><span class="c"># 非課税</span>
<span class="w">    </span><span class="n">TAX_FREE</span><span class="w">     </span><span class="c"># 免税</span>
<span class="p">}</span>

<span class="c"># 商品</span>
<span class="k">type</span><span class="w"> </span><span class="err">Product</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">productCode</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">productName</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="err">!</span>
<span class="w">    </span><span class="nl">productNameKana</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="w">    </span><span class="nl">category</span><span class="p">:</span><span class="w"> </span><span class="n">ProductCategory</span><span class="err">!</span>
<span class="w">    </span><span class="nl">taxCategory</span><span class="p">:</span><span class="w"> </span><span class="n">TaxCategory</span><span class="err">!</span>
<span class="w">    </span><span class="nl">unitCode</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="w">    </span><span class="nl">sellingPrice</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span><span class="err">!</span>
<span class="w">    </span><span class="nl">purchasePrice</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span>
<span class="w">    </span><span class="nl">costPrice</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span>
<span class="w">    </span><span class="nl">safetyStock</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span>
<span class="w">    </span><span class="nl">reorderPoint</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span>
<span class="w">    </span><span class="nl">isActive</span><span class="p">:</span><span class="w"> </span><span class="n">Boolean</span><span class="err">!</span>
<span class="w">    </span><span class="nl">createdAt</span><span class="p">:</span><span class="w"> </span><span class="n">DateTime</span><span class="err">!</span>
<span class="w">    </span><span class="nl">updatedAt</span><span class="p">:</span><span class="w"> </span><span class="n">DateTime</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 関連データ（必要な場合のみ取得）</span>
<span class="w">    </span><span class="nl">inventories</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="n">Inventory</span><span class="err">!]!</span>
<span class="w">    </span><span class="nl">classifications</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="n">ProductClassification</span><span class="err">!]!</span>
<span class="w">    </span><span class="nl">customerPrices</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="n">CustomerPrice</span><span class="err">!]!</span>
<span class="p">}</span>

<span class="c"># 商品一覧（ページネーション付き）</span>
<span class="k">type</span><span class="w"> </span><span class="err">ProductConnection</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">edges</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="n">ProductEdge</span><span class="err">!]!</span>
<span class="w">    </span><span class="nl">pageInfo</span><span class="p">:</span><span class="w"> </span><span class="n">PageInfo</span><span class="err">!</span>
<span class="p">}</span>

<span class="k">type</span><span class="w"> </span><span class="err">ProductEdge</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">node</span><span class="p">:</span><span class="w"> </span><span class="n">Product</span><span class="err">!</span>
<span class="w">    </span><span class="nl">cursor</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="err">!</span>
<span class="p">}</span>

<span class="c"># 入力型</span>
<span class="k">input</span><span class="w"> </span><span class="err">CreateProductInput</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">productCode</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">productName</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="err">!</span>
<span class="w">    </span><span class="nl">productNameKana</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="w">    </span><span class="nl">category</span><span class="p">:</span><span class="w"> </span><span class="n">ProductCategory</span><span class="err">!</span>
<span class="w">    </span><span class="nl">taxCategory</span><span class="p">:</span><span class="w"> </span><span class="n">TaxCategory</span><span class="err">!</span>
<span class="w">    </span><span class="nl">unitCode</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="w">    </span><span class="nl">sellingPrice</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span><span class="err">!</span>
<span class="w">    </span><span class="nl">purchasePrice</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span>
<span class="w">    </span><span class="nl">costPrice</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span>
<span class="w">    </span><span class="nl">safetyStock</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span>
<span class="w">    </span><span class="nl">reorderPoint</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span>
<span class="p">}</span>

<span class="k">input</span><span class="w"> </span><span class="err">UpdateProductInput</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">productCode</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">productName</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="w">    </span><span class="nl">category</span><span class="p">:</span><span class="w"> </span><span class="n">ProductCategory</span>
<span class="w">    </span><span class="nl">taxCategory</span><span class="p">:</span><span class="w"> </span><span class="n">TaxCategory</span>
<span class="w">    </span><span class="nl">sellingPrice</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span>
<span class="w">    </span><span class="nl">isActive</span><span class="p">:</span><span class="w"> </span><span class="n">Boolean</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="srcmainresourcesgraphqlordergraphqls">src/main/resources/graphql/order.graphqls<a class="headerlink" href="#srcmainresourcesgraphqlordergraphqls" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: order.graphqls</summary>

<div class="highlight"><pre><span></span><code><span class="c"># 受注ステータス</span>
<span class="k">enum</span><span class="w"> </span><span class="err">OrderStatus</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">DRAFT</span><span class="w">        </span><span class="c"># 仮登録</span>
<span class="w">    </span><span class="n">CONFIRMED</span><span class="w">    </span><span class="c"># 確定</span>
<span class="w">    </span><span class="n">SHIPPED</span><span class="w">      </span><span class="c"># 出荷済</span>
<span class="w">    </span><span class="n">CANCELLED</span><span class="w">    </span><span class="c"># キャンセル</span>
<span class="p">}</span>

<span class="c"># 受注</span>
<span class="k">type</span><span class="w"> </span><span class="err">Order</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">orderNumber</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">partnerCode</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">orderDate</span><span class="p">:</span><span class="w"> </span><span class="n">Date</span><span class="err">!</span>
<span class="w">    </span><span class="nl">deliveryDate</span><span class="p">:</span><span class="w"> </span><span class="n">Date</span><span class="err">!</span>
<span class="w">    </span><span class="nl">warehouseCode</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">status</span><span class="p">:</span><span class="w"> </span><span class="n">OrderStatus</span><span class="err">!</span>
<span class="w">    </span><span class="nl">totalAmount</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span><span class="err">!</span>
<span class="w">    </span><span class="nl">taxAmount</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span><span class="err">!</span>
<span class="w">    </span><span class="nl">grandTotal</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span><span class="err">!</span>
<span class="w">    </span><span class="nl">salesPersonCode</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="w">    </span><span class="nl">remarks</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="w">    </span><span class="nl">createdAt</span><span class="p">:</span><span class="w"> </span><span class="n">DateTime</span><span class="err">!</span>
<span class="w">    </span><span class="nl">updatedAt</span><span class="p">:</span><span class="w"> </span><span class="n">DateTime</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 関連データ</span>
<span class="w">    </span><span class="nl">partner</span><span class="p">:</span><span class="w"> </span><span class="n">Partner</span><span class="err">!</span>
<span class="w">    </span><span class="nl">warehouse</span><span class="p">:</span><span class="w"> </span><span class="n">Warehouse</span><span class="err">!</span>
<span class="w">    </span><span class="nl">details</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="n">OrderDetail</span><span class="err">!]!</span>
<span class="w">    </span><span class="nl">shipments</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="n">Shipment</span><span class="err">!]!</span>
<span class="p">}</span>

<span class="c"># 受注明細</span>
<span class="k">type</span><span class="w"> </span><span class="err">OrderDetail</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">orderNumber</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">lineNumber</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="err">!</span>
<span class="w">    </span><span class="nl">productCode</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">quantity</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="err">!</span>
<span class="w">    </span><span class="nl">unitPrice</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span><span class="err">!</span>
<span class="w">    </span><span class="nl">amount</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span><span class="err">!</span>
<span class="w">    </span><span class="nl">taxCategory</span><span class="p">:</span><span class="w"> </span><span class="n">TaxCategory</span><span class="err">!</span>
<span class="w">    </span><span class="nl">deliveryDate</span><span class="p">:</span><span class="w"> </span><span class="n">Date</span>
<span class="w">    </span><span class="nl">remarks</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>

<span class="w">    </span><span class="c"># 関連データ</span>
<span class="w">    </span><span class="nl">product</span><span class="p">:</span><span class="w"> </span><span class="n">Product</span><span class="err">!</span>
<span class="p">}</span>

<span class="c"># 受注ステータス変更イベント</span>
<span class="k">type</span><span class="w"> </span><span class="err">OrderStatusChange</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">orderNumber</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">previousStatus</span><span class="p">:</span><span class="w"> </span><span class="n">OrderStatus</span><span class="err">!</span>
<span class="w">    </span><span class="nl">currentStatus</span><span class="p">:</span><span class="w"> </span><span class="n">OrderStatus</span><span class="err">!</span>
<span class="w">    </span><span class="nl">changedBy</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="w">    </span><span class="nl">changedAt</span><span class="p">:</span><span class="w"> </span><span class="n">DateTime</span><span class="err">!</span>
<span class="w">    </span><span class="nl">reason</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="p">}</span>

<span class="c"># 入力型</span>
<span class="k">input</span><span class="w"> </span><span class="err">CreateOrderInput</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">partnerCode</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">orderDate</span><span class="p">:</span><span class="w"> </span><span class="n">Date</span><span class="err">!</span>
<span class="w">    </span><span class="nl">deliveryDate</span><span class="p">:</span><span class="w"> </span><span class="n">Date</span><span class="err">!</span>
<span class="w">    </span><span class="nl">warehouseCode</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">salesPersonCode</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="w">    </span><span class="nl">remarks</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="w">    </span><span class="nl">details</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="n">OrderDetailInput</span><span class="err">!]!</span>
<span class="p">}</span>

<span class="k">input</span><span class="w"> </span><span class="err">OrderDetailInput</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">productCode</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">quantity</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="err">!</span>
<span class="w">    </span><span class="nl">unitPrice</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span>
<span class="w">    </span><span class="nl">deliveryDate</span><span class="p">:</span><span class="w"> </span><span class="n">Date</span>
<span class="w">    </span><span class="nl">remarks</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h3 id="148">14.8 基本的なリゾルバの実装<a class="headerlink" href="#148" title="Permanent link">&para;</a></h3>
<h4 id="query">Query リゾルバ<a class="headerlink" href="#query" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: QueryResolver.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.resolver</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.application.port.in.ProductUseCase</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.application.port.in.PartnerUseCase</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.domain.model.product.Product</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.domain.model.partner.Partner</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.dto.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.graphql.data.method.annotation.Argument</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.graphql.data.method.annotation.QueryMapping</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Controller</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * GraphQL Query リゾルバ</span>
<span class="cm"> */</span>
<span class="nd">@Controller</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">QueryResolver</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ProductUseCase</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">PartnerUseCase</span><span class="w"> </span><span class="n">partnerUseCase</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">QueryResolver</span><span class="p">(</span><span class="n">ProductUseCase</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">,</span><span class="w"> </span><span class="n">PartnerUseCase</span><span class="w"> </span><span class="n">partnerUseCase</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">productUseCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">partnerUseCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">partnerUseCase</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// === 商品 ===</span>

<span class="w">    </span><span class="nd">@QueryMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="nf">product</span><span class="p">(</span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">.</span><span class="na">findByCode</span><span class="p">(</span><span class="n">productCode</span><span class="p">).</span><span class="na">orElse</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@QueryMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ProductConnection</span><span class="w"> </span><span class="nf">products</span><span class="p">(</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">category</span><span class="p">,</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">page</span><span class="p">,</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pageNum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pageSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>

<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">.</span><span class="na">findAll</span><span class="p">(</span><span class="n">category</span><span class="p">,</span><span class="w"> </span><span class="n">pageNum</span><span class="p">,</span><span class="w"> </span><span class="n">pageSize</span><span class="p">);</span>
<span class="w">        </span><span class="kt">long</span><span class="w"> </span><span class="n">totalCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">.</span><span class="na">count</span><span class="p">(</span><span class="n">category</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ProductConnection</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">products</span><span class="p">,</span><span class="w"> </span><span class="n">pageNum</span><span class="p">,</span><span class="w"> </span><span class="n">pageSize</span><span class="p">,</span><span class="w"> </span><span class="n">totalCount</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// === 取引先 ===</span>

<span class="w">    </span><span class="nd">@QueryMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Partner</span><span class="w"> </span><span class="nf">partner</span><span class="p">(</span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">partnerCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">partnerUseCase</span><span class="p">.</span><span class="na">findByCode</span><span class="p">(</span><span class="n">partnerCode</span><span class="p">).</span><span class="na">orElse</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@QueryMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">PartnerConnection</span><span class="w"> </span><span class="nf">partners</span><span class="p">(</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">type</span><span class="p">,</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">page</span><span class="p">,</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pageNum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pageSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>

<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Partner</span><span class="o">&gt;</span><span class="w"> </span><span class="n">partners</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">partnerUseCase</span><span class="p">.</span><span class="na">findAll</span><span class="p">(</span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="n">pageNum</span><span class="p">,</span><span class="w"> </span><span class="n">pageSize</span><span class="p">);</span>
<span class="w">        </span><span class="kt">long</span><span class="w"> </span><span class="n">totalCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">partnerUseCase</span><span class="p">.</span><span class="na">count</span><span class="p">(</span><span class="n">type</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">PartnerConnection</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">partners</span><span class="p">,</span><span class="w"> </span><span class="n">pageNum</span><span class="p">,</span><span class="w"> </span><span class="n">pageSize</span><span class="p">,</span><span class="w"> </span><span class="n">totalCount</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="connection-dto">Connection DTO（ページネーション）<a class="headerlink" href="#connection-dto" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: ProductConnection.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.dto</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.domain.model.product.Product</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Base64</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 商品ページネーション結果（Connection パターン）</span>
<span class="cm"> */</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">record</span> <span class="nc">ProductConnection</span><span class="p">(</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ProductEdge</span><span class="o">&gt;</span><span class="w"> </span><span class="n">edges</span><span class="p">,</span>
<span class="w">    </span><span class="n">PageInfo</span><span class="w"> </span><span class="n">pageInfo</span>
<span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">ProductConnection</span><span class="w"> </span><span class="nf">of</span><span class="p">(</span>
<span class="w">            </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">products</span><span class="p">,</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="p">,</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="p">,</span>
<span class="w">            </span><span class="kt">long</span><span class="w"> </span><span class="n">totalCount</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ProductEdge</span><span class="o">&gt;</span><span class="w"> </span><span class="n">edges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">products</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">product</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ProductEdge</span><span class="p">(</span>
<span class="w">                </span><span class="n">product</span><span class="p">,</span>
<span class="w">                </span><span class="n">encodeCursor</span><span class="p">(</span><span class="n">product</span><span class="p">.</span><span class="na">getProductCode</span><span class="p">())</span>
<span class="w">            </span><span class="p">))</span>
<span class="w">            </span><span class="p">.</span><span class="na">toList</span><span class="p">();</span>

<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">totalPages</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">ceil</span><span class="p">((</span><span class="kt">double</span><span class="p">)</span><span class="w"> </span><span class="n">totalCount</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">size</span><span class="p">);</span>

<span class="w">        </span><span class="n">PageInfo</span><span class="w"> </span><span class="n">pageInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PageInfo</span><span class="p">(</span>
<span class="w">            </span><span class="n">page</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">totalPages</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">  </span><span class="c1">// hasNextPage</span>
<span class="w">            </span><span class="n">page</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">               </span><span class="c1">// hasPreviousPage</span>
<span class="w">            </span><span class="n">totalCount</span><span class="p">,</span>
<span class="w">            </span><span class="n">totalPages</span><span class="p">,</span>
<span class="w">            </span><span class="n">page</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ProductConnection</span><span class="p">(</span><span class="n">edges</span><span class="p">,</span><span class="w"> </span><span class="n">pageInfo</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">encodeCursor</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Base64</span><span class="p">.</span><span class="na">getEncoder</span><span class="p">().</span><span class="na">encodeToString</span><span class="p">(</span><span class="n">productCode</span><span class="p">.</span><span class="na">getBytes</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">record</span> <span class="nc">ProductEdge</span><span class="p">(</span>
<span class="w">    </span><span class="n">Product</span><span class="w"> </span><span class="n">node</span><span class="p">,</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">cursor</span>
<span class="p">)</span><span class="w"> </span><span class="p">{}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">record</span> <span class="nc">PageInfo</span><span class="p">(</span>
<span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="n">hasNextPage</span><span class="p">,</span>
<span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="n">hasPreviousPage</span><span class="p">,</span>
<span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="n">totalElements</span><span class="p">,</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">totalPages</span><span class="p">,</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">currentPage</span>
<span class="p">)</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>

</details>

<hr />
<h3 id="149-spring-for-graphql">14.9 Spring for GraphQL の統合テスト<a class="headerlink" href="#149-spring-for-graphql" title="Permanent link">&para;</a></h3>
<details>
<summary>コード例: QueryResolverTest.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.Test</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.boot.test.autoconfigure.graphql.tester.AutoConfigureHttpGraphQlTester</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.boot.test.context.SpringBootTest</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.graphql.test.tester.HttpGraphQlTester</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.test.context.DynamicPropertyRegistry</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.test.context.DynamicPropertySource</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.testcontainers.containers.PostgreSQLContainer</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.testcontainers.junit.jupiter.Container</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.testcontainers.junit.jupiter.Testcontainers</span><span class="p">;</span>

<span class="nd">@SpringBootTest</span><span class="p">(</span><span class="n">webEnvironment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SpringBootTest</span><span class="p">.</span><span class="na">WebEnvironment</span><span class="p">.</span><span class="na">RANDOM_PORT</span><span class="p">)</span>
<span class="nd">@AutoConfigureHttpGraphQlTester</span>
<span class="nd">@Testcontainers</span>
<span class="kd">class</span> <span class="nc">QueryResolverTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Container</span>
<span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="n">PostgreSQLContainer</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">postgres</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PostgreSQLContainer</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;postgres:16-alpine&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="nd">@DynamicPropertySource</span>
<span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">configureProperties</span><span class="p">(</span><span class="n">DynamicPropertyRegistry</span><span class="w"> </span><span class="n">registry</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">registry</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;spring.datasource.url&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">postgres</span><span class="p">::</span><span class="n">getJdbcUrl</span><span class="p">);</span>
<span class="w">        </span><span class="n">registry</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;spring.datasource.username&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">postgres</span><span class="p">::</span><span class="n">getUsername</span><span class="p">);</span>
<span class="w">        </span><span class="n">registry</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;spring.datasource.password&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">postgres</span><span class="p">::</span><span class="n">getPassword</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">HttpGraphQlTester</span><span class="w"> </span><span class="n">graphQlTester</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">testQueryProduct</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// language=GraphQL</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;&quot;</span>
<span class="s">            query {</span>
<span class="s">                product(productCode: &quot;PRD001&quot;) {</span>
<span class="s">                    productCode</span>
<span class="s">                    productName</span>
<span class="s">                    sellingPrice</span>
<span class="s">                    category</span>
<span class="s">                }</span>
<span class="s">            }</span>
<span class="s">            &quot;&quot;&quot;</span><span class="p">;</span>

<span class="w">        </span><span class="n">graphQlTester</span><span class="p">.</span><span class="na">document</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">execute</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">path</span><span class="p">(</span><span class="s">&quot;product.productCode&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">entity</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&quot;PRD001&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">testQueryProducts</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// language=GraphQL</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;&quot;</span>
<span class="s">            query {</span>
<span class="s">                products(category: PRODUCT, page: 0, size: 10) {</span>
<span class="s">                    edges {</span>
<span class="s">                        node {</span>
<span class="s">                            productCode</span>
<span class="s">                            productName</span>
<span class="s">                        }</span>
<span class="s">                        cursor</span>
<span class="s">                    }</span>
<span class="s">                    pageInfo {</span>
<span class="s">                        hasNextPage</span>
<span class="s">                        totalElements</span>
<span class="s">                    }</span>
<span class="s">                }</span>
<span class="s">            }</span>
<span class="s">            &quot;&quot;&quot;</span><span class="p">;</span>

<span class="w">        </span><span class="n">graphQlTester</span><span class="p">.</span><span class="na">document</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">execute</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">path</span><span class="p">(</span><span class="s">&quot;products.edges&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">entityList</span><span class="p">(</span><span class="n">Object</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">hasSizeGreaterThan</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">testQueryProductWithRelations</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 関連データも含めて取得</span>
<span class="w">        </span><span class="c1">// language=GraphQL</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;&quot;</span>
<span class="s">            query {</span>
<span class="s">                product(productCode: &quot;PRD001&quot;) {</span>
<span class="s">                    productCode</span>
<span class="s">                    productName</span>
<span class="s">                    inventories {</span>
<span class="s">                        warehouseCode</span>
<span class="s">                        quantity</span>
<span class="s">                        availableQuantity</span>
<span class="s">                    }</span>
<span class="s">                    classifications {</span>
<span class="s">                        classificationCode</span>
<span class="s">                        classificationName</span>
<span class="s">                    }</span>
<span class="s">                }</span>
<span class="s">            }</span>
<span class="s">            &quot;&quot;&quot;</span><span class="p">;</span>

<span class="w">        </span><span class="n">graphQlTester</span><span class="p">.</span><span class="na">document</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">execute</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">path</span><span class="p">(</span><span class="s">&quot;product.productCode&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">entity</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&quot;PRD001&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="15-api">第15章：マスタ API の実装<a class="headerlink" href="#15-api" title="Permanent link">&para;</a></h2>
<h3 id="151-n1">15.1 N+1 問題とは<a class="headerlink" href="#151-n1" title="Permanent link">&para;</a></h3>
<p>GraphQL では、ネストしたデータを取得する際に <strong>N+1 問題</strong> が発生しやすくなります。例えば、10件の商品を取得し、それぞれの在庫情報を取得すると、1回（商品一覧）+ 10回（各商品の在庫）= 11回のクエリが実行されます。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNFUVVFTkNFIiBoZWlnaHQ9IjU0N3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6OTM3cHg7aGVpZ2h0OjU0N3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDkzNyA1NDciIHdpZHRoPSI5MzdweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPk4rMSAmIzIxODM5OyYjMzg5ODg7JiMxMjM5ODsmIzMwMzMwOyYjMjk5ODM7JiMxMjQ5NzsmIzEyNDc5OyYjMTI1NDA7JiMxMjUzMTs8L3RpdGxlPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY0LjA2MiIgeD0iMzg1LjI4MjEiIHk9IjI3Ljk5NTEiPk4rMSAmIzIxODM5OyYjMzg5ODg7JiMxMjM5ODsmIzMwMzMwOyYjMjk5ODM7JiMxMjQ5NzsmIzEyNDc5OyYjMTI1NDA7JiMxMjUzMTs8L3RleHQ+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIxMzMuNjY0MSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNjU5Ljc1MjEiIHg9IjE0NS4xNDQ3IiB5PSIyMDguOTkyMiIvPjxnIGNsYXNzPSJwYXJ0aWNpcGFudC1saWZlbGluZSIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0MSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iY2xpZW50IiBpZD0icGFydDEtbGlmZWxpbmUiPjxnPjx0aXRsZT5HcmFwaFFMIENsaWVudDwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjM2NC43MjY2IiB3aWR0aD0iOCIgeD0iNjEuMzcxNiIgeT0iMTA0LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSI2NSIgeDI9IjY1IiB5MT0iMTA0LjU5MzgiIHkyPSI0NjkuMzIwMyIvPjwvZz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50LWxpZmVsaW5lIiBkYXRhLWVudGl0eS11aWQ9InBhcnQyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJyZXNvbHZlciIgaWQ9InBhcnQyLWxpZmVsaW5lIj48Zz48dGl0bGU+UHJvZHVjdFJlc29sdmVyPC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iMzY0LjcyNjYiIHdpZHRoPSI4IiB4PSIyMTUuMzcxNyIgeT0iMTA0LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSIyMTkuMTQ0NyIgeDI9IjIxOS4xNDQ3IiB5MT0iMTA0LjU5MzgiIHkyPSI0NjkuMzIwMyIvPjwvZz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50LWxpZmVsaW5lIiBkYXRhLWVudGl0eS11aWQ9InBhcnQzIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJyZXBvIiBpZD0icGFydDMtbGlmZWxpbmUiPjxnPjx0aXRsZT5JbnZlbnRvcnlSZXBvc2l0b3J5PC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iMzY0LjcyNjYiIHdpZHRoPSI4IiB4PSI0MDUuMzEyMiIgeT0iMTA0LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSI0MDguMzQxNSIgeDI9IjQwOC4zNDE1IiB5MT0iMTA0LjU5MzgiIHkyPSI0NjkuMzIwMyIvPjwvZz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50LWxpZmVsaW5lIiBkYXRhLWVudGl0eS11aWQ9InBhcnQ0IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJkYiIgaWQ9InBhcnQ0LWxpZmVsaW5lIj48Zz48dGl0bGU+UG9zdGdyZVNRTDwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjM2NC43MjY2IiB3aWR0aD0iOCIgeD0iNzQ3LjUyMDMiIHk9IjEwNC41OTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LDU7IiB4MT0iNzUxLjE0MzgiIHgyPSI3NTEuMTQzOCIgeTE9IjEwNC41OTM4IiB5Mj0iNDY5LjMyMDMiLz48L2c+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC1oZWFkIiBkYXRhLWVudGl0eS11aWQ9InBhcnQxIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJjbGllbnQiIGlkPSJwYXJ0MS1oZWFkIj48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyMC43NDMyIiB4PSI1IiB5PSI3My4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA2Ljc0MzIiIHg9IjEyIiB5PSI5My4yOTIiPkdyYXBoUUwgQ2xpZW50PC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0MSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iY2xpZW50IiBpZD0icGFydDEtdGFpbCI+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjAuNzQzMiIgeD0iNSIgeT0iNDY4LjMyMDMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNzQzMiIgeD0iMTIiIHk9IjQ4OC4zMTU0Ij5HcmFwaFFMIENsaWVudDwvdGV4dD48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtZW50aXR5LXVpZD0icGFydDIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9InJlc29sdmVyIiBpZD0icGFydDItaGVhZCI+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjguNDU0MSIgeD0iMTU1LjE0NDciIHk9IjczLjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTQuNDU0MSIgeD0iMTYyLjE0NDciIHk9IjkzLjI5MiI+UHJvZHVjdFJlc29sdmVyPC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0MiIgZGF0YS1xdWFsaWZpZWQtbmFtZT0icmVzb2x2ZXIiIGlkPSJwYXJ0Mi10YWlsIj48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyOC40NTQxIiB4PSIxNTUuMTQ0NyIgeT0iNDY4LjMyMDMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTQuNDU0MSIgeD0iMTYyLjE0NDciIHk9IjQ4OC4zMTU0Ij5Qcm9kdWN0UmVzb2x2ZXI8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC1oZWFkIiBkYXRhLWVudGl0eS11aWQ9InBhcnQzIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJyZXBvIiBpZD0icGFydDMtaGVhZCI+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNTUuOTQxNCIgeD0iMzMxLjM0MTUiIHk9IjczLjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDEuOTQxNCIgeD0iMzM4LjM0MTUiIHk9IjkzLjI5MiI+SW52ZW50b3J5UmVwb3NpdG9yeTwvdGV4dD48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LXRhaWwiIGRhdGEtZW50aXR5LXVpZD0icGFydDMiIGRhdGEtcXVhbGlmaWVkLW5hbWU9InJlcG8iIGlkPSJwYXJ0My10YWlsIj48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1NS45NDE0IiB4PSIzMzEuMzQxNSIgeT0iNDY4LjMyMDMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDEuOTQxNCIgeD0iMzM4LjM0MTUiIHk9IjQ4OC4zMTU0Ij5JbnZlbnRvcnlSZXBvc2l0b3J5PC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0NCIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iZGIiIGlkPSJwYXJ0NC1oZWFkIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4MC43NTI5IiB4PSI3MDguMTQzOCIgeT0iMTAxLjI5MiI+UG9zdGdyZVNRTDwvdGV4dD48cGF0aCBkPSJNNzMzLjUyMDMsNTIuMjk2OSBDNzMzLjUyMDMsNDIuMjk2OSA3NTEuNTIwMyw0Mi4yOTY5IDc1MS41MjAzLDQyLjI5NjkgQzc1MS41MjAzLDQyLjI5NjkgNzY5LjUyMDMsNDIuMjk2OSA3NjkuNTIwMyw1Mi4yOTY5IEw3NjkuNTIwMyw3OC4yOTY5IEM3NjkuNTIwMyw4OC4yOTY5IDc1MS41MjAzLDg4LjI5NjkgNzUxLjUyMDMsODguMjk2OSBDNzUxLjUyMDMsODguMjk2OSA3MzMuNTIwMyw4OC4yOTY5IDczMy41MjAzLDc4LjI5NjkgTDczMy41MjAzLDUyLjI5NjkiIGZpbGw9IiNFMkUyRjAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik03MzMuNTIwMyw1Mi4yOTY5IEM3MzMuNTIwMyw2Mi4yOTY5IDc1MS41MjAzLDYyLjI5NjkgNzUxLjUyMDMsNjIuMjk2OSBDNzUxLjUyMDMsNjIuMjk2OSA3NjkuNTIwMyw2Mi4yOTY5IDc2OS41MjAzLDUyLjI5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0NCIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iZGIiIGlkPSJwYXJ0NC10YWlsIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4MC43NTI5IiB4PSI3MDguMTQzOCIgeT0iNDgxLjMxNTQiPlBvc3RncmVTUUw8L3RleHQ+PHBhdGggZD0iTTczMy41MjAzLDQ5NC42MTcyIEM3MzMuNTIwMyw0ODQuNjE3MiA3NTEuNTIwMyw0ODQuNjE3MiA3NTEuNTIwMyw0ODQuNjE3MiBDNzUxLjUyMDMsNDg0LjYxNzIgNzY5LjUyMDMsNDg0LjYxNzIgNzY5LjUyMDMsNDk0LjYxNzIgTDc2OS41MjAzLDUyMC42MTcyIEM3NjkuNTIwMyw1MzAuNjE3MiA3NTEuNTIwMyw1MzAuNjE3MiA3NTEuNTIwMyw1MzAuNjE3MiBDNzUxLjUyMDMsNTMwLjYxNzIgNzMzLjUyMDMsNTMwLjYxNzIgNzMzLjUyMDMsNTIwLjYxNzIgTDczMy41MjAzLDQ5NC42MTcyIiBmaWxsPSIjRTJFMkYwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNzMzLjUyMDMsNDk0LjYxNzIgQzczMy41MjAzLDUwNC42MTcyIDc1MS41MjAzLDUwNC42MTcyIDc1MS41MjAzLDUwNC42MTcyIEM3NTEuNTIwMyw1MDQuNjE3MiA3NjkuNTIwMyw1MDQuNjE3MiA3NjkuNTIwMyw0OTQuNjE3MiIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MSIgZGF0YS1lbnRpdHktMj0icGFydDIiIGlkPSJtc2cxIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIwNy4zNzE3LDEzMS43MjY2LDIxNy4zNzE3LDEzNS43MjY2LDIwNy4zNzE3LDEzOS43MjY2LDIxMS4zNzE3LDEzNS43MjY2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjY1LjM3MTYiIHgyPSIyMTMuMzcxNyIgeTE9IjEzNS43MjY2IiB5Mj0iMTM1LjcyNjYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTcuNjYwMiIgeD0iNzIuMzcxNiIgeT0iMTMwLjY2MDYiPnByb2R1Y3RzKGZpcnN0OiAxMCk8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MiIgZGF0YS1lbnRpdHktMj0icGFydDQiIGlkPSJtc2cyIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjczOS41MjAzLDE2MC44NTk0LDc0OS41MjAzLDE2NC44NTk0LDczOS41MjAzLDE2OC44NTk0LDc0My41MjAzLDE2NC44NTk0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIxOS4zNzE3IiB4Mj0iNzQ1LjUyMDMiIHkxPSIxNjQuODU5NCIgeTI9IjE2NC44NTk0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjI5LjY3MSIgeD0iMjI2LjM3MTciIHk9IjE1OS43OTM1Ij5TRUxFQ1QgKiBGUk9NICYjMjE4MzA7JiMyMTY5NzsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTsgTElNSVQgMTA8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0NCIgZGF0YS1lbnRpdHktMj0icGFydDIiIGlkPSJtc2czIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIzMC4zNzE3LDE4OS45OTIyLDIyMC4zNzE3LDE5My45OTIyLDIzMC4zNzE3LDE5Ny45OTIyLDIyNi4zNzE3LDE5My45OTIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6MiwyOyIgeDE9IjIyNC4zNzE3IiB4Mj0iNzUwLjUyMDMiIHkxPSIxOTMuOTkyMiIgeTI9IjE5My45OTIyIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjguNTQyMSIgeD0iMjM2LjM3MTciIHk9IjE4OC45MjYzIj4xMCYjMjAyMTQ7JiMxMjM5ODsmIzIxODMwOyYjMjE2OTc7PC90ZXh0PjwvZz48cGF0aCBkPSJNMTQ1LjE0NDcsMjA4Ljk5MjIgTDIyMS43Njg3LDIwOC45OTIyIEwyMjEuNzY4NywyMTYuMTI1IEwyMTEuNzY4NywyMjYuMTI1IEwxNDUuMTQ0NywyMjYuMTI1IEwxNDUuMTQ0NywyMDguOTkyMiIgZmlsbD0iI0VFRUVFRSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIxMzMuNjY0MSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNjU5Ljc1MjEiIHg9IjE0NS4xNDQ3IiB5PSIyMDguOTkyMiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMS42MjQiIHg9IjE2MC4xNDQ3IiB5PSIyMjIuMDU5MSI+bG9vcDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI5LjI2IiB4PSIyMzYuNzY4NyIgeT0iMjIxLjIwMjYiPlsmIzIxNTA4OyYjMjE4MzA7JiMyMTY5NzsmIzEyMzk1OyYjMjM1NTA7JiMxMjM3NTsmIzEyMzkwOyYjNjUyODg7TiYjMjIyMzg7JiM2NTI4OTtdPC90ZXh0PjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MiIgZGF0YS1lbnRpdHktMj0icGFydDMiIGlkPSJtc2c0Ij48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM5Ny4zMTIyLDI0My4yNTc4LDQwNy4zMTIyLDI0Ny4yNTc4LDM5Ny4zMTIyLDI1MS4yNTc4LDQwMS4zMTIyLDI0Ny4yNTc4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIxOS4zNzE3IiB4Mj0iNDAzLjMxMjIiIHkxPSIyNDcuMjU3OCIgeTI9IjI0Ny4yNTc4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY1Ljk0MDQiIHg9IjIyNi4zNzE3IiB5PSIyNDIuMTkxOSI+ZmluZEJ5UHJvZHVjdENvZGUoY29kZSk8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MyIgZGF0YS1lbnRpdHktMj0icGFydDQiIGlkPSJtc2c1Ij48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjczOS41MjAzLDI3Mi4zOTA2LDc0OS41MjAzLDI3Ni4zOTA2LDczOS41MjAzLDI4MC4zOTA2LDc0My41MjAzLDI3Ni4zOTA2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQwOS4zMTIyIiB4Mj0iNzQ1LjUyMDMiIHkxPSIyNzYuMzkwNiIgeTI9IjI3Ni4zOTA2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzE4LjIwODEiIHg9IjQxNi4zMTIyIiB5PSIyNzEuMzI0NyI+U0VMRUNUICogRlJPTSAmIzIyMzEyOyYjMjQyMzU7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7IFdIRVJFICYjMjE4MzA7JiMyMTY5NzsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgPSA/PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDQiIGRhdGEtZW50aXR5LTI9InBhcnQzIiBpZD0ibXNnNiI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0MjAuMzEyMiwzMDEuNTIzNCw0MTAuMzEyMiwzMDUuNTIzNCw0MjAuMzEyMiwzMDkuNTIzNCw0MTYuMzEyMiwzMDUuNTIzNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjIsMjsiIHgxPSI0MTQuMzEyMiIgeDI9Ijc1MC41MjAzIiB5MT0iMzA1LjUyMzQiIHkyPSIzMDUuNTIzNCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY1LjAwMDEiIHg9IjQyNi4zMTIyIiB5PSIzMDAuNDU3NSI+JiMyMjMxMjsmIzI0MjM1OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtZW50aXR5LTE9InBhcnQzIiBkYXRhLWVudGl0eS0yPSJwYXJ0MiIgaWQ9Im1zZzciPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjMwLjM3MTcsMzMwLjY1NjMsMjIwLjM3MTcsMzM0LjY1NjMsMjMwLjM3MTcsMzM4LjY1NjMsMjI2LjM3MTcsMzM0LjY1NjMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheToyLDI7IiB4MT0iMjI0LjM3MTciIHgyPSI0MDguMzEyMiIgeTE9IjMzNC42NTYzIiB5Mj0iMzM0LjY1NjMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNiIgeD0iMjM2LjM3MTciIHk9IjMyOS41OTAzIj4mIzIyMzEyOyYjMjQyMzU7PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDIiIGRhdGEtZW50aXR5LTI9InBhcnQxIiBpZD0ibXNnOCI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI3Ni4zNzE2LDM2Ni43ODkxLDY2LjM3MTYsMzcwLjc4OTEsNzYuMzcxNiwzNzQuNzg5MSw3Mi4zNzE2LDM3MC43ODkxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6MiwyOyIgeDE9IjcwLjM3MTYiIHgyPSIyMTguMzcxNyIgeTE9IjM3MC43ODkxIiB5Mj0iMzcwLjc4OTEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzAuMDAwMiIgeD0iODIuMzcxNiIgeT0iMzY1LjcyMzEiPiYjMjE4MzA7JiMyMTY5NzsmIzE5OTY4OyYjMzUyMzk7JiM2NTI4ODsmIzIyMzEyOyYjMjQyMzU7JiMyMDE4NDsmIzEyMzY1OyYjNjUyODk7PC90ZXh0PjwvZz48cGF0aCBkPSJNNzU2LDM4My43ODkxIEw3NTYsNDUzLjc4OTEgTDkzMCw0NTMuNzg5MSBMOTMwLDM5My43ODkxIEw5MjAsMzgzLjc4OTEgTDc1NiwzODMuNzg5MSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTkyMCwzODMuNzg5MSBMOTIwLDM5My43ODkxIEw5MzAsMzkzLjc4OTEgTDkyMCwzODMuNzg5MSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTExLjY3NDQiIHg9Ijc2MiIgeT0iNDAwLjg1NiI+JiMyMTUxMjsmIzM1MzM2OyAxMSYjMjIyMzg7JiMxMjM5ODsmIzEyNDYzOyYjMTI0NTY7JiMxMjUyMjs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTEwLjQyMzgiIHg9Ijc2MiIgeT0iNDE1Ljk4ODgiPigxICsgTiA9IDEgKyAxMCk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNC4xMzIzIiB4PSI3NjIiIHk9IjQzMS4xMjE2Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjYyNjEiIHg9Ijc2MiIgeT0iNDQ2LjI1NDQiPiYjMjE4MzA7JiMyMTY5NzsmIzEyMzY0OzEwMCYjMjAyMTQ7JiMxMjM5NDsmIzEyNDI1OzEwMSYjMjIyMzg7JiM2NTI4MTs8L3RleHQ+PD9wbGFudHVtbC1zcmMgVEw1REluajE2QnhGaHRabjUyajJ2WGZlMnVRcTNTSWVLVjJ5b0t4Q0dqWFBQZ1UxdERwVGVXYk9nZ1llQThlTjZtbXFYcTNuOC1ZRmNJcGdvUl9HVHRPdGdMbGVQTlU2VVR4ZHd2TU1SMzhlcHI0ODN0LXlORXVleHpWSm9UdEptT0tBemZKX2c4QUgyZVE0RThRR0xpcm8zNWwycDZUWEU4c0w0a0lSNWhGYjMxV2tyQTlaNmhPaWtGY3I5WWxDdlNxTTRuNUU5OVNxaWNZdFM5Z0JUZUt2dEJOcUFLNHhkOVk2REFnNm92MkdrdDkzaURNTEtsSGdMV2M5VE03LW12R1BTazM0bWN3Y1JXYk52ZTFjUHlkcTZRNWM1SzZoWEw4WGxtUmx1NURiUUg3M1J1TnhkV2hFYk4tQmlRNUtOMm9rdUkxMXg3b1FkTVI3engtbmZkWTRhMlJkM2VJeHRuOEFobnlFN2ZIdGZCb2hycjZkNzl3VWx1d3dBTmNUMmRkZ2JjcWtqOUVJeWpuYWNIZi1qNUR5X2VfQmlydnVyclYxamJ1QmticF9LZ1dLOWp4ek9SSWlCaG83WnR6akhyQl9wMktJd0xXblhaM1I5Nl9TOFlRZkU5VmVaNnlzZHd6LU9oSHVPN25faEJwbEVZQW5rTUdXaDhzNjE1eE5zbWJ0RXktejNiMkE5TTFYb1h5ZWx3VTJRdkFYQzBUYkRBaF9VWmphS2p1RXBTUnJOWWtfSXhDcWdpX0poYTNKX200MD8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<hr />
<h3 id="152-dataloader">15.2 DataLoader による解決<a class="headerlink" href="#152-dataloader" title="Permanent link">&para;</a></h3>
<p><strong>DataLoader</strong> は、複数の個別リクエストをバッチ処理にまとめることで N+1 問題を解決します。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNFUVVFTkNFIiBoZWlnaHQ9IjY0MXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MTIxNHB4O2hlaWdodDo2NDFweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMjE0IDY0MSIgd2lkdGg9IjEyMTRweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPkRhdGFMb2FkZXIgJiMxMjM5NTsmIzEyNDI0OyYjMTI0Mjc7IE4rMSAmIzIxODM5OyYjMzg5ODg7JiMxMjM5ODsmIzM1Mjk5OyYjMjc3NzA7PC90aXRsZT48ZGVmcy8+PGc+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI1MS40MjUzIiB4PSI0NzkuODI5NCIgeT0iMjcuOTk1MSI+RGF0YUxvYWRlciAmIzEyMzk1OyYjMTI0MjQ7JiMxMjQyNzsgTisxICYjMjE4Mzk7JiMzODk4ODsmIzEyMzk4OyYjMzUyOTk7JiMyNzc3MDs8L3RleHQ+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI4MS4zOTg0IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIzNDIuODU1NCIgeD0iMTQ1LjE0NDciIHk9IjIwOC45OTIyIi8+PGcgY2xhc3M9InBhcnRpY2lwYW50LWxpZmVsaW5lIiBkYXRhLWVudGl0eS11aWQ9InBhcnQxIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJjbGllbnQiIGlkPSJwYXJ0MS1saWZlbGluZSI+PGc+PHRpdGxlPkdyYXBoUUwgQ2xpZW50PC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iNDU4LjEyNSIgd2lkdGg9IjgiIHg9IjYxLjM3MTYiIHk9IjEwNC41OTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LDU7IiB4MT0iNjUiIHgyPSI2NSIgeTE9IjEwNC41OTM4IiB5Mj0iNTYyLjcxODgiLz48L2c+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudC1saWZlbGluZSIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0MiIgZGF0YS1xdWFsaWZpZWQtbmFtZT0icmVzb2x2ZXIiIGlkPSJwYXJ0Mi1saWZlbGluZSI+PGc+PHRpdGxlPlByb2R1Y3RSZXNvbHZlcjwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjQ1OC4xMjUiIHdpZHRoPSI4IiB4PSIyMTUuMzcxNyIgeT0iMTA0LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSIyMTkuMTQ0NyIgeDI9IjIxOS4xNDQ3IiB5MT0iMTA0LjU5MzgiIHkyPSI1NjIuNzE4OCIvPjwvZz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50LWxpZmVsaW5lIiBkYXRhLWVudGl0eS11aWQ9InBhcnQzIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJsb2FkZXIiIGlkPSJwYXJ0My1saWZlbGluZSI+PGc+PHRpdGxlPkludmVudG9yeURhdGFMb2FkZXI8L3RpdGxlPjxyZWN0IGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMC4wMDAwMCIgaGVpZ2h0PSI0NTguMTI1IiB3aWR0aD0iOCIgeD0iMzcwLjg0NzMiIHk9IjEwNC41OTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LDU7IiB4MT0iMzc0LjU5ODgiIHgyPSIzNzQuNTk4OCIgeTE9IjEwNC41OTM4IiB5Mj0iNTYyLjcxODgiLz48L2c+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudC1saWZlbGluZSIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0NCIgZGF0YS1xdWFsaWZpZWQtbmFtZT0icmVwbyIgaWQ9InBhcnQ0LWxpZmVsaW5lIj48Zz48dGl0bGU+SW52ZW50b3J5UmVwb3NpdG9yeTwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjQ1OC4xMjUiIHdpZHRoPSI4IiB4PSI2MzQuMDk2OCIgeT0iMTA0LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSI2MzcuMTI2MSIgeDI9IjYzNy4xMjYxIiB5MT0iMTA0LjU5MzgiIHkyPSI1NjIuNzE4OCIvPjwvZz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50LWxpZmVsaW5lIiBkYXRhLWVudGl0eS11aWQ9InBhcnQ1IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJkYiIgaWQ9InBhcnQ1LWxpZmVsaW5lIj48Zz48dGl0bGU+UG9zdGdyZVNRTDwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjQ1OC4xMjUiIHdpZHRoPSI4IiB4PSIxMDQwLjEwNTMiIHk9IjEwNC41OTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LDU7IiB4MT0iMTA0My43Mjg4IiB4Mj0iMTA0My43Mjg4IiB5MT0iMTA0LjU5MzgiIHkyPSI1NjIuNzE4OCIvPjwvZz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtZW50aXR5LXVpZD0icGFydDEiIGRhdGEtcXVhbGlmaWVkLW5hbWU9ImNsaWVudCIgaWQ9InBhcnQxLWhlYWQiPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTIwLjc0MzIiIHg9IjUiIHk9IjczLjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNzQzMiIgeD0iMTIiIHk9IjkzLjI5MiI+R3JhcGhRTCBDbGllbnQ8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLWVudGl0eS11aWQ9InBhcnQxIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJjbGllbnQiIGlkPSJwYXJ0MS10YWlsIj48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyMC43NDMyIiB4PSI1IiB5PSI1NjEuNzE4OCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNi43NDMyIiB4PSIxMiIgeT0iNTgxLjcxMzkiPkdyYXBoUUwgQ2xpZW50PC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0MiIgZGF0YS1xdWFsaWZpZWQtbmFtZT0icmVzb2x2ZXIiIGlkPSJwYXJ0Mi1oZWFkIj48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyOC40NTQxIiB4PSIxNTUuMTQ0NyIgeT0iNzMuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNC40NTQxIiB4PSIxNjIuMTQ0NyIgeT0iOTMuMjkyIj5Qcm9kdWN0UmVzb2x2ZXI8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLWVudGl0eS11aWQ9InBhcnQyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJyZXNvbHZlciIgaWQ9InBhcnQyLXRhaWwiPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTI4LjQ1NDEiIHg9IjE1NS4xNDQ3IiB5PSI1NjEuNzE4OCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNC40NTQxIiB4PSIxNjIuMTQ0NyIgeT0iNTgxLjcxMzkiPlByb2R1Y3RSZXNvbHZlcjwvdGV4dD48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtZW50aXR5LXVpZD0icGFydDMiIGRhdGEtcXVhbGlmaWVkLW5hbWU9ImxvYWRlciIgaWQ9InBhcnQzLWhlYWQiPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTYyLjQ5NzEiIHg9IjI5My41OTg4IiB5PSI3My4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ4LjQ5NzEiIHg9IjMwMC41OTg4IiB5PSI5My4yOTIiPkludmVudG9yeURhdGFMb2FkZXI8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLWVudGl0eS11aWQ9InBhcnQzIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJsb2FkZXIiIGlkPSJwYXJ0My10YWlsIj48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE2Mi40OTcxIiB4PSIyOTMuNTk4OCIgeT0iNTYxLjcxODgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDguNDk3MSIgeD0iMzAwLjU5ODgiIHk9IjU4MS43MTM5Ij5JbnZlbnRvcnlEYXRhTG9hZGVyPC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0NCIgZGF0YS1xdWFsaWZpZWQtbmFtZT0icmVwbyIgaWQ9InBhcnQ0LWhlYWQiPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTU1Ljk0MTQiIHg9IjU2MC4xMjYxIiB5PSI3My4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQxLjk0MTQiIHg9IjU2Ny4xMjYxIiB5PSI5My4yOTIiPkludmVudG9yeVJlcG9zaXRvcnk8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLWVudGl0eS11aWQ9InBhcnQ0IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJyZXBvIiBpZD0icGFydDQtdGFpbCI+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNTUuOTQxNCIgeD0iNTYwLjEyNjEiIHk9IjU2MS43MTg4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQxLjk0MTQiIHg9IjU2Ny4xMjYxIiB5PSI1ODEuNzEzOSI+SW52ZW50b3J5UmVwb3NpdG9yeTwvdGV4dD48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtZW50aXR5LXVpZD0icGFydDUiIGRhdGEtcXVhbGlmaWVkLW5hbWU9ImRiIiBpZD0icGFydDUtaGVhZCI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODAuNzUyOSIgeD0iMTAwMC43Mjg4IiB5PSIxMDEuMjkyIj5Qb3N0Z3JlU1FMPC90ZXh0PjxwYXRoIGQ9Ik0xMDI2LjEwNTMsNTIuMjk2OSBDMTAyNi4xMDUzLDQyLjI5NjkgMTA0NC4xMDUzLDQyLjI5NjkgMTA0NC4xMDUzLDQyLjI5NjkgQzEwNDQuMTA1Myw0Mi4yOTY5IDEwNjIuMTA1Myw0Mi4yOTY5IDEwNjIuMTA1Myw1Mi4yOTY5IEwxMDYyLjEwNTMsNzguMjk2OSBDMTA2Mi4xMDUzLDg4LjI5NjkgMTA0NC4xMDUzLDg4LjI5NjkgMTA0NC4xMDUzLDg4LjI5NjkgQzEwNDQuMTA1Myw4OC4yOTY5IDEwMjYuMTA1Myw4OC4yOTY5IDEwMjYuMTA1Myw3OC4yOTY5IEwxMDI2LjEwNTMsNTIuMjk2OSIgZmlsbD0iI0UyRTJGMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTEwMjYuMTA1Myw1Mi4yOTY5IEMxMDI2LjEwNTMsNjIuMjk2OSAxMDQ0LjEwNTMsNjIuMjk2OSAxMDQ0LjEwNTMsNjIuMjk2OSBDMTA0NC4xMDUzLDYyLjI5NjkgMTA2Mi4xMDUzLDYyLjI5NjkgMTA2Mi4xMDUzLDUyLjI5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0NSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iZGIiIGlkPSJwYXJ0NS10YWlsIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4MC43NTI5IiB4PSIxMDAwLjcyODgiIHk9IjU3NC43MTM5Ij5Qb3N0Z3JlU1FMPC90ZXh0PjxwYXRoIGQ9Ik0xMDI2LjEwNTMsNTg4LjAxNTYgQzEwMjYuMTA1Myw1NzguMDE1NiAxMDQ0LjEwNTMsNTc4LjAxNTYgMTA0NC4xMDUzLDU3OC4wMTU2IEMxMDQ0LjEwNTMsNTc4LjAxNTYgMTA2Mi4xMDUzLDU3OC4wMTU2IDEwNjIuMTA1Myw1ODguMDE1NiBMMTA2Mi4xMDUzLDYxNC4wMTU2IEMxMDYyLjEwNTMsNjI0LjAxNTYgMTA0NC4xMDUzLDYyNC4wMTU2IDEwNDQuMTA1Myw2MjQuMDE1NiBDMTA0NC4xMDUzLDYyNC4wMTU2IDEwMjYuMTA1Myw2MjQuMDE1NiAxMDI2LjEwNTMsNjE0LjAxNTYgTDEwMjYuMTA1Myw1ODguMDE1NiIgZmlsbD0iI0UyRTJGMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTEwMjYuMTA1Myw1ODguMDE1NiBDMTAyNi4xMDUzLDU5OC4wMTU2IDEwNDQuMTA1Myw1OTguMDE1NiAxMDQ0LjEwNTMsNTk4LjAxNTYgQzEwNDQuMTA1Myw1OTguMDE1NiAxMDYyLjEwNTMsNTk4LjAxNTYgMTA2Mi4xMDUzLDU4OC4wMTU2IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtZW50aXR5LTE9InBhcnQxIiBkYXRhLWVudGl0eS0yPSJwYXJ0MiIgaWQ9Im1zZzEiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjA3LjM3MTcsMTMxLjcyNjYsMjE3LjM3MTcsMTM1LjcyNjYsMjA3LjM3MTcsMTM5LjcyNjYsMjExLjM3MTcsMTM1LjcyNjYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjUuMzcxNiIgeDI9IjIxMy4zNzE3IiB5MT0iMTM1LjcyNjYiIHkyPSIxMzUuNzI2NiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNy42NjAyIiB4PSI3Mi4zNzE2IiB5PSIxMzAuNjYwNiI+cHJvZHVjdHMoZmlyc3Q6IDEwKTwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtZW50aXR5LTE9InBhcnQyIiBkYXRhLWVudGl0eS0yPSJwYXJ0NSIgaWQ9Im1zZzIiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTAzMi4xMDUzLDE2MC44NTk0LDEwNDIuMTA1MywxNjQuODU5NCwxMDMyLjEwNTMsMTY4Ljg1OTQsMTAzNi4xMDUzLDE2NC44NTk0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIxOS4zNzE3IiB4Mj0iMTAzOC4xMDUzIiB5MT0iMTY0Ljg1OTQiIHkyPSIxNjQuODU5NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIyOS42NzEiIHg9IjIyNi4zNzE3IiB5PSIxNTkuNzkzNSI+U0VMRUNUICogRlJPTSAmIzIxODMwOyYjMjE2OTc7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7IExJTUlUIDEwPC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDUiIGRhdGEtZW50aXR5LTI9InBhcnQyIiBpZD0ibXNnMyI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMzAuMzcxNywxODkuOTkyMiwyMjAuMzcxNywxOTMuOTkyMiwyMzAuMzcxNywxOTcuOTkyMiwyMjYuMzcxNywxOTMuOTkyMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjIsMjsiIHgxPSIyMjQuMzcxNyIgeDI9IjEwNDMuMTA1MyIgeTE9IjE5My45OTIyIiB5Mj0iMTkzLjk5MjIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OC41NDIxIiB4PSIyMzYuMzcxNyIgeT0iMTg4LjkyNjMiPjEwJiMyMDIxNDsmIzEyMzk4OyYjMjE4MzA7JiMyMTY5Nzs8L3RleHQ+PC9nPjxwYXRoIGQ9Ik0xNDUuMTQ0NywyMDguOTkyMiBMMjIxLjc2ODcsMjA4Ljk5MjIgTDIyMS43Njg3LDIxNi4xMjUgTDIxMS43Njg3LDIyNi4xMjUgTDE0NS4xNDQ3LDIyNi4xMjUgTDE0NS4xNDQ3LDIwOC45OTIyIiBmaWxsPSIjRUVFRUVFIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjgxLjM5ODQiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjM0Mi44NTU0IiB4PSIxNDUuMTQ0NyIgeT0iMjA4Ljk5MjIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzEuNjI0IiB4PSIxNjAuMTQ0NyIgeT0iMjIyLjA1OTEiPmxvb3A8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg3LjA1NDIiIHg9IjIzNi43Njg3IiB5PSIyMjEuMjAyNiI+WyYjMjE1MDg7JiMyMTgzMDsmIzIxNjk3OyYjMTIzOTU7JiMyMzU1MDsmIzEyMzc1OyYjMTIzOTA7XTwvdGV4dD48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDIiIGRhdGEtZW50aXR5LTI9InBhcnQzIiBpZD0ibXNnNCI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzNjIuODQ3MywyNDMuMjU3OCwzNzIuODQ3MywyNDcuMjU3OCwzNjIuODQ3MywyNTEuMjU3OCwzNjYuODQ3MywyNDcuMjU3OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMTkuMzcxNyIgeDI9IjM2OC44NDczIiB5MT0iMjQ3LjI1NzgiIHkyPSIyNDcuMjU3OCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMS40OTQxIiB4PSIyMjYuMzcxNyIgeT0iMjQyLjE5MTkiPmxvYWQocHJvZHVjdENvZGUpPC90ZXh0PjwvZz48cGF0aCBkPSJNMzc5LDI2MC4yNTc4IEwzNzksMjg1LjI1NzggTDQ3OCwyODUuMjU3OCBMNDc4LDI3MC4yNTc4IEw0NjgsMjYwLjI1NzggTDM3OSwyNjAuMjU3OCIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTQ2OCwyNjAuMjU3OCBMNDY4LDI3MC4yNTc4IEw0NzgsMjcwLjI1NzggTDQ2OCwyNjAuMjU3OCIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzguMDAwMSIgeD0iMzg1IiB5PSIyNzcuMzI0NyI+JiMxMjQ2MTsmIzEyNTE3OyYjMTI1NDA7JiMxMjM5NTsmIzM2ODYxOyYjMjExNTI7PC90ZXh0PjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MyIgZGF0YS1lbnRpdHktMj0icGFydDQiIGlkPSJtc2c1Ij48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjYyNi4wOTY4LDMxNC41MjM0LDYzNi4wOTY4LDMxOC41MjM0LDYyNi4wOTY4LDMyMi41MjM0LDYzMC4wOTY4LDMxOC41MjM0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjM3NC44NDczIiB4Mj0iNjMyLjA5NjgiIHkxPSIzMTguNTIzNCIgeTI9IjMxOC41MjM0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjM5LjI0OTUiIHg9IjM4MS44NDczIiB5PSIzMTMuNDU3NSI+bG9hZE1hbnkoW2NvZGUxLCBjb2RlMiwgLi4uY29kZTEwXSk8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0NCIgZGF0YS1lbnRpdHktMj0icGFydDUiIGlkPSJtc2c2Ij48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjEwMzIuMTA1MywzNDMuNjU2MywxMDQyLjEwNTMsMzQ3LjY1NjMsMTAzMi4xMDUzLDM1MS42NTYzLDEwMzYuMTA1MywzNDcuNjU2MyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI2MzguMDk2OCIgeDI9IjEwMzguMTA1MyIgeTE9IjM0Ny42NTYzIiB5Mj0iMzQ3LjY1NjMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzODIuMDA4NCIgeD0iNjQ1LjA5NjgiIHk9IjM0Mi41OTAzIj5TRUxFQ1QgKiBGUk9NICYjMjIzMTI7JiMyNDIzNTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsgV0hFUkUgJiMyMTgzMDsmIzIxNjk3OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyBJTiAoPywgPywgLi4uLCA/KTwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtZW50aXR5LTE9InBhcnQ1IiBkYXRhLWVudGl0eS0yPSJwYXJ0NCIgaWQ9Im1zZzciPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNjQ5LjA5NjgsMzcyLjc4OTEsNjM5LjA5NjgsMzc2Ljc4OTEsNjQ5LjA5NjgsMzgwLjc4OTEsNjQ1LjA5NjgsMzc2Ljc4OTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheToyLDI7IiB4MT0iNjQzLjA5NjgiIHgyPSIxMDQzLjEwNTMiIHkxPSIzNzYuNzg5MSIgeTI9IjM3Ni43ODkxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA3LjU0MjEiIHg9IjY1NS4wOTY4IiB5PSIzNzEuNzIzMSI+MTAmIzIwMjE0OyYjMTIzOTg7JiMyMjMxMjsmIzI0MjM1OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtZW50aXR5LTE9InBhcnQ0IiBkYXRhLWVudGl0eS0yPSJwYXJ0MyIgaWQ9Im1zZzgiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzg1Ljg0NzMsNDAxLjkyMTksMzc1Ljg0NzMsNDA1LjkyMTksMzg1Ljg0NzMsNDA5LjkyMTksMzgxLjg0NzMsNDA1LjkyMTkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheToyLDI7IiB4MT0iMzc5Ljg0NzMiIHgyPSI2MzcuMDk2OCIgeTE9IjQwNS45MjE5IiB5Mj0iNDA1LjkyMTkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDguNDg0NSIgeD0iMzkxLjg0NzMiIHk9IjQwMC44NTYiPk1hcCZsdDsmIzIxODMwOyYjMjE2OTc7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7LCAmIzIyMzEyOyYjMjQyMzU7Jmd0OzwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtZW50aXR5LTE9InBhcnQzIiBkYXRhLWVudGl0eS0yPSJwYXJ0MiIgaWQ9Im1zZzkiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjMwLjM3MTcsNDMxLjA1NDcsMjIwLjM3MTcsNDM1LjA1NDcsMjMwLjM3MTcsNDM5LjA1NDcsMjI2LjM3MTcsNDM1LjA1NDciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheToyLDI7IiB4MT0iMjI0LjM3MTciIHgyPSIzNzMuODQ3MyIgeTE9IjQzNS4wNTQ3IiB5Mj0iNDM1LjA1NDciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OC4wMDAxIiB4PSIyMzYuMzcxNyIgeT0iNDI5Ljk4ODgiPiYjMjE1MDg7JiMyMTgzMDsmIzIxNjk3OyYjMTIzOTg7JiMyMjMxMjsmIzI0MjM1OzwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtZW50aXR5LTE9InBhcnQyIiBkYXRhLWVudGl0eS0yPSJwYXJ0MSIgaWQ9Im1zZzEwIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9Ijc2LjM3MTYsNDYwLjE4NzUsNjYuMzcxNiw0NjQuMTg3NSw3Ni4zNzE2LDQ2OC4xODc1LDcyLjM3MTYsNDY0LjE4NzUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheToyLDI7IiB4MT0iNzAuMzcxNiIgeDI9IjIxOC4zNzE3IiB5MT0iNDY0LjE4NzUiIHkyPSI0NjQuMTg3NSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMC4wMDAyIiB4PSI4Mi4zNzE2IiB5PSI0NTkuMTIxNiI+JiMyMTgzMDsmIzIxNjk3OyYjMTk5Njg7JiMzNTIzOTsmIzY1Mjg4OyYjMjIzMTI7JiMyNDIzNTsmIzIwMTg0OyYjMTIzNjU7JiM2NTI4OTs8L3RleHQ+PC9nPjxwYXRoIGQ9Ik0xMDQ5LDQ3Ny4xODc1IEwxMDQ5LDU0Ny4xODc1IEwxMjA3LDU0Ny4xODc1IEwxMjA3LDQ4Ny4xODc1IEwxMTk3LDQ3Ny4xODc1IEwxMDQ5LDQ3Ny4xODc1IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMTE5Nyw0NzcuMTg3NSBMMTE5Nyw0ODcuMTg3NSBMMTIwNyw0ODcuMTg3NSBMMTE5Nyw0NzcuMTg3NSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTAzLjQwMzQiIHg9IjEwNTUiIHk9IjQ5NC4yNTQ0Ij4mIzIxNTEyOyYjMzUzMzY7IDImIzIyMjM4OyYjMTIzOTg7JiMxMjQ2MzsmIzEyNDU2OyYjMTI1MjI7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjczLjI3MSIgeD0iMTA1NSIgeT0iNTA5LjM4NzIiPigxICsgMSA9IDIpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuMTMyMyIgeD0iMTA1NSIgeT0iNTI0LjUyIj4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM3LjA4NDEiIHg9IjEwNTUiIHk9IjUzOS42NTI4Ij4mIzIxODMwOyYjMjE2OTc7JiMxMjM2NDsxMDAmIzIwMjE0OyYjMTIzOTE7JiMxMjQxODsyJiMyMjIzODsmIzY1MjgxOzwvdGV4dD48P3BsYW50dW1sLXNyYyBUTDkxUW5EMTZCdEZoX1plUU1GSmFDcW5RN2s4S0dFUlFqRTIxXzRtb0t4UlhNTGRjSHFCbFJjcGVnYk1COFdlQTRLSGNzM0c4ZTllNi1zRmNRcDRLX3cyQ3hsUjk1bGVRUndQVVR6eHh0aXB0RTRrV1VrT091alljcDJHdUsyQWhYSkZPN05IWEZaTFl0eVZ6Y051VFRweC1GVlIySzgtUGpwZkUzeHNFMnBTUERaVk5oRVd2Wmg0dW1rMDAtV2FQSHZzWHI3eEdPVXRJNDNUN1M4STdDaXNVTUozc3I3VGJFdEUzMkxlRG9hbG1SUThKbUQ3TG5jcEp2Nmotaml1ODRnUzFkb0JhVktyQXhjcnNtWWI3YzVmVVVlMmdrMmQ5V0RacXM0MWh1OVBCZzNmak9CUVJHTFFocmxyc1dQU1dIa2pzcXFMcGtGdVBJWVpHb2ItSU40NkxnRlBzNTJESTY2TnlrbmNVTkp3R3lNT2pZM2FLa2YzVkYwZWVtVzd5VjRWNlJ3TXVMNUVEOXJSelVsMm8ycE1nNHFBb0FFUzA3RXNqWmRHcEhiR1lZeW8tWUlaZVU4U2Rfc0VkeHY3bkJFck8wOThORmFxT3NuWVJ6VXVycjV5UFg3cUtZYjJnTEhBM2lodHpWbUFVaWRpeF9obm9LMTZKeElLY2x0a2hOZ2hWZnc4LUF2RmVwcmVoOEFuS2VJTFg1UWpYTGFxWU9iZkI3Y3NKN1ctVzJSc2hydldCc09jYmdWM3ZKRVZZcFNKRzdGWEFjcHMzd2dQeFQ3RlgtRVp0Y0pPSlM2WnFwU29WM3VQeGc0Qk1RaWw1MXpxbl9xa0xFQXRYdWZTWWNDZi1aQndaMG1KNWk2NFFyMGY4N0drbGMtTXFwNXhLV1pUQ1hjNi1iNTBxX3U3Pz48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<hr />
<h3 id="153-dataloader">15.3 DataLoader の実装<a class="headerlink" href="#153-dataloader" title="Permanent link">&para;</a></h3>
<h4 id="dataloader">在庫 DataLoader<a class="headerlink" href="#dataloader" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: InventoryDataLoader.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.dataloader</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.application.port.out.InventoryRepository</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.domain.model.inventory.Inventory</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.dataloader.BatchLoaderEnvironment</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.dataloader.MappedBatchLoader</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Component</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Set</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.concurrent.CompletableFuture</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.concurrent.CompletionStage</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.stream.Collectors</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 在庫データの DataLoader</span>
<span class="cm"> * 商品コードをキーにバッチ取得</span>
<span class="cm"> */</span>
<span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">InventoryDataLoader</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">MappedBatchLoader</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">InventoryRepository</span><span class="w"> </span><span class="n">inventoryRepository</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">InventoryDataLoader</span><span class="p">(</span><span class="n">InventoryRepository</span><span class="w"> </span><span class="n">inventoryRepository</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">inventoryRepository</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryRepository</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">CompletionStage</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="nf">load</span><span class="p">(</span>
<span class="w">            </span><span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">productCodes</span><span class="p">,</span>
<span class="w">            </span><span class="n">BatchLoaderEnvironment</span><span class="w"> </span><span class="n">environment</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">CompletableFuture</span><span class="p">.</span><span class="na">supplyAsync</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// 一括取得</span>
<span class="w">            </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;</span><span class="w"> </span><span class="n">inventories</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryRepository</span>
<span class="w">                </span><span class="p">.</span><span class="na">findByProductCodes</span><span class="p">(</span><span class="n">productCodes</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// 商品コードでグループ化</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">inventories</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">groupingBy</span><span class="p">(</span><span class="n">Inventory</span><span class="p">::</span><span class="n">getProductCode</span><span class="p">));</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="dataloader_1">取引先 DataLoader<a class="headerlink" href="#dataloader_1" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: PartnerDataLoader.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.dataloader</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.application.port.out.PartnerRepository</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.domain.model.partner.Partner</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.dataloader.BatchLoaderEnvironment</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.dataloader.MappedBatchLoader</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Component</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Set</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.concurrent.CompletableFuture</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.concurrent.CompletionStage</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.function.Function</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.stream.Collectors</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 取引先データの DataLoader</span>
<span class="cm"> */</span>
<span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">PartnerDataLoader</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">MappedBatchLoader</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Partner</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">PartnerRepository</span><span class="w"> </span><span class="n">partnerRepository</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">PartnerDataLoader</span><span class="p">(</span><span class="n">PartnerRepository</span><span class="w"> </span><span class="n">partnerRepository</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">partnerRepository</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">partnerRepository</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">CompletionStage</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Partner</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="nf">load</span><span class="p">(</span>
<span class="w">            </span><span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">partnerCodes</span><span class="p">,</span>
<span class="w">            </span><span class="n">BatchLoaderEnvironment</span><span class="w"> </span><span class="n">environment</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">CompletableFuture</span><span class="p">.</span><span class="na">supplyAsync</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">partnerRepository</span><span class="p">.</span><span class="na">findByCodes</span><span class="p">(</span><span class="n">partnerCodes</span><span class="p">).</span><span class="na">stream</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toMap</span><span class="p">(</span>
<span class="w">                    </span><span class="n">Partner</span><span class="p">::</span><span class="n">getPartnerCode</span><span class="p">,</span>
<span class="w">                    </span><span class="n">Function</span><span class="p">.</span><span class="na">identity</span><span class="p">()</span>
<span class="w">                </span><span class="p">));</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h3 id="154-dataloader">15.4 DataLoader の登録<a class="headerlink" href="#154-dataloader" title="Permanent link">&para;</a></h3>
<details>
<summary>コード例: DataLoaderConfig.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.config</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.dataloader.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.dataloader.DataLoader</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.dataloader.DataLoaderOptions</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.dataloader.DataLoaderRegistry</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.context.annotation.Bean</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.context.annotation.Configuration</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.graphql.execution.BatchLoaderRegistry</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * DataLoader 設定</span>
<span class="cm"> */</span>
<span class="nd">@Configuration</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DataLoaderConfig</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">INVENTORY_LOADER</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;inventoryLoader&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">PARTNER_LOADER</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;partnerLoader&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">PRODUCT_LOADER</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;productLoader&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">WAREHOUSE_LOADER</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;warehouseLoader&quot;</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">InventoryDataLoader</span><span class="w"> </span><span class="n">inventoryDataLoader</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">PartnerDataLoader</span><span class="w"> </span><span class="n">partnerDataLoader</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ProductDataLoader</span><span class="w"> </span><span class="n">productDataLoader</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">WarehouseDataLoader</span><span class="w"> </span><span class="n">warehouseDataLoader</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">DataLoaderConfig</span><span class="p">(</span>
<span class="w">            </span><span class="n">InventoryDataLoader</span><span class="w"> </span><span class="n">inventoryDataLoader</span><span class="p">,</span>
<span class="w">            </span><span class="n">PartnerDataLoader</span><span class="w"> </span><span class="n">partnerDataLoader</span><span class="p">,</span>
<span class="w">            </span><span class="n">ProductDataLoader</span><span class="w"> </span><span class="n">productDataLoader</span><span class="p">,</span>
<span class="w">            </span><span class="n">WarehouseDataLoader</span><span class="w"> </span><span class="n">warehouseDataLoader</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">inventoryDataLoader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryDataLoader</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">partnerDataLoader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">partnerDataLoader</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">productDataLoader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productDataLoader</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">warehouseDataLoader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">warehouseDataLoader</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BatchLoaderRegistry</span><span class="w"> </span><span class="nf">batchLoaderRegistry</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BatchLoaderRegistry</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nd">@Override</span>
<span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">registerDataLoaders</span><span class="p">(</span>
<span class="w">                    </span><span class="n">DataLoaderRegistry</span><span class="w"> </span><span class="n">registry</span><span class="p">,</span>
<span class="w">                    </span><span class="n">graphql</span><span class="p">.</span><span class="na">GraphQLContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">                </span><span class="n">DataLoaderOptions</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DataLoaderOptions</span><span class="p">.</span><span class="na">newOptions</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">setCachingEnabled</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">setBatchingEnabled</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">setMaxBatchSize</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>

<span class="w">                </span><span class="n">registry</span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">INVENTORY_LOADER</span><span class="p">,</span>
<span class="w">                    </span><span class="n">DataLoader</span><span class="p">.</span><span class="na">newMappedDataLoader</span><span class="p">(</span><span class="n">inventoryDataLoader</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">));</span>
<span class="w">                </span><span class="n">registry</span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">PARTNER_LOADER</span><span class="p">,</span>
<span class="w">                    </span><span class="n">DataLoader</span><span class="p">.</span><span class="na">newMappedDataLoader</span><span class="p">(</span><span class="n">partnerDataLoader</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">));</span>
<span class="w">                </span><span class="n">registry</span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">PRODUCT_LOADER</span><span class="p">,</span>
<span class="w">                    </span><span class="n">DataLoader</span><span class="p">.</span><span class="na">newMappedDataLoader</span><span class="p">(</span><span class="n">productDataLoader</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">));</span>
<span class="w">                </span><span class="n">registry</span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">WAREHOUSE_LOADER</span><span class="p">,</span>
<span class="w">                    </span><span class="n">DataLoader</span><span class="p">.</span><span class="na">newMappedDataLoader</span><span class="p">(</span><span class="n">warehouseDataLoader</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">));</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h3 id="155-dataloader">15.5 商品リゾルバの実装（DataLoader 使用）<a class="headerlink" href="#155-dataloader" title="Permanent link">&para;</a></h3>
<details>
<summary>コード例: ProductResolver.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.resolver</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.application.port.in.ProductUseCase</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.config.DataLoaderConfig</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.domain.model.inventory.Inventory</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.domain.model.product.Product</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.dto.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">graphql.schema.DataFetchingEnvironment</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.dataloader.DataLoader</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.graphql.data.method.annotation.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Controller</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.concurrent.CompletableFuture</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 商品 GraphQL リゾルバ</span>
<span class="cm"> */</span>
<span class="nd">@Controller</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ProductResolver</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ProductUseCase</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">ProductResolver</span><span class="p">(</span><span class="n">ProductUseCase</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">productUseCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// === Query ===</span>

<span class="w">    </span><span class="nd">@QueryMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="nf">product</span><span class="p">(</span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">.</span><span class="na">findByCode</span><span class="p">(</span><span class="n">productCode</span><span class="p">).</span><span class="na">orElse</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@QueryMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ProductConnection</span><span class="w"> </span><span class="nf">products</span><span class="p">(</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">category</span><span class="p">,</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">page</span><span class="p">,</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pageNum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pageSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>

<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">.</span><span class="na">findAll</span><span class="p">(</span><span class="n">category</span><span class="p">,</span><span class="w"> </span><span class="n">pageNum</span><span class="p">,</span><span class="w"> </span><span class="n">pageSize</span><span class="p">);</span>
<span class="w">        </span><span class="kt">long</span><span class="w"> </span><span class="n">totalCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">.</span><span class="na">count</span><span class="p">(</span><span class="n">category</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ProductConnection</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">products</span><span class="p">,</span><span class="w"> </span><span class="n">pageNum</span><span class="p">,</span><span class="w"> </span><span class="n">pageSize</span><span class="p">,</span><span class="w"> </span><span class="n">totalCount</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// === Mutation ===</span>

<span class="w">    </span><span class="nd">@MutationMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="nf">createProduct</span><span class="p">(</span><span class="nd">@Argument</span><span class="w"> </span><span class="n">CreateProductInput</span><span class="w"> </span><span class="n">input</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Product</span><span class="w"> </span><span class="n">product</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Product</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">productCode</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">productCode</span><span class="p">())</span>
<span class="w">            </span><span class="p">.</span><span class="na">productName</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">productName</span><span class="p">())</span>
<span class="w">            </span><span class="p">.</span><span class="na">category</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">category</span><span class="p">())</span>
<span class="w">            </span><span class="p">.</span><span class="na">taxCategory</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">taxCategory</span><span class="p">())</span>
<span class="w">            </span><span class="p">.</span><span class="na">sellingPrice</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">sellingPrice</span><span class="p">())</span>
<span class="w">            </span><span class="p">.</span><span class="na">isActive</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">product</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@MutationMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="nf">updateProduct</span><span class="p">(</span><span class="nd">@Argument</span><span class="w"> </span><span class="n">UpdateProductInput</span><span class="w"> </span><span class="n">input</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">.</span><span class="na">update</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">productCode</span><span class="p">(),</span><span class="w"> </span><span class="n">product</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">productName</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">product</span><span class="p">.</span><span class="na">setProductName</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">productName</span><span class="p">());</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">category</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">product</span><span class="p">.</span><span class="na">setCategory</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">category</span><span class="p">());</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">sellingPrice</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">product</span><span class="p">.</span><span class="na">setSellingPrice</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">sellingPrice</span><span class="p">());</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">isActive</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">product</span><span class="p">.</span><span class="na">setActive</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">isActive</span><span class="p">());</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">product</span><span class="p">;</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@MutationMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">deleteProduct</span><span class="p">(</span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">.</span><span class="na">delete</span><span class="p">(</span><span class="n">productCode</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// === フィールドリゾルバ（DataLoader 使用）===</span>

<span class="w">    </span><span class="nd">@SchemaMapping</span><span class="p">(</span><span class="n">typeName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Product&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;inventories&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="nf">inventories</span><span class="p">(</span>
<span class="w">            </span><span class="n">Product</span><span class="w"> </span><span class="n">product</span><span class="p">,</span>
<span class="w">            </span><span class="n">DataFetchingEnvironment</span><span class="w"> </span><span class="n">env</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="n">DataLoader</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">loader</span><span class="w"> </span><span class="o">=</span>
<span class="w">            </span><span class="n">env</span><span class="p">.</span><span class="na">getDataLoader</span><span class="p">(</span><span class="n">DataLoaderConfig</span><span class="p">.</span><span class="na">INVENTORY_LOADER</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">loader</span><span class="p">.</span><span class="na">load</span><span class="p">(</span><span class="n">product</span><span class="p">.</span><span class="na">getProductCode</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@SchemaMapping</span><span class="p">(</span><span class="n">typeName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Product&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;classifications&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ProductClassification</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">classifications</span><span class="p">(</span><span class="n">Product</span><span class="w"> </span><span class="n">product</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">.</span><span class="na">findClassifications</span><span class="p">(</span><span class="n">product</span><span class="p">.</span><span class="na">getProductCode</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="16-api">第16章：トランザクション API の実装<a class="headerlink" href="#16-api" title="Permanent link">&para;</a></h2>
<h3 id="161-graphql-subscription">16.1 GraphQL Subscription とは<a class="headerlink" href="#161-graphql-subscription" title="Permanent link">&para;</a></h3>
<p>GraphQL <strong>Subscription</strong> は、サーバーからクライアントへのリアルタイム通知を実現する仕組みです。WebSocket を使用して双方向通信を行い、データの変更をプッシュ通知します。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNFUVVFTkNFIiBoZWlnaHQ9IjgyNXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MTA3NnB4O2hlaWdodDo4MjVweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMDc2IDgyNSIgd2lkdGg9IjEwNzZweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPkdyYXBoUUwgU3Vic2NyaXB0aW9uICYjMTI1MDE7JiMxMjUyNTsmIzEyNTQwOzwvdGl0bGU+PGRlZnMvPjxnPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMTkuOTA1MSIgeD0iNDI0LjE0MDEiIHk9IjI3Ljk5NTEiPkdyYXBoUUwgU3Vic2NyaXB0aW9uICYjMTI1MDE7JiMxMjUyNTsmIzEyNTQwOzwvdGV4dD48ZyBjbGFzcz0icGFydGljaXBhbnQtbGlmZWxpbmUiIGRhdGEtZW50aXR5LXVpZD0icGFydDEiIGRhdGEtcXVhbGlmaWVkLW5hbWU9ImNsaWVudCIgaWQ9InBhcnQxLWxpZmVsaW5lIj48Zz48dGl0bGU+Q2xpZW50PC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iNjQyLjUyMzQiIHdpZHRoPSI4IiB4PSIyOC4yNjUxIiB5PSIxMDQuNTkzOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NSw1OyIgeDE9IjMyIiB4Mj0iMzIiIHkxPSIxMDQuNTkzOCIgeTI9Ijc0Ny4xMTcyIi8+PC9nPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQtbGlmZWxpbmUiIGRhdGEtZW50aXR5LXVpZD0icGFydDIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IndzIiBpZD0icGFydDItbGlmZWxpbmUiPjxnPjx0aXRsZT5XZWJTb2NrZXQ8L3RpdGxlPjxyZWN0IGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMC4wMDAwMCIgaGVpZ2h0PSI2NDIuNTIzNCIgd2lkdGg9IjgiIHg9IjI5NC44NDA4IiB5PSIxMDQuNTkzOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NSw1OyIgeDE9IjI5OC40ODk3IiB4Mj0iMjk4LjQ4OTciIHkxPSIxMDQuNTkzOCIgeTI9Ijc0Ny4xMTcyIi8+PC9nPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQtbGlmZWxpbmUiIGRhdGEtZW50aXR5LXVpZD0icGFydDMiIGRhdGEtcXVhbGlmaWVkLW5hbWU9InNlcnZlciIgaWQ9InBhcnQzLWxpZmVsaW5lIj48Zz48dGl0bGU+R3JhcGhRTCBTZXJ2ZXI8L3RpdGxlPjxyZWN0IGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMC4wMDAwMCIgaGVpZ2h0PSI2NDIuNTIzNCIgd2lkdGg9IjgiIHg9IjUxNS40NDA0IiB5PSIxMDQuNTkzOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NSw1OyIgeDE9IjUxOS4zNzg5IiB4Mj0iNTE5LjM3ODkiIHkxPSIxMDQuNTkzOCIgeTI9Ijc0Ny4xMTcyIi8+PC9nPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQtbGlmZWxpbmUiIGRhdGEtZW50aXR5LXVpZD0icGFydDQiIGRhdGEtcXVhbGlmaWVkLW5hbWU9InB1Ymxpc2hlciIgaWQ9InBhcnQ0LWxpZmVsaW5lIj48Zz48dGl0bGU+RXZlbnRQdWJsaXNoZXI8L3RpdGxlPjxyZWN0IGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMC4wMDAwMCIgaGVpZ2h0PSI2NDIuNTIzNCIgd2lkdGg9IjgiIHg9IjY0Ny44MTQiIHk9IjEwNC41OTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LDU7IiB4MT0iNjUxLjUwMiIgeDI9IjY1MS41MDIiIHkxPSIxMDQuNTkzOCIgeTI9Ijc0Ny4xMTcyIi8+PC9nPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQtbGlmZWxpbmUiIGRhdGEtZW50aXR5LXVpZD0icGFydDUiIGRhdGEtcXVhbGlmaWVkLW5hbWU9InNlcnZpY2UiIGlkPSJwYXJ0NS1saWZlbGluZSI+PGc+PHRpdGxlPk9yZGVyU2VydmljZTwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjY0Mi41MjM0IiB3aWR0aD0iOCIgeD0iODc1LjgwODYiIHk9IjEwNC41OTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LDU7IiB4MT0iODc4LjkyMjQiIHgyPSI4NzguOTIyNCIgeTE9IjEwNC41OTM4IiB5Mj0iNzQ3LjExNzIiLz48L2c+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudC1saWZlbGluZSIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0NiIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iZGIiIGlkPSJwYXJ0Ni1saWZlbGluZSI+PGc+PHRpdGxlPlBvc3RncmVTUUw8L3RpdGxlPjxyZWN0IGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMC4wMDAwMCIgaGVpZ2h0PSI2NDIuNTIzNCIgd2lkdGg9IjgiIHg9IjEwMTYuODA4OCIgeT0iMTA0LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSIxMDIwLjQzMjMiIHgyPSIxMDIwLjQzMjMiIHkxPSIxMDQuNTkzOCIgeTI9Ijc0Ny4xMTcyIi8+PC9nPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0MSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iY2xpZW50IiBpZD0icGFydDEtaGVhZCI+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI1NC41MzAzIiB4PSI1IiB5PSI3My4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDAuNTMwMyIgeD0iMTIiIHk9IjkzLjI5MiI+Q2xpZW50PC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0MSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iY2xpZW50IiBpZD0icGFydDEtdGFpbCI+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI1NC41MzAzIiB4PSI1IiB5PSI3NDYuMTE3MiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQwLjUzMDMiIHg9IjEyIiB5PSI3NjYuMTEyMyI+Q2xpZW50PC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0MiIgZGF0YS1xdWFsaWZpZWQtbmFtZT0id3MiIGlkPSJwYXJ0Mi1oZWFkIj48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjkyLjcwMjEiIHg9IjI1Mi40ODk3IiB5PSI3My4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzguNzAyMSIgeD0iMjU5LjQ4OTciIHk9IjkzLjI5MiI+V2ViU29ja2V0PC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0MiIgZGF0YS1xdWFsaWZpZWQtbmFtZT0id3MiIGlkPSJwYXJ0Mi10YWlsIj48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjkyLjcwMjEiIHg9IjI1Mi40ODk3IiB5PSI3NDYuMTE3MiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4LjcwMjEiIHg9IjI1OS40ODk3IiB5PSI3NjYuMTEyMyI+V2ViU29ja2V0PC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0MyIgZGF0YS1xdWFsaWZpZWQtbmFtZT0ic2VydmVyIiBpZD0icGFydDMtaGVhZCI+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjYuMTIzIiB4PSI0NTYuMzc4OSIgeT0iNzMuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMi4xMjMiIHg9IjQ2My4zNzg5IiB5PSI5My4yOTIiPkdyYXBoUUwgU2VydmVyPC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0MyIgZGF0YS1xdWFsaWZpZWQtbmFtZT0ic2VydmVyIiBpZD0icGFydDMtdGFpbCI+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjYuMTIzIiB4PSI0NTYuMzc4OSIgeT0iNzQ2LjExNzIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTIuMTIzIiB4PSI0NjMuMzc4OSIgeT0iNzY2LjExMjMiPkdyYXBoUUwgU2VydmVyPC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0NCIgZGF0YS1xdWFsaWZpZWQtbmFtZT0icHVibGlzaGVyIiBpZD0icGFydDQtaGVhZCI+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMTguNjI0IiB4PSI1OTIuNTAyIiB5PSI3My4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA0LjYyNCIgeD0iNTk5LjUwMiIgeT0iOTMuMjkyIj5FdmVudFB1Ymxpc2hlcjwvdGV4dD48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LXRhaWwiIGRhdGEtZW50aXR5LXVpZD0icGFydDQiIGRhdGEtcXVhbGlmaWVkLW5hbWU9InB1Ymxpc2hlciIgaWQ9InBhcnQ0LXRhaWwiPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTE4LjYyNCIgeD0iNTkyLjUwMiIgeT0iNzQ2LjExNzIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDQuNjI0IiB4PSI1OTkuNTAyIiB5PSI3NjYuMTEyMyI+RXZlbnRQdWJsaXNoZXI8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC1oZWFkIiBkYXRhLWVudGl0eS11aWQ9InBhcnQ1IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJzZXJ2aWNlIiBpZD0icGFydDUtaGVhZCI+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDUuNzcyNSIgeD0iODI2LjkyMjQiIHk9IjczLjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MS43NzI1IiB4PSI4MzMuOTIyNCIgeT0iOTMuMjkyIj5PcmRlclNlcnZpY2U8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLWVudGl0eS11aWQ9InBhcnQ1IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJzZXJ2aWNlIiBpZD0icGFydDUtdGFpbCI+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDUuNzcyNSIgeD0iODI2LjkyMjQiIHk9Ijc0Ni4xMTcyIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEuNzcyNSIgeD0iODMzLjkyMjQiIHk9Ijc2Ni4xMTIzIj5PcmRlclNlcnZpY2U8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC1oZWFkIiBkYXRhLWVudGl0eS11aWQ9InBhcnQ2IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJkYiIgaWQ9InBhcnQ2LWhlYWQiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgwLjc1MjkiIHg9Ijk3Ny40MzIzIiB5PSIxMDEuMjkyIj5Qb3N0Z3JlU1FMPC90ZXh0PjxwYXRoIGQ9Ik0xMDAyLjgwODgsNTIuMjk2OSBDMTAwMi44MDg4LDQyLjI5NjkgMTAyMC44MDg4LDQyLjI5NjkgMTAyMC44MDg4LDQyLjI5NjkgQzEwMjAuODA4OCw0Mi4yOTY5IDEwMzguODA4OCw0Mi4yOTY5IDEwMzguODA4OCw1Mi4yOTY5IEwxMDM4LjgwODgsNzguMjk2OSBDMTAzOC44MDg4LDg4LjI5NjkgMTAyMC44MDg4LDg4LjI5NjkgMTAyMC44MDg4LDg4LjI5NjkgQzEwMjAuODA4OCw4OC4yOTY5IDEwMDIuODA4OCw4OC4yOTY5IDEwMDIuODA4OCw3OC4yOTY5IEwxMDAyLjgwODgsNTIuMjk2OSIgZmlsbD0iI0UyRTJGMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTEwMDIuODA4OCw1Mi4yOTY5IEMxMDAyLjgwODgsNjIuMjk2OSAxMDIwLjgwODgsNjIuMjk2OSAxMDIwLjgwODgsNjIuMjk2OSBDMTAyMC44MDg4LDYyLjI5NjkgMTAzOC44MDg4LDYyLjI5NjkgMTAzOC44MDg4LDUyLjI5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0NiIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iZGIiIGlkPSJwYXJ0Ni10YWlsIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4MC43NTI5IiB4PSI5NzcuNDMyMyIgeT0iNzU5LjExMjMiPlBvc3RncmVTUUw8L3RleHQ+PHBhdGggZD0iTTEwMDIuODA4OCw3NzIuNDE0MSBDMTAwMi44MDg4LDc2Mi40MTQxIDEwMjAuODA4OCw3NjIuNDE0MSAxMDIwLjgwODgsNzYyLjQxNDEgQzEwMjAuODA4OCw3NjIuNDE0MSAxMDM4LjgwODgsNzYyLjQxNDEgMTAzOC44MDg4LDc3Mi40MTQxIEwxMDM4LjgwODgsNzk4LjQxNDEgQzEwMzguODA4OCw4MDguNDE0MSAxMDIwLjgwODgsODA4LjQxNDEgMTAyMC44MDg4LDgwOC40MTQxIEMxMDIwLjgwODgsODA4LjQxNDEgMTAwMi44MDg4LDgwOC40MTQxIDEwMDIuODA4OCw3OTguNDE0MSBMMTAwMi44MDg4LDc3Mi40MTQxIiBmaWxsPSIjRTJFMkYwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMTAwMi44MDg4LDc3Mi40MTQxIEMxMDAyLjgwODgsNzgyLjQxNDEgMTAyMC44MDg4LDc4Mi40MTQxIDEwMjAuODA4OCw3ODIuNDE0MSBDMTAyMC44MDg4LDc4Mi40MTQxIDEwMzguODA4OCw3ODIuNDE0MSAxMDM4LjgwODgsNzcyLjQxNDEiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48cmVjdCBmaWxsPSIjRUVFRUVFIiBoZWlnaHQ9IjMiIHN0eWxlPSJzdHJva2U6I0VFRUVFRTtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIxMDY5LjE4NTIiIHg9IjAiIHk9IjEzNS4xNjAyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjAiIHgyPSIxMDY5LjE4NTIiIHkxPSIxMzUuMTYwMiIgeTI9IjEzNS4xNjAyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjAiIHgyPSIxMDY5LjE4NTIiIHkxPSIxMzguMTYwMiIgeTI9IjEzOC4xNjAyIi8+PHJlY3QgZmlsbD0iI0VFRUVFRSIgaGVpZ2h0PSIyMy4xMzI4IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7IiB3aWR0aD0iMTQxLjQ0ODMiIHg9IjQ2My44Njg1IiB5PSIxMjQuNTkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuOTIyNCIgeD0iNDY5Ljg2ODUiIHk9IjE0MC42NjA2Ij5TdWJzY3JpcHRpb24gJiMzODI4MzsmIzIyOTg3OzwvdGV4dD48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDEiIGRhdGEtZW50aXR5LTI9InBhcnQyIiBpZD0ibXNnMSI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyODYuODQwOCwxNzQuODU5NCwyOTYuODQwOCwxNzguODU5NCwyODYuODQwOCwxODIuODU5NCwyOTAuODQwOCwxNzguODU5NCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMi4yNjUxIiB4Mj0iMjkyLjg0MDgiIHkxPSIxNzguODU5NCIgeTI9IjE3OC44NTk0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjQyLjU3NTciIHg9IjM5LjI2NTEiIHk9IjE3My43OTM1Ij5zdWJzY3JpcHRpb24geyBvcmRlclN0YXR1c0NoYW5nZWQgfTwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtZW50aXR5LTE9InBhcnQyIiBkYXRhLWVudGl0eS0yPSJwYXJ0MyIgaWQ9Im1zZzIiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTA3LjQ0MDQsMjAzLjk5MjIsNTE3LjQ0MDQsMjA3Ljk5MjIsNTA3LjQ0MDQsMjExLjk5MjIsNTExLjQ0MDQsMjA3Ljk5MjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjk4Ljg0MDgiIHgyPSI1MTMuNDQwNCIgeTE9IjIwNy45OTIyIiB5Mj0iMjA3Ljk5MjIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjkuMjEzIiB4PSIzMDUuODQwOCIgeT0iMjAyLjkyNjMiPldlYlNvY2tldCAmIzI1NTA5OyYjMzIxNTQ7JiMzMDkwNjsmIzMxNDM1OzwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtZW50aXR5LTE9InBhcnQzIiBkYXRhLWVudGl0eS0yPSJwYXJ0MyIgaWQ9Im1zZzMiPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI1MTkuNDQwNCIgeDI9IjU2MS40NDA0IiB5MT0iMjM3LjEyNSIgeTI9IjIzNy4xMjUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTYxLjQ0MDQiIHgyPSI1NjEuNDQwNCIgeTE9IjIzNy4xMjUiIHkyPSIyNTAuMTI1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjUyMC40NDA0IiB4Mj0iNTYxLjQ0MDQiIHkxPSIyNTAuMTI1IiB5Mj0iMjUwLjEyNSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTMwLjQ0MDQsMjQ2LjEyNSw1MjAuNDQwNCwyNTAuMTI1LDUzMC40NDA0LDI1NC4xMjUsNTI2LjQ0MDQsMjUwLjEyNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMC45MDYzIiB4PSI1MjYuNDQwNCIgeT0iMjMyLjA1OTEiPlN1YnNjcmlwdGlvbiAmIzMwMzMxOyYjMzc2ODI7PC90ZXh0PjwvZz48cmVjdCBmaWxsPSIjRUVFRUVFIiBoZWlnaHQ9IjMiIHN0eWxlPSJzdHJva2U6I0VFRUVFRTtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIxMDY5LjE4NTIiIHg9IjAiIHk9IjI3OC42OTE0Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjAiIHgyPSIxMDY5LjE4NTIiIHkxPSIyNzguNjkxNCIgeTI9IjI3OC42OTE0Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjAiIHgyPSIxMDY5LjE4NTIiIHkxPSIyODEuNjkxNCIgeTI9IjI4MS42OTE0Ii8+PHJlY3QgZmlsbD0iI0VFRUVFRSIgaGVpZ2h0PSIyMy4xMzI4IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7IiB3aWR0aD0iOTYuNTI2IiB4PSI0ODYuMzI5NiIgeT0iMjY4LjEyNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OC4wMDAxIiB4PSI0OTIuMzI5NiIgeT0iMjg0LjE5MTkiPiYjMTI0NTI7JiMxMjUwNTsmIzEyNTMxOyYjMTI0ODg7JiMzMDMzMDsmIzI5OTgzOzwvdGV4dD48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDUiIGRhdGEtZW50aXR5LTI9InBhcnQ2IiBpZD0ibXNnNCI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMDA4LjgwODgsMzE4LjM5MDYsMTAxOC44MDg4LDMyMi4zOTA2LDEwMDguODA4OCwzMjYuMzkwNiwxMDEyLjgwODgsMzIyLjM5MDYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iODc5LjgwODYiIHgyPSIxMDE0LjgwODgiIHkxPSIzMjIuMzkwNiIgeTI9IjMyMi4zOTA2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE3LjAwMDEiIHg9Ijg4Ni44MDg2IiB5PSIzMTcuMzI0NyI+JiMyMTQ2MzsmIzI3ODgwOyYjMTI0NzM7JiMxMjQ4NjsmIzEyNTQwOyYjMTI0Nzk7JiMxMjQ3MzsmIzI2MzU2OyYjMjYwMzI7PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDYiIGRhdGEtZW50aXR5LTI9InBhcnQ1IiBpZD0ibXNnNSI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI4OTAuODA4NiwzNDcuNTIzNCw4ODAuODA4NiwzNTEuNTIzNCw4OTAuODA4NiwzNTUuNTIzNCw4ODYuODA4NiwzNTEuNTIzNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjIsMjsiIHgxPSI4ODQuODA4NiIgeDI9IjEwMTkuODA4OCIgeTE9IjM1MS41MjM0IiB5Mj0iMzUxLjUyMzQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1Mi4wMDAxIiB4PSI4OTYuODA4NiIgeT0iMzQ2LjQ1NzUiPiYjMjYzNTY7JiMyNjAzMjsmIzIzNDM2OyYjMjAxMDI7PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDUiIGRhdGEtZW50aXR5LTI9InBhcnQ0IiBpZD0ibXNnNiI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI2NjIuODE0LDM3Ni42NTYzLDY1Mi44MTQsMzgwLjY1NjMsNjYyLjgxNCwzODQuNjU2Myw2NTguODE0LDM4MC42NTYzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjY1Ni44MTQiIHgyPSI4NzguODA4NiIgeTE9IjM4MC42NTYzIiB5Mj0iMzgwLjY1NjMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMDMuOTk0NyIgeD0iNjY4LjgxNCIgeT0iMzc1LjU5MDMiPk9yZGVyU3RhdHVzQ2hhbmdlZEV2ZW50ICYjMzAzMzA7JiMzNDg5Mjs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0NCIgZGF0YS1lbnRpdHktMj0icGFydDMiIGlkPSJtc2c3Ij48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjUzMC40NDA0LDQwNS43ODkxLDUyMC40NDA0LDQwOS43ODkxLDUzMC40NDA0LDQxMy43ODkxLDUyNi40NDA0LDQwOS43ODkxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjUyNC40NDA0IiB4Mj0iNjUwLjgxNCIgeTE9IjQwOS43ODkxIiB5Mj0iNDA5Ljc4OTEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OC4wMDAxIiB4PSI1MzYuNDQwNCIgeT0iNDA0LjcyMzEiPiYjMTI0NTI7JiMxMjUwNTsmIzEyNTMxOyYjMTI0ODg7JiMyMTQ2MzsmIzIwNDQ5OzwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtZW50aXR5LTE9InBhcnQzIiBkYXRhLWVudGl0eS0yPSJwYXJ0MiIgaWQ9Im1zZzgiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzA5Ljg0MDgsNDM0LjkyMTksMjk5Ljg0MDgsNDM4LjkyMTksMzA5Ljg0MDgsNDQyLjkyMTksMzA1Ljg0MDgsNDM4LjkyMTkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzAzLjg0MDgiIHgyPSI1MTguNDQwNCIgeTE9IjQzOC45MjE5IiB5Mj0iNDM4LjkyMTkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTYuNTk5NiIgeD0iMzE1Ljg0MDgiIHk9IjQzMy44NTYiPnsgb3JkZXJTdGF0dXNDaGFuZ2VkOiB7Li4ufSB9PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDIiIGRhdGEtZW50aXR5LTI9InBhcnQxIiBpZD0ibXNnOSI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0My4yNjUxLDQ2NC4wNTQ3LDMzLjI2NTEsNDY4LjA1NDcsNDMuMjY1MSw0NzIuMDU0NywzOS4yNjUxLDQ2OC4wNTQ3IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjM3LjI2NTEiIHgyPSIyOTcuODQwOCIgeTE9IjQ2OC4wNTQ3IiB5Mj0iNDY4LjA1NDciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDQuMDAwMSIgeD0iNDkuMjY1MSIgeT0iNDYyLjk4ODgiPiYjMTI1MjI7JiMxMjQ1MDsmIzEyNTIzOyYjMTI0Nzk7JiMxMjQ1MjsmIzEyNTEyOyYjMzY4OTA7JiMzMDY5Mzs8L3RleHQ+PC9nPjxyZWN0IGZpbGw9IiNFRUVFRUUiIGhlaWdodD0iMyIgc3R5bGU9InN0cm9rZTojRUVFRUVFO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjEwNjkuMTg1MiIgeD0iMCIgeT0iNDk2LjYyMTEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMCIgeDI9IjEwNjkuMTg1MiIgeTE9IjQ5Ni42MjExIiB5Mj0iNDk2LjYyMTEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMCIgeDI9IjEwNjkuMTg1MiIgeTE9IjQ5OS42MjExIiB5Mj0iNDk5LjYyMTEiLz48cmVjdCBmaWxsPSIjRUVFRUVFIiBoZWlnaHQ9IjIzLjEzMjgiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjsiIHdpZHRoPSI5Ni41MjYiIHg9IjQ4Ni4zMjk2IiB5PSI0ODYuMDU0NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OC4wMDAxIiB4PSI0OTIuMzI5NiIgeT0iNTAyLjEyMTYiPiYjMzY4NjE7JiMyMTE1MjsmIzEyNDUyOyYjMTI1MDU7JiMxMjUzMTsmIzEyNDg4OzwvdGV4dD48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDUiIGRhdGEtZW50aXR5LTI9InBhcnQ0IiBpZD0ibXNnMTAiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNjYyLjgxNCw1MzYuMzIwMyw2NTIuODE0LDU0MC4zMjAzLDY2Mi44MTQsNTQ0LjMyMDMsNjU4LjgxNCw1NDAuMzIwMyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI2NTYuODE0IiB4Mj0iODc4LjgwODYiIHkxPSI1NDAuMzIwMyIgeTI9IjU0MC4zMjAzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjAzLjk5NDciIHg9IjY2OC44MTQiIHk9IjUzNS4yNTQ0Ij5PcmRlclN0YXR1c0NoYW5nZWRFdmVudCAmIzMwMzMwOyYjMzQ4OTI7PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDQiIGRhdGEtZW50aXR5LTI9InBhcnQzIiBpZD0ibXNnMTEiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTMwLjQ0MDQsNTY1LjQ1MzEsNTIwLjQ0MDQsNTY5LjQ1MzEsNTMwLjQ0MDQsNTczLjQ1MzEsNTI2LjQ0MDQsNTY5LjQ1MzEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTI0LjQ0MDQiIHgyPSI2NTAuODE0IiB5MT0iNTY5LjQ1MzEiIHkyPSI1NjkuNDUzMSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4LjAwMDEiIHg9IjUzNi40NDA0IiB5PSI1NjQuMzg3MiI+JiMxMjQ1MjsmIzEyNTA1OyYjMTI1MzE7JiMxMjQ4ODsmIzIxNDYzOyYjMjA0NDk7PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDMiIGRhdGEtZW50aXR5LTI9InBhcnQyIiBpZD0ibXNnMTIiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzA5Ljg0MDgsNTk0LjU4NTksMjk5Ljg0MDgsNTk4LjU4NTksMzA5Ljg0MDgsNjAyLjU4NTksMzA1Ljg0MDgsNTk4LjU4NTkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzAzLjg0MDgiIHgyPSI1MTguNDQwNCIgeTE9IjU5OC41ODU5IiB5Mj0iNTk4LjU4NTkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTYuNTk5NiIgeD0iMzE1Ljg0MDgiIHk9IjU5My41MiI+eyBvcmRlclN0YXR1c0NoYW5nZWQ6IHsuLi59IH08L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MiIgZGF0YS1lbnRpdHktMj0icGFydDEiIGlkPSJtc2cxMyI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0My4yNjUxLDYyMy43MTg4LDMzLjI2NTEsNjI3LjcxODgsNDMuMjY1MSw2MzEuNzE4OCwzOS4yNjUxLDYyNy43MTg4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjM3LjI2NTEiIHgyPSIyOTcuODQwOCIgeTE9IjYyNy43MTg4IiB5Mj0iNjI3LjcxODgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDQuMDAwMSIgeD0iNDkuMjY1MSIgeT0iNjIyLjY1MjgiPiYjMTI1MjI7JiMxMjQ1MDsmIzEyNTIzOyYjMTI0Nzk7JiMxMjQ1MjsmIzEyNTEyOyYjMzY4OTA7JiMzMDY5Mzs8L3RleHQ+PC9nPjxyZWN0IGZpbGw9IiNFRUVFRUUiIGhlaWdodD0iMyIgc3R5bGU9InN0cm9rZTojRUVFRUVFO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjEwNjkuMTg1MiIgeD0iMCIgeT0iNjU2LjI4NTIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMCIgeDI9IjEwNjkuMTg1MiIgeTE9IjY1Ni4yODUyIiB5Mj0iNjU2LjI4NTIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMCIgeDI9IjEwNjkuMTg1MiIgeTE9IjY1OS4yODUyIiB5Mj0iNjU5LjI4NTIiLz48cmVjdCBmaWxsPSIjRUVFRUVFIiBoZWlnaHQ9IjIzLjEzMjgiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjsiIHdpZHRoPSI3MC41MjU5IiB4PSI0OTkuMzI5NiIgeT0iNjQ1LjcxODgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIuMDAwMSIgeD0iNTA1LjMyOTYiIHk9IjY2MS43ODU2Ij4mIzI1NTA5OyYjMzIxNTQ7JiMzMjA2NjsmIzIwMTAyOzwvdGV4dD48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDEiIGRhdGEtZW50aXR5LTI9InBhcnQyIiBpZD0ibXNnMTQiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjg2Ljg0MDgsNjk1Ljk4NDQsMjk2Ljg0MDgsNjk5Ljk4NDQsMjg2Ljg0MDgsNzAzLjk4NDQsMjkwLjg0MDgsNjk5Ljk4NDQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzIuMjY1MSIgeDI9IjI5Mi44NDA4IiB5MT0iNjk5Ljk4NDQiIHkyPSI2OTkuOTg0NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4LjAwMDEiIHg9IjM5LjI2NTEiIHk9IjY5NC45MTg1Ij4mIzI1NTA5OyYjMzIxNTQ7JiMxMjQ2MzsmIzEyNTI1OyYjMTI1NDA7JiMxMjQ3NDs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MiIgZGF0YS1lbnRpdHktMj0icGFydDMiIGlkPSJtc2cxNSI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1MDcuNDQwNCw3MjUuMTE3Miw1MTcuNDQwNCw3MjkuMTE3Miw1MDcuNDQwNCw3MzMuMTE3Miw1MTEuNDQwNCw3MjkuMTE3MiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyOTguODQwOCIgeDI9IjUxMy40NDA0IiB5MT0iNzI5LjExNzIiIHkyPSI3MjkuMTE3MiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMC45MDYzIiB4PSIzMDUuODQwOCIgeT0iNzI0LjA1MTMiPlN1YnNjcmlwdGlvbiAmIzM1Mjk5OyYjMzg1MDA7PC90ZXh0PjwvZz48P3BsYW50dW1sLXNyYyByTEZCSmk5MDVEdEZMcXBPbW1VR3VDT09Eb0hlTUJZVWpYRGU5RDFxMWJxTzR6RDlZMTZZNnlNMDJ5MTdEMThWeVBMT0ROcEMwOE1feTNBampLTC1tRHRqdDNGZGRkRmNiZmt5SEY2Z0pRcFlVWFJkZ25oSlJURllQZ01DZkpZSHVhd0FKdUdpT2RESkRvckl2WlluTjM5ZmNJU21PTFhOUFJvekdSTHlIVC1hRmNBUm5SbFg5NmZsS0xqMWMyaFppOUtqdTVzaFFZTUo1R0VPelZDTEgtUGlXemVwRGJFZDhIdEtvMjJTUThISGQ1WWhDNXdtUU51emdtMjZYYjBjNF9Td1JUUDdydE1Tb0kzVjRhdWtXTklTbllvQXNpNExET3FKTmNOQkhMOGtLMEZsOFcwMnRCUzFMeTgweUZabW9kamhVLVVrcnctWmUxejVuWUh1aE96ZnVxYjlheXdiNTJxZmRnTk96cmdrVHpvUEFHa0NwSFdDM013RlpheDdwcFZJVVBVWTFneWFkRzdLdXhFTlNWQ0gwSTBQSjlmVElNRl9WN0pWNkJnckE1RU9BYzFvVnlvZlBtMWJ4Z0pOR0JfR2c4VWVMYjBxN0ZHWUpiTTRZckEzcXJHZ2pIazY1d0dFVEU5TUVrVEl6OUtUZUV2RXp6ZlV2cWhiQ1hieVpHd3dxT2Jwa1ZtaER5NXNsM2htOTBpc3BzekJ2eTdfMlFOWnBZelFSN3Fjcm5WSnJrS3Q/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<hr />
<h3 id="162">16.2 イベントクラスの定義<a class="headerlink" href="#162" title="Permanent link">&para;</a></h3>
<details>
<summary>コード例: OrderStatusChangedEvent.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.domain.event</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.domain.model.order.OrderStatus</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 受注ステータス変更イベント</span>
<span class="cm"> */</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">record</span> <span class="nc">OrderStatusChangedEvent</span><span class="p">(</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">orderNumber</span><span class="p">,</span>
<span class="w">    </span><span class="n">OrderStatus</span><span class="w"> </span><span class="n">previousStatus</span><span class="p">,</span>
<span class="w">    </span><span class="n">OrderStatus</span><span class="w"> </span><span class="n">currentStatus</span><span class="p">,</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">changedBy</span><span class="p">,</span>
<span class="w">    </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">changedAt</span><span class="p">,</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">reason</span>
<span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">OrderStatusChangedEvent</span><span class="w"> </span><span class="nf">of</span><span class="p">(</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">orderNumber</span><span class="p">,</span>
<span class="w">            </span><span class="n">OrderStatus</span><span class="w"> </span><span class="n">previousStatus</span><span class="p">,</span>
<span class="w">            </span><span class="n">OrderStatus</span><span class="w"> </span><span class="n">currentStatus</span><span class="p">,</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">changedBy</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OrderStatusChangedEvent</span><span class="p">(</span>
<span class="w">            </span><span class="n">orderNumber</span><span class="p">,</span>
<span class="w">            </span><span class="n">previousStatus</span><span class="p">,</span>
<span class="w">            </span><span class="n">currentStatus</span><span class="p">,</span>
<span class="w">            </span><span class="n">changedBy</span><span class="p">,</span>
<span class="w">            </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">(),</span>
<span class="w">            </span><span class="kc">null</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>コード例: InventoryChangedEvent.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.domain.event</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 在庫変動イベント</span>
<span class="cm"> */</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">record</span> <span class="nc">InventoryChangedEvent</span><span class="p">(</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">warehouseCode</span><span class="p">,</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">,</span>
<span class="w">    </span><span class="n">InventoryChangeType</span><span class="w"> </span><span class="n">changeType</span><span class="p">,</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">quantity</span><span class="p">,</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">previousQuantity</span><span class="p">,</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">currentQuantity</span><span class="p">,</span>
<span class="w">    </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">timestamp</span>
<span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">InventoryChangeType</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">RECEIPT</span><span class="p">,</span><span class="w">      </span><span class="c1">// 入庫</span>
<span class="w">        </span><span class="n">SHIPMENT</span><span class="p">,</span><span class="w">     </span><span class="c1">// 出庫</span>
<span class="w">        </span><span class="n">ADJUSTMENT</span><span class="p">,</span><span class="w">   </span><span class="c1">// 調整</span>
<span class="w">        </span><span class="n">TRANSFER</span><span class="p">,</span><span class="w">     </span><span class="c1">// 移動</span>
<span class="w">        </span><span class="n">ALLOCATION</span><span class="p">,</span><span class="w">   </span><span class="c1">// 引当</span>
<span class="w">        </span><span class="n">RELEASE</span><span class="w">       </span><span class="c1">// 引当解除</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">InventoryChangedEvent</span><span class="w"> </span><span class="nf">of</span><span class="p">(</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">warehouseCode</span><span class="p">,</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">,</span>
<span class="w">            </span><span class="n">InventoryChangeType</span><span class="w"> </span><span class="n">changeType</span><span class="p">,</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">quantity</span><span class="p">,</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">previousQuantity</span><span class="p">,</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">currentQuantity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">InventoryChangedEvent</span><span class="p">(</span>
<span class="w">            </span><span class="n">warehouseCode</span><span class="p">,</span>
<span class="w">            </span><span class="n">productCode</span><span class="p">,</span>
<span class="w">            </span><span class="n">changeType</span><span class="p">,</span>
<span class="w">            </span><span class="n">quantity</span><span class="p">,</span>
<span class="w">            </span><span class="n">previousQuantity</span><span class="p">,</span>
<span class="w">            </span><span class="n">currentQuantity</span><span class="p">,</span>
<span class="w">            </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">()</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h3 id="163-reactor-sinks">16.3 イベントパブリッシャー（Reactor Sinks）<a class="headerlink" href="#163-reactor-sinks" title="Permanent link">&para;</a></h3>
<details>
<summary>コード例: GraphQLEventPublisher.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.subscription</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.domain.event.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Component</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">reactor.core.publisher.Flux</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">reactor.core.publisher.Sinks</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * GraphQL Subscription 用イベントパブリッシャー</span>
<span class="cm"> */</span>
<span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GraphQLEventPublisher</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="c1">// 受注ステータス変更</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Sinks</span><span class="p">.</span><span class="na">Many</span><span class="o">&lt;</span><span class="n">OrderStatusChangedEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="n">orderStatusSink</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">Sinks</span><span class="p">.</span><span class="na">many</span><span class="p">().</span><span class="na">multicast</span><span class="p">().</span><span class="na">onBackpressureBuffer</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// 出荷進捗</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Sinks</span><span class="p">.</span><span class="na">Many</span><span class="o">&lt;</span><span class="n">ShipmentProgressEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="n">shipmentProgressSink</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">Sinks</span><span class="p">.</span><span class="na">many</span><span class="p">().</span><span class="na">multicast</span><span class="p">().</span><span class="na">onBackpressureBuffer</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// 在庫変動</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Sinks</span><span class="p">.</span><span class="na">Many</span><span class="o">&lt;</span><span class="n">InventoryChangedEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="n">inventoryChangedSink</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">Sinks</span><span class="p">.</span><span class="na">many</span><span class="p">().</span><span class="na">multicast</span><span class="p">().</span><span class="na">onBackpressureBuffer</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// 締処理進捗</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Sinks</span><span class="p">.</span><span class="na">Many</span><span class="o">&lt;</span><span class="n">ClosingProgressEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="n">closingProgressSink</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">Sinks</span><span class="p">.</span><span class="na">many</span><span class="p">().</span><span class="na">multicast</span><span class="p">().</span><span class="na">onBackpressureBuffer</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// === 発行メソッド ===</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">publishOrderStatusChanged</span><span class="p">(</span><span class="n">OrderStatusChangedEvent</span><span class="w"> </span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">orderStatusSink</span><span class="p">.</span><span class="na">tryEmitNext</span><span class="p">(</span><span class="n">event</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">publishShipmentProgress</span><span class="p">(</span><span class="n">ShipmentProgressEvent</span><span class="w"> </span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">shipmentProgressSink</span><span class="p">.</span><span class="na">tryEmitNext</span><span class="p">(</span><span class="n">event</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">publishInventoryChanged</span><span class="p">(</span><span class="n">InventoryChangedEvent</span><span class="w"> </span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">inventoryChangedSink</span><span class="p">.</span><span class="na">tryEmitNext</span><span class="p">(</span><span class="n">event</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">publishClosingProgress</span><span class="p">(</span><span class="n">ClosingProgressEvent</span><span class="w"> </span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">closingProgressSink</span><span class="p">.</span><span class="na">tryEmitNext</span><span class="p">(</span><span class="n">event</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// === Flux 取得メソッド ===</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Flux</span><span class="o">&lt;</span><span class="n">OrderStatusChangedEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getOrderStatusChangedFlux</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">orderStatusSink</span><span class="p">.</span><span class="na">asFlux</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Flux</span><span class="o">&lt;</span><span class="n">OrderStatusChangedEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getOrderStatusChangedFlux</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">orderNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">orderStatusSink</span><span class="p">.</span><span class="na">asFlux</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">event</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">orderNumber</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span>
<span class="w">                             </span><span class="n">event</span><span class="p">.</span><span class="na">orderNumber</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="n">orderNumber</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Flux</span><span class="o">&lt;</span><span class="n">ShipmentProgressEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getShipmentProgressFlux</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">shipmentNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">shipmentProgressSink</span><span class="p">.</span><span class="na">asFlux</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">event</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">shipmentNumber</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span>
<span class="w">                             </span><span class="n">event</span><span class="p">.</span><span class="na">shipmentNumber</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="n">shipmentNumber</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Flux</span><span class="o">&lt;</span><span class="n">InventoryChangedEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getInventoryChangedFlux</span><span class="p">(</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">warehouseCode</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">inventoryChangedSink</span><span class="p">.</span><span class="na">asFlux</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">event</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">                </span><span class="p">(</span><span class="n">warehouseCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">event</span><span class="p">.</span><span class="na">warehouseCode</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="n">warehouseCode</span><span class="p">))</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">                </span><span class="p">(</span><span class="n">productCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">event</span><span class="p">.</span><span class="na">productCode</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="n">productCode</span><span class="p">))</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Flux</span><span class="o">&lt;</span><span class="n">ClosingProgressEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getClosingProgressFlux</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">closingId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">closingProgressSink</span><span class="p">.</span><span class="na">asFlux</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">event</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">event</span><span class="p">.</span><span class="na">closingId</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="n">closingId</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h3 id="164-subscription">16.4 受注リゾルバの実装（Subscription 対応）<a class="headerlink" href="#164-subscription" title="Permanent link">&para;</a></h3>
<details>
<summary>コード例: OrderResolver.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.resolver</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.application.port.in.OrderUseCase</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.domain.event.OrderStatusChangedEvent</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.domain.model.order.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.dto.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.subscription.GraphQLEventPublisher</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.graphql.data.method.annotation.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Controller</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">reactor.core.publisher.Flux</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 受注 GraphQL リゾルバ</span>
<span class="cm"> */</span>
<span class="nd">@Controller</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OrderResolver</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">OrderUseCase</span><span class="w"> </span><span class="n">orderUseCase</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">GraphQLEventPublisher</span><span class="w"> </span><span class="n">eventPublisher</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">OrderResolver</span><span class="p">(</span><span class="n">OrderUseCase</span><span class="w"> </span><span class="n">orderUseCase</span><span class="p">,</span>
<span class="w">                         </span><span class="n">GraphQLEventPublisher</span><span class="w"> </span><span class="n">eventPublisher</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">orderUseCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orderUseCase</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">eventPublisher</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">eventPublisher</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// === Query ===</span>

<span class="w">    </span><span class="nd">@QueryMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Order</span><span class="w"> </span><span class="nf">order</span><span class="p">(</span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">orderNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">orderUseCase</span><span class="p">.</span><span class="na">findByNumber</span><span class="p">(</span><span class="n">orderNumber</span><span class="p">).</span><span class="na">orElse</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@QueryMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">OrderConnection</span><span class="w"> </span><span class="nf">orders</span><span class="p">(</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">status</span><span class="p">,</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">partnerCode</span><span class="p">,</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">page</span><span class="p">,</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pageNum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pageSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>

<span class="w">        </span><span class="n">OrderStatus</span><span class="w"> </span><span class="n">orderStatus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">OrderStatus</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="n">status</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Order</span><span class="o">&gt;</span><span class="w"> </span><span class="n">orders</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orderUseCase</span><span class="p">.</span><span class="na">findAll</span><span class="p">(</span><span class="n">orderStatus</span><span class="p">,</span><span class="w"> </span><span class="n">partnerCode</span><span class="p">,</span><span class="w"> </span><span class="n">pageNum</span><span class="p">,</span><span class="w"> </span><span class="n">pageSize</span><span class="p">);</span>
<span class="w">        </span><span class="kt">long</span><span class="w"> </span><span class="n">totalCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orderUseCase</span><span class="p">.</span><span class="na">count</span><span class="p">(</span><span class="n">orderStatus</span><span class="p">,</span><span class="w"> </span><span class="n">partnerCode</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">OrderConnection</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">orders</span><span class="p">,</span><span class="w"> </span><span class="n">pageNum</span><span class="p">,</span><span class="w"> </span><span class="n">pageSize</span><span class="p">,</span><span class="w"> </span><span class="n">totalCount</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// === Mutation ===</span>

<span class="w">    </span><span class="nd">@MutationMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Order</span><span class="w"> </span><span class="nf">createOrder</span><span class="p">(</span><span class="nd">@Argument</span><span class="w"> </span><span class="n">CreateOrderInput</span><span class="w"> </span><span class="n">input</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">orderUseCase</span><span class="p">.</span><span class="na">create</span><span class="p">(</span>
<span class="w">            </span><span class="n">input</span><span class="p">.</span><span class="na">partnerCode</span><span class="p">(),</span>
<span class="w">            </span><span class="n">input</span><span class="p">.</span><span class="na">orderDate</span><span class="p">(),</span>
<span class="w">            </span><span class="n">input</span><span class="p">.</span><span class="na">deliveryDate</span><span class="p">(),</span>
<span class="w">            </span><span class="n">input</span><span class="p">.</span><span class="na">warehouseCode</span><span class="p">(),</span>
<span class="w">            </span><span class="n">input</span><span class="p">.</span><span class="na">salesPersonCode</span><span class="p">(),</span>
<span class="w">            </span><span class="n">input</span><span class="p">.</span><span class="na">remarks</span><span class="p">(),</span>
<span class="w">            </span><span class="n">input</span><span class="p">.</span><span class="na">details</span><span class="p">()</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@MutationMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Order</span><span class="w"> </span><span class="nf">confirmOrder</span><span class="p">(</span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">orderNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Order</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orderUseCase</span><span class="p">.</span><span class="na">confirm</span><span class="p">(</span><span class="n">orderNumber</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// イベント発行</span>
<span class="w">        </span><span class="n">eventPublisher</span><span class="p">.</span><span class="na">publishOrderStatusChanged</span><span class="p">(</span>
<span class="w">            </span><span class="n">OrderStatusChangedEvent</span><span class="p">.</span><span class="na">of</span><span class="p">(</span>
<span class="w">                </span><span class="n">orderNumber</span><span class="p">,</span>
<span class="w">                </span><span class="n">OrderStatus</span><span class="p">.</span><span class="na">DRAFT</span><span class="p">,</span>
<span class="w">                </span><span class="n">OrderStatus</span><span class="p">.</span><span class="na">CONFIRMED</span><span class="p">,</span>
<span class="w">                </span><span class="s">&quot;system&quot;</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">order</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@MutationMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Order</span><span class="w"> </span><span class="nf">cancelOrder</span><span class="p">(</span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">orderNumber</span><span class="p">,</span><span class="w"> </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">reason</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Order</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orderUseCase</span><span class="p">.</span><span class="na">cancel</span><span class="p">(</span><span class="n">orderNumber</span><span class="p">,</span><span class="w"> </span><span class="n">reason</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// イベント発行</span>
<span class="w">        </span><span class="n">eventPublisher</span><span class="p">.</span><span class="na">publishOrderStatusChanged</span><span class="p">(</span>
<span class="w">            </span><span class="n">OrderStatusChangedEvent</span><span class="p">.</span><span class="na">withReason</span><span class="p">(</span>
<span class="w">                </span><span class="n">orderNumber</span><span class="p">,</span>
<span class="w">                </span><span class="n">order</span><span class="p">.</span><span class="na">getStatus</span><span class="p">(),</span>
<span class="w">                </span><span class="n">OrderStatus</span><span class="p">.</span><span class="na">CANCELLED</span><span class="p">,</span>
<span class="w">                </span><span class="s">&quot;system&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="n">reason</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">order</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// === Subscription ===</span>

<span class="w">    </span><span class="nd">@SubscriptionMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Flux</span><span class="o">&lt;</span><span class="n">OrderStatusChangedEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">orderStatusChanged</span><span class="p">(</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">orderNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">eventPublisher</span><span class="p">.</span><span class="na">getOrderStatusChangedFlux</span><span class="p">(</span><span class="n">orderNumber</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h3 id="165-graphiql">16.5 GraphiQL によるトランザクション操作<a class="headerlink" href="#165-graphiql" title="Permanent link">&para;</a></h3>
<details>
<summary>コード例: GraphQL クエリ/ミューテーション/サブスクリプション</summary>

<div class="highlight"><pre><span></span><code><span class="c"># 受注登録</span>
<span class="k">mutation</span><span class="w"> </span><span class="nf">CreateOrder</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">createOrder</span><span class="p">(</span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">partnerCode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CUS001&quot;</span>
<span class="w">    </span><span class="n">orderDate</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2025-12-29&quot;</span>
<span class="w">    </span><span class="n">deliveryDate</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2026-01-05&quot;</span>
<span class="w">    </span><span class="n">warehouseCode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;WH001&quot;</span>
<span class="w">    </span><span class="n">details</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="n">productCode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;PRD001&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">quantity</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">unitPrice</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="w"> </span><span class="p">}</span>
<span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="n">productCode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;PRD002&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">quantity</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">unitPrice</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">orderNumber</span>
<span class="w">    </span><span class="n">status</span>
<span class="w">    </span><span class="n">totalAmount</span>
<span class="w">    </span><span class="n">details</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">productCode</span>
<span class="w">      </span><span class="n">quantity</span>
<span class="w">      </span><span class="n">amount</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c"># 受注確定</span>
<span class="k">mutation</span><span class="w"> </span><span class="nf">ConfirmOrder</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">confirmOrder</span><span class="p">(</span><span class="n">orderNumber</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ORD20251229001&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">orderNumber</span>
<span class="w">    </span><span class="n">status</span>
<span class="w">    </span><span class="n">partner</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">partnerName</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c"># 受注ステータス監視（Subscription）</span>
<span class="k">subscription</span><span class="w"> </span><span class="nf">WatchOrderStatus</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">orderStatusChanged</span><span class="p">(</span><span class="n">orderNumber</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ORD20251229001&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">orderNumber</span>
<span class="w">    </span><span class="n">previousStatus</span>
<span class="w">    </span><span class="n">currentStatus</span>
<span class="w">    </span><span class="n">changedAt</span>
<span class="w">    </span><span class="n">changedBy</span>
<span class="w">    </span><span class="n">reason</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c"># 在庫変動監視</span>
<span class="k">subscription</span><span class="w"> </span><span class="nf">WatchInventory</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">inventoryChanged</span><span class="p">(</span><span class="n">warehouseCode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;WH001&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">warehouseCode</span>
<span class="w">    </span><span class="n">productCode</span>
<span class="w">    </span><span class="n">changeType</span>
<span class="w">    </span><span class="n">quantity</span>
<span class="w">    </span><span class="n">previousQuantity</span>
<span class="w">    </span><span class="n">currentQuantity</span>
<span class="w">    </span><span class="n">timestamp</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="17">第17章：エラーハンドリングとベストプラクティス<a class="headerlink" href="#17" title="Permanent link">&para;</a></h2>
<h3 id="171-graphql">17.1 GraphQL エラーハンドリング<a class="headerlink" href="#171-graphql" title="Permanent link">&para;</a></h3>
<p>GraphQL のエラーレスポンスは標準化された構造を持ちます：</p>
<details>
<summary>コード例: エラーレスポンス構造</summary>

<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;errors&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;商品コードが重複しています&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;locations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nt">&quot;line&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;column&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">}],</span>
<span class="w">      </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;createProduct&quot;</span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;extensions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;classification&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;VALIDATION_ERROR&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PRODUCT_CODE_DUPLICATE&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;field&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;productCode&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="_2">カスタム例外クラス<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: GraphQLErrorCode.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.application.exception</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">GraphQLErrorCode</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// バリデーションエラー</span>
<span class="w">    </span><span class="n">VALIDATION_ERROR</span><span class="p">(</span><span class="s">&quot;VALIDATION_ERROR&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">REQUIRED_FIELD_MISSING</span><span class="p">(</span><span class="s">&quot;REQUIRED_FIELD_MISSING&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">INVALID_FORMAT</span><span class="p">(</span><span class="s">&quot;INVALID_FORMAT&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">VALUE_OUT_OF_RANGE</span><span class="p">(</span><span class="s">&quot;VALUE_OUT_OF_RANGE&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">DUPLICATE_VALUE</span><span class="p">(</span><span class="s">&quot;DUPLICATE_VALUE&quot;</span><span class="p">),</span>

<span class="w">    </span><span class="c1">// ビジネスロジックエラー</span>
<span class="w">    </span><span class="n">BUSINESS_RULE_VIOLATION</span><span class="p">(</span><span class="s">&quot;BUSINESS_RULE_VIOLATION&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">INSUFFICIENT_STOCK</span><span class="p">(</span><span class="s">&quot;INSUFFICIENT_STOCK&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">INVALID_STATUS_TRANSITION</span><span class="p">(</span><span class="s">&quot;INVALID_STATUS_TRANSITION&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">CREDIT_LIMIT_EXCEEDED</span><span class="p">(</span><span class="s">&quot;CREDIT_LIMIT_EXCEEDED&quot;</span><span class="p">),</span>

<span class="w">    </span><span class="c1">// リソースエラー</span>
<span class="w">    </span><span class="n">NOT_FOUND</span><span class="p">(</span><span class="s">&quot;NOT_FOUND&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">ALREADY_EXISTS</span><span class="p">(</span><span class="s">&quot;ALREADY_EXISTS&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">CONFLICT</span><span class="p">(</span><span class="s">&quot;CONFLICT&quot;</span><span class="p">),</span>

<span class="w">    </span><span class="c1">// 認証・認可エラー</span>
<span class="w">    </span><span class="n">UNAUTHORIZED</span><span class="p">(</span><span class="s">&quot;UNAUTHORIZED&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">FORBIDDEN</span><span class="p">(</span><span class="s">&quot;FORBIDDEN&quot;</span><span class="p">),</span>

<span class="w">    </span><span class="c1">// システムエラー</span>
<span class="w">    </span><span class="n">INTERNAL_ERROR</span><span class="p">(</span><span class="s">&quot;INTERNAL_ERROR&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">SERVICE_UNAVAILABLE</span><span class="p">(</span><span class="s">&quot;SERVICE_UNAVAILABLE&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">code</span><span class="p">;</span>

<span class="w">    </span><span class="n">GraphQLErrorCode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">code</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">code</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">code</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getCode</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">code</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>コード例: GraphQLBusinessException.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.application.exception</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">graphql.ErrorClassification</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">graphql.GraphQLError</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">graphql.language.SourceLocation</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.HashMap</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GraphQLBusinessException</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RuntimeException</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">GraphQLError</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">GraphQLErrorCode</span><span class="w"> </span><span class="n">errorCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">field</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">additionalData</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">GraphQLBusinessException</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">GraphQLErrorCode</span><span class="w"> </span><span class="n">errorCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">(</span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">errorCode</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">GraphQLBusinessException</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">GraphQLErrorCode</span><span class="w"> </span><span class="n">errorCode</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">field</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">(</span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">errorCode</span><span class="p">,</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">GraphQLBusinessException</span><span class="p">(</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">message</span><span class="p">,</span>
<span class="w">            </span><span class="n">GraphQLErrorCode</span><span class="w"> </span><span class="n">errorCode</span><span class="p">,</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">field</span><span class="p">,</span>
<span class="w">            </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">additionalData</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">super</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">errorCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">errorCode</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">field</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">additionalData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">additionalData</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">additionalData</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">SourceLocation</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getLocations</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ErrorClassification</span><span class="w"> </span><span class="nf">getErrorType</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">CustomErrorClassification</span><span class="p">.</span><span class="na">fromCode</span><span class="p">(</span><span class="n">errorCode</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getExtensions</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">extensions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">        </span><span class="n">extensions</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;code&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">errorCode</span><span class="p">.</span><span class="na">getCode</span><span class="p">());</span>
<span class="w">        </span><span class="n">extensions</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;classification&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">getErrorType</span><span class="p">().</span><span class="na">toString</span><span class="p">());</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">field</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">extensions</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;field&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">field</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">extensions</span><span class="p">.</span><span class="na">putAll</span><span class="p">(</span><span class="n">additionalData</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">extensions</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h3 id="172">17.2 例外リゾルバ<a class="headerlink" href="#172" title="Permanent link">&para;</a></h3>
<details>
<summary>コード例: GraphQLExceptionResolver.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.exception</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.application.exception.GraphQLBusinessException</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.application.exception.GraphQLErrorCode</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">graphql.GraphQLError</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">graphql.schema.DataFetchingEnvironment</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.graphql.execution.DataFetcherExceptionResolverAdapter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.graphql.execution.ErrorType</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Component</span><span class="p">;</span>

<span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GraphQLExceptionResolver</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">DataFetcherExceptionResolverAdapter</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="n">GraphQLError</span><span class="w"> </span><span class="nf">resolveToSingleError</span><span class="p">(</span><span class="n">Throwable</span><span class="w"> </span><span class="n">ex</span><span class="p">,</span><span class="w"> </span><span class="n">DataFetchingEnvironment</span><span class="w"> </span><span class="n">env</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// カスタムビジネス例外</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ex</span><span class="w"> </span><span class="k">instanceof</span><span class="w"> </span><span class="n">GraphQLBusinessException</span><span class="w"> </span><span class="n">businessEx</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">businessEx</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// ドメイン例外をラップ</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ex</span><span class="w"> </span><span class="k">instanceof</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GraphQLBusinessException</span><span class="p">(</span>
<span class="w">                </span><span class="n">ex</span><span class="p">.</span><span class="na">getMessage</span><span class="p">(),</span>
<span class="w">                </span><span class="n">GraphQLErrorCode</span><span class="p">.</span><span class="na">VALIDATION_ERROR</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ex</span><span class="w"> </span><span class="k">instanceof</span><span class="w"> </span><span class="n">IllegalStateException</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GraphQLBusinessException</span><span class="p">(</span>
<span class="w">                </span><span class="n">ex</span><span class="p">.</span><span class="na">getMessage</span><span class="p">(),</span>
<span class="w">                </span><span class="n">GraphQLErrorCode</span><span class="p">.</span><span class="na">BUSINESS_RULE_VIOLATION</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// Jakarta Validation 例外</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ex</span><span class="w"> </span><span class="k">instanceof</span><span class="w"> </span><span class="n">jakarta</span><span class="p">.</span><span class="na">validation</span><span class="p">.</span><span class="na">ConstraintViolationException</span><span class="w"> </span><span class="n">cve</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">firstViolation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cve</span><span class="p">.</span><span class="na">getConstraintViolations</span><span class="p">().</span><span class="na">iterator</span><span class="p">().</span><span class="na">next</span><span class="p">();</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GraphQLBusinessException</span><span class="p">(</span>
<span class="w">                </span><span class="n">firstViolation</span><span class="p">.</span><span class="na">getMessage</span><span class="p">(),</span>
<span class="w">                </span><span class="n">GraphQLErrorCode</span><span class="p">.</span><span class="na">VALIDATION_ERROR</span><span class="p">,</span>
<span class="w">                </span><span class="n">firstViolation</span><span class="p">.</span><span class="na">getPropertyPath</span><span class="p">().</span><span class="na">toString</span><span class="p">()</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// 未知の例外はログ出力して汎用メッセージを返す</span>
<span class="w">        </span><span class="n">logger</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="s">&quot;Unexpected error in GraphQL resolver&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ex</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">GraphQLError</span><span class="p">.</span><span class="na">newError</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">message</span><span class="p">(</span><span class="s">&quot;システムエラーが発生しました&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">errorType</span><span class="p">(</span><span class="n">ErrorType</span><span class="p">.</span><span class="na">INTERNAL_ERROR</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h3 id="173">17.3 入力バリデーション<a class="headerlink" href="#173" title="Permanent link">&para;</a></h3>
<h4 id="graphql">GraphQL ディレクティブによるバリデーション<a class="headerlink" href="#graphql" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: directives.graphqls</summary>

<div class="highlight"><pre><span></span><code><span class="c"># schema/directives.graphqls</span>
<span class="k">directive</span><span class="w"> </span><span class="err">@NotBlank(message:</span><span class="w"> </span><span class="err">String</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">&quot;必須項目です&quot;)</span><span class="w"> </span><span class="err">on</span><span class="w"> </span><span class="k">INPUT_FIELD_DEFINITION</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="k">ARGUMENT_DEFINITION</span>
<span class="k">directive</span><span class="w"> </span><span class="err">@Size(min:</span><span class="w"> </span><span class="err">Int</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">0</span><span class="p">,</span><span class="w"> </span><span class="err">max:</span><span class="w"> </span><span class="err">Int</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">255</span><span class="p">,</span><span class="w"> </span><span class="err">message:</span><span class="w"> </span><span class="err">String)</span><span class="w"> </span><span class="err">on</span><span class="w"> </span><span class="k">INPUT_FIELD_DEFINITION</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="k">ARGUMENT_DEFINITION</span>
<span class="k">directive</span><span class="w"> </span><span class="err">@Min(value:</span><span class="w"> </span><span class="err">Int!</span><span class="p">,</span><span class="w"> </span><span class="err">message:</span><span class="w"> </span><span class="err">String)</span><span class="w"> </span><span class="err">on</span><span class="w"> </span><span class="k">INPUT_FIELD_DEFINITION</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="k">ARGUMENT_DEFINITION</span>
<span class="k">directive</span><span class="w"> </span><span class="err">@Pattern(regexp:</span><span class="w"> </span><span class="err">String!</span><span class="p">,</span><span class="w"> </span><span class="err">message:</span><span class="w"> </span><span class="err">String)</span><span class="w"> </span><span class="err">on</span><span class="w"> </span><span class="k">INPUT_FIELD_DEFINITION</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="k">ARGUMENT_DEFINITION</span>
<span class="k">directive</span><span class="w"> </span><span class="err">@Email(message:</span><span class="w"> </span><span class="err">String</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">&quot;有効なメールアドレスを入力してください&quot;)</span><span class="w"> </span><span class="err">on</span><span class="w"> </span><span class="k">INPUT_FIELD_DEFINITION</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="k">ARGUMENT_DEFINITION</span>

<span class="c"># 使用例</span>
<span class="k">input</span><span class="w"> </span><span class="err">CreateProductInput</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">productCode</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="err">!</span><span class="w"> </span><span class="nd">@NotBlank</span><span class="w"> </span><span class="err">@Size</span><span class="p">(</span><span class="n">min</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">max</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;商品コードは16文字以内で入力してください&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="nl">productName</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="err">!</span><span class="w"> </span><span class="nd">@NotBlank</span><span class="w"> </span><span class="err">@Size</span><span class="p">(</span><span class="n">max</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
<span class="w">  </span><span class="nl">price</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span><span class="err">!</span><span class="w"> </span><span class="nd">@Min</span><span class="p">(</span><span class="n">value</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;価格は0以上で入力してください&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">input</span><span class="w"> </span><span class="err">CreatePartnerInput</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">partnerCode</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="err">!</span><span class="w"> </span><span class="nd">@NotBlank</span><span class="w"> </span><span class="err">@Pattern</span><span class="p">(</span><span class="n">regexp</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;^[A-Z0-9]{4,10}$&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;取引先コードは英大文字と数字4〜10文字で入力してください&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="nl">partnerName</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="err">!</span><span class="w"> </span><span class="nd">@NotBlank</span><span class="w"> </span><span class="err">@Size</span><span class="p">(</span><span class="n">max</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
<span class="w">  </span><span class="nl">email</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nd">@Email</span>
<span class="w">  </span><span class="err">creditLimit:</span><span class="w"> </span><span class="err">BigDecimal</span><span class="w"> </span><span class="err">@Min</span><span class="p">(</span><span class="n">value</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="jakarta-validation">Jakarta Validation との統合<a class="headerlink" href="#jakarta-validation" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: CreateProductInputDto.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.application.dto</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.validation.constraints.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">record</span> <span class="nc">CreateProductInputDto</span><span class="p">(</span>
<span class="w">    </span><span class="nd">@NotBlank</span><span class="p">(</span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;商品コードは必須です&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="nd">@Size</span><span class="p">(</span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;商品コードは16文字以内で入力してください&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="nd">@Pattern</span><span class="p">(</span><span class="n">regexp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;^[A-Z0-9]+$&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;商品コードは英大文字と数字のみ使用可能です&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">,</span>

<span class="w">    </span><span class="nd">@NotBlank</span><span class="p">(</span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;商品名は必須です&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="nd">@Size</span><span class="p">(</span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;商品名は100文字以内で入力してください&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">productName</span><span class="p">,</span>

<span class="w">    </span><span class="nd">@NotNull</span><span class="p">(</span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;価格は必須です&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="nd">@DecimalMin</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;0&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;価格は0以上で入力してください&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="nd">@Digits</span><span class="p">(</span><span class="n">integer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">fraction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;価格の形式が正しくありません&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">price</span><span class="p">,</span>

<span class="w">    </span><span class="nd">@Min</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;在庫数は0以上で入力してください&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">Integer</span><span class="w"> </span><span class="n">stockQuantity</span><span class="p">,</span>

<span class="w">    </span><span class="nd">@Size</span><span class="p">(</span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;備考は500文字以内で入力してください&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">notes</span>
<span class="p">)</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>

</details>

<hr />
<h3 id="174">17.4 セキュリティ<a class="headerlink" href="#174" title="Permanent link">&para;</a></h3>
<h4 id="_3">認可ディレクティブ<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: 認可ディレクティブ</summary>

<div class="highlight"><pre><span></span><code><span class="c"># スキーマレベルでの認可定義</span>
<span class="k">directive</span><span class="w"> </span><span class="err">@auth(</span>
<span class="w">  </span><span class="err">roles:</span><span class="w"> </span><span class="err">[String!]!</span>
<span class="err">)</span><span class="w"> </span><span class="err">on</span><span class="w"> </span><span class="k">FIELD_DEFINITION</span>

<span class="k">type</span><span class="w"> </span><span class="err">Mutation</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c"># 管理者のみ</span>
<span class="w">  </span><span class="n">deleteProduct</span><span class="p">(</span><span class="n">productCode</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Boolean</span><span class="err">!</span><span class="w"> </span><span class="nd">@auth</span><span class="p">(</span><span class="n">roles</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;ADMIN&quot;</span><span class="p">])</span>

<span class="w">  </span><span class="c"># 営業担当と管理者</span>
<span class="w">  </span><span class="n">createOrder</span><span class="p">(</span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="no">CreateOrderInput</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Order</span><span class="err">!</span><span class="w"> </span><span class="nd">@auth</span><span class="p">(</span><span class="n">roles</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;SALES&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ADMIN&quot;</span><span class="p">])</span>

<span class="w">  </span><span class="c"># 経理担当と管理者</span>
<span class="w">  </span><span class="n">executeClosing</span><span class="p">(</span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="no">ExecuteClosingInput</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">ClosingResult</span><span class="err">!</span><span class="w"> </span><span class="nd">@auth</span><span class="p">(</span><span class="n">roles</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;ACCOUNTING&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ADMIN&quot;</span><span class="p">])</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="_4">クエリ深度制限<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: クエリ深度制限</summary>

<div class="highlight"><pre><span></span><code><span class="nd">@Bean</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Instrumentation</span><span class="w"> </span><span class="nf">maxQueryDepthInstrumentation</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MaxQueryDepthInstrumentation</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="p">}</span>

<span class="nd">@Bean</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Instrumentation</span><span class="w"> </span><span class="nf">maxQueryComplexityInstrumentation</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MaxQueryComplexityInstrumentation</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h3 id="175">17.5 運用のベストプラクティス<a class="headerlink" href="#175" title="Permanent link">&para;</a></h3>
<h4 id="_5">ログインターセプター<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: GraphQLLoggingInterceptor.java</summary>

<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GraphQLLoggingInterceptor</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">WebGraphQlInterceptor</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Logger</span><span class="w"> </span><span class="n">logger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LoggerFactory</span><span class="p">.</span><span class="na">getLogger</span><span class="p">(</span><span class="n">GraphQLLoggingInterceptor</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Mono</span><span class="o">&lt;</span><span class="n">WebGraphQlResponse</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">intercept</span><span class="p">(</span><span class="n">WebGraphQlRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">Chain</span><span class="w"> </span><span class="n">chain</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">requestId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UUID</span><span class="p">.</span><span class="na">randomUUID</span><span class="p">().</span><span class="na">toString</span><span class="p">().</span><span class="na">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">operationName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">getOperationName</span><span class="p">();</span>
<span class="w">        </span><span class="n">Instant</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instant</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>

<span class="w">        </span><span class="n">MDC</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;requestId&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">requestId</span><span class="p">);</span>
<span class="w">        </span><span class="n">MDC</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;operationName&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">operationName</span><span class="p">);</span>

<span class="w">        </span><span class="n">logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="s">&quot;GraphQL リクエスト開始: operation={}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">operationName</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">chain</span><span class="p">.</span><span class="na">next</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">doOnNext</span><span class="p">(</span><span class="n">response</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">Duration</span><span class="w"> </span><span class="n">duration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Duration</span><span class="p">.</span><span class="na">between</span><span class="p">(</span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="n">Instant</span><span class="p">.</span><span class="na">now</span><span class="p">());</span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="na">getErrors</span><span class="p">().</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="s">&quot;GraphQL リクエスト完了: operation={}, duration={}ms&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="n">operationName</span><span class="p">,</span><span class="w"> </span><span class="n">duration</span><span class="p">.</span><span class="na">toMillis</span><span class="p">());</span>
<span class="w">                </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">logger</span><span class="p">.</span><span class="na">warn</span><span class="p">(</span><span class="s">&quot;GraphQL リクエスト完了（エラーあり）: operation={}, duration={}ms, errors={}&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="n">operationName</span><span class="p">,</span><span class="w"> </span><span class="n">duration</span><span class="p">.</span><span class="na">toMillis</span><span class="p">(),</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="na">getErrors</span><span class="p">().</span><span class="na">size</span><span class="p">());</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">})</span>
<span class="w">            </span><span class="p">.</span><span class="na">doFinally</span><span class="p">(</span><span class="n">signalType</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">MDC</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="s">&quot;requestId&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="n">MDC</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="s">&quot;operationName&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="_6">メトリクス収集<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: GraphQLMetricsCollector.java</summary>

<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GraphQLMetricsCollector</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">WebGraphQlInterceptor</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Timer</span><span class="w"> </span><span class="n">queryTimer</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Timer</span><span class="w"> </span><span class="n">mutationTimer</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Counter</span><span class="w"> </span><span class="n">errorCounter</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Counter</span><span class="w"> </span><span class="n">successCounter</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">GraphQLMetricsCollector</span><span class="p">(</span><span class="n">MeterRegistry</span><span class="w"> </span><span class="n">registry</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">queryTimer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Timer</span><span class="p">.</span><span class="na">builder</span><span class="p">(</span><span class="s">&quot;graphql.query.duration&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">description</span><span class="p">(</span><span class="s">&quot;GraphQL クエリ実行時間&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">registry</span><span class="p">);</span>

<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">mutationTimer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Timer</span><span class="p">.</span><span class="na">builder</span><span class="p">(</span><span class="s">&quot;graphql.mutation.duration&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">description</span><span class="p">(</span><span class="s">&quot;GraphQL ミューテーション実行時間&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">registry</span><span class="p">);</span>

<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">errorCounter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Counter</span><span class="p">.</span><span class="na">builder</span><span class="p">(</span><span class="s">&quot;graphql.errors&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">description</span><span class="p">(</span><span class="s">&quot;GraphQL エラー数&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">registry</span><span class="p">);</span>

<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">successCounter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Counter</span><span class="p">.</span><span class="na">builder</span><span class="p">(</span><span class="s">&quot;graphql.success&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">description</span><span class="p">(</span><span class="s">&quot;GraphQL 成功数&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">registry</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Mono</span><span class="o">&lt;</span><span class="n">WebGraphQlResponse</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">intercept</span><span class="p">(</span><span class="n">WebGraphQlRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">Chain</span><span class="w"> </span><span class="n">chain</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Timer</span><span class="w"> </span><span class="n">timer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">getDocument</span><span class="p">().</span><span class="na">contains</span><span class="p">(</span><span class="s">&quot;mutation&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="o">?</span><span class="w"> </span><span class="n">mutationTimer</span>
<span class="w">            </span><span class="p">:</span><span class="w"> </span><span class="n">queryTimer</span><span class="p">;</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Mono</span><span class="p">.</span><span class="na">fromSupplier</span><span class="p">(</span><span class="n">timer</span><span class="p">::</span><span class="n">start</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">flatMap</span><span class="p">(</span><span class="n">sample</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">chain</span><span class="p">.</span><span class="na">next</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">doOnNext</span><span class="p">(</span><span class="n">response</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">sample</span><span class="p">.</span><span class="na">stop</span><span class="p">(</span><span class="n">timer</span><span class="p">);</span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="na">getErrors</span><span class="p">().</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">successCounter</span><span class="p">.</span><span class="na">increment</span><span class="p">();</span>
<span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">errorCounter</span><span class="p">.</span><span class="na">increment</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="na">getErrors</span><span class="p">().</span><span class="na">size</span><span class="p">());</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">})</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="part-10-e">Part 10-E のまとめ<a class="headerlink" href="#part-10-e" title="Permanent link">&para;</a></h2>
<h3 id="_7">実装した機能一覧<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>章</th>
<th>内容</th>
<th>主要技術</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>第14章: 基礎</strong></td>
<td>GraphQL サーバーの基礎</td>
<td>Spring for GraphQL, スキーマ駆動開発</td>
</tr>
<tr>
<td><strong>第15章: マスタ API</strong></td>
<td>N+1 問題対策、ページネーション</td>
<td>DataLoader, Connection パターン</td>
</tr>
<tr>
<td><strong>第16章: トランザクション API</strong></td>
<td>リアルタイム通知、非同期処理</td>
<td>Subscription, Reactor Sinks</td>
</tr>
<tr>
<td><strong>第17章: エラーハンドリング</strong></td>
<td>バリデーション、セキュリティ</td>
<td>ディレクティブ, Jakarta Validation</td>
</tr>
</tbody>
</table>
<h3 id="graphql_1">実装した GraphQL 操作<a class="headerlink" href="#graphql_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Query</strong>: 商品・取引先・倉庫・受注・出荷・請求の取得</li>
<li><strong>Mutation</strong>: CRUD 操作、受注確定、出荷確定、締処理</li>
<li><strong>Subscription</strong>: 受注ステータス変更、出荷進捗、在庫変動、締処理進捗</li>
</ul>
<h3 id="_8">アーキテクチャの特徴<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9Ijk1N3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NzI0cHg7aGVpZ2h0Ojk1N3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDcyNCA5NTciIHdpZHRoPSI3MjRweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjwhLS1jbHVzdGVyIEFkYXB0ZXIgTGF5ZXIgKGluKS0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJBZGFwdGVyIExheWVyIC5pbi4iIGRhdGEtc291cmNlLWxpbmU9IjEiIGlkPSJlbnQwMDAyIj48cGF0aCBkPSJNOC41LDYgTDE1NC4xMjExLDYgQTMuNzUsMy43NSAwIDAgMSAxNTYuNjIxMSw4LjUgTDE2My42MjExLDI4LjI5NjkgTDQyOC41LDI4LjI5NjkgQTIuNSwyLjUgMCAwIDEgNDMxLDMwLjc5NjkgTDQzMSw0NTkuNjggQTIuNSwyLjUgMCAwIDEgNDI4LjUsNDYyLjE4IEw4LjUsNDYyLjE4IEEyLjUsMi41IDAgMCAxIDYsNDU5LjY4IEw2LDguNSBBMi41LDIuNSAwIDAgMSA4LjUsNiIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNiIgeDI9IjE2My42MjExIiB5MT0iMjguMjk2OSIgeTI9IjI4LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ0LjYyMTEiIHg9IjEwIiB5PSIyMC45OTUxIj5BZGFwdGVyIExheWVyIChpbik8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIEFwcGxpY2F0aW9uIExheWVyLS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkFwcGxpY2F0aW9uIExheWVyIiBkYXRhLXNvdXJjZS1saW5lPSIxMCIgaWQ9ImVudDAwMDkiPjxwYXRoIGQ9Ik00NTcuNSwzNjQuODkgTDU5Ni41NjU0LDM2NC44OSBBMy43NSwzLjc1IDAgMCAxIDU5OS4wNjU0LDM2Ny4zOSBMNjA2LjA2NTQsMzg3LjE4NjkgTDY4OS41LDM4Ny4xODY5IEEyLjUsMi41IDAgMCAxIDY5MiwzODkuNjg2OSBMNjkyLDYwNS45OCBBMi41LDIuNSAwIDAgMSA2ODkuNSw2MDguNDggTDQ1Ny41LDYwOC40OCBBMi41LDIuNSAwIDAgMSA0NTUsNjA1Ljk4IEw0NTUsMzY3LjM5IEEyLjUsMi41IDAgMCAxIDQ1Ny41LDM2NC44OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNDU1IiB4Mj0iNjA2LjA2NTQiIHkxPSIzODcuMTg2OSIgeTI9IjM4Ny4xODY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzOC4wNjU0IiB4PSI0NTkiIHk9IjM3OS44ODUxIj5BcHBsaWNhdGlvbiBMYXllcjwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgRG9tYWluIExheWVyLS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkRvbWFpbiBMYXllciIgZGF0YS1zb3VyY2UtbGluZT0iMTYiIGlkPSJlbnQwMDEzIj48cGF0aCBkPSJNMzQuNSw1MTEuMTggTDE0NC4zMDc2LDUxMS4xOCBBMy43NSwzLjc1IDAgMCAxIDE0Ni44MDc2LDUxMy42OCBMMTUzLjgwNzYsNTMzLjQ3NjkgTDQyOC41LDUzMy40NzY5IEEyLjUsMi41IDAgMCAxIDQzMSw1MzUuOTc2OSBMNDMxLDczNi4yOCBBMi41LDIuNSAwIDAgMSA0MjguNSw3MzguNzggTDM0LjUsNzM4Ljc4IEEyLjUsMi41IDAgMCAxIDMyLDczNi4yOCBMMzIsNTEzLjY4IEEyLjUsMi41IDAgMCAxIDM0LjUsNTExLjE4IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIzMiIgeDI9IjE1My44MDc2IiB5MT0iNTMzLjQ3NjkiIHkyPSI1MzMuNDc2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDguODA3NiIgeD0iMzYiIHk9IjUyNi4xNzUxIj5Eb21haW4gTGF5ZXI8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIEFkYXB0ZXIgTGF5ZXIgKG91dCktLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iQWRhcHRlciBMYXllciAub3V0LiIgZGF0YS1zb3VyY2UtbGluZT0iMjIiIGlkPSJlbnQwMDE3Ij48cGF0aCBkPSJNNDU3LjUsNjQxLjQ4IEw2MTQuNjMyOCw2NDEuNDggQTMuNzUsMy43NSAwIDAgMSA2MTcuMTMyOCw2NDMuOTggTDYyNC4xMzI4LDY2My43NzY5IEw3MTQuNSw2NjMuNzc2OSBBMi41LDIuNSAwIDAgMSA3MTcsNjY2LjI3NjkgTDcxNyw4NDUuNTcgQTIuNSwyLjUgMCAwIDEgNzE0LjUsODQ4LjA3IEw0NTcuNSw4NDguMDcgQTIuNSwyLjUgMCAwIDEgNDU1LDg0NS41NyBMNDU1LDY0My45OCBBMi41LDIuNSAwIDAgMSA0NTcuNSw2NDEuNDgiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjQ1NSIgeDI9IjYyNC4xMzI4IiB5MT0iNjYzLjc3NjkiIHkyPSI2NjMuNzc2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTYuMTMyOCIgeD0iNDU5IiB5PSI2NTYuNDc1MSI+QWRhcHRlciBMYXllciAob3V0KTwvdGV4dD48L2c+PCEtLWVudGl0eSByZXNvbHZlci0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkFkYXB0ZXIgTGF5ZXIgLmluLi5yZXNvbHZlciIgZGF0YS1zb3VyY2UtbGluZT0iMiIgaWQ9ImVudDAwMDMiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTY2Ljk1NyIgeD0iMjM5LjUyIiB5PSIyNTUuNTkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNSIgeD0iMzg2LjQ3NyIgeT0iMjYwLjU5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSIzODQuNDc3IiB5PSIyNjIuNTkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjM4NC40NzciIHk9IjI2Ni41OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNi45NTciIHg9IjI1NC41MiIgeT0iMjg4LjU4NTEiPkdyYXBoUUwgUmVzb2x2ZXI8L3RleHQ+PC9nPjwhLS1lbnRpdHkgZXhjZXB0aW9uX3Jlc29sdmVyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iQWRhcHRlciBMYXllciAuaW4uLmV4Y2VwdGlvbl9yZXNvbHZlciIgZGF0YS1zb3VyY2UtbGluZT0iMyIgaWQ9ImVudDAwMDQiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTc0LjMzOTgiIHg9IjIxLjgzIiB5PSIzOTkuODkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNSIgeD0iMTc2LjE2OTgiIHk9IjQwNC44OSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMTc0LjE2OTgiIHk9IjQwNi44OSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMTc0LjE2OTgiIHk9IjQxMC44OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzNC4zMzk4IiB4PSIzNi44MyIgeT0iNDMyLjg4NTEiPkV4Y2VwdGlvbiBSZXNvbHZlcjwvdGV4dD48L2c+PCEtLWVudGl0eSB2YWxpZGF0aW9uLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iQWRhcHRlciBMYXllciAuaW4uLnZhbGlkYXRpb24iIGRhdGEtc291cmNlLWxpbmU9IjQiIGlkPSJlbnQwMDA1Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE3Ny42ODI2IiB4PSIzMy4xNiIgeT0iMTQ4LjI5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTUiIHg9IjE5MC44NDI2IiB5PSIxNTMuMjkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjE4OC44NDI2IiB5PSIxNTUuMjkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjE4OC44NDI2IiB5PSIxNTkuMjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzcuNjgyNiIgeD0iNDguMTYiIHk9IjE4MS4yODUxIj5WYWxpZGF0aW9uIERpcmVjdGl2ZTwvdGV4dD48L2c+PCEtLWVudGl0eSBkYXRhbG9hZGVyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iQWRhcHRlciBMYXllciAuaW4uLmRhdGFsb2FkZXIiIGRhdGEtc291cmNlLWxpbmU9IjUiIGlkPSJlbnQwMDA2Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE4NC4wMTk1IiB4PSIyMzAuOTkiIHk9IjM5OS44OSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1IiB4PSIzOTUuMDA5NSIgeT0iNDA0Ljg5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSIzOTMuMDA5NSIgeT0iNDA2Ljg5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSIzOTMuMDA5NSIgeT0iNDEwLjg5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ0LjAxOTUiIHg9IjI0NS45OSIgeT0iNDMyLjg4NTEiPkRhdGFMb2FkZXIgUmVnaXN0cnk8L3RleHQ+PC9nPjwhLS1lbnRpdHkgbG9nZ2luZy0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkFkYXB0ZXIgTGF5ZXIgLmluLi5sb2dnaW5nIiBkYXRhLXNvdXJjZS1saW5lPSI2IiBpZD0iZW50MDAwNyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0Ni4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNzguMTA2NCIgeD0iMjM1Ljk1IiB5PSI0MSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1IiB4PSIzOTQuMDU2NCIgeT0iNDYiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjM5Mi4wNTY0IiB5PSI0OCIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMzkyLjA1NjQiIHk9IjUyIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM4LjEwNjQiIHg9IjI1MC45NSIgeT0iNzMuOTk1MSI+TG9nZ2luZyBJbnRlcmNlcHRvcjwvdGV4dD48L2c+PCEtLWVudGl0eSBtZXRyaWNzLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iQWRhcHRlciBMYXllciAuaW4uLm1ldHJpY3MiIGRhdGEtc291cmNlLWxpbmU9IjciIGlkPSJlbnQwMDA4Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1Ny41MDk4IiB4PSIyNDYuMjUiIHk9IjE0OC4yOSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1IiB4PSIzODMuNzU5OCIgeT0iMTUzLjI5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSIzODEuNzU5OCIgeT0iMTU1LjI5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSIzODEuNzU5OCIgeT0iMTU5LjI5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE3LjUwOTgiIHg9IjI2MS4yNSIgeT0iMTgxLjI4NTEiPk1ldHJpY3MgQ29sbGVjdG9yPC90ZXh0PjwvZz48IS0tZW50aXR5IHVzZWNhc2UtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJBcHBsaWNhdGlvbiBMYXllci51c2VjYXNlIiBkYXRhLXNvdXJjZS1saW5lPSIxMSIgaWQ9ImVudDAwMTAiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTAwLjQxNiIgeD0iNDcwLjc5IiB5PSIzOTkuODkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNSIgeD0iNTUxLjIwNiIgeT0iNDA0Ljg5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSI1NDkuMjA2IiB5PSI0MDYuODkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjU0OS4yMDYiIHk9IjQxMC44OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYwLjQxNiIgeD0iNDg1Ljc5IiB5PSI0MzIuODg1MSI+VXNlQ2FzZTwvdGV4dD48L2c+PCEtLWVudGl0eSBkdG8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJBcHBsaWNhdGlvbiBMYXllci5kdG8iIGRhdGEtc291cmNlLWxpbmU9IjEyIiBpZD0iZW50MDAxMSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0Ni4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI3MC4zNTE2IiB4PSI2MDUuODIiIHk9IjM5OS44OSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1IiB4PSI2NTYuMTcxNiIgeT0iNDA0Ljg5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSI2NTQuMTcxNiIgeT0iNDA2Ljg5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSI2NTQuMTcxNiIgeT0iNDEwLjg5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzAuMzUxNiIgeD0iNjIwLjgyIiB5PSI0MzIuODg1MSI+RFRPPC90ZXh0PjwvZz48IS0tZW50aXR5IGFwcF9leGNlcHRpb24tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJBcHBsaWNhdGlvbiBMYXllci5hcHBfZXhjZXB0aW9uIiBkYXRhLXNvdXJjZS1saW5lPSIxMyIgaWQ9ImVudDAwMTIiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTA5LjE0NTUiIHg9IjQ3MS40MyIgeT0iNTQ2LjE4Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTUiIHg9IjU2MC41NzU1IiB5PSI1NTEuMTgiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjU1OC41NzU1IiB5PSI1NTMuMTgiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjU1OC41NzU1IiB5PSI1NTcuMTgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS4xNDU1IiB4PSI0ODYuNDMiIHk9IjU3OS4xNzUxIj5FeGNlcHRpb248L3RleHQ+PC9nPjwhLS1lbnRpdHkgZG9tYWluLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iRG9tYWluIExheWVyLmRvbWFpbiIgZGF0YS1zb3VyY2UtbGluZT0iMTciIGlkPSJlbnQwMDE0Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE0MC44MDk2IiB4PSI1Mi42IiB5PSI2NzYuNDgiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNSIgeD0iMTczLjQwOTYiIHk9IjY4MS40OCIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMTcxLjQwOTYiIHk9IjY4My40OCIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMTcxLjQwOTYiIHk9IjY4Ny40OCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMC44MDk2IiB4PSI2Ny42IiB5PSI3MDkuNDc1MSI+RG9tYWluIE1vZGVsPC90ZXh0PjwvZz48IS0tZW50aXR5IGRvbWFpbl9zZXJ2aWNlLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iRG9tYWluIExheWVyLmRvbWFpbl9zZXJ2aWNlIiBkYXRhLXNvdXJjZS1saW5lPSIxOCIgaWQ9ImVudDAwMTUiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTUwLjUxNjYiIHg9IjQ3Ljc0IiB5PSI1NDYuMTgiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNSIgeD0iMTc4LjI1NjYiIHk9IjU1MS4xOCIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMTc2LjI1NjYiIHk9IjU1My4xOCIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMTc2LjI1NjYiIHk9IjU1Ny4xOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMC41MTY2IiB4PSI2Mi43NCIgeT0iNTc5LjE3NTEiPkRvbWFpbiBTZXJ2aWNlPC90ZXh0PjwvZz48IS0tZW50aXR5IHJlcG9faW50ZXJmYWNlLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iRG9tYWluIExheWVyLnJlcG9faW50ZXJmYWNlIiBkYXRhLXNvdXJjZS1saW5lPSIxOSIgaWQ9ImVudDAwMTYiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTgyLjIwMTIiIHg9IjIzMi45IiB5PSI1NDYuMTgiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNSIgeD0iMzk1LjEwMTIiIHk9IjU1MS4xOCIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMzkzLjEwMTIiIHk9IjU1My4xOCIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMzkzLjEwMTIiIHk9IjU1Ny4xOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0Mi4yMDEyIiB4PSIyNDcuOSIgeT0iNTc5LjE3NTEiPlJlcG9zaXRvcnkgSW50ZXJmYWNlPC90ZXh0PjwvZz48IS0tZW50aXR5IHJlcG9faW1wbC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkFkYXB0ZXIgTGF5ZXIgLm91dC4ucmVwb19pbXBsIiBkYXRhLXNvdXJjZS1saW5lPSIyMyIgaWQ9ImVudDAwMTgiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMjMwLjY4ODUiIHg9IjQ3MC42NiIgeT0iNjc2LjQ4Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTUiIHg9IjY4MS4zNDg1IiB5PSI2ODEuNDgiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjY3OS4zNDg1IiB5PSI2ODMuNDgiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjY3OS4zNDg1IiB5PSI2ODcuNDgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTAuNjg4NSIgeD0iNDg1LjY2IiB5PSI3MDkuNDc1MSI+UmVwb3NpdG9yeSBJbXBsZW1lbnRhdGlvbjwvdGV4dD48L2c+PCEtLWVudGl0eSBtYXBwZXItLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJBZGFwdGVyIExheWVyIC5vdXQuLm1hcHBlciIgZGF0YS1zb3VyY2UtbGluZT0iMjQiIGlkPSJlbnQwMDE5Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1Mi40NzE3IiB4PSI1MDkuNzYiIHk9Ijc4NS43OCIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1IiB4PSI2NDIuMjMxNyIgeT0iNzkwLjc4Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSI2NDAuMjMxNyIgeT0iNzkyLjc4Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSI2NDAuMjMxNyIgeT0iNzk2Ljc4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTEyLjQ3MTciIHg9IjUyNC43NiIgeT0iODE4Ljc3NTEiPk15QmF0aXMgTWFwcGVyPC90ZXh0PjwvZz48IS0tZW50aXR5IGRiLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iZGIiIGRhdGEtc291cmNlLWxpbmU9IjI3IiBpZD0iZW50MDAyMCI+PHBhdGggZD0iTTUzNS42Miw5MDUuMDcgQzUzNS42Miw4OTUuMDcgNTg1Ljk5NjUsODk1LjA3IDU4NS45OTY1LDg5NS4wNyBDNTg1Ljk5NjUsODk1LjA3IDYzNi4zNzI5LDg5NS4wNyA2MzYuMzcyOSw5MDUuMDcgTDYzNi4zNzI5LDkzMC4zNjY5IEM2MzYuMzcyOSw5NDAuMzY2OSA1ODUuOTk2NSw5NDAuMzY2OSA1ODUuOTk2NSw5NDAuMzY2OSBDNTg1Ljk5NjUsOTQwLjM2NjkgNTM1LjYyLDk0MC4zNjY5IDUzNS42Miw5MzAuMzY2OSBMNTM1LjYyLDkwNS4wNyIgZmlsbD0iI0YxRjFGMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTUzNS42Miw5MDUuMDcgQzUzNS42Miw5MTUuMDcgNTg1Ljk5NjUsOTE1LjA3IDU4NS45OTY1LDkxNS4wNyBDNTg1Ljk5NjUsOTE1LjA3IDYzNi4zNzI5LDkxNS4wNyA2MzYuMzcyOSw5MDUuMDciIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgwLjc1MjkiIHg9IjU0NS42MiIgeT0iOTMyLjA2NTEiPlBvc3RncmVTUUw8L3RleHQ+PC9nPjwhLS1saW5rIGxvZ2dpbmcgdG8gbWV0cmljcy0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA3IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA4IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMzAiIGlkPSJsbmsyMSI+PHBhdGggZD0iTTMyNSw4Ny43MyBDMzI1LDEwNS41IDMyNSwxMjQuMTMgMzI1LDE0MS44OSIgZmlsbD0ibm9uZSIgaWQ9ImxvZ2dpbmctdG8tbWV0cmljcyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzI1LDE0Ny44OSwzMjksMTM4Ljg5LDMyNSwxNDIuODksMzIxLDEzOC44OSwzMjUsMTQ3Ljg5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIG1ldHJpY3MgdG8gcmVzb2x2ZXItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwOCIgZGF0YS1lbnRpdHktMj0iZW50MDAwMyIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjMxIiBpZD0ibG5rMjIiPjxwYXRoIGQ9Ik0zMjQuNTcsMTk1LjAzIEMzMjQuMjMsMjEyLjggMzIzLjg4NDgsMjMxLjQzMTEgMzIzLjU0NDgsMjQ5LjE5MTEiIGZpbGw9Im5vbmUiIGlkPSJtZXRyaWNzLXRvLXJlc29sdmVyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzMjMuNDMsMjU1LjE5LDMyNy42MDE1LDI0Ni4yNjgyLDMyMy41MjU3LDI1MC4xOTA5LDMxOS42MDMsMjQ2LjExNTEsMzIzLjQzLDI1NS4xOSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayB2YWxpZGF0aW9uIHRvIHJlc29sdmVyLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDUiIGRhdGEtZW50aXR5LTI9ImVudDAwMDMiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIzNCIgaWQ9ImxuazIzIj48cGF0aCBkPSJNMTY1LjEyLDE5NS4wMyBDMTk5LjAzLDIxMi44IDI0MC43NDU1LDIzNC42NDUgMjc0LjYzNTUsMjUyLjQwNSIgZmlsbD0ibm9uZSIgaWQ9InZhbGlkYXRpb24tdG8tcmVzb2x2ZXIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI3OS45NSwyNTUuMTksMjczLjgzNSwyNDcuNDY5NSwyNzUuNTIxMywyNTIuODY5MSwyNzAuMTIxNiwyNTQuNTU1NCwyNzkuOTUsMjU1LjE5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIHJlc29sdmVyIHRvIHVzZWNhc2UtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMyIgZGF0YS1lbnRpdHktMj0iZW50MDAxMCIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjM3IiBpZD0ibG5rMjQiPjxwYXRoIGQ9Ik0zNTQuNywzMDIuMyBDMzc2LjI0LDMxNy42NiA0MDUuMzcsMzM4LjQ2IDQzMSwzNTYuODkgQzQ1MC43MywzNzEuMDcgNDY3Ljk4MTksMzgzLjU1ODggNDg1LjM1MTksMzk2LjE0ODgiIGZpbGw9Im5vbmUiIGlkPSJyZXNvbHZlci10by11c2VjYXNlIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0OTAuMjEsMzk5LjY3LDQ4NS4yNzAzLDM5MS4xNDk1LDQ4Ni4xNjE2LDM5Ni43MzU3LDQ4MC41NzU0LDM5Ny42MjY5LDQ5MC4yMSwzOTkuNjciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgcmVzb2x2ZXIgdG8gZGF0YWxvYWRlci0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAzIiBkYXRhLWVudGl0eS0yPSJlbnQwMDA2IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMzgiIGlkPSJsbmsyNSI+PHBhdGggZD0iTTMyMywzMDIuMjggQzMyMywzMjguOTMgMzIzLDM2Ni45OSAzMjMsMzkzLjU5IiBmaWxsPSJub25lIiBpZD0icmVzb2x2ZXItdG8tZGF0YWxvYWRlciIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzIzLDM5OS41OSwzMjcsMzkwLjU5LDMyMywzOTQuNTksMzE5LDM5MC41OSwzMjMsMzk5LjU5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIHVzZWNhc2UgdG8gZG9tYWluX3NlcnZpY2UtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAxMCIgZGF0YS1lbnRpdHktMj0iZW50MDAxNSIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjM5IiBpZD0ibG5rMjYiPjxwYXRoIGQ9Ik00ODMuNjMsNDQ2LjYyIEM0NjcuODgsNDU1LjIyIDQ0OS4wNCw0NjQuMzUgNDMxLDQ3MC4xOCBDMzM4LjYsNTAwLjA2IDMwNS4wNSw0NjYuODEgMjE1LDUwMy4xOCBDMTkwLjE0LDUxMy4yMiAxNzAuMTU3NSw1MjcuMzQ4OCAxNTIuNjU3NSw1NDEuODY4OCIgZmlsbD0ibm9uZSIgaWQ9InVzZWNhc2UtdG8tZG9tYWluX3NlcnZpY2UiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjE0OC4wNCw1NDUuNywxNTcuNTIwNSw1NDMuMDMxNSwxNTEuODg3OSw1NDIuNTA3MywxNTIuNDEyMSw1MzYuODc0OCwxNDguMDQsNTQ1LjciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgdXNlY2FzZSB0byByZXBvX2ludGVyZmFjZS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDEwIiBkYXRhLWVudGl0eS0yPSJlbnQwMDE2IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iNDAiIGlkPSJsbmsyNyI+PHBhdGggZD0iTTQ5MC4yMiw0NDYuNTggQzQ1My4zMiw0NzMuNjEgMzk2LjY4MDEsNTE1LjA5NDEgMzU5LjczMDEsNTQyLjE2NDEiIGZpbGw9Im5vbmUiIGlkPSJ1c2VjYXNlLXRvLXJlcG9faW50ZXJmYWNlIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzNTQuODksNTQ1LjcxLDM2NC41MTQxLDU0My42MTc5LDM1OC45MjM0LDU0Mi43NTUxLDM1OS43ODYyLDUzNy4xNjQ0LDM1NC44OSw1NDUuNzEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgZG9tYWluX3NlcnZpY2UgdG8gZG9tYWluLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMTUiIGRhdGEtZW50aXR5LTI9ImVudDAwMTQiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI0MSIgaWQ9ImxuazI4Ij48cGF0aCBkPSJNMTIzLDU5Mi45NyBDMTIzLDYxNi40MiAxMjMsNjQ2Ljg1IDEyMyw2NzAuMjEiIGZpbGw9Im5vbmUiIGlkPSJkb21haW5fc2VydmljZS10by1kb21haW4iIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjEyMyw2NzYuMjEsMTI3LDY2Ny4yMSwxMjMsNjcxLjIxLDExOSw2NjcuMjEsMTIzLDY3Ni4yMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tcmV2ZXJzZSBsaW5rIHJlcG9faW50ZXJmYWNlIHRvIHJlcG9faW1wbC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDE2IiBkYXRhLWVudGl0eS0yPSJlbnQwMDE4IiBkYXRhLWxpbmstdHlwZT0iZXh0ZW5zaW9uIiBkYXRhLXNvdXJjZS1saW5lPSI0MiIgaWQ9ImxuazI5Ij48cGF0aCBkPSJNMzg2LjQwNTUsNjAwLjg4NjggQzQzNC4xNDU1LDYyNC4yNjY4IDQ5Mi4wNSw2NTIuNjIgNTM5Ljc5LDY3NiIgZmlsbD0ibm9uZSIgaWQ9InJlcG9faW50ZXJmYWNlLWJhY2t0by1yZXBvX2ltcGwiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjcsNzsiLz48cG9seWdvbiBmaWxsPSJub25lIiBwb2ludHM9IjM3MC4yNCw1OTIuOTcsMzgzLjc2NjYsNjA2LjI3NTMsMzg5LjA0NDUsNTk1LjQ5ODMsMzcwLjI0LDU5Mi45NyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayByZXBvX2ltcGwgdG8gbWFwcGVyLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMTgiIGRhdGEtZW50aXR5LTI9ImVudDAwMTkiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI0MyIgaWQ9ImxuazMwIj48cGF0aCBkPSJNNTg2LDcyMy4xMiBDNTg2LDc0MS40MyA1ODYsNzYxLjE2IDU4Niw3NzkuNDYiIGZpbGw9Im5vbmUiIGlkPSJyZXBvX2ltcGwtdG8tbWFwcGVyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1ODYsNzg1LjQ2LDU5MCw3NzYuNDYsNTg2LDc4MC40Niw1ODIsNzc2LjQ2LDU4Niw3ODUuNDYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgbWFwcGVyIHRvIGRiLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMTkiIGRhdGEtZW50aXR5LTI9ImVudDAwMjAiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI0NCIgaWQ9ImxuazMxIj48cGF0aCBkPSJNNTg2LDgzMi4zMSBDNTg2LDg1MC42NiA1ODYsODcwLjQ5IDU4Niw4ODguNzMiIGZpbGw9Im5vbmUiIGlkPSJtYXBwZXItdG8tZGIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjU4Niw4OTQuNzMsNTkwLDg4NS43Myw1ODYsODg5LjczLDU4Miw4ODUuNzMsNTg2LDg5NC43MyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayByZXNvbHZlciB0byBleGNlcHRpb25fcmVzb2x2ZXItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMyIgZGF0YS1lbnRpdHktMj0iZW50MDAwNCIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjQ3IiBpZD0ibG5rMzIiPjxwYXRoIGQ9Ik0yODkuMDksMzAyLjI4IEMyNDkuMDIsMzI4LjkzIDE4Ny43NDYxLDM2OS42Njc2IDE0Ny43NDYxLDM5Ni4yNjc2IiBmaWxsPSJub25lIiBpZD0icmVzb2x2ZXItdG8tZXhjZXB0aW9uX3Jlc29sdmVyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTo3LDc7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNDIuNzUsMzk5LjU5LDE1Mi40NTkyLDM5Ny45MzcxLDE0Ni45MTM1LDM5Ni44MjEzLDE0OC4wMjkzLDM5MS4yNzU2LDE0Mi43NSwzOTkuNTkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0NC4wNCIgeD0iMjQyLjQ2IiB5PSIzNDQuOTU2OSI+dGhyb3dzPC90ZXh0PjwvZz48IS0tbGluayB1c2VjYXNlIHRvIGFwcF9leGNlcHRpb24tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAxMCIgZGF0YS1lbnRpdHktMj0iZW50MDAxMiIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjQ4IiBpZD0ibG5rMzMiPjxwYXRoIGQ9Ik01MjEuNzgsNDQ2LjU4IEM1MjIuNzIsNDczLjY5IDUyNC4wODM3LDUxMi45MTM1IDUyNS4wMTM3LDUzOS45NDM1IiBmaWxsPSJub25lIiBpZD0idXNlY2FzZS10by1hcHBfZXhjZXB0aW9uIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTo3LDc7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1MjUuMjIsNTQ1Ljk0LDUyOC45MDgyLDUzNi44MDc4LDUyNS4wNDgxLDU0MC45NDMsNTIwLjkxMjksNTM3LjA4MjksNTI1LjIyLDU0NS45NCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ0LjA0IiB4PSI1MjQuMzUiIHk9IjQ5MS4yNDY5Ij50aHJvd3M8L3RleHQ+PC9nPjwhLS1saW5rIGRhdGFsb2FkZXIgdG8gcmVwb19pbnRlcmZhY2UtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNiIgZGF0YS1lbnRpdHktMj0iZW50MDAxNiIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjUxIiBpZD0ibG5rMzQiPjxwYXRoIGQ9Ik0zMjMuMTYsNDQ2LjU4IEMzMjMuMzQsNDczLjY5IDMyMy42Miw1MTIuOTEwMSAzMjMuOCw1MzkuOTQwMSIgZmlsbD0ibm9uZSIgaWQ9ImRhdGFsb2FkZXItdG8tcmVwb19pbnRlcmZhY2UiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMyMy44NCw1NDUuOTQsMzI3Ljc4LDUzNi45MTM2LDMyMy44MDY3LDU0MC45NDAxLDMxOS43ODAyLDUzNi45NjY4LDMyMy44NCw1NDUuOTQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PD9wbGFudHVtbC1zcmMgUkxEMVFuR241QnhkTHVJemc4VmszbjBmUTVVQUM4anNncnU2TVRCUHZwSU9jT0dhdE5QSDNzeDA3aHBpSFV6MmlJM3F2QzZCLTZUWXlNLU9JTU9wWVVuYmFsZFV6eHd5eHhyNGFFZURnRzZGN1l3OHEyMW5HTFJrVXZVc3pxUnVCSWVGOUg2ZEhtTVVXVTlpMlY4TDlXaEJfV1VMWm95ZzQ5aG9EWVYwNWZ1RnI5VTRxR05udDBjTEs2Y3cxNHpVblcwZzlxSUpXZkU1QXM0NkRMTFFoWnA3bkdkcEUyZUJOalVxaFY2SnJqTlJkU0YzZUlwV2c5bzJiaEhJLTgwcHZpeGZtcXIwcU5rNEgzR2oxQURMQUNlUnp2dlZBM1dXQVhIdGZnMW9VclZQeXdVWDRpcUpzbnVZR2lvWnVxbl9tWGoySy1hVWNGODVpMjNkV0hXdTFoY2E1SUlYa0dlR0FjU1drQUJFcFlmT1ZxcndlZEkxRVRyMmtTNXlnbG5DWHg2Y01lcldxNDJoSUpHSzExdGtVaGJ3djcyNWZ5dmFGenA2UnhqWmtnY1NrRXhXcUpFa1QydFgtQVdPLVQ5RjRCZ0ozV1hSeXk2a2h3dHZQU3FGcjR5QXgtdGpueDdxZ3lWWWZONFlyY29pLU14RFBQVXhfY2REVFFTbXQ5YVQyTF9qLWlnSFJZLV9fVHJ5akVRcERKU2s2TXI5RmNDeHJtbkNSYmFWM3QwLVkzSnFOLWpwUGZBQ1NZOS15NnV5SmplU1R3NGJlUzVYMklBLWR0ei1WeGd6LVg5aTNPTUZuX2l4dFhrLVpfTWZ2RVNnYmpsbmlmaXdLOXBzeUYzR3E4S1Q1bHkxPz48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_9">技術スタック<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>カテゴリ</th>
<th>技術</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>言語</strong></td>
<td>Java 21</td>
</tr>
<tr>
<td><strong>フレームワーク</strong></td>
<td>Spring Boot 4.0, Spring for GraphQL</td>
</tr>
<tr>
<td><strong>リアルタイム</strong></td>
<td>WebSocket, Reactor (Sinks)</td>
</tr>
<tr>
<td><strong>ORM</strong></td>
<td>MyBatis 3.0</td>
</tr>
<tr>
<td><strong>データベース</strong></td>
<td>PostgreSQL 16</td>
</tr>
<tr>
<td><strong>テスト</strong></td>
<td>JUnit 5, spring-graphql-test, TestContainers</td>
</tr>
</tbody>
</table>
<h3 id="api">API 形式の比較と選択基準<a class="headerlink" href="#api" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>観点</th>
<th>REST API</th>
<th>gRPC</th>
<th>GraphQL</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>データ取得</strong></td>
<td>固定レスポンス</td>
<td>固定レスポンス</td>
<td>クライアント指定</td>
</tr>
<tr>
<td><strong>エンドポイント</strong></td>
<td>複数</td>
<td>複数</td>
<td>単一</td>
</tr>
<tr>
<td><strong>Over-fetching</strong></td>
<td>発生しやすい</td>
<td>発生しやすい</td>
<td>防止可能</td>
</tr>
<tr>
<td><strong>Under-fetching</strong></td>
<td>発生しやすい</td>
<td>発生しやすい</td>
<td>防止可能</td>
</tr>
<tr>
<td><strong>リアルタイム</strong></td>
<td>WebSocket 別実装</td>
<td>ストリーミング</td>
<td>Subscription</td>
</tr>
<tr>
<td><strong>N+1 問題</strong></td>
<td>発生しにくい</td>
<td>発生しにくい</td>
<td>DataLoader で解決</td>
</tr>
<tr>
<td><strong>主な用途</strong></td>
<td>汎用 API</td>
<td>マイクロサービス</td>
<td>フロントエンド向け</td>
</tr>
</tbody>
</table>
<h3 id="graphql_2">GraphQL を選択する場面<a class="headerlink" href="#graphql_2" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>複雑なデータ構造</strong>: 関連データを柔軟に取得したい</li>
<li><strong>フロントエンド主導</strong>: クライアントが必要なデータを指定したい</li>
<li><strong>Over-fetching 回避</strong>: 帯域幅の節約が重要</li>
<li><strong>リアルタイム通知</strong>: Subscription による統一的な通知機構が必要</li>
<li><strong>API 統合</strong>: 複数のバックエンドを単一 API で公開したい</li>
</ol>
<p>GraphQL は REST API と比較して、クライアントが必要なデータを柔軟に取得できる点が大きな利点です。特に複雑なデータ構造を持つ販売管理システムでは、DataLoader と Subscription を活用することで、効率的かつリアルタイムな API を提供できます。</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/k2works/practical-database-design" target="_blank" rel="noopener" title="GitHub Repository" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
      
        <script src="../../../docs/assets/js/extra.js"></script>
      
    
  </body>
</html>