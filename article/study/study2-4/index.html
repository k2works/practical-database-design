
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="基幹業務システム（販売管理・財務会計・生産管理）のデータベース設計を体系的に解説">
      
      
        <meta name="author" content="k2works">
      
      
      
        <link rel="prev" href="../study2-3/">
      
      
        <link rel="next" href="../study3-1/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>研究4 GraphQLサービスの実装 - 実践データベース設計：基幹業務システム編</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../docs/mkdocs/assets/css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#4-graphql" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="実践データベース設計：基幹業務システム編" class="md-header__button md-logo" aria-label="実践データベース設計：基幹業務システム編" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            実践データベース設計：基幹業務システム編
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              研究4 GraphQLサービスの実装
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/k2works/practical-database-design" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    practical-database-design
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
  実践データベース設計

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="実践データベース設計：基幹業務システム編" class="md-nav__button md-logo" aria-label="実践データベース設計：基幹業務システム編" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    実践データベース設計：基幹業務システム編
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/k2works/practical-database-design" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    practical-database-design
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    実践データベース設計
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    実践データベース設計
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../techstack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    技術スタック
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    アウトライン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    執筆ワークフロー
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第1部 基幹業務システムの全体像
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    第1部 基幹業務システムの全体像
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第1章 基幹業務システムとは
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第2章 基幹業務システムの業務領域
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第3章 業務フローの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6" >
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第2部 販売管理システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    第2部 販売管理システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第4章 販売管理システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter05/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第5章 マスタ情報の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter06/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第6章 受注・出荷・売上の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter07/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第7章 債権管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter08/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第8章 調達管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter09/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第9章 在庫管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第10章 債務管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第11章 共通処理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第12章 販売管理データ設計（B社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第13章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7" >
        
          
          <label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第3部 財務会計システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    第3部 財務会計システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章 財務会計システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章 勘定科目の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章 仕訳の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章 勘定科目残高の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter19/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章 赤黒とログの設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter20/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章 財務会計データ設計（D社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter21/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_8" >
        
          
          <label class="md-nav__link" for="__nav_1_8" id="__nav_1_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第4部 生産管理システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    第4部 生産管理システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter22/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第22章 生産管理システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter23/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第23章 マスタ情報の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter24/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第24章 生産計画の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter25/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第25章 購買管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter26/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第26章 外注委託管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter27/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第27章 工程管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter28/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第28章 在庫管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第29章 品質管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter30/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第30章 製造原価管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter31/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第31章 生産管理データ設計（E社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter32/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第32章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_9" >
        
          
          <label class="md-nav__link" for="__nav_1_9" id="__nav_1_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第5部 エンタープライズインテグレーション
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    第5部 エンタープライズインテグレーション
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter33.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第33章 システム統合の概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter34.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第34章 メッセージングパターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter35.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第35章 システム間連携パターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter36.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第36章 マスタデータ管理（MDM）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter37.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第37章 イベント駆動アーキテクチャ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter38.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第38章 API設計とサービス連携
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter39.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第39章 データ連携の実装パターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_10" checked>
        
          
          <label class="md-nav__link" for="__nav_1_10" id="__nav_1_10_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 販売管理システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_10_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 販売管理システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study2-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study2-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study2-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        はじめに
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#14graphql" class="md-nav__link">
    <span class="md-ellipsis">
      
        第14章：GraphQL サーバーの基礎
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第14章：GraphQL サーバーの基礎">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#141-graphql" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.1 GraphQL とは
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#142-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.2 3つの操作タイプ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#143-graphql" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.3 GraphQL におけるヘキサゴナルアーキテクチャ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#144" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.4 ディレクトリ構成
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#145" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.5 技術スタックの追加
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="14.5 技術スタックの追加">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#buildgradlekts" class="md-nav__link">
    <span class="md-ellipsis">
      
        build.gradle.kts（差分）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#applicationyml" class="md-nav__link">
    <span class="md-ellipsis">
      
        application.yml（差分）
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#146-graphql" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.6 GraphQL 設定クラス
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#147-graphql" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.7 GraphQL スキーマ定義
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="14.7 GraphQL スキーマ定義">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#srcmainresourcesgraphqlschemagraphqls" class="md-nav__link">
    <span class="md-ellipsis">
      
        src/main/resources/graphql/schema.graphqls
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#srcmainresourcesgraphqlproductgraphqls" class="md-nav__link">
    <span class="md-ellipsis">
      
        src/main/resources/graphql/product.graphqls
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#srcmainresourcesgraphqlordergraphqls" class="md-nav__link">
    <span class="md-ellipsis">
      
        src/main/resources/graphql/order.graphqls
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#148" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.8 基本的なリゾルバの実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="14.8 基本的なリゾルバの実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#query" class="md-nav__link">
    <span class="md-ellipsis">
      
        Query リゾルバ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connection-dto" class="md-nav__link">
    <span class="md-ellipsis">
      
        Connection DTO（ページネーション）
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#149-spring-for-graphql" class="md-nav__link">
    <span class="md-ellipsis">
      
        14.9 Spring for GraphQL の統合テスト
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#15-api" class="md-nav__link">
    <span class="md-ellipsis">
      
        第15章：マスタ API の実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第15章：マスタ API の実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#151-n1" class="md-nav__link">
    <span class="md-ellipsis">
      
        15.1 N+1 問題とは
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#152-dataloader" class="md-nav__link">
    <span class="md-ellipsis">
      
        15.2 DataLoader による解決
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#153-dataloader" class="md-nav__link">
    <span class="md-ellipsis">
      
        15.3 DataLoader の実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="15.3 DataLoader の実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dataloader" class="md-nav__link">
    <span class="md-ellipsis">
      
        在庫 DataLoader
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dataloader_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        取引先 DataLoader
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#154-dataloader" class="md-nav__link">
    <span class="md-ellipsis">
      
        15.4 DataLoader の登録
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#155-dataloader" class="md-nav__link">
    <span class="md-ellipsis">
      
        15.5 商品リゾルバの実装（DataLoader 使用）
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#16-api" class="md-nav__link">
    <span class="md-ellipsis">
      
        第16章：トランザクション API の実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第16章：トランザクション API の実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#161-graphql-subscription" class="md-nav__link">
    <span class="md-ellipsis">
      
        16.1 GraphQL Subscription とは
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#162" class="md-nav__link">
    <span class="md-ellipsis">
      
        16.2 イベントクラスの定義
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#163-reactor-sinks" class="md-nav__link">
    <span class="md-ellipsis">
      
        16.3 イベントパブリッシャー（Reactor Sinks）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#164-subscription" class="md-nav__link">
    <span class="md-ellipsis">
      
        16.4 受注リゾルバの実装（Subscription 対応）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#165-graphiql" class="md-nav__link">
    <span class="md-ellipsis">
      
        16.5 GraphiQL によるトランザクション操作
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#17" class="md-nav__link">
    <span class="md-ellipsis">
      
        第17章：エラーハンドリングとベストプラクティス
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第17章：エラーハンドリングとベストプラクティス">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#171-graphql" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.1 GraphQL エラーハンドリング
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17.1 GraphQL エラーハンドリング">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        カスタム例外クラス
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#172" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.2 例外リゾルバ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#173" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.3 入力バリデーション
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17.3 入力バリデーション">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#graphql" class="md-nav__link">
    <span class="md-ellipsis">
      
        GraphQL ディレクティブによるバリデーション
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jakarta-validation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Jakarta Validation との統合
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#174" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.4 セキュリティ
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17.4 セキュリティ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        認可ディレクティブ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        クエリ深度制限
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#175" class="md-nav__link">
    <span class="md-ellipsis">
      
        17.5 運用のベストプラクティス
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="17.5 運用のベストプラクティス">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        ログインターセプター
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        メトリクス収集
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#part-10-e" class="md-nav__link">
    <span class="md-ellipsis">
      
        Part 10-E のまとめ
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Part 10-E のまとめ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        実装した機能一覧
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graphql_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        実装した GraphQL 操作
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        アーキテクチャの特徴
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        技術スタック
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    <span class="md-ellipsis">
      
        API 形式の比較と選択基準
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graphql_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        GraphQL を選択する場面
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_11" >
        
          
          <label class="md-nav__link" for="__nav_1_11" id="__nav_1_11_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 財務会計システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 財務会計システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study3-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study3-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study3-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study3-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_12" >
        
          
          <label class="md-nav__link" for="__nav_1_12" id="__nav_1_12_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 生産管理システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 生産管理システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study4-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study4-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study4-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study4-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_13" >
        
          
          <label class="md-nav__link" for="__nav_1_13" id="__nav_1_13_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 財務会計システムORM実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 財務会計システムORM実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter14-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章 財務会計システムの全体像【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter15-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章 勘定科目の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter16-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章 仕訳の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter17-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter18-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章 勘定科目残高の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter19-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章 赤黒とログの設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter20-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章 財務会計データ設計（D社事例）【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter21-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章 APIサービスの実装【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_14" >
        
          
          <label class="md-nav__link" for="__nav_1_14" id="__nav_1_14_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    付録
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    付録
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/er-diagrams.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    A 全体ER図
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/table-definitions.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    B テーブル定義一覧
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/glossary.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C 用語集
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_15" >
        
          
          <label class="md-nav__link" for="__nav_1_15" id="__nav_1_15_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    データベース
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    データベース
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../assets/schemaspy-output/sms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SchemaSpy ER図（SMS）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="4-graphql">実践データベース設計：販売管理システム 研究 4 - GraphQL サービスの実装<a class="headerlink" href="#4-graphql" title="Permanent link">&para;</a></h1>
<h2 id="_1">はじめに<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>本研究では、REST API（第10部-A）や gRPC（研究 3）とは異なるアプローチとして、<strong>GraphQL</strong> による販売管理システムを実装します。クライアントが必要なデータを正確に指定できる柔軟なクエリと、リアルタイム更新を実現する Subscription を活用します。</p>
<p>研究 1 で構築したヘキサゴナルアーキテクチャ（ドメイン層・アプリケーション層）はそのまま共有し、<strong>Input Adapter として GraphQL リゾルバ層のみを追加</strong>します。</p>
<hr />
<h2 id="14graphql">第14章：GraphQL サーバーの基礎<a class="headerlink" href="#14graphql" title="Permanent link">&para;</a></h2>
<h3 id="141-graphql">14.1 GraphQL とは<a class="headerlink" href="#141-graphql" title="Permanent link">&para;</a></h3>
<p>GraphQL は Facebook が開発したクエリ言語および実行エンジンです。クライアントが必要なデータの形状を指定でき、Over-fetching（不要なデータの取得）や Under-fetching（必要なデータの不足）を防ぎます。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjgxOHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDQxcHg7aGVpZ2h0OjgxOHB4O2JhY2tncm91bmQ6I0ZFRkVGRTsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQ0MSA4MTgiIHdpZHRoPSI0NDFweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjxyZWN0IGZpbGw9IiNGRUZFRkUiIGhlaWdodD0iODE4IiBzdHlsZT0ic3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNDQxIiB4PSIwIiB5PSIwIi8+PCEtLWNsdXN0ZXIgR3JhcGhRTCBBcmNoaXRlY3R1cmUgKD8/Pz8/Pz8/KS0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLWVudGl0eT0iR3JhcGhRTCBBcmNoaXRlY3R1cmUgLi4uLi4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iNSIgZGF0YS11aWQ9ImVudDAwMDIiIGlkPSJjbHVzdGVyX0dyYXBoUUwgQXJjaGl0ZWN0dXJlIC4uLi4uLi4uLi4iPjxwYXRoIGQ9Ik04LjUsNiBMMzExLjA0NjQsNiBBMy43NSwzLjc1IDAgMCAxIDMxMy41NDY0LDguNSBMMzIwLjU0NjQsMjguMjk2OSBMNDI2LjUsMjguMjk2OSBBMi41LDIuNSAwIDAgMSA0MjksMzAuNzk2OSBMNDI5LDcwNi41NSBBMi41LDIuNSAwIDAgMSA0MjYuNSw3MDkuMDUgTDguNSw3MDkuMDUgQTIuNSwyLjUgMCAwIDEgNiw3MDYuNTUgTDYsOC41IEEyLjUsMi41IDAgMCAxIDguNSw2IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI2IiB4Mj0iMzIwLjU0NjQiIHkxPSIyOC4yOTY5IiB5Mj0iMjguMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMDEuNTQ2NCIgeD0iMTAiIHk9IjIwLjk5NTEiPkdyYXBoUUwgQXJjaGl0ZWN0dXJlICgmIzM2MDA5OyYjMjI3NzA7JiMzMTY0OTsmIzI5NzAyOyYjMTI0NzE7JiMxMjQ3MzsmIzEyNDg2OyYjMTI1MTI7KTwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgQ2xpZW50IFNpZGUtLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1lbnRpdHk9IkNsaWVudCBTaWRlIiBkYXRhLXNvdXJjZS1saW5lPSI3IiBkYXRhLXVpZD0iZW50MDAwMyIgaWQ9ImNsdXN0ZXJfQ2xpZW50IFNpZGUiPjxwYXRoIGQ9Ik05Ny41LDQ5IEwxODMuNzk4OCw0OSBBMy43NSwzLjc1IDAgMCAxIDE4Ni4yOTg4LDUxLjUgTDE5My4yOTg4LDcxLjI5NjkgTDMzNi41LDcxLjI5NjkgQTIuNSwyLjUgMCAwIDEgMzM5LDczLjc5NjkgTDMzOSwyMDQuOTkgQTIuNSwyLjUgMCAwIDEgMzM2LjUsMjA3LjQ5IEw5Ny41LDIwNy40OSBBMi41LDIuNSAwIDAgMSA5NSwyMDQuOTkgTDk1LDUxLjUgQTIuNSwyLjUgMCAwIDEgOTcuNSw0OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iOTUiIHgyPSIxOTMuMjk4OCIgeTE9IjcxLjI5NjkiIHkyPSI3MS4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg1LjI5ODgiIHg9Ijk5IiB5PSI2My45OTUxIj5DbGllbnQgU2lkZTwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgU2VydmVyIFNpZGUtLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1lbnRpdHk9IlNlcnZlciBTaWRlIiBkYXRhLXNvdXJjZS1saW5lPSIxNSIgZGF0YS11aWQ9ImVudDAwMDUiIGlkPSJjbHVzdGVyX1NlcnZlciBTaWRlIj48cGF0aCBkPSJNMzIuNSwyNzEuNDkgTDEyNC43ODAzLDI3MS40OSBBMy43NSwzLjc1IDAgMCAxIDEyNy4yODAzLDI3My45OSBMMTM0LjI4MDMsMjkzLjc4NjkgTDIzNy41LDI5My43ODY5IEEyLjUsMi41IDAgMCAxIDI0MCwyOTYuMjg2OSBMMjQwLDQ0My43NyBBMi41LDIuNSAwIDAgMSAyMzcuNSw0NDYuMjcgTDMyLjUsNDQ2LjI3IEEyLjUsMi41IDAgMCAxIDMwLDQ0My43NyBMMzAsMjczLjk5IEEyLjUsMi41IDAgMCAxIDMyLjUsMjcxLjQ5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIzMCIgeDI9IjEzNC4yODAzIiB5MT0iMjkzLjc4NjkiIHkyPSIyOTMuNzg2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MS4yODAzIiB4PSIzNCIgeT0iMjg2LjQ4NTEiPlNlcnZlciBTaWRlPC90ZXh0PjwvZz48IS0tY2x1c3RlciBTaGFyZWQtLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1lbnRpdHk9IlNoYXJlZCIgZGF0YS1zb3VyY2UtbGluZT0iMjQiIGRhdGEtdWlkPSJlbnQwMDA3IiBpZD0iY2x1c3Rlcl9TaGFyZWQiPjxwYXRoIGQ9Ik0xNDAuNSw1MTAuMjcgTDE5Ny40MTgsNTEwLjI3IEEzLjc1LDMuNzUgMCAwIDEgMTk5LjkxOCw1MTIuNzcgTDIwNi45MTgsNTMyLjU2NjkgTDMyMS41LDUzMi41NjY5IEEyLjUsMi41IDAgMCAxIDMyNCw1MzUuMDY2OSBMMzI0LDY4Mi41NSBBMi41LDIuNSAwIDAgMSAzMjEuNSw2ODUuMDUgTDE0MC41LDY4NS4wNSBBMi41LDIuNSAwIDAgMSAxMzgsNjgyLjU1IEwxMzgsNTEyLjc3IEEyLjUsMi41IDAgMCAxIDE0MC41LDUxMC4yNyIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMTM4IiB4Mj0iMjA2LjkxOCIgeTE9IjUzMi41NjY5IiB5Mj0iNTMyLjU2NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTE4IiB4PSIxNDIiIHk9IjUyNS4yNjUxIj5TaGFyZWQ8L3RleHQ+PC9nPjwhLS1jbGFzcyBjbGllbnQtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iY2xpZW50IiBkYXRhLXNvdXJjZS1saW5lPSI4IiBkYXRhLXVpZD0iZW50MDAwNCIgaWQ9ImVudGl0eV9jbGllbnQiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTA3LjQ4NDQiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjIxMi4zNjEiIHg9IjExMC44MiIgeT0iODQiLz48ZWxsaXBzZSBjeD0iMTQ4LjM3ODMiIGN5PSIxMDUuMjk2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMTUxLjM0NywxMTAuOTM3NSBRMTUwLjc2ODksMTExLjIzNDQgMTUwLjEyODMsMTExLjM3NSBRMTQ5LjQ4NzcsMTExLjUzMTMgMTQ4Ljc4NDUsMTExLjUzMTMgUTE0Ni4yODQ1LDExMS41MzEzIDE0NC45NTY0LDEwOS44OTA2IFExNDMuNjQzOSwxMDguMjM0NCAxNDMuNjQzOSwxMDUuMTA5NCBRMTQzLjY0MzksMTAxLjk4NDQgMTQ0Ljk1NjQsMTAwLjMyODEgUTE0Ni4yODQ1LDk4LjY3MTkgMTQ4Ljc4NDUsOTguNjcxOSBRMTQ5LjQ4NzcsOTguNjcxOSAxNTAuMTI4Myw5OC44MjgxIFExNTAuNzg0NSw5OC45ODQ0IDE1MS4zNDcsOTkuMjgxMyBMMTUxLjM0NywxMDIgUTE1MC43MjIsMTAxLjQyMTkgMTUwLjEyODMsMTAxLjE1NjMgUTE0OS41MzQ1LDEwMC44NzUgMTQ4LjkwOTUsMTAwLjg3NSBRMTQ3LjU2NTgsMTAwLjg3NSAxNDYuODc4MywxMDEuOTUzMSBRMTQ2LjE5MDgsMTAzLjAxNTYgMTQ2LjE5MDgsMTA1LjEwOTQgUTE0Ni4xOTA4LDEwNy4yMDMxIDE0Ni44NzgzLDEwOC4yODEzIFExNDcuNTY1OCwxMDkuMzQzOCAxNDguOTA5NSwxMDkuMzQzOCBRMTQ5LjUzNDUsMTA5LjM0MzggMTUwLjEyODMsMTA5LjA3ODEgUTE1MC43MjIsMTA4Ljc5NjkgMTUxLjM0NywxMDguMjE4OCBMMTUxLjM0NywxMTAuOTM3NSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNi43NDMyIiB4PSIxNzkuMTM1NCIgeT0iMTAxLjk5NTEiPkdyYXBoUUwgQ2xpZW50PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMC4yMzE0IiB4PSIxNjcuMzkxMiIgeT0iMTE4LjI5MiI+KEFwb2xsby9SZWxheS91cnFsKTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxMTEuODIiIHgyPSIzMjIuMTgxIiB5MT0iMTI2LjU5MzgiIHkyPSIxMjYuNTkzOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjExMS44MiIgeDI9IjMyMi4xODEiIHkxPSIxMzQuNTkzOCIgeTI9IjEzNC41OTM4Ii8+PHJlY3QgZmlsbD0iI0YyNEQ1QyIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iMTE4LjgyIiB5PSIxNDUuMjQyMiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMy45MjA3IiB4PSIxMzAuODIiIHk9IjE1MS41ODg5Ij5RdWVyeSAoJiMzNTUwMTsmIzEyNDE1OyYjMjE0NjI7JiMxMjQyNjspPC90ZXh0PjxyZWN0IGZpbGw9IiNGMjRENUMiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjExOC44MiIgeT0iMTYxLjUzOTEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzMuMjExNyIgeD0iMTMwLjgyIiB5PSIxNjcuODg1NyI+TXV0YXRpb24gKCYjMjYzNjA7JiMxMjM2NTsmIzM2Nzk2OyYjMTI0MTU7KTwvdGV4dD48cmVjdCBmaWxsPSIjRjI0RDVDIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIxMTguODIiIHk9IjE3Ny44MzU5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTg2LjM2MSIgeD0iMTMwLjgyIiB5PSIxODQuMTgyNiI+U3Vic2NyaXB0aW9uICgmIzEyNTIyOyYjMTI0NTA7JiMxMjUyMzsmIzEyNDc5OyYjMTI0NTI7JiMxMjUxMjspPC90ZXh0PjwvZz48IS0tY2xhc3Mgc2VydmVyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9InNlcnZlciIgZGF0YS1zb3VyY2UtbGluZT0iMTYiIGRhdGEtdWlkPSJlbnQwMDA2IiBpZD0iZW50aXR5X3NlcnZlciI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMjMuNzgxMyIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTc4LjAxNTYiIHg9IjQ1Ljk5IiB5PSIzMDYuNDkiLz48ZWxsaXBzZSBjeD0iNjAuOTkiIGN5PSIzMjcuNzg2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNNjMuOTU4OCwzMzMuNDI3NSBRNjMuMzgwNiwzMzMuNzI0NCA2Mi43NCwzMzMuODY1IFE2Mi4wOTk0LDMzNC4wMjEzIDYxLjM5NjMsMzM0LjAyMTMgUTU4Ljg5NjMsMzM0LjAyMTMgNTcuNTY4MSwzMzIuMzgwNiBRNTYuMjU1NiwzMzAuNzI0NCA1Ni4yNTU2LDMyNy41OTk0IFE1Ni4yNTU2LDMyNC40NzQ0IDU3LjU2ODEsMzIyLjgxODEgUTU4Ljg5NjMsMzIxLjE2MTkgNjEuMzk2MywzMjEuMTYxOSBRNjIuMDk5NCwzMjEuMTYxOSA2Mi43NCwzMjEuMzE4MSBRNjMuMzk2MywzMjEuNDc0NCA2My45NTg4LDMyMS43NzEzIEw2My45NTg4LDMyNC40OSBRNjMuMzMzOCwzMjMuOTExOSA2Mi43NCwzMjMuNjQ2MyBRNjIuMTQ2MywzMjMuMzY1IDYxLjUyMTMsMzIzLjM2NSBRNjAuMTc3NSwzMjMuMzY1IDU5LjQ5LDMyNC40NDMxIFE1OC44MDI1LDMyNS41MDU2IDU4LjgwMjUsMzI3LjU5OTQgUTU4LjgwMjUsMzI5LjY5MzEgNTkuNDksMzMwLjc3MTMgUTYwLjE3NzUsMzMxLjgzMzggNjEuNTIxMywzMzEuODMzOCBRNjIuMTQ2MywzMzEuODMzOCA2Mi43NCwzMzEuNTY4MSBRNjMuMzMzOCwzMzEuMjg2OSA2My45NTg4LDMzMC43MDg4IEw2My45NTg4LDMzMy40Mjc1IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTEyLjEyMyIgeD0iOTEuOTM2MyIgeT0iMzI0LjQ4NTEiPkdyYXBoUUwgU2VydmVyPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0Ni4wMTU2IiB4PSI3NC45OSIgeT0iMzQwLjc4MiI+KFNwcmluZyBmb3IgR3JhcGhRTCk8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNDYuOTkiIHgyPSIyMjMuMDA1NiIgeTE9IjM0OS4wODM4IiB5Mj0iMzQ5LjA4MzgiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSI1My45OSIgeT0iMzU5LjczMjIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTQuNDU0MSIgeD0iNjUuOTkiIHk9IjM2Ni4wNzg5Ij5Qcm9kdWN0UmVzb2x2ZXI8L3RleHQ+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iNTMuOTkiIHk9IjM3Ni4wMjkxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTEyLjI1MjkiIHg9IjY1Ljk5IiB5PSIzODIuMzc1NyI+UGFydG5lclJlc29sdmVyPC90ZXh0PjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjUzLjk5IiB5PSIzOTIuMzI1OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMC43NzU0IiB4PSI2NS45OSIgeT0iMzk4LjY3MjYiPk9yZGVyUmVzb2x2ZXI8L3RleHQ+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iNTMuOTkiIHk9IjQwOC42MjI4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTEwLjc5NjkiIHg9IjY1Ljk5IiB5PSI0MTQuOTY5NSI+SW52b2ljZVJlc29sdmVyPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjQ2Ljk5IiB4Mj0iMjIzLjAwNTYiIHkxPSI0MjIuMjcxMyIgeTI9IjQyMi4yNzEzIi8+PC9nPjwhLS1jbGFzcyBzY2hlbWEtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0ic2NoZW1hIiBkYXRhLXNvdXJjZS1saW5lPSIyNSIgZGF0YS11aWQ9ImVudDAwMDgiIGlkPSJlbnRpdHlfc2NoZW1hIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEyMy43ODEzIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNTQuNSIgeD0iMTUzLjc1IiB5PSI1NDUuMjciLz48ZWxsaXBzZSBjeD0iMTY4Ljc1IiBjeT0iNTY2LjU2NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTE3MS43MTg4LDU3Mi4yMDc1IFExNzEuMTQwNiw1NzIuNTA0NCAxNzAuNSw1NzIuNjQ1IFExNjkuODU5NCw1NzIuODAxMyAxNjkuMTU2Myw1NzIuODAxMyBRMTY2LjY1NjMsNTcyLjgwMTMgMTY1LjMyODEsNTcxLjE2MDYgUTE2NC4wMTU2LDU2OS41MDQ0IDE2NC4wMTU2LDU2Ni4zNzk0IFExNjQuMDE1Niw1NjMuMjU0NCAxNjUuMzI4MSw1NjEuNTk4MSBRMTY2LjY1NjMsNTU5Ljk0MTkgMTY5LjE1NjMsNTU5Ljk0MTkgUTE2OS44NTk0LDU1OS45NDE5IDE3MC41LDU2MC4wOTgxIFExNzEuMTU2Myw1NjAuMjU0NCAxNzEuNzE4OCw1NjAuNTUxMyBMMTcxLjcxODgsNTYzLjI3IFExNzEuMDkzOCw1NjIuNjkxOSAxNzAuNSw1NjIuNDI2MyBRMTY5LjkwNjMsNTYyLjE0NSAxNjkuMjgxMyw1NjIuMTQ1IFExNjcuOTM3NSw1NjIuMTQ1IDE2Ny4yNSw1NjMuMjIzMSBRMTY2LjU2MjUsNTY0LjI4NTYgMTY2LjU2MjUsNTY2LjM3OTQgUTE2Ni41NjI1LDU2OC40NzMxIDE2Ny4yNSw1NjkuNTUxMyBRMTY3LjkzNzUsNTcwLjYxMzggMTY5LjI4MTMsNTcwLjYxMzggUTE2OS45MDYzLDU3MC42MTM4IDE3MC41LDU3MC4zNDgxIFExNzEuMDkzOCw1NzAuMDY2OSAxNzEuNzE4OCw1NjkuNDg4OCBMMTcxLjcxODgsNTcyLjIwNzUgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuNSIgeD0iMTgyLjc1IiB5PSI1NjMuMjY1MSI+R3JhcGhRTCBTY2hlbWE8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA5LjQ5MTIiIHg9IjE4OS4yNTQ0IiB5PSI1NzkuNTYyIj4oLmdyYXBocWxzIGZpbGVzKTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxNTQuNzUiIHgyPSIzMDcuMjUiIHkxPSI1ODcuODYzOCIgeTI9IjU4Ny44NjM4Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iMTYxLjc1IiB5PSI1OTguNTEyMiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMC4xOTYzIiB4PSIxNzMuNzUiIHk9IjYwNC44NTg5Ij5zY2hlbWEuZ3JhcGhxbHM8L3RleHQ+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iMTYxLjc1IiB5PSI2MTQuODA5MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExOS42NTYzIiB4PSIxNzMuNzUiIHk9IjYyMS4xNTU3Ij5wcm9kdWN0LmdyYXBocWxzPC90ZXh0PjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjE2MS43NSIgeT0iNjMxLjEwNTkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTcuNDU1MSIgeD0iMTczLjc1IiB5PSI2MzcuNDUyNiI+cGFydG5lci5ncmFwaHFsczwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIxNjEuNzUiIHk9IjY0Ny40MDI4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTAzLjA3OTEiIHg9IjE3My43NSIgeT0iNjUzLjc0OTUiPm9yZGVyLmdyYXBocWxzPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjE1NC43NSIgeDI9IjMwNy4yNSIgeTE9IjY2MS4wNTEzIiB5Mj0iNjYxLjA1MTMiLz48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkdNTjEyIiBkYXRhLXNvdXJjZS1saW5lPSIzOSIgZGF0YS11aWQ9ImVudDAwMTMiIGlkPSJlbnRpdHlfR01OMTIiPjxwYXRoIGQ9Ik0xMjkuNSw3NTYuMDUgTDEyOS41LDgxMS40NDg0IEEwLDAgMCAwIDAgMTI5LjUsODExLjQ0ODQgTDMzMi41MDAyLDgxMS40NDg0IEEwLDAgMCAwIDAgMzMyLjUwMDIsODExLjQ0ODQgTDMzMi41MDAyLDc2Ni4wNSBMMzIyLjUwMDIsNzU2LjA1IEwyMzUsNzU2LjA1IEwyMzEsNjY5LjIyIEwyMjcsNzU2LjA1IEwxMjkuNSw3NTYuMDUgQTAsMCAwIDAgMCAxMjkuNSw3NTYuMDUiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0zMjIuNTAwMiw3NTYuMDUgTDMyMi41MDAyLDc2Ni4wNSBMMzMyLjUwMDIsNzY2LjA1IEwzMjIuNTAwMiw3NTYuMDUiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNC4wMDAxIiB4PSIxMzUuNSIgeT0iNzczLjExNjkiPiYjMTI0NzM7JiMxMjQ2MTsmIzEyNTQwOyYjMTI1MTA7JiMzOTM2NjsmIzIxMjA1OyYjMzgyODM7JiMzMDMzMDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgyLjAwMDIiIHg9IjEzNS41IiB5PSI3ODguMjQ5NyI+JiMxMjQ2MzsmIzEyNTIxOyYjMTI0NTI7JiMxMjQ1MDsmIzEyNTMxOyYjMTI0ODg7JiMyMDAyNzsmIzIzNTY2OyYjMTIzOTg7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7JiMyMTQ2MjsmIzI0NDcxOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3Ni42OTg4IiB4PSIxMzUuNSIgeT0iODAzLjM4MjUiPiYjMjI0MTE7JiMyMzQzMzsmIzIwODQwOyYjMTIzOTQ7IEFQSTwvdGV4dD48L2c+PCEtLWxpbmsgY2xpZW50IHRvIHNjaGVtYS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJjbGllbnQiIGRhdGEtZW50aXR5LTI9InNjaGVtYSIgZGF0YS1zb3VyY2UtbGluZT0iMzQiIGRhdGEtdWlkPSJsbms5IiBpZD0ibGlua19jbGllbnRfc2NoZW1hIj48cGF0aCBjb2RlTGluZT0iMzQiIGQ9Ik0yNzEuMjYsMTkxLjYzIEMyNzguNTIsMjAxLjQ5IDI4NC44NywyMTIuMjUgMjg5LDIyMy40OSBDMzMwLjUxLDMzNi40NSAzMTcuNSwzNzcuMzUgMjg5LDQ5NC4yNyBDMjg0LjgsNTExLjQ5IDI4MC4xNjU1LDUyMy42NTk3IDI3Mi4wODU1LDUzOS41Nzk3IiBmaWxsPSJub25lIiBpZD0iY2xpZW50LXRvLXNjaGVtYSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjY5LjM3LDU0NC45MywyNzcuMDEwMSw1MzguNzE0OCwyNzEuNjMyOSw1NDAuNDcxNCwyNjkuODc2NCw1MzUuMDk0MiwyNjkuMzcsNTQ0LjkzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE3LjAwMDEiIHg9IjMxNi40OCIgeT0iMzY1LjQ0NjkiPiYjMTI0NzM7JiMxMjQ2MTsmIzEyNTQwOyYjMTI1MTA7JiMxMjM5NTsmIzIyNTIyOyYjMTIzODk7JiMxMjM1NjsmIzEyMzkwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OC4wMDAxIiB4PSIzMzUuOTgiIHk9IjM4MC41Nzk3Ij4mIzEyNDYzOyYjMTI0NTY7JiMxMjUyMjsmIzEyNDM0OyYjMjcwODM7JiMzMTY4OTs8L3RleHQ+PC9nPjwhLS1saW5rIHNlcnZlciB0byBzY2hlbWEtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0ic2VydmVyIiBkYXRhLWVudGl0eS0yPSJzY2hlbWEiIGRhdGEtc291cmNlLWxpbmU9IjM1IiBkYXRhLXVpZD0ibG5rMTAiIGlkPSJsaW5rX3NlcnZlcl9zY2hlbWEiPjxwYXRoIGNvZGVMaW5lPSIzNSIgZD0iTTE0Ni41Myw0MzAuNSBDMTUxLjM4LDQ1MS4xNSAxNTcuODIsNDc0LjA4IDE2Niw0OTQuMjcgQzE3Mi45MSw1MTEuMzQgMTc5LjA3NTQsNTIzLjc2MDcgMTg4LjMyNTQsNTM5LjgyMDciIGZpbGw9Im5vbmUiIGlkPSJzZXJ2ZXItdG8tc2NoZW1hIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxOTEuMzIsNTQ1LjAyLDE5MC4yOTQzLDUzNS4yMjQ3LDE4OC44MjQ1LDU0MC42ODczLDE4My4zNjE5LDUzOS4yMTc1LDE5MS4zMiw1NDUuMDIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTcuMDAwMSIgeD0iMTY3IiB5PSI0NzUuMzM2OSI+JiMxMjQ3MzsmIzEyNDYxOyYjMTI1NDA7JiMxMjUxMDsmIzEyMzk1OyYjMjI1MjI7JiMxMjM4OTsmIzEyMzU2OyYjMTIzOTA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxLjAwMDEiIHg9IjE4MCIgeT0iNDkwLjQ2OTciPiYjMTI1MjI7JiMxMjQ3ODsmIzEyNTIzOyYjMTI0OTY7JiMxMjQzNDsmIzIzNDU1OyYjMzUwMTM7PC90ZXh0PjwvZz48IS0tbGluayBjbGllbnQgdG8gc2VydmVyLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImNsaWVudCIgZGF0YS1lbnRpdHktMj0ic2VydmVyIiBkYXRhLXNvdXJjZS1saW5lPSIzNiIgZGF0YS11aWQ9ImxuazExIiBpZD0ibGlua19jbGllbnRfc2VydmVyIj48cGF0aCBjb2RlTGluZT0iMzYiIGQ9Ik0xODQuNTU1LDE5Ny4wODA3IEMxNzkuMzk1LDIwNy40NDA3IDE3Ny4wNiwyMTIuOTcgMTczLDIyMy40OSBDMTYyLjc2LDI1MCAxNTUuNzMwOCwyNzQuNDcwNyAxNDkuNDEwOCwzMDAuNDAwNyIgZmlsbD0ibm9uZSIgaWQ9ImNsaWVudC1zZXJ2ZXIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjE4Ny4yMywxOTEuNzEsMTc5LjYzNzEsMTk3Ljk4MjcsMTg1LjAwMDgsMTk2LjE4NTYsMTg2Ljc5OCwyMDEuNTQ5NCwxODcuMjMsMTkxLjcxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNDcuOTksMzA2LjIzLDE1NC4wMDc0LDI5OC40MzMyLDE0OS4xNzQsMzAxLjM3MjIsMTQ2LjIzNSwyOTYuNTM4OCwxNDcuOTksMzA2LjIzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTEwLjk1NyIgeD0iMTc0IiB5PSIyMzYuNTU2OSI+SFRUUC9XZWJTb2NrZXQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDIuMTg2NSIgeD0iMjA4LjM4NTMiIHk9IjI1MS42ODk3Ij4oSlNPTik8L3RleHQ+PC9nPjwhLS1TUkM9W2JQOTFKbkQxNUNWbHlvZDZVY2FGak5UWko5Z2M4V1FYVDlqdXVKQlRkUlFSUmNVTXNMcUlHWlppaGJJbktPYzk2NkMyQVlmR0daNXU0OTZLM19EU01odzVDenRJNVhERHA1bnNfX3l0X19WQmw3VjNlMU1KS0xwQ3ZxaFBzUWNQRkRPanVaVzhFTk1Kc0tJRzFZdUpsTHVMdDZENlpialN1OWx0eWtlV1A0azNMMmJFSjBiWXItUGRTNVJlRFRFYmtraTlZZkZ6dV9yZXZ4Wk4tVDNSUTRCbTdPOFY0M09YVjl6QXU5TTlvcGRCZkNwNWNjYkdQT24xSGg1bm5HOUJQY3JrTUpuSmYxUFBwZFhZcVA5SG45NzRXdUdMYkNScDdYTkJpZE54NEZwcHdFS2MxQ3pJS2R4ZWtTR3JFU0Y5WXRTZHUzX2xUeS1haG5wREFwa3dDRXRPWFIwRG1LUzgzbzB1WC0ySldhTWh5ZW5mRElnTWdGV05STG1YUUpMUmNBb0FBX0I5WGJ3Q3d5R0gyaFNXa0U3ZlJmNHd0OUFRS2VYbTZIS0pvZm1taGxyRmlvTGt3ZElhX0M1Tjh1OFFWcUZKUXhIMTlEZ2pnYjhNQkdUTko4aXdHd3cxRS0yQUZxVExLaDVacWNqSVozZWZTU0t3NWJQWmtFNXlxa2N4THBya3V1SFFYLTBHbVpDOGp5MF9ZQlBGbVZ5Q19jRm1sb21tMjh1V3MxakN1ek41UmdqdGo5djBtc1Z4ZG5Icmx3a2M2TXg4ZUFZcHRUelBJcnBYdDFhYW5RNG93TndmTENXeWVjTUR3dE1nYmtzMURaVVJJWTM0azRqbmNSaWtSczFVNlZQNmF1cWxUdmpId19OYlBnbHR6WEdmejcxVkJPelFmNnlHRmxycnlaRnctV0J5M2VIRnI4TDBCTVJLVk9FWWhMUktNT19NemkxbHVzblg2YjVjT0ROa0RtMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<p><strong>REST API / gRPC / GraphQL の比較：</strong></p>
<table>
<thead>
<tr>
<th>特徴</th>
<th>REST API</th>
<th>gRPC</th>
<th>GraphQL</th>
</tr>
</thead>
<tbody>
<tr>
<td>プロトコル</td>
<td>HTTP/1.1</td>
<td>HTTP/2</td>
<td>HTTP/1.1 or HTTP/2</td>
</tr>
<tr>
<td>データ形式</td>
<td>JSON</td>
<td>Protocol Buffers</td>
<td>JSON</td>
</tr>
<tr>
<td>スキーマ</td>
<td>OpenAPI (任意)</td>
<td>.proto (必須)</td>
<td>.graphqls (必須)</td>
</tr>
<tr>
<td>データ取得</td>
<td>固定レスポンス</td>
<td>固定レスポンス</td>
<td>クライアント指定</td>
</tr>
<tr>
<td>エンドポイント</td>
<td>複数</td>
<td>複数</td>
<td>単一</td>
</tr>
<tr>
<td>リアルタイム</td>
<td>WebSocket 別実装</td>
<td>ストリーミング</td>
<td>Subscription</td>
</tr>
<tr>
<td>主な用途</td>
<td>汎用 API</td>
<td>マイクロサービス</td>
<td>フロントエンド向け</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="142-3">14.2 3つの操作タイプ<a class="headerlink" href="#142-3" title="Permanent link">&para;</a></h3>
<p>GraphQL は 3 つの操作タイプをサポートします：</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjM1OXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDM3cHg7aGVpZ2h0OjM1OXB4O2JhY2tncm91bmQ6I0ZFRkVGRTsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQzNyAzNTkiIHdpZHRoPSI0MzdweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjxyZWN0IGZpbGw9IiNGRUZFRkUiIGhlaWdodD0iMzU5IiBzdHlsZT0ic3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNDM3IiB4PSIwIiB5PSIwIi8+PCEtLWVudGl0eSBxdWVyeS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJxdWVyeSIgZGF0YS1zb3VyY2UtbGluZT0iMyIgZGF0YS11aWQ9ImVudDAwMDIiIGlkPSJlbnRpdHlfcXVlcnkiPjxyZWN0IGZpbGw9IiNBREQ4RTYiIGhlaWdodD0iNTIuNTkzOCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iODYuOTIzNiIgeD0iMjUuOTQiIHk9IjIyLjU0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjAuMzU0NSIgeD0iMzUuOTQiIHk9IjQ1LjUzNTEiPjEuIFF1ZXJ5PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY2LjkyMzYiIHg9IjM1Ljk0IiB5PSI2MS44MzIiPigmIzM1NTAxOyYjMTI0MTU7JiMyMTQ2MjsmIzEyNDI2Oyk8L3RleHQ+PC9nPjwhLS1lbnRpdHkgbXV0YXRpb24tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0ibXV0YXRpb24iIGRhdGEtc291cmNlLWxpbmU9IjEzIiBkYXRhLXVpZD0iZW50MDAwNiIgaWQ9ImVudGl0eV9tdXRhdGlvbiI+PHJlY3QgZmlsbD0iIzkwRUU5MCIgaGVpZ2h0PSI1Mi41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI5OS42NDU1IiB4PSIxOS41NyIgeT0iMTYwLjY0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzkuNjQ1NSIgeD0iMjkuNTciIHk9IjE4My42MzUxIj4yLiBNdXRhdGlvbjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2Ni45MjM2IiB4PSIyOS41NyIgeT0iMTk5LjkzMiI+KCYjMjYzNjA7JiMxMjM2NTsmIzM2Nzk2OyYjMTI0MTU7KTwvdGV4dD48L2c+PCEtLWVudGl0eSBzdWJzY3JpcHRpb24tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0ic3Vic2NyaXB0aW9uIiBkYXRhLXNvdXJjZS1saW5lPSIyMiIgZGF0YS11aWQ9ImVudDAwMTAiIGlkPSJlbnRpdHlfc3Vic2NyaXB0aW9uIj48cmVjdCBmaWxsPSIjRjA4MDgwIiBoZWlnaHQ9IjUyLjU5MzgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyNC43OTQ5IiB4PSI3IiB5PSIyOTEuMTciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDQuNzk0OSIgeD0iMTciIHk9IjMxNC4xNjUxIj4zLiBTdWJzY3JpcHRpb248L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTQuOTIzNSIgeD0iMTciIHk9IjMzMC40NjIiPigmIzEyNTIyOyYjMTI0NTA7JiMxMjUyMzsmIzEyNDc5OyYjMTI0NTI7JiMxMjUxMjspPC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iR01OMyIgZGF0YS1zb3VyY2UtbGluZT0iNiIgZGF0YS11aWQ9ImVudDAwMDQiIGlkPSJlbnRpdHlfR01OMyI+PHBhdGggZD0iTTE0OC4wOCw2IEwxNDguMDgsNDQuODQgTDExMy4zMiw0OC44NCBMMTQ4LjA4LDUyLjg0IEwxNDguMDgsOTEuNjY0MSBBMCwwIDAgMCAwIDE0OC4wOCw5MS42NjQxIEwzODguNzIxNiw5MS42NjQxIEEwLDAgMCAwIDAgMzg4LjcyMTYsOTEuNjY0MSBMMzg4LjcyMTYsMTYgTDM3OC43MjE2LDYgTDE0OC4wOCw2IEEwLDAgMCAwIDAgMTQ4LjA4LDYiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0zNzguNzIxNiw2IEwzNzguNzIxNiwxNiBMMzg4LjcyMTYsMTYgTDM3OC43MjE2LDYiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIxOS42NDE2IiB4PSIxNTQuMDgiIHk9IjIzLjA2NjkiPnsgcHJvZHVjdHMgeyBjb2RlIG5hbWUgcHJpY2UgfSB9PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNy45NDM0IiB4PSIxNTQuMDgiIHk9IjM4LjE5OTciPiYjODU5NDsgeyBwcm9kdWN0czogWy4uLl0gfTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0LjEzMjMiIHg9IjE1NC4wOCIgeT0iNTMuMzMyNSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4LjAwMDEiIHg9IjE1NC4wOCIgeT0iNjguNDY1MyI+JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7JiMxMjM5ODsmIzIxNDYyOyYjMjQ0NzE7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE3Ny4yNzEyIiB4PSIxNTQuMDgiIHk9IjgzLjU5ODEiPiYjMzUwNzk7JiMyNTk2ODsmIzEyNTIyOyYjMTI0Nzc7JiMxMjU0MDsmIzEyNDczOyYjMTI0MzQ7MSYjMjIyMzg7JiMxMjM5MTsmIzIxNDYyOyYjMjQ0NzE7JiMyMTQ4NzsmIzMzMDIxOzwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkdNTjciIGRhdGEtc291cmNlLWxpbmU9IjE2IiBkYXRhLXVpZD0iZW50MDAwOCIgaWQ9ImVudGl0eV9HTU43Ij48cGF0aCBkPSJNMTU0LjM2LDE1MS42NyBMMTU0LjM2LDE4Mi45MyBMMTE5LjUsMTg2LjkzIEwxNTQuMzYsMTkwLjkzIEwxNTQuMzYsMjIyLjIwMTMgQTAsMCAwIDAgMCAxNTQuMzYsMjIyLjIwMTMgTDM2NC40MzEzLDIyMi4yMDEzIEEwLDAgMCAwIDAgMzY0LjQzMTMsMjIyLjIwMTMgTDM2NC40MzEzLDE2MS42NyBMMzU0LjQzMTMsMTUxLjY3IEwxNTQuMzYsMTUxLjY3IEEwLDAgMCAwIDAgMTU0LjM2LDE1MS42NyIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTM1NC40MzEzLDE1MS42NyBMMzU0LjQzMTMsMTYxLjY3IEwzNjQuNDMxMywxNjEuNjcgTDM1NC40MzEzLDE1MS42NyIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTg5LjA3MTMiIHg9IjE2MC4zNiIgeT0iMTY4LjczNjkiPm11dGF0aW9uIHsgY3JlYXRlT3JkZXIoLi4uKSB9PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1Ni4wMDYzIiB4PSIxNjAuMzYiIHk9IjE4My44Njk3Ij4mIzg1OTQ7IHsgY3JlYXRlT3JkZXI6IHsuLi59IH08L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNC4xMzIzIiB4PSIxNjAuMzYiIHk9IjE5OS4wMDI1Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTU2LjAwMDIiIHg9IjE2MC4zNiIgeT0iMjE0LjEzNTMiPiYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyYjMTIzOTg7JiMyMDMxNjsmIzI1MTA0OyYjMTI1Mzk7JiMyNjM1NjsmIzI2MDMyOyYjMTI1Mzk7JiMyMTA2NjsmIzM4NTAwOzwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkdNTjExIiBkYXRhLXNvdXJjZS1saW5lPSIyNSIgZGF0YS11aWQ9ImVudDAwMTIiIGlkPSJlbnRpdHlfR01OMTEiPjxwYXRoIGQ9Ik0xNjYuNjEsMjgyLjIgTDE2Ni42MSwzMTMuNDYgTDEzMi4wMSwzMTcuNDYgTDE2Ni42MSwzMjEuNDYgTDE2Ni42MSwzNTIuNzMxMyBBMCwwIDAgMCAwIDE2Ni42MSwzNTIuNzMxMyBMNDMwLjE4NTcsMzUyLjczMTMgQTAsMCAwIDAgMCA0MzAuMTg1NywzNTIuNzMxMyBMNDMwLjE4NTcsMjkyLjIgTDQyMC4xODU3LDI4Mi4yIEwxNjYuNjEsMjgyLjIgQTAsMCAwIDAgMCAxNjYuNjEsMjgyLjIiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik00MjAuMTg1NywyODIuMiBMNDIwLjE4NTcsMjkyLjIgTDQzMC4xODU3LDI5Mi4yIEw0MjAuMTg1NywyODIuMiIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjQyLjU3NTciIHg9IjE3Mi42MSIgeT0iMjk5LjI2NjkiPnN1YnNjcmlwdGlvbiB7IG9yZGVyU3RhdHVzQ2hhbmdlZCB9PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5My4zODE1IiB4PSIxNzIuNjEiIHk9IjMxNC4zOTk3Ij4mIzg1OTQ7IChXZWJTb2NrZXQgJiMxMjM5MTsmIzEyNTAzOyYjMTI0ODM7JiMxMjQ3MTsmIzEyNTE3OyYjMzY4OTA7JiMzMDY5MzspPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuMTMyMyIgeD0iMTcyLjYxIiB5PSIzMjkuNTMyNSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0My4wMDAyIiB4PSIxNzIuNjEiIHk9IjM0NC42NjUzIj4mIzEyNTIyOyYjMTI0NTA7JiMxMjUyMzsmIzEyNDc5OyYjMTI0NTI7JiMxMjUxMjsmIzI2MzU2OyYjMjYwMzI7JiMxMjM5ODsmIzIxNDYzOyYjMjA0NDk7PC90ZXh0PjwvZz48IS0tbGluayBxdWVyeSB0byBtdXRhdGlvbi0tPjwhLS1saW5rIG11dGF0aW9uIHRvIHN1YnNjcmlwdGlvbi0tPjwhLS1TUkM9W1JUQjFKekRHNzBWbS1faWhWZTdCVGcwOVNrRldtS012SThwUG1HRG1VNmpfUmlzc3otUGhVbzNENGpVTlk5OE8zOGFpRWdEMkhhV21XMFNKREozc2xfWVpUVm1ObGpBMlhJb3psVC10eFZWcFF4c2NBcGZTeUpSS2tEc2lBbmE4Zm85UktpN2lldVZmblBYMnMtVVl0YUFPY1JWV1FPMWdWTE1LOWVUN3IxbDdNcGlLUlBQZFc3bG04ZnQweDZFdHRsMFZqMEE0YTdNUGEzdzJJZXowRml5WUI4SUVhYXZXLW53NE80aTdHVjBzY2FGTkhrWDJiX3J2akd0X0d1a21PYmRNY1piZGYzVDhkcjRxZmp3blVOTHl0Y1VKdUtSb19abGZHdWY2THhGVjU2dEZudUZGcjNsODhsN01vS0lGNjBlN3FaUXRHRlNpTTB2eXhoakk2NUNvLTRNemp2RnBDb0ZCSkVyeWNCRU01QUFPdWhnRWlQa3lXSWRhRlp2SDNnZ0l3TC0gLVNISzZZbjJRS1ZTa3hNQnFBTmR6WmxIZkNsWUh4MVpTUVZuY3lfQjNTQmZYbU85Z0tGRGl2TlBvbnpLc3phWF9JbnlOM0tiX3BKSFU4UFFCQWJCbnJYSEhDU2ZrdEhVMkpBak4zSkptQVdySjBmdFNMZGc2alFncWMtWTNzSnhmRmNiRHFLX0ktdlNsRl94emliekVjTlVodlNScVdfT2xuaGk1T19QM3BRcXFOQ1QxaUpQdFZ5Z1VZekRZcE55MF0tLT48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<p><strong>用途：</strong></p>
<ol>
<li><strong>Query</strong>: データ取得（商品一覧、受注明細、在庫照会）</li>
<li><strong>Mutation</strong>: データ更新（受注登録、出荷確定、入金処理）</li>
<li><strong>Subscription</strong>: リアルタイム通知（受注ステータス変更、在庫変動）</li>
</ol>
<hr />
<h3 id="143-graphql">14.3 GraphQL におけるヘキサゴナルアーキテクチャ<a class="headerlink" href="#143-graphql" title="Permanent link">&para;</a></h3>
<p>GraphQL を導入しても、既存のヘキサゴナルアーキテクチャ（ドメイン層・アプリケーション層）はそのまま共有し、<strong>Input Adapter として GraphQL リゾルバ層のみを追加</strong>します。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjY4NHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6Nzc5cHg7aGVpZ2h0OjY4NHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDc3OSA2ODQiIHdpZHRoPSI3NzlweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjwhLS1jbHVzdGVyIEhleGFnb25hbCBBcmNoaXRlY3R1cmUgKEdyYXBoUUw/KS0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLWVudGl0eT0iSGV4YWdvbmFsIEFyY2hpdGVjdHVyZSAuR3JhcGhRTC4uIiBkYXRhLXNvdXJjZS1saW5lPSIzIiBkYXRhLXVpZD0iZW50MDAwMiIgaWQ9ImNsdXN0ZXJfSGV4YWdvbmFsIEFyY2hpdGVjdHVyZSAuR3JhcGhRTC4uIj48cGF0aCBkPSJNMjMwLjE0LDYgTDUxOC4yMjg4LDYgQTMuNzUsMy43NSAwIDAgMSA1MjAuNzI4OCw4LjUgTDUyNy43Mjg4LDI4LjI5NjkgTDUyOC4xNCwyOC4yOTY5IEEyLjUsMi41IDAgMCAxIDUzMC42NCwzMC43OTY5IEw1MzAuNjQsNjc1LjAzIEEyLjUsMi41IDAgMCAxIDUyOC4xNCw2NzcuNTMgTDIzMC4xNCw2NzcuNTMgQTIuNSwyLjUgMCAwIDEgMjI3LjY0LDY3NS4wMyBMMjI3LjY0LDguNSBBMi41LDIuNSAwIDAgMSAyMzAuMTQsNiIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMjI3LjY0IiB4Mj0iNTI3LjcyODgiIHkxPSIyOC4yOTY5IiB5Mj0iMjguMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyODcuMDg4OCIgeD0iMjMxLjY0IiB5PSIyMC45OTUxIj5IZXhhZ29uYWwgQXJjaGl0ZWN0dXJlIChHcmFwaFFMJiMyOTI1NjspPC90ZXh0PjwvZz48IS0tY2xhc3MgY29yZS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJjb3JlIiBkYXRhLXNvdXJjZS1saW5lPSI1IiBkYXRhLXVpZD0iZW50MDAwMyIgaWQ9ImVudGl0eV9jb3JlIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjE4OC45Njg4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxOTAuMDQiIHg9IjI4NC42MiIgeT0iMjczLjA4Ii8+PGVsbGlwc2UgY3g9IjI5OS42MiIgY3k9IjI5NC4zNzY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0zMDIuNTg4OCwzMDAuMDE3NSBRMzAyLjAxMDYsMzAwLjMxNDQgMzAxLjM3LDMwMC40NTUgUTMwMC43Mjk0LDMwMC42MTEzIDMwMC4wMjYzLDMwMC42MTEzIFEyOTcuNTI2MywzMDAuNjExMyAyOTYuMTk4MSwyOTguOTcwNiBRMjk0Ljg4NTYsMjk3LjMxNDQgMjk0Ljg4NTYsMjk0LjE4OTQgUTI5NC44ODU2LDI5MS4wNjQ0IDI5Ni4xOTgxLDI4OS40MDgxIFEyOTcuNTI2MywyODcuNzUxOSAzMDAuMDI2MywyODcuNzUxOSBRMzAwLjcyOTQsMjg3Ljc1MTkgMzAxLjM3LDI4Ny45MDgxIFEzMDIuMDI2MywyODguMDY0NCAzMDIuNTg4OCwyODguMzYxMyBMMzAyLjU4ODgsMjkxLjA4IFEzMDEuOTYzOCwyOTAuNTAxOSAzMDEuMzcsMjkwLjIzNjMgUTMwMC43NzYzLDI4OS45NTUgMzAwLjE1MTMsMjg5Ljk1NSBRMjk4LjgwNzUsMjg5Ljk1NSAyOTguMTIsMjkxLjAzMzEgUTI5Ny40MzI1LDI5Mi4wOTU2IDI5Ny40MzI1LDI5NC4xODk0IFEyOTcuNDMyNSwyOTYuMjgzMSAyOTguMTIsMjk3LjM2MTMgUTI5OC44MDc1LDI5OC40MjM4IDMwMC4xNTEzLDI5OC40MjM4IFEzMDAuNzc2MywyOTguNDIzOCAzMDEuMzcsMjk4LjE1ODEgUTMwMS45NjM4LDI5Ny44NzY5IDMwMi41ODg4LDI5Ny4yOTg4IEwzMDIuNTg4OCwzMDAuMDE3NSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNS4zODM4IiB4PSIzMzQuOTQ4MSIgeT0iMjkxLjA3NTEiPkFwcGxpY2F0aW9uIENvcmU8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTU4LjA0IiB4PSIzMTMuNjIiIHk9IjMwNy4zNzIiPihEb21haW4gKyBVc2UgQ2FzZXMpPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI4NS42MiIgeDI9IjQ3My42NiIgeTE9IjMxNS42NzM4IiB5Mj0iMzE1LjY3MzgiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIyOTIuNjIiIHk9IjMyNi4zMjIyIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE0LjEyNiIgeD0iMzA0LjYyIiB5PSIzMzIuNjY4OSI+UHJvZHVjdFVzZUNhc2U8L3RleHQ+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iMjkyLjYyIiB5PSIzNDIuNjE5MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMC40NDczIiB4PSIzMDQuNjIiIHk9IjM0OC45NjU3Ij5PcmRlclVzZUNhc2U8L3RleHQ+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iMjkyLjYyIiB5PSIzNTguOTE1OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMC40Njg4IiB4PSIzMDQuNjIiIHk9IjM2NS4yNjI2Ij5JbnZvaWNlVXNlQ2FzZTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyODUuNjIiIHgyPSI0NzMuNjYiIHkxPSIzNzIuNTY0NCIgeTI9IjM3Mi41NjQ0Ii8+PHJlY3QgZmlsbD0iI0YyNEQ1QyIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iMjkyLjYyIiB5PSIzODMuMjEyOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3LjA4MzkiIHg9IjMwNC42MiIgeT0iMzg5LjU1OTUiPlByb2R1Y3QgKCYjMjE4MzA7JiMyMTY5NzspPC90ZXh0PjxyZWN0IGZpbGw9IiNGMjRENUMiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjI5Mi42MiIgeT0iMzk5LjUwOTciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDguODgyNiIgeD0iMzA0LjYyIiB5PSI0MDUuODU2NCI+UGFydG5lciAoJiMyMTQ2MjsmIzI0MzQxOyYjMjA4MDg7KTwvdGV4dD48cmVjdCBmaWxsPSIjRjI0RDVDIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIyOTIuNjIiIHk9IjQxNS44MDY2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuNDA1MiIgeD0iMzA0LjYyIiB5PSI0MjIuMTUzMiI+T3JkZXIgKCYjMjE0NjM7JiMyNzg4MDspPC90ZXh0PjxyZWN0IGZpbGw9IiNGMjRENUMiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjI5Mi42MiIgeT0iNDMyLjEwMzQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTAuNTIzMyIgeD0iMzA0LjYyIiB5PSI0MzguNDUwMSI+U2hpcG1lbnQgKCYjMjA5ODY7JiMzMzY1NTspPC90ZXh0PjxyZWN0IGZpbGw9IiNGMjRENUMiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjI5Mi42MiIgeT0iNDQ4LjQwMDMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5My40MjY2IiB4PSIzMDQuNjIiIHk9IjQ1NC43NDciPkludm9pY2UgKCYjMzU1MzE7JiMyNzcxNDspPC90ZXh0PjwvZz48IS0tY2xhc3MgaW5wdXQtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iaW5wdXQiIGRhdGEtc291cmNlLWxpbmU9IjE2IiBkYXRhLXVpZD0iZW50MDAwNCIgaWQ9ImVudGl0eV9pbnB1dCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxNDAuMDc4MSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMjM2Ljk1NjciIHg9IjI2MS4xNiIgeT0iNDEiLz48ZWxsaXBzZSBjeD0iMzIzLjQ5NjciIGN5PSI2Mi4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0zMjYuNDY1NSw2Ny45Mzc1IFEzMjUuODg3NCw2OC4yMzQ0IDMyNS4yNDY3LDY4LjM3NSBRMzI0LjYwNjEsNjguNTMxMyAzMjMuOTAzLDY4LjUzMTMgUTMyMS40MDMsNjguNTMxMyAzMjAuMDc0OSw2Ni44OTA2IFEzMTguNzYyNCw2NS4yMzQ0IDMxOC43NjI0LDYyLjEwOTQgUTMxOC43NjI0LDU4Ljk4NDQgMzIwLjA3NDksNTcuMzI4MSBRMzIxLjQwMyw1NS42NzE5IDMyMy45MDMsNTUuNjcxOSBRMzI0LjYwNjEsNTUuNjcxOSAzMjUuMjQ2Nyw1NS44MjgxIFEzMjUuOTAzLDU1Ljk4NDQgMzI2LjQ2NTUsNTYuMjgxMyBMMzI2LjQ2NTUsNTkgUTMyNS44NDA1LDU4LjQyMTkgMzI1LjI0NjcsNTguMTU2MyBRMzI0LjY1Myw1Ny44NzUgMzI0LjAyOCw1Ny44NzUgUTMyMi42ODQyLDU3Ljg3NSAzMjEuOTk2Nyw1OC45NTMxIFEzMjEuMzA5Miw2MC4wMTU2IDMyMS4zMDkyLDYyLjEwOTQgUTMyMS4zMDkyLDY0LjIwMzEgMzIxLjk5NjcsNjUuMjgxMyBRMzIyLjY4NDIsNjYuMzQzOCAzMjQuMDI4LDY2LjM0MzggUTMyNC42NTMsNjYuMzQzOCAzMjUuMjQ2Nyw2Ni4wNzgxIFEzMjUuODQwNSw2NS43OTY5IDMyNi40NjU1LDY1LjIxODggTDMyNi40NjU1LDY3LjkzNzUgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDMuNzgzMiIgeD0iMzQzLjk5NjciIHk9IjU4Ljk5NTEiPklucHV0IEFkYXB0ZXJzPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk2LjAxMDciIHg9IjM0Ny44ODMiIHk9Ijc1LjI5MiI+KERyaXZpbmcgU2lkZSk8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjYyLjE2IiB4Mj0iNDk3LjExNjciIHkxPSI4My41OTM4IiB5Mj0iODMuNTkzOCIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjI2OS4xNiIgeT0iOTQuMjQyMiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2NS42MzQ1IiB4PSIyODEuMTYiIHk9IjEwMC41ODg5Ij5SRVNUIENvbnRyb2xsZXImIzY1Mjg4OyYjMjYwODI7JiMyMzM4NDsmIzY1Mjg5OzwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIyNjkuMTYiIHk9IjExMC41MzkxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ5LjAyMzIiIHg9IjI4MS4xNiIgeT0iMTE2Ljg4NTciPmdSUEMgU2VydmljZSYjNjUyODg7JiMyNjA4MjsmIzIzMzg0OyYjNjUyODk7PC90ZXh0PjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjI2OS4xNiIgeT0iMTI2LjgzNTkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMTAuOTU2NyIgeD0iMjgxLjE2IiB5PSIxMzMuMTgyNiI+R3JhcGhRTCBSZXNvbHZlciYjNjUyODg7JiMyNjAzMjsmIzM1MjE1OyYjMzY4NjE7JiMyMTE1MjsmIzY1Mjg5OzwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIyNjkuMTYiIHk9IjE0My4xMzI4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODYuNTIyNSIgeD0iMjgxLjE2IiB5PSIxNDkuNDc5NSI+RGF0YUZldGNoZXI8L3RleHQ+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iMjY5LjE2IiB5PSIxNTkuNDI5NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgxLjYyNzkiIHg9IjI4MS4xNiIgeT0iMTY1Ljc3NjQiPkRhdGFMb2FkZXI8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjYyLjE2IiB4Mj0iNDk3LjExNjciIHkxPSIxNzMuMDc4MSIgeTI9IjE3My4wNzgxIi8+PC9nPjwhLS1jbGFzcyBvdXRwdXQtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0ib3V0cHV0IiBkYXRhLXNvdXJjZS1saW5lPSIyNCIgZGF0YS11aWQ9ImVudDAwMDUiIGlkPSJlbnRpdHlfb3V0cHV0Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwNy40ODQ0IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNjAuNzQzMiIgeD0iMjY3LjI3IiB5PSI1NTQuMDUiLz48ZWxsaXBzZSBjeD0iMjg3LjkzMSIgY3k9IjU3NS4zNDY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0yOTAuODk5OCw1ODAuOTg3NSBRMjkwLjMyMTcsNTgxLjI4NDQgMjg5LjY4MSw1ODEuNDI1IFEyODkuMDQwNCw1ODEuNTgxMyAyODguMzM3Myw1ODEuNTgxMyBRMjg1LjgzNzMsNTgxLjU4MTMgMjg0LjUwOTIsNTc5Ljk0MDYgUTI4My4xOTY3LDU3OC4yODQ0IDI4My4xOTY3LDU3NS4xNTk0IFEyODMuMTk2Nyw1NzIuMDM0NCAyODQuNTA5Miw1NzAuMzc4MSBRMjg1LjgzNzMsNTY4LjcyMTkgMjg4LjMzNzMsNTY4LjcyMTkgUTI4OS4wNDA0LDU2OC43MjE5IDI4OS42ODEsNTY4Ljg3ODEgUTI5MC4zMzczLDU2OS4wMzQ0IDI5MC44OTk4LDU2OS4zMzEzIEwyOTAuODk5OCw1NzIuMDUgUTI5MC4yNzQ4LDU3MS40NzE5IDI4OS42ODEsNTcxLjIwNjMgUTI4OS4wODczLDU3MC45MjUgMjg4LjQ2MjMsNTcwLjkyNSBRMjg3LjExODUsNTcwLjkyNSAyODYuNDMxLDU3Mi4wMDMxIFEyODUuNzQzNSw1NzMuMDY1NiAyODUuNzQzNSw1NzUuMTU5NCBRMjg1Ljc0MzUsNTc3LjI1MzEgMjg2LjQzMSw1NzguMzMxMyBRMjg3LjExODUsNTc5LjM5MzggMjg4LjQ2MjMsNTc5LjM5MzggUTI4OS4wODczLDU3OS4zOTM4IDI4OS42ODEsNTc5LjEyODEgUTI5MC4yNzQ4LDU3OC44NDY5IDI5MC44OTk4LDU3OC4yNjg4IEwyOTAuODk5OCw1ODAuOTg3NSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNi4xNjMxIiB4PSIzMDMuMTg5IiB5PSI1NzIuMDQ1MSI+T3V0cHV0IEFkYXB0ZXJzPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxLjg0NzciIHg9IjMxNS4zNDY4IiB5PSI1ODguMzQyIj4oRHJpdmVuIFNpZGUpPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI2OC4yNyIgeDI9IjQyNy4wMTMyIiB5MT0iNTk2LjY0MzgiIHkyPSI1OTYuNjQzOCIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjI3NS4yNyIgeT0iNjA3LjI5MjIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzQuNzQzMiIgeD0iMjg3LjI3IiB5PSI2MTMuNjM4OSI+TXlCYXRpcyBSZXBvc2l0b3J5PC90ZXh0PjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjI3NS4yNyIgeT0iNjIzLjU4OTEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTkuNDIzOCIgeD0iMjg3LjI3IiB5PSI2MjkuOTM1NyI+RGF0YWJhc2UgQWNjZXNzPC90ZXh0PjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjI3NS4yNyIgeT0iNjM5Ljg4NTkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDUuNDAzMyIgeD0iMjg3LjI3IiB5PSI2NDYuMjMyNiI+RW50aXR5IE1hcHBpbmc8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjY4LjI3IiB4Mj0iNDI3LjAxMzIiIHkxPSI2NTMuNTM0NCIgeTI9IjY1My41MzQ0Ii8+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJHTU44IiBkYXRhLXNvdXJjZS1saW5lPSIzNSIgZGF0YS11aWQ9ImVudDAwMDkiIGlkPSJlbnRpdHlfR01OOCI+PHBhdGggZD0iTTU0Ni45LDgzLjM0IEw1NDYuOSwxMzguNzM4NCBBMCwwIDAgMCAwIDU0Ni45LDEzOC43Mzg0IEw2MjUuOTQsMTM4LjczODQgTDQ3NC45NSwyNzkuOTIgTDYzMy45NCwxMzguNzM4NCBMNzcyLjM4MzYsMTM4LjczODQgQTAsMCAwIDAgMCA3NzIuMzgzNiwxMzguNzM4NCBMNzcyLjM4MzYsOTMuMzQgTDc2Mi4zODM2LDgzLjM0IEw1NDYuOSw4My4zNCBBMCwwIDAgMCAwIDU0Ni45LDgzLjM0IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNzYyLjM4MzYsODMuMzQgTDc2Mi4zODM2LDkzLjM0IEw3NzIuMzgzNiw5My4zNCBMNzYyLjM4MzYsODMuMzQiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0My4wMDAyIiB4PSI1NTIuOSIgeT0iMTAwLjQwNjkiPiYjMjYwODI7JiMyMzM4NDsmIzEyMzk4OyYjMTI0OTk7JiMxMjQ3MjsmIzEyNDkzOyYjMTI0NzM7JiMxMjUyNTsmIzEyNDcyOyYjMTI0ODM7JiMxMjQ2Mzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjAwLjExNjMiIHg9IjU1Mi45IiB5PSIxMTUuNTM5NyI+UkVTVCBBUEkgLyBnUlBDICYjMjkyNTY7JiMxMjM5MjsmIzIzNDM2OyYjMjA4NDA7JiMxMjM5NTsmIzIwODQ5OyYjMjYzNzc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIwNC40ODM2IiB4PSI1NTIuOSIgeT0iMTMwLjY3MjUiPkdyYXBoUUwgJiMyMjI2NjsmIzI2Mzc3OyYjMTIzOTg7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7JiMxMjM5OTsmIzIxNTQ3OyYjMTI0MTQ7JiMxMjM5NDsmIzEyMzU2OzwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkdNTjExIiBkYXRhLXNvdXJjZS1saW5lPSI0MSIgZGF0YS11aWQ9ImVudDAwMTIiIGlkPSJlbnRpdHlfR01OMTEiPjxwYXRoIGQ9Ik02LDgzLjM0IEw2LDEzOC43Mzg0IEEwLDAgMCAwIDAgNiwxMzguNzM4NCBMMjExLjI4NTMsMTM4LjczODQgQTAsMCAwIDAgMCAyMTEuMjg1MywxMzguNzM4NCBMMjExLjI4NTMsMTE1LjA0IEwyNjAuODIsMTExLjA0IEwyMTEuMjg1MywxMDcuMDQgTDIxMS4yODUzLDkzLjM0IEwyMDEuMjg1Myw4My4zNCBMNiw4My4zNCBBMCwwIDAgMCAwIDYsODMuMzQiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0yMDEuMjg1Myw4My4zNCBMMjAxLjI4NTMsOTMuMzQgTDIxMS4yODUzLDkzLjM0IEwyMDEuMjg1Myw4My4zNCIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI2LjQ4MzUiIHg9IjEyIiB5PSIxMDAuNDA2OSI+R3JhcGhRTCAmIzEyNTIyOyYjMTI0Nzg7JiMxMjUyMzsmIzEyNDk2OyYjMTI0MzQ7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1OC43Mjk2IiB4PSIxMiIgeT0iMTE1LjUzOTciPklucHV0IEFkYXB0ZXIgJiMxMjM5MjsmIzEyMzc1OyYjMTIzOTA7JiMzNjg2MTsmIzIxMTUyOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxODQuMjg1MyIgeD0iMTIiIHk9IjEzMC42NzI1Ij4mIzI2MDgyOyYjMjMzODQ7JiMxMjM5ODsgUkVTVC9nUlBDICYjMTIzOTI7JiMyMDg0OTsmIzIzMzg0OyYjMjE0ODc7JiMzMzAyMTs8L3RleHQ+PC9nPjwhLS1saW5rIGlucHV0IHRvIGNvcmUtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iaW5wdXQiIGRhdGEtZW50aXR5LTI9ImNvcmUiIGRhdGEtc291cmNlLWxpbmU9IjMxIiBkYXRhLXVpZD0ibG5rNiIgaWQ9ImxpbmtfaW5wdXRfY29yZSI+PHBhdGggY29kZUxpbmU9IjMxIiBkPSJNMzc5LjY0LDE4MS4yNSBDMzc5LjY0LDIwOS41MSAzNzkuNjQsMjM2LjY0IDM3OS42NCwyNjcuMDEiIGZpbGw9Im5vbmUiIGlkPSJpbnB1dC10by1jb3JlIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzNzkuNjQsMjczLjAxLDM4My42NCwyNjQuMDEsMzc5LjY0LDI2OC4wMSwzNzUuNjQsMjY0LjAxLDM3OS42NCwyNzMuMDEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MC44MDE4IiB4PSIzODMuODEzOCIgeT0iMjI0LjE0NjkiPklucHV0IFBvcnRzPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc3LjE0OTQiIHg9IjM4MC42NCIgeT0iMjM5LjI3OTciPihVc2UgQ2FzZXMpPC90ZXh0PjwvZz48IS0tbGluayBjb3JlIHRvIG91dHB1dC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJjb3JlIiBkYXRhLWVudGl0eS0yPSJvdXRwdXQiIGRhdGEtc291cmNlLWxpbmU9IjMyIiBkYXRhLXVpZD0ibG5rNyIgaWQ9ImxpbmtfY29yZV9vdXRwdXQiPjxwYXRoIGNvZGVMaW5lPSIzMiIgZD0iTTM2Ny4wNCw0NjIuMzcgQzM2Mi44OCw0OTMuMzYgMzU5LjE4NzMsNTIwLjgwMzIgMzU1LjU4NzMsNTQ3LjY1MzIiIGZpbGw9Im5vbmUiIGlkPSJjb3JlLXRvLW91dHB1dCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzU0Ljc5LDU1My42LDM1OS45NTA1LDU0NS4yMTE0LDM1NS40NTQ0LDU0OC42NDQzLDM1Mi4wMjE1LDU0NC4xNDgzLDM1NC43OSw1NTMuNiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgyLjI5NzQiIHg9IjM5Ny4wMTE1IiB5PSI1MDUuMTE2OSI+T3V0cHV0IFBvcnRzPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0OC45NjA0IiB4PSIzNjMuNjgiIHk9IjUyMC4yNDk3Ij4oUmVwb3NpdG9yeSBJbnRlcmZhY2VzKTwvdGV4dD48L2c+PCEtLVNSQz1bUkw5RFJuOTE2QnhsaHRaYjEzNmF6bnZDTGVnTFg1ZzRVbENveFd1bVNKa3BjSHM4bjdaT05UNUlSTVhpTWFwcU8zbXFmQUg1cWVGUXFGZlo5ZWxTLVhVU3NVTVpSUnBERkVfN3lwcGwtendwU1BMRzNFTHlSaWp5aWJ4Q1ctS1dwcENDNXJhbEtHcjN3WjUtWE1nQzhXVENSak05bTlQZVMwcGZUT3hTLWpGWXR5dkU5V01sM01GUDhNTXdoYUNpOTBZWmE2Q1NGd1ZmRFJRRDI4Tnh5Q3AzYTRDVXpiR0x5aTFJT0xNVFhIOWRUaUNJYTh1RXRxSzdWYVAzWTBrQWtPQXdIejd1QzZobFE3SUpzbWRNY3ZwdERMMmY0dFNSS3J0d19jQXd6ckRaMVRmYW41OGdmdUNGYXI2R01IOGVWYXFfUnhKeXBhaGNtOWpSWldoS1JHV21SVUdBcDN0alh2Q2NlSk1lNDFpZEphWVNlZ3NLeXZLanZQaUFwWG03eS1sbnBnSnRGSmh6VjN0a2c2WWpOQ2YxMVZFYzhoaUpjZXFLb2pYWkpaRWZGRmVuRlV2RV9ybjZrei1JZjNLYXEyQ2loM2hjaXItSDhVTmFaa0JEWGxZRlA0bmxBNlA5WWZReXFOZ2Vya0tmUGZUdkgzM1VjbEwtZU1PMWZjTFhUSERQbzVEMUgwaXNhRWlneXVmSFNJUS1pemE3b0l2TnZ5Q2dDSXVxeE9zNTZ0NjZKZnJIaG92cXBoRU4wakgyYkYwZ2lrOUFXcEExR0owTk0zS2NDZkIxSVZ6Q1hXU28tMk4zRkhkeWJrNWZfMHZiQzNKWUZQWWIwZ21hR3JVZEFsci1URk9uUWxVYkZ1WlFleWROWlo0VlVsSmJHZHJybC0xU1hjQ1BnbFNtc1h6OF9xaHc5ejlfUXMxZ1d2T240LUZXZ2oxZ3VXNGlzaVptSDBQTkNYcDhTNXk2ZHVuUmJtRUFOX2V6d0h5ZDZyc1FZOHpjOVBRZkRSUDcyZXd3bXNidWtRM3oxbTAwXS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<p><strong>GraphQL でもヘキサゴナルアーキテクチャを維持する理由：</strong></p>
<ol>
<li><strong>再利用性</strong>: 既存の UseCase/Repository をそのまま活用</li>
<li><strong>並行運用</strong>: REST API、gRPC、GraphQL を同時提供可能</li>
<li><strong>テスト容易性</strong>: ドメインロジックは通信プロトコルに依存しない</li>
<li><strong>移行容易性</strong>: 段階的に API 形式を追加・変更可能</li>
</ol>
<hr />
<h3 id="144">14.4 ディレクトリ構成<a class="headerlink" href="#144" title="Permanent link">&para;</a></h3>
<p>既存の構成に <code>infrastructure/graphql/</code> を追加するだけです。</p>
<details>
<summary>コード例: ディレクトリ構成</summary>

<div class="highlight"><pre><span></span><code>src/main/java/com/example/sales/
├── domain/                     # ドメイン層（API版と共通）
│   ├── model/
│   │   ├── product/
│   │   ├── partner/
│   │   ├── order/
│   │   ├── shipment/
│   │   └── invoice/
│   └── exception/
│
├── application/               # アプリケーション層（API版と共通）
│   ├── port/
│   │   ├── in/               # Input Port（ユースケース）
│   │   └── out/              # Output Port（リポジトリ）
│   └── service/
│
├── infrastructure/
│   ├── persistence/          # Output Adapter（DB実装）- 既存
│   │   ├── mapper/
│   │   └── repository/
│   ├── rest/                 # Input Adapter（REST実装）- 既存
│   ├── grpc/                 # Input Adapter（gRPC実装）- 既存
│   └── graphql/              # Input Adapter（GraphQL実装）- 新規追加
│       ├── resolver/         # Query/Mutation リゾルバ
│       ├── dataloader/       # N+1 問題対策
│       ├── scalar/           # カスタムスカラー型
│       └── subscription/     # Subscription ハンドラ
│
├── config/
│
└── src/main/resources/
    └── graphql/              # GraphQL スキーマ定義
        ├── schema.graphqls
        ├── product.graphqls
        ├── partner.graphqls
        ├── order.graphqls
        ├── shipment.graphqls
        └── invoice.graphqls
</code></pre></div>

</details>

<hr />
<h3 id="145">14.5 技術スタックの追加<a class="headerlink" href="#145" title="Permanent link">&para;</a></h3>
<p>既存の <code>build.gradle.kts</code> に GraphQL 関連の依存関係を追加します。</p>
<h4 id="buildgradlekts">build.gradle.kts（差分）<a class="headerlink" href="#buildgradlekts" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: build.gradle.kts</summary>

<div class="highlight"><pre><span></span><code><span class="n">dependencies</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 既存の依存関係（Spring Boot, MyBatis, PostgreSQL等）はそのまま</span>

<span class="w">    </span><span class="c1">// GraphQL 関連を追加</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;org.springframework.boot:spring-boot-starter-graphql&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;org.springframework.boot:spring-boot-starter-websocket&quot;</span><span class="p">)</span><span class="w">  </span><span class="c1">// Subscription 用</span>

<span class="w">    </span><span class="c1">// GraphQL 拡張</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;com.graphql-java:graphql-java-extended-scalars:21.0&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// Test</span>
<span class="w">    </span><span class="n">testImplementation</span><span class="p">(</span><span class="s">&quot;org.springframework.graphql:spring-graphql-test&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

</details>

<p><strong>追加パッケージの説明：</strong></p>
<table>
<thead>
<tr>
<th>パッケージ</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>spring-boot-starter-graphql</td>
<td>Spring Boot GraphQL 統合</td>
</tr>
<tr>
<td>spring-boot-starter-websocket</td>
<td>Subscription (WebSocket)</td>
</tr>
<tr>
<td>graphql-java-extended-scalars</td>
<td>DateTime, BigDecimal 等のスカラー型</td>
</tr>
<tr>
<td>spring-graphql-test</td>
<td>GraphQL テストサポート</td>
</tr>
</tbody>
</table>
<h4 id="applicationyml">application.yml（差分）<a class="headerlink" href="#applicationyml" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: application.yml</summary>

<div class="highlight"><pre><span></span><code><span class="nt">spring</span><span class="p">:</span>
<span class="w">  </span><span class="nt">graphql</span><span class="p">:</span>
<span class="w">    </span><span class="nt">graphiql</span><span class="p">:</span>
<span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/graphiql</span>
<span class="w">    </span><span class="nt">websocket</span><span class="p">:</span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/graphql</span>
<span class="w">      </span><span class="nt">connection-init-timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">60s</span>
<span class="w">      </span><span class="nt">keep-alive</span><span class="p">:</span>
<span class="w">        </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">        </span><span class="nt">interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30s</span>
<span class="w">    </span><span class="nt">schema</span><span class="p">:</span>
<span class="w">      </span><span class="nt">printer</span><span class="p">:</span>
<span class="w">        </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">      </span><span class="nt">locations</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">classpath:graphql/</span>
<span class="w">    </span><span class="nt">cors</span><span class="p">:</span>
<span class="w">      </span><span class="nt">allowed-origins</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;*&quot;</span>
<span class="w">      </span><span class="nt">allowed-methods</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GET, POST</span>
</code></pre></div>

</details>

<hr />
<h3 id="146-graphql">14.6 GraphQL 設定クラス<a class="headerlink" href="#146-graphql" title="Permanent link">&para;</a></h3>
<details>
<summary>コード例: GraphQLConfig.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.config</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">graphql.scalars.ExtendedScalars</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.context.annotation.Bean</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.context.annotation.Configuration</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.graphql.execution.RuntimeWiringConfigurer</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * GraphQL 設定</span>
<span class="cm"> */</span>
<span class="nd">@Configuration</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GraphQLConfig</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">RuntimeWiringConfigurer</span><span class="w"> </span><span class="nf">runtimeWiringConfigurer</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">wiringBuilder</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">wiringBuilder</span>
<span class="w">            </span><span class="p">.</span><span class="na">scalar</span><span class="p">(</span><span class="n">ExtendedScalars</span><span class="p">.</span><span class="na">Date</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">scalar</span><span class="p">(</span><span class="n">ExtendedScalars</span><span class="p">.</span><span class="na">DateTime</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">scalar</span><span class="p">(</span><span class="n">ExtendedScalars</span><span class="p">.</span><span class="na">GraphQLBigDecimal</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">scalar</span><span class="p">(</span><span class="n">ExtendedScalars</span><span class="p">.</span><span class="na">GraphQLLong</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h3 id="147-graphql">14.7 GraphQL スキーマ定義<a class="headerlink" href="#147-graphql" title="Permanent link">&para;</a></h3>
<h4 id="srcmainresourcesgraphqlschemagraphqls">src/main/resources/graphql/schema.graphqls<a class="headerlink" href="#srcmainresourcesgraphqlschemagraphqls" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: schema.graphqls</summary>

<div class="highlight"><pre><span></span><code><span class="c"># ルートスキーマ</span>
<span class="k">type</span><span class="w"> </span><span class="err">Query</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c"># 商品</span>
<span class="w">    </span><span class="n">product</span><span class="p">(</span><span class="n">productCode</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Product</span>
<span class="w">    </span><span class="n">products</span><span class="p">(</span><span class="n">category</span><span class="p">:</span><span class="w"> </span><span class="no">ProductCategory</span><span class="p">,</span><span class="w"> </span><span class="n">page</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">ProductConnection</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 取引先</span>
<span class="w">    </span><span class="n">partner</span><span class="p">(</span><span class="n">partnerCode</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Partner</span>
<span class="w">    </span><span class="n">partners</span><span class="p">(</span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="no">PartnerType</span><span class="p">,</span><span class="w"> </span><span class="n">page</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">PartnerConnection</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 倉庫</span>
<span class="w">    </span><span class="n">warehouse</span><span class="p">(</span><span class="n">warehouseCode</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Warehouse</span>
<span class="w">    </span><span class="n">warehouses</span><span class="p">(</span><span class="n">page</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">WarehouseConnection</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 受注</span>
<span class="w">    </span><span class="n">order</span><span class="p">(</span><span class="n">orderNumber</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Order</span>
<span class="w">    </span><span class="n">orders</span><span class="p">(</span><span class="n">status</span><span class="p">:</span><span class="w"> </span><span class="no">OrderStatus</span><span class="p">,</span><span class="w"> </span><span class="n">partnerCode</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="p">,</span><span class="w"> </span><span class="n">page</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">OrderConnection</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 出荷</span>
<span class="w">    </span><span class="n">shipment</span><span class="p">(</span><span class="n">shipmentNumber</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Shipment</span>
<span class="w">    </span><span class="n">shipments</span><span class="p">(</span><span class="n">status</span><span class="p">:</span><span class="w"> </span><span class="no">ShipmentStatus</span><span class="p">,</span><span class="w"> </span><span class="n">page</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">ShipmentConnection</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 請求</span>
<span class="w">    </span><span class="n">invoice</span><span class="p">(</span><span class="n">invoiceNumber</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Invoice</span>
<span class="w">    </span><span class="n">invoices</span><span class="p">(</span><span class="n">status</span><span class="p">:</span><span class="w"> </span><span class="no">InvoiceStatus</span><span class="p">,</span><span class="w"> </span><span class="n">partnerCode</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="p">,</span><span class="w"> </span><span class="n">page</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">:</span><span class="w"> </span><span class="no">Int</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">InvoiceConnection</span><span class="err">!</span>
<span class="p">}</span>

<span class="k">type</span><span class="w"> </span><span class="err">Mutation</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c"># 商品</span>
<span class="w">    </span><span class="n">createProduct</span><span class="p">(</span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="no">CreateProductInput</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Product</span><span class="err">!</span>
<span class="w">    </span><span class="n">updateProduct</span><span class="p">(</span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="no">UpdateProductInput</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Product</span><span class="err">!</span>
<span class="w">    </span><span class="n">deleteProduct</span><span class="p">(</span><span class="n">productCode</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Boolean</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 取引先</span>
<span class="w">    </span><span class="n">createPartner</span><span class="p">(</span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="no">CreatePartnerInput</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Partner</span><span class="err">!</span>
<span class="w">    </span><span class="n">updatePartner</span><span class="p">(</span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="no">UpdatePartnerInput</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Partner</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 受注</span>
<span class="w">    </span><span class="n">createOrder</span><span class="p">(</span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="no">CreateOrderInput</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Order</span><span class="err">!</span>
<span class="w">    </span><span class="n">confirmOrder</span><span class="p">(</span><span class="n">orderNumber</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Order</span><span class="err">!</span>
<span class="w">    </span><span class="n">cancelOrder</span><span class="p">(</span><span class="n">orderNumber</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">,</span><span class="w"> </span><span class="n">reason</span><span class="p">:</span><span class="w"> </span><span class="no">String</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Order</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 出荷</span>
<span class="w">    </span><span class="n">createShipment</span><span class="p">(</span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="no">CreateShipmentInput</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Shipment</span><span class="err">!</span>
<span class="w">    </span><span class="n">startPicking</span><span class="p">(</span><span class="n">shipmentNumber</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Shipment</span><span class="err">!</span>
<span class="w">    </span><span class="n">confirmShipment</span><span class="p">(</span><span class="n">shipmentNumber</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Shipment</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 請求</span>
<span class="w">    </span><span class="n">executeClosing</span><span class="p">(</span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="no">ExecuteClosingInput</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">ClosingResult</span><span class="err">!</span>
<span class="w">    </span><span class="n">issueInvoice</span><span class="p">(</span><span class="n">invoiceNumber</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Invoice</span><span class="err">!</span>
<span class="w">    </span><span class="n">recordReceipt</span><span class="p">(</span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="no">RecordReceiptInput</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Receipt</span><span class="err">!</span>
<span class="p">}</span>

<span class="k">type</span><span class="w"> </span><span class="err">Subscription</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c"># 受注ステータス変更</span>
<span class="w">    </span><span class="n">orderStatusChanged</span><span class="p">(</span><span class="n">orderNumber</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">OrderStatusChange</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 出荷進捗</span>
<span class="w">    </span><span class="n">shipmentProgressUpdated</span><span class="p">(</span><span class="n">shipmentNumber</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">ShipmentProgress</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 在庫変動</span>
<span class="w">    </span><span class="n">inventoryChanged</span><span class="p">(</span><span class="n">warehouseCode</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="p">,</span><span class="w"> </span><span class="n">productCode</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">InventoryChange</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 締処理進捗</span>
<span class="w">    </span><span class="n">closingProgressUpdated</span><span class="p">(</span><span class="n">closingId</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">ClosingProgress</span><span class="err">!</span>
<span class="p">}</span>

<span class="c"># ページネーション共通型</span>
<span class="k">type</span><span class="w"> </span><span class="err">PageInfo</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">hasNextPage</span><span class="p">:</span><span class="w"> </span><span class="n">Boolean</span><span class="err">!</span>
<span class="w">    </span><span class="nl">hasPreviousPage</span><span class="p">:</span><span class="w"> </span><span class="n">Boolean</span><span class="err">!</span>
<span class="w">    </span><span class="nl">totalElements</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="err">!</span>
<span class="w">    </span><span class="nl">totalPages</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="err">!</span>
<span class="w">    </span><span class="nl">currentPage</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="err">!</span>
<span class="p">}</span>

<span class="c"># カスタムスカラー</span>
<span class="k">scalar</span><span class="w"> </span><span class="err">Date</span>
<span class="k">scalar</span><span class="w"> </span><span class="err">DateTime</span>
<span class="k">scalar</span><span class="w"> </span><span class="err">BigDecimal</span>
<span class="k">scalar</span><span class="w"> </span><span class="err">Long</span>
</code></pre></div>

</details>

<h4 id="srcmainresourcesgraphqlproductgraphqls">src/main/resources/graphql/product.graphqls<a class="headerlink" href="#srcmainresourcesgraphqlproductgraphqls" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: product.graphqls</summary>

<div class="highlight"><pre><span></span><code><span class="c"># 商品区分</span>
<span class="k">enum</span><span class="w"> </span><span class="err">ProductCategory</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">PRODUCT</span><span class="w">      </span><span class="c"># 製品</span>
<span class="w">    </span><span class="n">MATERIAL</span><span class="w">     </span><span class="c"># 原材料</span>
<span class="w">    </span><span class="n">PART</span><span class="w">         </span><span class="c"># 部品</span>
<span class="p">}</span>

<span class="c"># 税区分</span>
<span class="k">enum</span><span class="w"> </span><span class="err">TaxCategory</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">TAXABLE</span><span class="w">      </span><span class="c"># 課税</span>
<span class="w">    </span><span class="n">TAX_EXEMPT</span><span class="w">   </span><span class="c"># 非課税</span>
<span class="w">    </span><span class="n">TAX_FREE</span><span class="w">     </span><span class="c"># 免税</span>
<span class="p">}</span>

<span class="c"># 商品</span>
<span class="k">type</span><span class="w"> </span><span class="err">Product</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">productCode</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">productName</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="err">!</span>
<span class="w">    </span><span class="nl">productNameKana</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="w">    </span><span class="nl">category</span><span class="p">:</span><span class="w"> </span><span class="n">ProductCategory</span><span class="err">!</span>
<span class="w">    </span><span class="nl">taxCategory</span><span class="p">:</span><span class="w"> </span><span class="n">TaxCategory</span><span class="err">!</span>
<span class="w">    </span><span class="nl">unitCode</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="w">    </span><span class="nl">sellingPrice</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span><span class="err">!</span>
<span class="w">    </span><span class="nl">purchasePrice</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span>
<span class="w">    </span><span class="nl">costPrice</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span>
<span class="w">    </span><span class="nl">safetyStock</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span>
<span class="w">    </span><span class="nl">reorderPoint</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span>
<span class="w">    </span><span class="nl">isActive</span><span class="p">:</span><span class="w"> </span><span class="n">Boolean</span><span class="err">!</span>
<span class="w">    </span><span class="nl">createdAt</span><span class="p">:</span><span class="w"> </span><span class="n">DateTime</span><span class="err">!</span>
<span class="w">    </span><span class="nl">updatedAt</span><span class="p">:</span><span class="w"> </span><span class="n">DateTime</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 関連データ（必要な場合のみ取得）</span>
<span class="w">    </span><span class="nl">inventories</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="n">Inventory</span><span class="err">!]!</span>
<span class="w">    </span><span class="nl">classifications</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="n">ProductClassification</span><span class="err">!]!</span>
<span class="w">    </span><span class="nl">customerPrices</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="n">CustomerPrice</span><span class="err">!]!</span>
<span class="p">}</span>

<span class="c"># 商品一覧（ページネーション付き）</span>
<span class="k">type</span><span class="w"> </span><span class="err">ProductConnection</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">edges</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="n">ProductEdge</span><span class="err">!]!</span>
<span class="w">    </span><span class="nl">pageInfo</span><span class="p">:</span><span class="w"> </span><span class="n">PageInfo</span><span class="err">!</span>
<span class="p">}</span>

<span class="k">type</span><span class="w"> </span><span class="err">ProductEdge</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">node</span><span class="p">:</span><span class="w"> </span><span class="n">Product</span><span class="err">!</span>
<span class="w">    </span><span class="nl">cursor</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="err">!</span>
<span class="p">}</span>

<span class="c"># 入力型</span>
<span class="k">input</span><span class="w"> </span><span class="err">CreateProductInput</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">productCode</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">productName</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="err">!</span>
<span class="w">    </span><span class="nl">productNameKana</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="w">    </span><span class="nl">category</span><span class="p">:</span><span class="w"> </span><span class="n">ProductCategory</span><span class="err">!</span>
<span class="w">    </span><span class="nl">taxCategory</span><span class="p">:</span><span class="w"> </span><span class="n">TaxCategory</span><span class="err">!</span>
<span class="w">    </span><span class="nl">unitCode</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="w">    </span><span class="nl">sellingPrice</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span><span class="err">!</span>
<span class="w">    </span><span class="nl">purchasePrice</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span>
<span class="w">    </span><span class="nl">costPrice</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span>
<span class="w">    </span><span class="nl">safetyStock</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span>
<span class="w">    </span><span class="nl">reorderPoint</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span>
<span class="p">}</span>

<span class="k">input</span><span class="w"> </span><span class="err">UpdateProductInput</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">productCode</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">productName</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="w">    </span><span class="nl">category</span><span class="p">:</span><span class="w"> </span><span class="n">ProductCategory</span>
<span class="w">    </span><span class="nl">taxCategory</span><span class="p">:</span><span class="w"> </span><span class="n">TaxCategory</span>
<span class="w">    </span><span class="nl">sellingPrice</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span>
<span class="w">    </span><span class="nl">isActive</span><span class="p">:</span><span class="w"> </span><span class="n">Boolean</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="srcmainresourcesgraphqlordergraphqls">src/main/resources/graphql/order.graphqls<a class="headerlink" href="#srcmainresourcesgraphqlordergraphqls" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: order.graphqls</summary>

<div class="highlight"><pre><span></span><code><span class="c"># 受注ステータス</span>
<span class="k">enum</span><span class="w"> </span><span class="err">OrderStatus</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">DRAFT</span><span class="w">        </span><span class="c"># 仮登録</span>
<span class="w">    </span><span class="n">CONFIRMED</span><span class="w">    </span><span class="c"># 確定</span>
<span class="w">    </span><span class="n">SHIPPED</span><span class="w">      </span><span class="c"># 出荷済</span>
<span class="w">    </span><span class="n">CANCELLED</span><span class="w">    </span><span class="c"># キャンセル</span>
<span class="p">}</span>

<span class="c"># 受注</span>
<span class="k">type</span><span class="w"> </span><span class="err">Order</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">orderNumber</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">partnerCode</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">orderDate</span><span class="p">:</span><span class="w"> </span><span class="n">Date</span><span class="err">!</span>
<span class="w">    </span><span class="nl">deliveryDate</span><span class="p">:</span><span class="w"> </span><span class="n">Date</span><span class="err">!</span>
<span class="w">    </span><span class="nl">warehouseCode</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">status</span><span class="p">:</span><span class="w"> </span><span class="n">OrderStatus</span><span class="err">!</span>
<span class="w">    </span><span class="nl">totalAmount</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span><span class="err">!</span>
<span class="w">    </span><span class="nl">taxAmount</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span><span class="err">!</span>
<span class="w">    </span><span class="nl">grandTotal</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span><span class="err">!</span>
<span class="w">    </span><span class="nl">salesPersonCode</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="w">    </span><span class="nl">remarks</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="w">    </span><span class="nl">createdAt</span><span class="p">:</span><span class="w"> </span><span class="n">DateTime</span><span class="err">!</span>
<span class="w">    </span><span class="nl">updatedAt</span><span class="p">:</span><span class="w"> </span><span class="n">DateTime</span><span class="err">!</span>

<span class="w">    </span><span class="c"># 関連データ</span>
<span class="w">    </span><span class="nl">partner</span><span class="p">:</span><span class="w"> </span><span class="n">Partner</span><span class="err">!</span>
<span class="w">    </span><span class="nl">warehouse</span><span class="p">:</span><span class="w"> </span><span class="n">Warehouse</span><span class="err">!</span>
<span class="w">    </span><span class="nl">details</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="n">OrderDetail</span><span class="err">!]!</span>
<span class="w">    </span><span class="nl">shipments</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="n">Shipment</span><span class="err">!]!</span>
<span class="p">}</span>

<span class="c"># 受注明細</span>
<span class="k">type</span><span class="w"> </span><span class="err">OrderDetail</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">orderNumber</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">lineNumber</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="err">!</span>
<span class="w">    </span><span class="nl">productCode</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">quantity</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="err">!</span>
<span class="w">    </span><span class="nl">unitPrice</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span><span class="err">!</span>
<span class="w">    </span><span class="nl">amount</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span><span class="err">!</span>
<span class="w">    </span><span class="nl">taxCategory</span><span class="p">:</span><span class="w"> </span><span class="n">TaxCategory</span><span class="err">!</span>
<span class="w">    </span><span class="nl">deliveryDate</span><span class="p">:</span><span class="w"> </span><span class="n">Date</span>
<span class="w">    </span><span class="nl">remarks</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>

<span class="w">    </span><span class="c"># 関連データ</span>
<span class="w">    </span><span class="nl">product</span><span class="p">:</span><span class="w"> </span><span class="n">Product</span><span class="err">!</span>
<span class="p">}</span>

<span class="c"># 受注ステータス変更イベント</span>
<span class="k">type</span><span class="w"> </span><span class="err">OrderStatusChange</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">orderNumber</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">previousStatus</span><span class="p">:</span><span class="w"> </span><span class="n">OrderStatus</span><span class="err">!</span>
<span class="w">    </span><span class="nl">currentStatus</span><span class="p">:</span><span class="w"> </span><span class="n">OrderStatus</span><span class="err">!</span>
<span class="w">    </span><span class="nl">changedBy</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="w">    </span><span class="nl">changedAt</span><span class="p">:</span><span class="w"> </span><span class="n">DateTime</span><span class="err">!</span>
<span class="w">    </span><span class="nl">reason</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="p">}</span>

<span class="c"># 入力型</span>
<span class="k">input</span><span class="w"> </span><span class="err">CreateOrderInput</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">partnerCode</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">orderDate</span><span class="p">:</span><span class="w"> </span><span class="n">Date</span><span class="err">!</span>
<span class="w">    </span><span class="nl">deliveryDate</span><span class="p">:</span><span class="w"> </span><span class="n">Date</span><span class="err">!</span>
<span class="w">    </span><span class="nl">warehouseCode</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">salesPersonCode</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="w">    </span><span class="nl">remarks</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="w">    </span><span class="nl">details</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="n">OrderDetailInput</span><span class="err">!]!</span>
<span class="p">}</span>

<span class="k">input</span><span class="w"> </span><span class="err">OrderDetailInput</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">productCode</span><span class="p">:</span><span class="w"> </span><span class="n">ID</span><span class="err">!</span>
<span class="w">    </span><span class="nl">quantity</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="err">!</span>
<span class="w">    </span><span class="nl">unitPrice</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span>
<span class="w">    </span><span class="nl">deliveryDate</span><span class="p">:</span><span class="w"> </span><span class="n">Date</span>
<span class="w">    </span><span class="nl">remarks</span><span class="p">:</span><span class="w"> </span><span class="n">String</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h3 id="148">14.8 基本的なリゾルバの実装<a class="headerlink" href="#148" title="Permanent link">&para;</a></h3>
<h4 id="query">Query リゾルバ<a class="headerlink" href="#query" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: QueryResolver.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.resolver</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.application.port.in.ProductUseCase</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.application.port.in.PartnerUseCase</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.domain.model.product.Product</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.domain.model.partner.Partner</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.dto.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.graphql.data.method.annotation.Argument</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.graphql.data.method.annotation.QueryMapping</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Controller</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * GraphQL Query リゾルバ</span>
<span class="cm"> */</span>
<span class="nd">@Controller</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">QueryResolver</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ProductUseCase</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">PartnerUseCase</span><span class="w"> </span><span class="n">partnerUseCase</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">QueryResolver</span><span class="p">(</span><span class="n">ProductUseCase</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">,</span><span class="w"> </span><span class="n">PartnerUseCase</span><span class="w"> </span><span class="n">partnerUseCase</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">productUseCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">partnerUseCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">partnerUseCase</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// === 商品 ===</span>

<span class="w">    </span><span class="nd">@QueryMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="nf">product</span><span class="p">(</span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">.</span><span class="na">findByCode</span><span class="p">(</span><span class="n">productCode</span><span class="p">).</span><span class="na">orElse</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@QueryMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ProductConnection</span><span class="w"> </span><span class="nf">products</span><span class="p">(</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">category</span><span class="p">,</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">page</span><span class="p">,</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pageNum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pageSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>

<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">.</span><span class="na">findAll</span><span class="p">(</span><span class="n">category</span><span class="p">,</span><span class="w"> </span><span class="n">pageNum</span><span class="p">,</span><span class="w"> </span><span class="n">pageSize</span><span class="p">);</span>
<span class="w">        </span><span class="kt">long</span><span class="w"> </span><span class="n">totalCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">.</span><span class="na">count</span><span class="p">(</span><span class="n">category</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ProductConnection</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">products</span><span class="p">,</span><span class="w"> </span><span class="n">pageNum</span><span class="p">,</span><span class="w"> </span><span class="n">pageSize</span><span class="p">,</span><span class="w"> </span><span class="n">totalCount</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// === 取引先 ===</span>

<span class="w">    </span><span class="nd">@QueryMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Partner</span><span class="w"> </span><span class="nf">partner</span><span class="p">(</span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">partnerCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">partnerUseCase</span><span class="p">.</span><span class="na">findByCode</span><span class="p">(</span><span class="n">partnerCode</span><span class="p">).</span><span class="na">orElse</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@QueryMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">PartnerConnection</span><span class="w"> </span><span class="nf">partners</span><span class="p">(</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">type</span><span class="p">,</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">page</span><span class="p">,</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pageNum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pageSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>

<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Partner</span><span class="o">&gt;</span><span class="w"> </span><span class="n">partners</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">partnerUseCase</span><span class="p">.</span><span class="na">findAll</span><span class="p">(</span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="n">pageNum</span><span class="p">,</span><span class="w"> </span><span class="n">pageSize</span><span class="p">);</span>
<span class="w">        </span><span class="kt">long</span><span class="w"> </span><span class="n">totalCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">partnerUseCase</span><span class="p">.</span><span class="na">count</span><span class="p">(</span><span class="n">type</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">PartnerConnection</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">partners</span><span class="p">,</span><span class="w"> </span><span class="n">pageNum</span><span class="p">,</span><span class="w"> </span><span class="n">pageSize</span><span class="p">,</span><span class="w"> </span><span class="n">totalCount</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="connection-dto">Connection DTO（ページネーション）<a class="headerlink" href="#connection-dto" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: ProductConnection.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.dto</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.domain.model.product.Product</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Base64</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 商品ページネーション結果（Connection パターン）</span>
<span class="cm"> */</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">record</span> <span class="nc">ProductConnection</span><span class="p">(</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ProductEdge</span><span class="o">&gt;</span><span class="w"> </span><span class="n">edges</span><span class="p">,</span>
<span class="w">    </span><span class="n">PageInfo</span><span class="w"> </span><span class="n">pageInfo</span>
<span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">ProductConnection</span><span class="w"> </span><span class="nf">of</span><span class="p">(</span>
<span class="w">            </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">products</span><span class="p">,</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="p">,</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="p">,</span>
<span class="w">            </span><span class="kt">long</span><span class="w"> </span><span class="n">totalCount</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ProductEdge</span><span class="o">&gt;</span><span class="w"> </span><span class="n">edges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">products</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">product</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ProductEdge</span><span class="p">(</span>
<span class="w">                </span><span class="n">product</span><span class="p">,</span>
<span class="w">                </span><span class="n">encodeCursor</span><span class="p">(</span><span class="n">product</span><span class="p">.</span><span class="na">getProductCode</span><span class="p">())</span>
<span class="w">            </span><span class="p">))</span>
<span class="w">            </span><span class="p">.</span><span class="na">toList</span><span class="p">();</span>

<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">totalPages</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">ceil</span><span class="p">((</span><span class="kt">double</span><span class="p">)</span><span class="w"> </span><span class="n">totalCount</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">size</span><span class="p">);</span>

<span class="w">        </span><span class="n">PageInfo</span><span class="w"> </span><span class="n">pageInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PageInfo</span><span class="p">(</span>
<span class="w">            </span><span class="n">page</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">totalPages</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">  </span><span class="c1">// hasNextPage</span>
<span class="w">            </span><span class="n">page</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">               </span><span class="c1">// hasPreviousPage</span>
<span class="w">            </span><span class="n">totalCount</span><span class="p">,</span>
<span class="w">            </span><span class="n">totalPages</span><span class="p">,</span>
<span class="w">            </span><span class="n">page</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ProductConnection</span><span class="p">(</span><span class="n">edges</span><span class="p">,</span><span class="w"> </span><span class="n">pageInfo</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">encodeCursor</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Base64</span><span class="p">.</span><span class="na">getEncoder</span><span class="p">().</span><span class="na">encodeToString</span><span class="p">(</span><span class="n">productCode</span><span class="p">.</span><span class="na">getBytes</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">record</span> <span class="nc">ProductEdge</span><span class="p">(</span>
<span class="w">    </span><span class="n">Product</span><span class="w"> </span><span class="n">node</span><span class="p">,</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">cursor</span>
<span class="p">)</span><span class="w"> </span><span class="p">{}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">record</span> <span class="nc">PageInfo</span><span class="p">(</span>
<span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="n">hasNextPage</span><span class="p">,</span>
<span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="n">hasPreviousPage</span><span class="p">,</span>
<span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="n">totalElements</span><span class="p">,</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">totalPages</span><span class="p">,</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">currentPage</span>
<span class="p">)</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>

</details>

<hr />
<h3 id="149-spring-for-graphql">14.9 Spring for GraphQL の統合テスト<a class="headerlink" href="#149-spring-for-graphql" title="Permanent link">&para;</a></h3>
<details>
<summary>コード例: QueryResolverTest.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.Test</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.boot.test.autoconfigure.graphql.tester.AutoConfigureHttpGraphQlTester</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.boot.test.context.SpringBootTest</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.graphql.test.tester.HttpGraphQlTester</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.test.context.DynamicPropertyRegistry</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.test.context.DynamicPropertySource</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.testcontainers.containers.PostgreSQLContainer</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.testcontainers.junit.jupiter.Container</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.testcontainers.junit.jupiter.Testcontainers</span><span class="p">;</span>

<span class="nd">@SpringBootTest</span><span class="p">(</span><span class="n">webEnvironment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SpringBootTest</span><span class="p">.</span><span class="na">WebEnvironment</span><span class="p">.</span><span class="na">RANDOM_PORT</span><span class="p">)</span>
<span class="nd">@AutoConfigureHttpGraphQlTester</span>
<span class="nd">@Testcontainers</span>
<span class="kd">class</span> <span class="nc">QueryResolverTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Container</span>
<span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="n">PostgreSQLContainer</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">postgres</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PostgreSQLContainer</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;postgres:16-alpine&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="nd">@DynamicPropertySource</span>
<span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">configureProperties</span><span class="p">(</span><span class="n">DynamicPropertyRegistry</span><span class="w"> </span><span class="n">registry</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">registry</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;spring.datasource.url&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">postgres</span><span class="p">::</span><span class="n">getJdbcUrl</span><span class="p">);</span>
<span class="w">        </span><span class="n">registry</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;spring.datasource.username&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">postgres</span><span class="p">::</span><span class="n">getUsername</span><span class="p">);</span>
<span class="w">        </span><span class="n">registry</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;spring.datasource.password&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">postgres</span><span class="p">::</span><span class="n">getPassword</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">HttpGraphQlTester</span><span class="w"> </span><span class="n">graphQlTester</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">testQueryProduct</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// language=GraphQL</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;&quot;</span>
<span class="s">            query {</span>
<span class="s">                product(productCode: &quot;PRD001&quot;) {</span>
<span class="s">                    productCode</span>
<span class="s">                    productName</span>
<span class="s">                    sellingPrice</span>
<span class="s">                    category</span>
<span class="s">                }</span>
<span class="s">            }</span>
<span class="s">            &quot;&quot;&quot;</span><span class="p">;</span>

<span class="w">        </span><span class="n">graphQlTester</span><span class="p">.</span><span class="na">document</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">execute</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">path</span><span class="p">(</span><span class="s">&quot;product.productCode&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">entity</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&quot;PRD001&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">testQueryProducts</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// language=GraphQL</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;&quot;</span>
<span class="s">            query {</span>
<span class="s">                products(category: PRODUCT, page: 0, size: 10) {</span>
<span class="s">                    edges {</span>
<span class="s">                        node {</span>
<span class="s">                            productCode</span>
<span class="s">                            productName</span>
<span class="s">                        }</span>
<span class="s">                        cursor</span>
<span class="s">                    }</span>
<span class="s">                    pageInfo {</span>
<span class="s">                        hasNextPage</span>
<span class="s">                        totalElements</span>
<span class="s">                    }</span>
<span class="s">                }</span>
<span class="s">            }</span>
<span class="s">            &quot;&quot;&quot;</span><span class="p">;</span>

<span class="w">        </span><span class="n">graphQlTester</span><span class="p">.</span><span class="na">document</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">execute</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">path</span><span class="p">(</span><span class="s">&quot;products.edges&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">entityList</span><span class="p">(</span><span class="n">Object</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">hasSizeGreaterThan</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">testQueryProductWithRelations</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 関連データも含めて取得</span>
<span class="w">        </span><span class="c1">// language=GraphQL</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;&quot;</span>
<span class="s">            query {</span>
<span class="s">                product(productCode: &quot;PRD001&quot;) {</span>
<span class="s">                    productCode</span>
<span class="s">                    productName</span>
<span class="s">                    inventories {</span>
<span class="s">                        warehouseCode</span>
<span class="s">                        quantity</span>
<span class="s">                        availableQuantity</span>
<span class="s">                    }</span>
<span class="s">                    classifications {</span>
<span class="s">                        classificationCode</span>
<span class="s">                        classificationName</span>
<span class="s">                    }</span>
<span class="s">                }</span>
<span class="s">            }</span>
<span class="s">            &quot;&quot;&quot;</span><span class="p">;</span>

<span class="w">        </span><span class="n">graphQlTester</span><span class="p">.</span><span class="na">document</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">execute</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">path</span><span class="p">(</span><span class="s">&quot;product.productCode&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">entity</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&quot;PRD001&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="15-api">第15章：マスタ API の実装<a class="headerlink" href="#15-api" title="Permanent link">&para;</a></h2>
<h3 id="151-n1">15.1 N+1 問題とは<a class="headerlink" href="#151-n1" title="Permanent link">&para;</a></h3>
<p>GraphQL では、ネストしたデータを取得する際に <strong>N+1 問題</strong> が発生しやすくなります。例えば、10件の商品を取得し、それぞれの在庫情報を取得すると、1回（商品一覧）+ 10回（各商品の在庫）= 11回のクエリが実行されます。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNFUVVFTkNFIiBoZWlnaHQ9IjU0N3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6OTM3cHg7aGVpZ2h0OjU0N3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDkzNyA1NDciIHdpZHRoPSI5MzdweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPk4rMSAmIzIxODM5OyYjMzg5ODg7JiMxMjM5ODsmIzMwMzMwOyYjMjk5ODM7JiMxMjQ5NzsmIzEyNDc5OyYjMTI1NDA7JiMxMjUzMTs8L3RpdGxlPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY0LjA2MiIgeD0iMzg1LjI4MjEiIHk9IjI3Ljk5NTEiPk4rMSAmIzIxODM5OyYjMzg5ODg7JiMxMjM5ODsmIzMwMzMwOyYjMjk5ODM7JiMxMjQ5NzsmIzEyNDc5OyYjMTI1NDA7JiMxMjUzMTs8L3RleHQ+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIxMzMuNjY0MSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNjU5Ljc1MjEiIHg9IjE0NS4xNDQ3IiB5PSIyMDguOTkyMiIvPjxnPjx0aXRsZT5HcmFwaFFMIENsaWVudDwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjM2NC43MjY2IiB3aWR0aD0iOCIgeD0iNjEuMzcxNiIgeT0iMTA0LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSI2NSIgeDI9IjY1IiB5MT0iMTA0LjU5MzgiIHkyPSI0NjkuMzIwMyIvPjwvZz48Zz48dGl0bGU+UHJvZHVjdFJlc29sdmVyPC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iMzY0LjcyNjYiIHdpZHRoPSI4IiB4PSIyMTUuMzcxNyIgeT0iMTA0LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSIyMTkuMTQ0NyIgeDI9IjIxOS4xNDQ3IiB5MT0iMTA0LjU5MzgiIHkyPSI0NjkuMzIwMyIvPjwvZz48Zz48dGl0bGU+SW52ZW50b3J5UmVwb3NpdG9yeTwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjM2NC43MjY2IiB3aWR0aD0iOCIgeD0iNDA1LjMxMjIiIHk9IjEwNC41OTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LDU7IiB4MT0iNDA4LjM0MTUiIHgyPSI0MDguMzQxNSIgeTE9IjEwNC41OTM4IiB5Mj0iNDY5LjMyMDMiLz48L2c+PGc+PHRpdGxlPlBvc3RncmVTUUw8L3RpdGxlPjxyZWN0IGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMC4wMDAwMCIgaGVpZ2h0PSIzNjQuNzI2NiIgd2lkdGg9IjgiIHg9Ijc0Ny41MjAzIiB5PSIxMDQuNTkzOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NSw1OyIgeDE9Ijc1MS4xNDM4IiB4Mj0iNzUxLjE0MzgiIHkxPSIxMDQuNTkzOCIgeTI9IjQ2OS4zMjAzIi8+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC1oZWFkIiBkYXRhLXBhcnRpY2lwYW50PSJjbGllbnQiPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTIwLjc0MzIiIHg9IjUiIHk9IjczLjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuNzQzMiIgeD0iMTIiIHk9IjkzLjI5MiI+R3JhcGhRTCBDbGllbnQ8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLXBhcnRpY2lwYW50PSJjbGllbnQiPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTIwLjc0MzIiIHg9IjUiIHk9IjQ2OC4zMjAzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA2Ljc0MzIiIHg9IjEyIiB5PSI0ODguMzE1NCI+R3JhcGhRTCBDbGllbnQ8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC1oZWFkIiBkYXRhLXBhcnRpY2lwYW50PSJyZXNvbHZlciI+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjguNDU0MSIgeD0iMTU1LjE0NDciIHk9IjczLjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTQuNDU0MSIgeD0iMTYyLjE0NDciIHk9IjkzLjI5MiI+UHJvZHVjdFJlc29sdmVyPC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1wYXJ0aWNpcGFudD0icmVzb2x2ZXIiPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTI4LjQ1NDEiIHg9IjE1NS4xNDQ3IiB5PSI0NjguMzIwMyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNC40NTQxIiB4PSIxNjIuMTQ0NyIgeT0iNDg4LjMxNTQiPlByb2R1Y3RSZXNvbHZlcjwvdGV4dD48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtcGFydGljaXBhbnQ9InJlcG8iPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTU1Ljk0MTQiIHg9IjMzMS4zNDE1IiB5PSI3My4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQxLjk0MTQiIHg9IjMzOC4zNDE1IiB5PSI5My4yOTIiPkludmVudG9yeVJlcG9zaXRvcnk8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLXBhcnRpY2lwYW50PSJyZXBvIj48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1NS45NDE0IiB4PSIzMzEuMzQxNSIgeT0iNDY4LjMyMDMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDEuOTQxNCIgeD0iMzM4LjM0MTUiIHk9IjQ4OC4zMTU0Ij5JbnZlbnRvcnlSZXBvc2l0b3J5PC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1wYXJ0aWNpcGFudD0iZGIiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgwLjc1MjkiIHg9IjcwOC4xNDM4IiB5PSIxMDEuMjkyIj5Qb3N0Z3JlU1FMPC90ZXh0PjxwYXRoIGQ9Ik03MzMuNTIwMyw1Mi4yOTY5IEM3MzMuNTIwMyw0Mi4yOTY5IDc1MS41MjAzLDQyLjI5NjkgNzUxLjUyMDMsNDIuMjk2OSBDNzUxLjUyMDMsNDIuMjk2OSA3NjkuNTIwMyw0Mi4yOTY5IDc2OS41MjAzLDUyLjI5NjkgTDc2OS41MjAzLDc4LjI5NjkgQzc2OS41MjAzLDg4LjI5NjkgNzUxLjUyMDMsODguMjk2OSA3NTEuNTIwMyw4OC4yOTY5IEM3NTEuNTIwMyw4OC4yOTY5IDczMy41MjAzLDg4LjI5NjkgNzMzLjUyMDMsNzguMjk2OSBMNzMzLjUyMDMsNTIuMjk2OSIgZmlsbD0iI0UyRTJGMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTczMy41MjAzLDUyLjI5NjkgQzczMy41MjAzLDYyLjI5NjkgNzUxLjUyMDMsNjIuMjk2OSA3NTEuNTIwMyw2Mi4yOTY5IEM3NTEuNTIwMyw2Mi4yOTY5IDc2OS41MjAzLDYyLjI5NjkgNzY5LjUyMDMsNTIuMjk2OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLXBhcnRpY2lwYW50PSJkYiI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODAuNzUyOSIgeD0iNzA4LjE0MzgiIHk9IjQ4MS4zMTU0Ij5Qb3N0Z3JlU1FMPC90ZXh0PjxwYXRoIGQ9Ik03MzMuNTIwMyw0OTQuNjE3MiBDNzMzLjUyMDMsNDg0LjYxNzIgNzUxLjUyMDMsNDg0LjYxNzIgNzUxLjUyMDMsNDg0LjYxNzIgQzc1MS41MjAzLDQ4NC42MTcyIDc2OS41MjAzLDQ4NC42MTcyIDc2OS41MjAzLDQ5NC42MTcyIEw3NjkuNTIwMyw1MjAuNjE3MiBDNzY5LjUyMDMsNTMwLjYxNzIgNzUxLjUyMDMsNTMwLjYxNzIgNzUxLjUyMDMsNTMwLjYxNzIgQzc1MS41MjAzLDUzMC42MTcyIDczMy41MjAzLDUzMC42MTcyIDczMy41MjAzLDUyMC42MTcyIEw3MzMuNTIwMyw0OTQuNjE3MiIgZmlsbD0iI0UyRTJGMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTczMy41MjAzLDQ5NC42MTcyIEM3MzMuNTIwMyw1MDQuNjE3MiA3NTEuNTIwMyw1MDQuNjE3MiA3NTEuNTIwMyw1MDQuNjE3MiBDNzUxLjUyMDMsNTA0LjYxNzIgNzY5LjUyMDMsNTA0LjYxNzIgNzY5LjUyMDMsNDk0LjYxNzIiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJjbGllbnQiIGRhdGEtcGFydGljaXBhbnQtMj0icmVzb2x2ZXIiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjA3LjM3MTcsMTMxLjcyNjYsMjE3LjM3MTcsMTM1LjcyNjYsMjA3LjM3MTcsMTM5LjcyNjYsMjExLjM3MTcsMTM1LjcyNjYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjUuMzcxNiIgeDI9IjIxMy4zNzE3IiB5MT0iMTM1LjcyNjYiIHkyPSIxMzUuNzI2NiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNy42NjAyIiB4PSI3Mi4zNzE2IiB5PSIxMzAuNjYwNiI+cHJvZHVjdHMoZmlyc3Q6IDEwKTwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0icmVzb2x2ZXIiIGRhdGEtcGFydGljaXBhbnQtMj0iZGIiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNzM5LjUyMDMsMTYwLjg1OTQsNzQ5LjUyMDMsMTY0Ljg1OTQsNzM5LjUyMDMsMTY4Ljg1OTQsNzQzLjUyMDMsMTY0Ljg1OTQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjE5LjM3MTciIHgyPSI3NDUuNTIwMyIgeTE9IjE2NC44NTk0IiB5Mj0iMTY0Ljg1OTQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMjkuNjcxIiB4PSIyMjYuMzcxNyIgeT0iMTU5Ljc5MzUiPlNFTEVDVCAqIEZST00gJiMyMTgzMDsmIzIxNjk3OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OyBMSU1JVCAxMDwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0iZGIiIGRhdGEtcGFydGljaXBhbnQtMj0icmVzb2x2ZXIiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjMwLjM3MTcsMTg5Ljk5MjIsMjIwLjM3MTcsMTkzLjk5MjIsMjMwLjM3MTcsMTk3Ljk5MjIsMjI2LjM3MTcsMTkzLjk5MjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheToyLDI7IiB4MT0iMjI0LjM3MTciIHgyPSI3NTAuNTIwMyIgeTE9IjE5My45OTIyIiB5Mj0iMTkzLjk5MjIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OC41NDIxIiB4PSIyMzYuMzcxNyIgeT0iMTg4LjkyNjMiPjEwJiMyMDIxNDsmIzEyMzk4OyYjMjE4MzA7JiMyMTY5Nzs8L3RleHQ+PC9nPjxwYXRoIGQ9Ik0xNDUuMTQ0NywyMDguOTkyMiBMMjIxLjc2ODcsMjA4Ljk5MjIgTDIyMS43Njg3LDIxNi4xMjUgTDIxMS43Njg3LDIyNi4xMjUgTDE0NS4xNDQ3LDIyNi4xMjUgTDE0NS4xNDQ3LDIwOC45OTIyIiBmaWxsPSIjRUVFRUVFIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjEzMy42NjQxIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI2NTkuNzUyMSIgeD0iMTQ1LjE0NDciIHk9IjIwOC45OTIyIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMxLjYyNCIgeD0iMTYwLjE0NDciIHk9IjIyMi4wNTkxIj5sb29wPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjkuMjYiIHg9IjIzNi43Njg3IiB5PSIyMjEuMjAyNiI+WyYjMjE1MDg7JiMyMTgzMDsmIzIxNjk3OyYjMTIzOTU7JiMyMzU1MDsmIzEyMzc1OyYjMTIzOTA7JiM2NTI4ODtOJiMyMjIzODsmIzY1Mjg5O108L3RleHQ+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0icmVzb2x2ZXIiIGRhdGEtcGFydGljaXBhbnQtMj0icmVwbyI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzOTcuMzEyMiwyNDMuMjU3OCw0MDcuMzEyMiwyNDcuMjU3OCwzOTcuMzEyMiwyNTEuMjU3OCw0MDEuMzEyMiwyNDcuMjU3OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMTkuMzcxNyIgeDI9IjQwMy4zMTIyIiB5MT0iMjQ3LjI1NzgiIHkyPSIyNDcuMjU3OCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2NS45NDA0IiB4PSIyMjYuMzcxNyIgeT0iMjQyLjE5MTkiPmZpbmRCeVByb2R1Y3RDb2RlKGNvZGUpPC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJyZXBvIiBkYXRhLXBhcnRpY2lwYW50LTI9ImRiIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjczOS41MjAzLDI3Mi4zOTA2LDc0OS41MjAzLDI3Ni4zOTA2LDczOS41MjAzLDI4MC4zOTA2LDc0My41MjAzLDI3Ni4zOTA2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQwOS4zMTIyIiB4Mj0iNzQ1LjUyMDMiIHkxPSIyNzYuMzkwNiIgeTI9IjI3Ni4zOTA2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzE4LjIwODEiIHg9IjQxNi4zMTIyIiB5PSIyNzEuMzI0NyI+U0VMRUNUICogRlJPTSAmIzIyMzEyOyYjMjQyMzU7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7IFdIRVJFICYjMjE4MzA7JiMyMTY5NzsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgPSA/PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJkYiIgZGF0YS1wYXJ0aWNpcGFudC0yPSJyZXBvIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjQyMC4zMTIyLDMwMS41MjM0LDQxMC4zMTIyLDMwNS41MjM0LDQyMC4zMTIyLDMwOS41MjM0LDQxNi4zMTIyLDMwNS41MjM0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6MiwyOyIgeDE9IjQxNC4zMTIyIiB4Mj0iNzUwLjUyMDMiIHkxPSIzMDUuNTIzNCIgeTI9IjMwNS41MjM0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjUuMDAwMSIgeD0iNDI2LjMxMjIiIHk9IjMwMC40NTc1Ij4mIzIyMzEyOyYjMjQyMzU7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJyZXBvIiBkYXRhLXBhcnRpY2lwYW50LTI9InJlc29sdmVyIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIzMC4zNzE3LDMzMC42NTYzLDIyMC4zNzE3LDMzNC42NTYzLDIzMC4zNzE3LDMzOC42NTYzLDIyNi4zNzE3LDMzNC42NTYzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6MiwyOyIgeDE9IjIyNC4zNzE3IiB4Mj0iNDA4LjMxMjIiIHkxPSIzMzQuNjU2MyIgeTI9IjMzNC42NTYzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjYiIHg9IjIzNi4zNzE3IiB5PSIzMjkuNTkwMyI+JiMyMjMxMjsmIzI0MjM1OzwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0icmVzb2x2ZXIiIGRhdGEtcGFydGljaXBhbnQtMj0iY2xpZW50Ij48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9Ijc2LjM3MTYsMzY2Ljc4OTEsNjYuMzcxNiwzNzAuNzg5MSw3Ni4zNzE2LDM3NC43ODkxLDcyLjM3MTYsMzcwLjc4OTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheToyLDI7IiB4MT0iNzAuMzcxNiIgeDI9IjIxOC4zNzE3IiB5MT0iMzcwLjc4OTEiIHkyPSIzNzAuNzg5MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMC4wMDAyIiB4PSI4Mi4zNzE2IiB5PSIzNjUuNzIzMSI+JiMyMTgzMDsmIzIxNjk3OyYjMTk5Njg7JiMzNTIzOTsmIzY1Mjg4OyYjMjIzMTI7JiMyNDIzNTsmIzIwMTg0OyYjMTIzNjU7JiM2NTI4OTs8L3RleHQ+PC9nPjxwYXRoIGQ9Ik03NTYsMzgzLjc4OTEgTDc1Niw0NTMuNzg5MSBMOTMwLDQ1My43ODkxIEw5MzAsMzkzLjc4OTEgTDkyMCwzODMuNzg5MSBMNzU2LDM4My43ODkxIiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNOTIwLDM4My43ODkxIEw5MjAsMzkzLjc4OTEgTDkzMCwzOTMuNzg5MSBMOTIwLDM4My43ODkxIiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTEuNjc0NCIgeD0iNzYyIiB5PSI0MDAuODU2Ij4mIzIxNTEyOyYjMzUzMzY7IDExJiMyMjIzODsmIzEyMzk4OyYjMTI0NjM7JiMxMjQ1NjsmIzEyNTIyOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTAuNDIzOCIgeD0iNzYyIiB5PSI0MTUuOTg4OCI+KDEgKyBOID0gMSArIDEwKTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0LjEzMjMiIHg9Ijc2MiIgeT0iNDMxLjEyMTYiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTMuNjI2MSIgeD0iNzYyIiB5PSI0NDYuMjU0NCI+JiMyMTgzMDsmIzIxNjk3OyYjMTIzNjQ7MTAwJiMyMDIxNDsmIzEyMzk0OyYjMTI0MjU7MTAxJiMyMjIzODsmIzY1MjgxOzwvdGV4dD48IS0tU1JDPVtUTDVESW5qMTZCeEZodFpuNTJqMnZYZmUydVFxM1NJZUtWMnlvS3hDR2pYUFBnVTF0RHBUZVdiT2dnWWVBOGVONm1tcVhxM244LVlGY0lwZ29SX0dUdE90Z0xsZVBOVTZVVHhkd3ZNTVIzOGVwcjQ4M3QteU5FdWV4elZKb1R0Sm1PS0F6ZkpfZzhBSDJlUTRFOFFHTGlybzM1bDJwNlRYRThzTDRrSVI1aEZiMzFXa3JBOVo2aE9pa0ZjcjlZbEN2U3FNNG41RTk5U3FpY1l0UzlnQlRlS3Z0Qk5xQUs0eGQ5WTZEQWc2b3YyR2t0OTNpRE1MS2xIZ0xXYzlUTTctbXZHUFNrMzRtY3djUldiTnZlMWNQeWRxNlE1YzVLNmhYTDhYbG1SbHU1RGJRSDczUnVOeGRXaEViTi1CaVE1S04yb2t1STExeDdvUWRNUjd6eC1uZmRZNGEyUmQzZUl4dG44QWhueUU3Zkh0ZkJvaHJyNmQ3OXdVbHV3d0FOY1QyZGRnYmNxa2o5RUl5am5hY0hmLWo1RHlfZV9CaXJ2dXJyVjFqYnVCa2JwX0tnV0s5anh6T1JJaUJobzdadHpqSHJCX3AyS0l3TFduWFozUjk2X1M4WVFmRTlWZVo2eXNkd3otT2hIdU83bl9oQnBsRVlBbmtNR1doOHM2MTV4TnNtYnRFeS16M2IyQTlNMVhvWHllbHdVMlF2QVhDMFRiREFoX1VaamFLanVFcFNSck5Za19JeENxZ2lfSmhhM0pfbTQwXS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<hr />
<h3 id="152-dataloader">15.2 DataLoader による解決<a class="headerlink" href="#152-dataloader" title="Permanent link">&para;</a></h3>
<p><strong>DataLoader</strong> は、複数の個別リクエストをバッチ処理にまとめることで N+1 問題を解決します。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNFUVVFTkNFIiBoZWlnaHQ9IjY0MXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MTIxNHB4O2hlaWdodDo2NDFweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMjE0IDY0MSIgd2lkdGg9IjEyMTRweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPkRhdGFMb2FkZXIgJiMxMjM5NTsmIzEyNDI0OyYjMTI0Mjc7IE4rMSAmIzIxODM5OyYjMzg5ODg7JiMxMjM5ODsmIzM1Mjk5OyYjMjc3NzA7PC90aXRsZT48ZGVmcy8+PGc+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI1MS40MjUzIiB4PSI0NzkuODI5NCIgeT0iMjcuOTk1MSI+RGF0YUxvYWRlciAmIzEyMzk1OyYjMTI0MjQ7JiMxMjQyNzsgTisxICYjMjE4Mzk7JiMzODk4ODsmIzEyMzk4OyYjMzUyOTk7JiMyNzc3MDs8L3RleHQ+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI4MS4zOTg0IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIzNDIuODU1NCIgeD0iMTQ1LjE0NDciIHk9IjIwOC45OTIyIi8+PGc+PHRpdGxlPkdyYXBoUUwgQ2xpZW50PC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iNDU4LjEyNSIgd2lkdGg9IjgiIHg9IjYxLjM3MTYiIHk9IjEwNC41OTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LDU7IiB4MT0iNjUiIHgyPSI2NSIgeTE9IjEwNC41OTM4IiB5Mj0iNTYyLjcxODgiLz48L2c+PGc+PHRpdGxlPlByb2R1Y3RSZXNvbHZlcjwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjQ1OC4xMjUiIHdpZHRoPSI4IiB4PSIyMTUuMzcxNyIgeT0iMTA0LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSIyMTkuMTQ0NyIgeDI9IjIxOS4xNDQ3IiB5MT0iMTA0LjU5MzgiIHkyPSI1NjIuNzE4OCIvPjwvZz48Zz48dGl0bGU+SW52ZW50b3J5RGF0YUxvYWRlcjwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjQ1OC4xMjUiIHdpZHRoPSI4IiB4PSIzNzAuODQ3MyIgeT0iMTA0LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSIzNzQuNTk4OCIgeDI9IjM3NC41OTg4IiB5MT0iMTA0LjU5MzgiIHkyPSI1NjIuNzE4OCIvPjwvZz48Zz48dGl0bGU+SW52ZW50b3J5UmVwb3NpdG9yeTwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjQ1OC4xMjUiIHdpZHRoPSI4IiB4PSI2MzQuMDk2OCIgeT0iMTA0LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSI2MzcuMTI2MSIgeDI9IjYzNy4xMjYxIiB5MT0iMTA0LjU5MzgiIHkyPSI1NjIuNzE4OCIvPjwvZz48Zz48dGl0bGU+UG9zdGdyZVNRTDwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjQ1OC4xMjUiIHdpZHRoPSI4IiB4PSIxMDQwLjEwNTMiIHk9IjEwNC41OTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LDU7IiB4MT0iMTA0My43Mjg4IiB4Mj0iMTA0My43Mjg4IiB5MT0iMTA0LjU5MzgiIHkyPSI1NjIuNzE4OCIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1wYXJ0aWNpcGFudD0iY2xpZW50Ij48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyMC43NDMyIiB4PSI1IiB5PSI3My4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA2Ljc0MzIiIHg9IjEyIiB5PSI5My4yOTIiPkdyYXBoUUwgQ2xpZW50PC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1wYXJ0aWNpcGFudD0iY2xpZW50Ij48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyMC43NDMyIiB4PSI1IiB5PSI1NjEuNzE4OCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNi43NDMyIiB4PSIxMiIgeT0iNTgxLjcxMzkiPkdyYXBoUUwgQ2xpZW50PC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1wYXJ0aWNpcGFudD0icmVzb2x2ZXIiPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTI4LjQ1NDEiIHg9IjE1NS4xNDQ3IiB5PSI3My4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE0LjQ1NDEiIHg9IjE2Mi4xNDQ3IiB5PSI5My4yOTIiPlByb2R1Y3RSZXNvbHZlcjwvdGV4dD48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LXRhaWwiIGRhdGEtcGFydGljaXBhbnQ9InJlc29sdmVyIj48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyOC40NTQxIiB4PSIxNTUuMTQ0NyIgeT0iNTYxLjcxODgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTQuNDU0MSIgeD0iMTYyLjE0NDciIHk9IjU4MS43MTM5Ij5Qcm9kdWN0UmVzb2x2ZXI8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC1oZWFkIiBkYXRhLXBhcnRpY2lwYW50PSJsb2FkZXIiPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTYyLjQ5NzEiIHg9IjI5My41OTg4IiB5PSI3My4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ4LjQ5NzEiIHg9IjMwMC41OTg4IiB5PSI5My4yOTIiPkludmVudG9yeURhdGFMb2FkZXI8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLXBhcnRpY2lwYW50PSJsb2FkZXIiPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTYyLjQ5NzEiIHg9IjI5My41OTg4IiB5PSI1NjEuNzE4OCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0OC40OTcxIiB4PSIzMDAuNTk4OCIgeT0iNTgxLjcxMzkiPkludmVudG9yeURhdGFMb2FkZXI8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC1oZWFkIiBkYXRhLXBhcnRpY2lwYW50PSJyZXBvIj48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1NS45NDE0IiB4PSI1NjAuMTI2MSIgeT0iNzMuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0MS45NDE0IiB4PSI1NjcuMTI2MSIgeT0iOTMuMjkyIj5JbnZlbnRvcnlSZXBvc2l0b3J5PC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1wYXJ0aWNpcGFudD0icmVwbyI+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNTUuOTQxNCIgeD0iNTYwLjEyNjEiIHk9IjU2MS43MTg4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQxLjk0MTQiIHg9IjU2Ny4xMjYxIiB5PSI1ODEuNzEzOSI+SW52ZW50b3J5UmVwb3NpdG9yeTwvdGV4dD48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtcGFydGljaXBhbnQ9ImRiIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4MC43NTI5IiB4PSIxMDAwLjcyODgiIHk9IjEwMS4yOTIiPlBvc3RncmVTUUw8L3RleHQ+PHBhdGggZD0iTTEwMjYuMTA1Myw1Mi4yOTY5IEMxMDI2LjEwNTMsNDIuMjk2OSAxMDQ0LjEwNTMsNDIuMjk2OSAxMDQ0LjEwNTMsNDIuMjk2OSBDMTA0NC4xMDUzLDQyLjI5NjkgMTA2Mi4xMDUzLDQyLjI5NjkgMTA2Mi4xMDUzLDUyLjI5NjkgTDEwNjIuMTA1Myw3OC4yOTY5IEMxMDYyLjEwNTMsODguMjk2OSAxMDQ0LjEwNTMsODguMjk2OSAxMDQ0LjEwNTMsODguMjk2OSBDMTA0NC4xMDUzLDg4LjI5NjkgMTAyNi4xMDUzLDg4LjI5NjkgMTAyNi4xMDUzLDc4LjI5NjkgTDEwMjYuMTA1Myw1Mi4yOTY5IiBmaWxsPSIjRTJFMkYwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMTAyNi4xMDUzLDUyLjI5NjkgQzEwMjYuMTA1Myw2Mi4yOTY5IDEwNDQuMTA1Myw2Mi4yOTY5IDEwNDQuMTA1Myw2Mi4yOTY5IEMxMDQ0LjEwNTMsNjIuMjk2OSAxMDYyLjEwNTMsNjIuMjk2OSAxMDYyLjEwNTMsNTIuMjk2OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLXBhcnRpY2lwYW50PSJkYiI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODAuNzUyOSIgeD0iMTAwMC43Mjg4IiB5PSI1NzQuNzEzOSI+UG9zdGdyZVNRTDwvdGV4dD48cGF0aCBkPSJNMTAyNi4xMDUzLDU4OC4wMTU2IEMxMDI2LjEwNTMsNTc4LjAxNTYgMTA0NC4xMDUzLDU3OC4wMTU2IDEwNDQuMTA1Myw1NzguMDE1NiBDMTA0NC4xMDUzLDU3OC4wMTU2IDEwNjIuMTA1Myw1NzguMDE1NiAxMDYyLjEwNTMsNTg4LjAxNTYgTDEwNjIuMTA1Myw2MTQuMDE1NiBDMTA2Mi4xMDUzLDYyNC4wMTU2IDEwNDQuMTA1Myw2MjQuMDE1NiAxMDQ0LjEwNTMsNjI0LjAxNTYgQzEwNDQuMTA1Myw2MjQuMDE1NiAxMDI2LjEwNTMsNjI0LjAxNTYgMTAyNi4xMDUzLDYxNC4wMTU2IEwxMDI2LjEwNTMsNTg4LjAxNTYiIGZpbGw9IiNFMkUyRjAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0xMDI2LjEwNTMsNTg4LjAxNTYgQzEwMjYuMTA1Myw1OTguMDE1NiAxMDQ0LjEwNTMsNTk4LjAxNTYgMTA0NC4xMDUzLDU5OC4wMTU2IEMxMDQ0LjEwNTMsNTk4LjAxNTYgMTA2Mi4xMDUzLDU5OC4wMTU2IDEwNjIuMTA1Myw1ODguMDE1NiIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9ImNsaWVudCIgZGF0YS1wYXJ0aWNpcGFudC0yPSJyZXNvbHZlciI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMDcuMzcxNywxMzEuNzI2NiwyMTcuMzcxNywxMzUuNzI2NiwyMDcuMzcxNywxMzkuNzI2NiwyMTEuMzcxNywxMzUuNzI2NiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI2NS4zNzE2IiB4Mj0iMjEzLjM3MTciIHkxPSIxMzUuNzI2NiIgeTI9IjEzNS43MjY2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE3LjY2MDIiIHg9IjcyLjM3MTYiIHk9IjEzMC42NjA2Ij5wcm9kdWN0cyhmaXJzdDogMTApPC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJyZXNvbHZlciIgZGF0YS1wYXJ0aWNpcGFudC0yPSJkYiI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMDMyLjEwNTMsMTYwLjg1OTQsMTA0Mi4xMDUzLDE2NC44NTk0LDEwMzIuMTA1MywxNjguODU5NCwxMDM2LjEwNTMsMTY0Ljg1OTQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjE5LjM3MTciIHgyPSIxMDM4LjEwNTMiIHkxPSIxNjQuODU5NCIgeTI9IjE2NC44NTk0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjI5LjY3MSIgeD0iMjI2LjM3MTciIHk9IjE1OS43OTM1Ij5TRUxFQ1QgKiBGUk9NICYjMjE4MzA7JiMyMTY5NzsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTsgTElNSVQgMTA8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9ImRiIiBkYXRhLXBhcnRpY2lwYW50LTI9InJlc29sdmVyIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIzMC4zNzE3LDE4OS45OTIyLDIyMC4zNzE3LDE5My45OTIyLDIzMC4zNzE3LDE5Ny45OTIyLDIyNi4zNzE3LDE5My45OTIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6MiwyOyIgeDE9IjIyNC4zNzE3IiB4Mj0iMTA0My4xMDUzIiB5MT0iMTkzLjk5MjIiIHkyPSIxOTMuOTkyMiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY4LjU0MjEiIHg9IjIzNi4zNzE3IiB5PSIxODguOTI2MyI+MTAmIzIwMjE0OyYjMTIzOTg7JiMyMTgzMDsmIzIxNjk3OzwvdGV4dD48L2c+PHBhdGggZD0iTTE0NS4xNDQ3LDIwOC45OTIyIEwyMjEuNzY4NywyMDguOTkyMiBMMjIxLjc2ODcsMjE2LjEyNSBMMjExLjc2ODcsMjI2LjEyNSBMMTQ1LjE0NDcsMjI2LjEyNSBMMTQ1LjE0NDcsMjA4Ljk5MjIiIGZpbGw9IiNFRUVFRUUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iODEuMzk4NCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iMzQyLjg1NTQiIHg9IjE0NS4xNDQ3IiB5PSIyMDguOTkyMiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMS42MjQiIHg9IjE2MC4xNDQ3IiB5PSIyMjIuMDU5MSI+bG9vcDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODcuMDU0MiIgeD0iMjM2Ljc2ODciIHk9IjIyMS4yMDI2Ij5bJiMyMTUwODsmIzIxODMwOyYjMjE2OTc7JiMxMjM5NTsmIzIzNTUwOyYjMTIzNzU7JiMxMjM5MDtdPC90ZXh0PjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9InJlc29sdmVyIiBkYXRhLXBhcnRpY2lwYW50LTI9ImxvYWRlciI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzNjIuODQ3MywyNDMuMjU3OCwzNzIuODQ3MywyNDcuMjU3OCwzNjIuODQ3MywyNTEuMjU3OCwzNjYuODQ3MywyNDcuMjU3OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMTkuMzcxNyIgeDI9IjM2OC44NDczIiB5MT0iMjQ3LjI1NzgiIHkyPSIyNDcuMjU3OCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMS40OTQxIiB4PSIyMjYuMzcxNyIgeT0iMjQyLjE5MTkiPmxvYWQocHJvZHVjdENvZGUpPC90ZXh0PjwvZz48cGF0aCBkPSJNMzc5LDI2MC4yNTc4IEwzNzksMjg1LjI1NzggTDQ3OCwyODUuMjU3OCBMNDc4LDI3MC4yNTc4IEw0NjgsMjYwLjI1NzggTDM3OSwyNjAuMjU3OCIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTQ2OCwyNjAuMjU3OCBMNDY4LDI3MC4yNTc4IEw0NzgsMjcwLjI1NzggTDQ2OCwyNjAuMjU3OCIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzguMDAwMSIgeD0iMzg1IiB5PSIyNzcuMzI0NyI+JiMxMjQ2MTsmIzEyNTE3OyYjMTI1NDA7JiMxMjM5NTsmIzM2ODYxOyYjMjExNTI7PC90ZXh0PjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9ImxvYWRlciIgZGF0YS1wYXJ0aWNpcGFudC0yPSJyZXBvIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjYyNi4wOTY4LDMxNC41MjM0LDYzNi4wOTY4LDMxOC41MjM0LDYyNi4wOTY4LDMyMi41MjM0LDYzMC4wOTY4LDMxOC41MjM0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjM3NC44NDczIiB4Mj0iNjMyLjA5NjgiIHkxPSIzMTguNTIzNCIgeTI9IjMxOC41MjM0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjM5LjI0OTUiIHg9IjM4MS44NDczIiB5PSIzMTMuNDU3NSI+bG9hZE1hbnkoW2NvZGUxLCBjb2RlMiwgLi4uY29kZTEwXSk8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9InJlcG8iIGRhdGEtcGFydGljaXBhbnQtMj0iZGIiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTAzMi4xMDUzLDM0My42NTYzLDEwNDIuMTA1MywzNDcuNjU2MywxMDMyLjEwNTMsMzUxLjY1NjMsMTAzNi4xMDUzLDM0Ny42NTYzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjYzOC4wOTY4IiB4Mj0iMTAzOC4xMDUzIiB5MT0iMzQ3LjY1NjMiIHkyPSIzNDcuNjU2MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM4Mi4wMDg0IiB4PSI2NDUuMDk2OCIgeT0iMzQyLjU5MDMiPlNFTEVDVCAqIEZST00gJiMyMjMxMjsmIzI0MjM1OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OyBXSEVSRSAmIzIxODMwOyYjMjE2OTc7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7IElOICg/LCA/LCAuLi4sID8pPC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJkYiIgZGF0YS1wYXJ0aWNpcGFudC0yPSJyZXBvIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjY0OS4wOTY4LDM3Mi43ODkxLDYzOS4wOTY4LDM3Ni43ODkxLDY0OS4wOTY4LDM4MC43ODkxLDY0NS4wOTY4LDM3Ni43ODkxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6MiwyOyIgeDE9IjY0My4wOTY4IiB4Mj0iMTA0My4xMDUzIiB5MT0iMzc2Ljc4OTEiIHkyPSIzNzYuNzg5MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNy41NDIxIiB4PSI2NTUuMDk2OCIgeT0iMzcxLjcyMzEiPjEwJiMyMDIxNDsmIzEyMzk4OyYjMjIzMTI7JiMyNDIzNTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9InJlcG8iIGRhdGEtcGFydGljaXBhbnQtMj0ibG9hZGVyIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM4NS44NDczLDQwMS45MjE5LDM3NS44NDczLDQwNS45MjE5LDM4NS44NDczLDQwOS45MjE5LDM4MS44NDczLDQwNS45MjE5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6MiwyOyIgeDE9IjM3OS44NDczIiB4Mj0iNjM3LjA5NjgiIHkxPSI0MDUuOTIxOSIgeTI9IjQwNS45MjE5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ4LjQ4NDUiIHg9IjM5MS44NDczIiB5PSI0MDAuODU2Ij5NYXAmbHQ7JiMyMTgzMDsmIzIxNjk3OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OywgJiMyMjMxMjsmIzI0MjM1OyZndDs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9ImxvYWRlciIgZGF0YS1wYXJ0aWNpcGFudC0yPSJyZXNvbHZlciI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMzAuMzcxNyw0MzEuMDU0NywyMjAuMzcxNyw0MzUuMDU0NywyMzAuMzcxNyw0MzkuMDU0NywyMjYuMzcxNyw0MzUuMDU0NyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjIsMjsiIHgxPSIyMjQuMzcxNyIgeDI9IjM3My44NDczIiB5MT0iNDM1LjA1NDciIHkyPSI0MzUuMDU0NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4LjAwMDEiIHg9IjIzNi4zNzE3IiB5PSI0MjkuOTg4OCI+JiMyMTUwODsmIzIxODMwOyYjMjE2OTc7JiMxMjM5ODsmIzIyMzEyOyYjMjQyMzU7PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJyZXNvbHZlciIgZGF0YS1wYXJ0aWNpcGFudC0yPSJjbGllbnQiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNzYuMzcxNiw0NjAuMTg3NSw2Ni4zNzE2LDQ2NC4xODc1LDc2LjM3MTYsNDY4LjE4NzUsNzIuMzcxNiw0NjQuMTg3NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjIsMjsiIHgxPSI3MC4zNzE2IiB4Mj0iMjE4LjM3MTciIHkxPSI0NjQuMTg3NSIgeTI9IjQ2NC4xODc1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMwLjAwMDIiIHg9IjgyLjM3MTYiIHk9IjQ1OS4xMjE2Ij4mIzIxODMwOyYjMjE2OTc7JiMxOTk2ODsmIzM1MjM5OyYjNjUyODg7JiMyMjMxMjsmIzI0MjM1OyYjMjAxODQ7JiMxMjM2NTsmIzY1Mjg5OzwvdGV4dD48L2c+PHBhdGggZD0iTTEwNDksNDc3LjE4NzUgTDEwNDksNTQ3LjE4NzUgTDEyMDcsNTQ3LjE4NzUgTDEyMDcsNDg3LjE4NzUgTDExOTcsNDc3LjE4NzUgTDEwNDksNDc3LjE4NzUiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0xMTk3LDQ3Ny4xODc1IEwxMTk3LDQ4Ny4xODc1IEwxMjA3LDQ4Ny4xODc1IEwxMTk3LDQ3Ny4xODc1IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDMuNDAzNCIgeD0iMTA1NSIgeT0iNDk0LjI1NDQiPiYjMjE1MTI7JiMzNTMzNjsgMiYjMjIyMzg7JiMxMjM5ODsmIzEyNDYzOyYjMTI0NTY7JiMxMjUyMjs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzMuMjcxIiB4PSIxMDU1IiB5PSI1MDkuMzg3MiI+KDEgKyAxID0gMik8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNC4xMzIzIiB4PSIxMDU1IiB5PSI1MjQuNTIiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzcuMDg0MSIgeD0iMTA1NSIgeT0iNTM5LjY1MjgiPiYjMjE4MzA7JiMyMTY5NzsmIzEyMzY0OzEwMCYjMjAyMTQ7JiMxMjM5MTsmIzEyNDE4OzImIzIyMjM4OyYjNjUyODE7PC90ZXh0PjwhLS1TUkM9W1RMOTFRbkQxNkJ0RmhfWmVRTUZKYUNxblE3azhLR0VSUWpFMjFfNG1vS3hSWE1MZGNIcUJsUmNwZWdiTUI4V2VBNEtIY3MzRzhlOWU2LXNGY1FwNEtfdzJDeGxSOTVsZVFSd1BVVHp4eHRpcHRFNGtXVWtPT3VqWWNwMkd1SzJBaFhKRk83TkhYRlpMWXR5VnpjTnVUVHB4LUZWUjJLOC1QanBmRTN4c0UycFNQRFpWTmhFV3ZaaDR1bWswMC1XYVBIdnNYcjd4R09VdEk0M1Q3UzhJN0Npc1VNSjNzcjdUYkV0RTMyTGVEb2FsbVJROEptRDdMbmNwSnY2ai1qaXU4NGdTMWRvQmFWS3JBeGNyc21ZYjdjNWZVVWUyZ2syZDlXRFpxczQxaHU5UEJnM2ZqT0JRUkdMUWhybHJzV1BTV0hranNxcUxwa0Z1UElZWkdvYi1JTjQ2TGdGUHM1MkRJNjZOeWtuY1VOSndHeU1PalkzYUtrZjNWRjBlZW1XN3lWNFY2UndNdUw1RUQ5clJ6VWwybzJwTWc0cUFvQUVTMDdFc2paZEdwSGJHWVl5by1ZSVplVThTZF9zRWR4djduQkVyTzA5OE5GYXFPc25ZUnpVdXJyNXlQWDdxS1liMmdMSEEzaWh0elZtQVVpZGl4X2hub0sxNkp4SUtjbHRraE5naFZmdzgtQXZGZXByZWg4QW5LZUlMWDVRalhMYXFZT2JmQjdjc0o3Vy1XMlJzaHJ2V0JzT2NiZ1YzdkpFVllwU0pHN0ZYQWNwczN3Z1B4VDdGWC1FWnRjSk9KUzZacXBTb1YzdVB4ZzRCTVFpbDUxenFuX3FrTEVBdFh1ZlNZY0NmLVpCd1owbUo1aTY0UXIwZjg3R2tsYy1NcXA1eEtXWlRDWGM2LWI1MHFfdTddLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<hr />
<h3 id="153-dataloader">15.3 DataLoader の実装<a class="headerlink" href="#153-dataloader" title="Permanent link">&para;</a></h3>
<h4 id="dataloader">在庫 DataLoader<a class="headerlink" href="#dataloader" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: InventoryDataLoader.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.dataloader</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.application.port.out.InventoryRepository</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.domain.model.inventory.Inventory</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.dataloader.BatchLoaderEnvironment</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.dataloader.MappedBatchLoader</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Component</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Set</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.concurrent.CompletableFuture</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.concurrent.CompletionStage</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.stream.Collectors</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 在庫データの DataLoader</span>
<span class="cm"> * 商品コードをキーにバッチ取得</span>
<span class="cm"> */</span>
<span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">InventoryDataLoader</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">MappedBatchLoader</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">InventoryRepository</span><span class="w"> </span><span class="n">inventoryRepository</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">InventoryDataLoader</span><span class="p">(</span><span class="n">InventoryRepository</span><span class="w"> </span><span class="n">inventoryRepository</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">inventoryRepository</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryRepository</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">CompletionStage</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="nf">load</span><span class="p">(</span>
<span class="w">            </span><span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">productCodes</span><span class="p">,</span>
<span class="w">            </span><span class="n">BatchLoaderEnvironment</span><span class="w"> </span><span class="n">environment</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">CompletableFuture</span><span class="p">.</span><span class="na">supplyAsync</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// 一括取得</span>
<span class="w">            </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;</span><span class="w"> </span><span class="n">inventories</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryRepository</span>
<span class="w">                </span><span class="p">.</span><span class="na">findByProductCodes</span><span class="p">(</span><span class="n">productCodes</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// 商品コードでグループ化</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">inventories</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">groupingBy</span><span class="p">(</span><span class="n">Inventory</span><span class="p">::</span><span class="n">getProductCode</span><span class="p">));</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="dataloader_1">取引先 DataLoader<a class="headerlink" href="#dataloader_1" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: PartnerDataLoader.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.dataloader</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.application.port.out.PartnerRepository</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.domain.model.partner.Partner</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.dataloader.BatchLoaderEnvironment</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.dataloader.MappedBatchLoader</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Component</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Set</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.concurrent.CompletableFuture</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.concurrent.CompletionStage</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.function.Function</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.stream.Collectors</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 取引先データの DataLoader</span>
<span class="cm"> */</span>
<span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">PartnerDataLoader</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">MappedBatchLoader</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Partner</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">PartnerRepository</span><span class="w"> </span><span class="n">partnerRepository</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">PartnerDataLoader</span><span class="p">(</span><span class="n">PartnerRepository</span><span class="w"> </span><span class="n">partnerRepository</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">partnerRepository</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">partnerRepository</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">CompletionStage</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Partner</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="nf">load</span><span class="p">(</span>
<span class="w">            </span><span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">partnerCodes</span><span class="p">,</span>
<span class="w">            </span><span class="n">BatchLoaderEnvironment</span><span class="w"> </span><span class="n">environment</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">CompletableFuture</span><span class="p">.</span><span class="na">supplyAsync</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">partnerRepository</span><span class="p">.</span><span class="na">findByCodes</span><span class="p">(</span><span class="n">partnerCodes</span><span class="p">).</span><span class="na">stream</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toMap</span><span class="p">(</span>
<span class="w">                    </span><span class="n">Partner</span><span class="p">::</span><span class="n">getPartnerCode</span><span class="p">,</span>
<span class="w">                    </span><span class="n">Function</span><span class="p">.</span><span class="na">identity</span><span class="p">()</span>
<span class="w">                </span><span class="p">));</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h3 id="154-dataloader">15.4 DataLoader の登録<a class="headerlink" href="#154-dataloader" title="Permanent link">&para;</a></h3>
<details>
<summary>コード例: DataLoaderConfig.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.config</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.dataloader.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.dataloader.DataLoader</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.dataloader.DataLoaderOptions</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.dataloader.DataLoaderRegistry</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.context.annotation.Bean</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.context.annotation.Configuration</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.graphql.execution.BatchLoaderRegistry</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * DataLoader 設定</span>
<span class="cm"> */</span>
<span class="nd">@Configuration</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DataLoaderConfig</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">INVENTORY_LOADER</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;inventoryLoader&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">PARTNER_LOADER</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;partnerLoader&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">PRODUCT_LOADER</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;productLoader&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">WAREHOUSE_LOADER</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;warehouseLoader&quot;</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">InventoryDataLoader</span><span class="w"> </span><span class="n">inventoryDataLoader</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">PartnerDataLoader</span><span class="w"> </span><span class="n">partnerDataLoader</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ProductDataLoader</span><span class="w"> </span><span class="n">productDataLoader</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">WarehouseDataLoader</span><span class="w"> </span><span class="n">warehouseDataLoader</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">DataLoaderConfig</span><span class="p">(</span>
<span class="w">            </span><span class="n">InventoryDataLoader</span><span class="w"> </span><span class="n">inventoryDataLoader</span><span class="p">,</span>
<span class="w">            </span><span class="n">PartnerDataLoader</span><span class="w"> </span><span class="n">partnerDataLoader</span><span class="p">,</span>
<span class="w">            </span><span class="n">ProductDataLoader</span><span class="w"> </span><span class="n">productDataLoader</span><span class="p">,</span>
<span class="w">            </span><span class="n">WarehouseDataLoader</span><span class="w"> </span><span class="n">warehouseDataLoader</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">inventoryDataLoader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventoryDataLoader</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">partnerDataLoader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">partnerDataLoader</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">productDataLoader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productDataLoader</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">warehouseDataLoader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">warehouseDataLoader</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BatchLoaderRegistry</span><span class="w"> </span><span class="nf">batchLoaderRegistry</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BatchLoaderRegistry</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nd">@Override</span>
<span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">registerDataLoaders</span><span class="p">(</span>
<span class="w">                    </span><span class="n">DataLoaderRegistry</span><span class="w"> </span><span class="n">registry</span><span class="p">,</span>
<span class="w">                    </span><span class="n">graphql</span><span class="p">.</span><span class="na">GraphQLContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">                </span><span class="n">DataLoaderOptions</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DataLoaderOptions</span><span class="p">.</span><span class="na">newOptions</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">setCachingEnabled</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">setBatchingEnabled</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">setMaxBatchSize</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>

<span class="w">                </span><span class="n">registry</span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">INVENTORY_LOADER</span><span class="p">,</span>
<span class="w">                    </span><span class="n">DataLoader</span><span class="p">.</span><span class="na">newMappedDataLoader</span><span class="p">(</span><span class="n">inventoryDataLoader</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">));</span>
<span class="w">                </span><span class="n">registry</span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">PARTNER_LOADER</span><span class="p">,</span>
<span class="w">                    </span><span class="n">DataLoader</span><span class="p">.</span><span class="na">newMappedDataLoader</span><span class="p">(</span><span class="n">partnerDataLoader</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">));</span>
<span class="w">                </span><span class="n">registry</span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">PRODUCT_LOADER</span><span class="p">,</span>
<span class="w">                    </span><span class="n">DataLoader</span><span class="p">.</span><span class="na">newMappedDataLoader</span><span class="p">(</span><span class="n">productDataLoader</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">));</span>
<span class="w">                </span><span class="n">registry</span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">WAREHOUSE_LOADER</span><span class="p">,</span>
<span class="w">                    </span><span class="n">DataLoader</span><span class="p">.</span><span class="na">newMappedDataLoader</span><span class="p">(</span><span class="n">warehouseDataLoader</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">));</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h3 id="155-dataloader">15.5 商品リゾルバの実装（DataLoader 使用）<a class="headerlink" href="#155-dataloader" title="Permanent link">&para;</a></h3>
<details>
<summary>コード例: ProductResolver.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.resolver</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.application.port.in.ProductUseCase</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.config.DataLoaderConfig</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.domain.model.inventory.Inventory</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.domain.model.product.Product</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.dto.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">graphql.schema.DataFetchingEnvironment</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.dataloader.DataLoader</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.graphql.data.method.annotation.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Controller</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.concurrent.CompletableFuture</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 商品 GraphQL リゾルバ</span>
<span class="cm"> */</span>
<span class="nd">@Controller</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ProductResolver</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ProductUseCase</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">ProductResolver</span><span class="p">(</span><span class="n">ProductUseCase</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">productUseCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// === Query ===</span>

<span class="w">    </span><span class="nd">@QueryMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="nf">product</span><span class="p">(</span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">.</span><span class="na">findByCode</span><span class="p">(</span><span class="n">productCode</span><span class="p">).</span><span class="na">orElse</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@QueryMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ProductConnection</span><span class="w"> </span><span class="nf">products</span><span class="p">(</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">category</span><span class="p">,</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">page</span><span class="p">,</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pageNum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pageSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>

<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">.</span><span class="na">findAll</span><span class="p">(</span><span class="n">category</span><span class="p">,</span><span class="w"> </span><span class="n">pageNum</span><span class="p">,</span><span class="w"> </span><span class="n">pageSize</span><span class="p">);</span>
<span class="w">        </span><span class="kt">long</span><span class="w"> </span><span class="n">totalCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">.</span><span class="na">count</span><span class="p">(</span><span class="n">category</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ProductConnection</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">products</span><span class="p">,</span><span class="w"> </span><span class="n">pageNum</span><span class="p">,</span><span class="w"> </span><span class="n">pageSize</span><span class="p">,</span><span class="w"> </span><span class="n">totalCount</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// === Mutation ===</span>

<span class="w">    </span><span class="nd">@MutationMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="nf">createProduct</span><span class="p">(</span><span class="nd">@Argument</span><span class="w"> </span><span class="n">CreateProductInput</span><span class="w"> </span><span class="n">input</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Product</span><span class="w"> </span><span class="n">product</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Product</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">productCode</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">productCode</span><span class="p">())</span>
<span class="w">            </span><span class="p">.</span><span class="na">productName</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">productName</span><span class="p">())</span>
<span class="w">            </span><span class="p">.</span><span class="na">category</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">category</span><span class="p">())</span>
<span class="w">            </span><span class="p">.</span><span class="na">taxCategory</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">taxCategory</span><span class="p">())</span>
<span class="w">            </span><span class="p">.</span><span class="na">sellingPrice</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">sellingPrice</span><span class="p">())</span>
<span class="w">            </span><span class="p">.</span><span class="na">isActive</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">product</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@MutationMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="nf">updateProduct</span><span class="p">(</span><span class="nd">@Argument</span><span class="w"> </span><span class="n">UpdateProductInput</span><span class="w"> </span><span class="n">input</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">.</span><span class="na">update</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">productCode</span><span class="p">(),</span><span class="w"> </span><span class="n">product</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">productName</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">product</span><span class="p">.</span><span class="na">setProductName</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">productName</span><span class="p">());</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">category</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">product</span><span class="p">.</span><span class="na">setCategory</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">category</span><span class="p">());</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">sellingPrice</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">product</span><span class="p">.</span><span class="na">setSellingPrice</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">sellingPrice</span><span class="p">());</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">isActive</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">product</span><span class="p">.</span><span class="na">setActive</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">isActive</span><span class="p">());</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">product</span><span class="p">;</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@MutationMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">deleteProduct</span><span class="p">(</span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">.</span><span class="na">delete</span><span class="p">(</span><span class="n">productCode</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// === フィールドリゾルバ（DataLoader 使用）===</span>

<span class="w">    </span><span class="nd">@SchemaMapping</span><span class="p">(</span><span class="n">typeName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Product&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;inventories&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="nf">inventories</span><span class="p">(</span>
<span class="w">            </span><span class="n">Product</span><span class="w"> </span><span class="n">product</span><span class="p">,</span>
<span class="w">            </span><span class="n">DataFetchingEnvironment</span><span class="w"> </span><span class="n">env</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="n">DataLoader</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Inventory</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">loader</span><span class="w"> </span><span class="o">=</span>
<span class="w">            </span><span class="n">env</span><span class="p">.</span><span class="na">getDataLoader</span><span class="p">(</span><span class="n">DataLoaderConfig</span><span class="p">.</span><span class="na">INVENTORY_LOADER</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">loader</span><span class="p">.</span><span class="na">load</span><span class="p">(</span><span class="n">product</span><span class="p">.</span><span class="na">getProductCode</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@SchemaMapping</span><span class="p">(</span><span class="n">typeName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Product&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;classifications&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ProductClassification</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">classifications</span><span class="p">(</span><span class="n">Product</span><span class="w"> </span><span class="n">product</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">productUseCase</span><span class="p">.</span><span class="na">findClassifications</span><span class="p">(</span><span class="n">product</span><span class="p">.</span><span class="na">getProductCode</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="16-api">第16章：トランザクション API の実装<a class="headerlink" href="#16-api" title="Permanent link">&para;</a></h2>
<h3 id="161-graphql-subscription">16.1 GraphQL Subscription とは<a class="headerlink" href="#161-graphql-subscription" title="Permanent link">&para;</a></h3>
<p>GraphQL <strong>Subscription</strong> は、サーバーからクライアントへのリアルタイム通知を実現する仕組みです。WebSocket を使用して双方向通信を行い、データの変更をプッシュ通知します。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNFUVVFTkNFIiBoZWlnaHQ9IjgyNXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MTA3NnB4O2hlaWdodDo4MjVweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMDc2IDgyNSIgd2lkdGg9IjEwNzZweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPkdyYXBoUUwgU3Vic2NyaXB0aW9uICYjMTI1MDE7JiMxMjUyNTsmIzEyNTQwOzwvdGl0bGU+PGRlZnMvPjxnPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMTkuOTA1MSIgeD0iNDI0LjE0MDEiIHk9IjI3Ljk5NTEiPkdyYXBoUUwgU3Vic2NyaXB0aW9uICYjMTI1MDE7JiMxMjUyNTsmIzEyNTQwOzwvdGV4dD48Zz48dGl0bGU+Q2xpZW50PC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iNjQyLjUyMzQiIHdpZHRoPSI4IiB4PSIyOC4yNjUxIiB5PSIxMDQuNTkzOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NSw1OyIgeDE9IjMyIiB4Mj0iMzIiIHkxPSIxMDQuNTkzOCIgeTI9Ijc0Ny4xMTcyIi8+PC9nPjxnPjx0aXRsZT5XZWJTb2NrZXQ8L3RpdGxlPjxyZWN0IGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMC4wMDAwMCIgaGVpZ2h0PSI2NDIuNTIzNCIgd2lkdGg9IjgiIHg9IjI5NC44NDA4IiB5PSIxMDQuNTkzOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NSw1OyIgeDE9IjI5OC40ODk3IiB4Mj0iMjk4LjQ4OTciIHkxPSIxMDQuNTkzOCIgeTI9Ijc0Ny4xMTcyIi8+PC9nPjxnPjx0aXRsZT5HcmFwaFFMIFNlcnZlcjwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjY0Mi41MjM0IiB3aWR0aD0iOCIgeD0iNTE1LjQ0MDQiIHk9IjEwNC41OTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LDU7IiB4MT0iNTE5LjM3ODkiIHgyPSI1MTkuMzc4OSIgeTE9IjEwNC41OTM4IiB5Mj0iNzQ3LjExNzIiLz48L2c+PGc+PHRpdGxlPkV2ZW50UHVibGlzaGVyPC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iNjQyLjUyMzQiIHdpZHRoPSI4IiB4PSI2NDcuODE0IiB5PSIxMDQuNTkzOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NSw1OyIgeDE9IjY1MS41MDIiIHgyPSI2NTEuNTAyIiB5MT0iMTA0LjU5MzgiIHkyPSI3NDcuMTE3MiIvPjwvZz48Zz48dGl0bGU+T3JkZXJTZXJ2aWNlPC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iNjQyLjUyMzQiIHdpZHRoPSI4IiB4PSI4NzUuODA4NiIgeT0iMTA0LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSI4NzguOTIyNCIgeDI9Ijg3OC45MjI0IiB5MT0iMTA0LjU5MzgiIHkyPSI3NDcuMTE3MiIvPjwvZz48Zz48dGl0bGU+UG9zdGdyZVNRTDwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjY0Mi41MjM0IiB3aWR0aD0iOCIgeD0iMTAxNi44MDg4IiB5PSIxMDQuNTkzOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NSw1OyIgeDE9IjEwMjAuNDMyMyIgeDI9IjEwMjAuNDMyMyIgeTE9IjEwNC41OTM4IiB5Mj0iNzQ3LjExNzIiLz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtcGFydGljaXBhbnQ9ImNsaWVudCI+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI1NC41MzAzIiB4PSI1IiB5PSI3My4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDAuNTMwMyIgeD0iMTIiIHk9IjkzLjI5MiI+Q2xpZW50PC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1wYXJ0aWNpcGFudD0iY2xpZW50Ij48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjU0LjUzMDMiIHg9IjUiIHk9Ijc0Ni4xMTcyIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDAuNTMwMyIgeD0iMTIiIHk9Ijc2Ni4xMTIzIj5DbGllbnQ8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC1oZWFkIiBkYXRhLXBhcnRpY2lwYW50PSJ3cyI+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI5Mi43MDIxIiB4PSIyNTIuNDg5NyIgeT0iNzMuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4LjcwMjEiIHg9IjI1OS40ODk3IiB5PSI5My4yOTIiPldlYlNvY2tldDwvdGV4dD48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LXRhaWwiIGRhdGEtcGFydGljaXBhbnQ9IndzIj48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjkyLjcwMjEiIHg9IjI1Mi40ODk3IiB5PSI3NDYuMTE3MiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4LjcwMjEiIHg9IjI1OS40ODk3IiB5PSI3NjYuMTEyMyI+V2ViU29ja2V0PC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1wYXJ0aWNpcGFudD0ic2VydmVyIj48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyNi4xMjMiIHg9IjQ1Ni4zNzg5IiB5PSI3My4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTEyLjEyMyIgeD0iNDYzLjM3ODkiIHk9IjkzLjI5MiI+R3JhcGhRTCBTZXJ2ZXI8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLXBhcnRpY2lwYW50PSJzZXJ2ZXIiPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTI2LjEyMyIgeD0iNDU2LjM3ODkiIHk9Ijc0Ni4xMTcyIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTEyLjEyMyIgeD0iNDYzLjM3ODkiIHk9Ijc2Ni4xMTIzIj5HcmFwaFFMIFNlcnZlcjwvdGV4dD48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtcGFydGljaXBhbnQ9InB1Ymxpc2hlciI+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMTguNjI0IiB4PSI1OTIuNTAyIiB5PSI3My4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA0LjYyNCIgeD0iNTk5LjUwMiIgeT0iOTMuMjkyIj5FdmVudFB1Ymxpc2hlcjwvdGV4dD48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LXRhaWwiIGRhdGEtcGFydGljaXBhbnQ9InB1Ymxpc2hlciI+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMTguNjI0IiB4PSI1OTIuNTAyIiB5PSI3NDYuMTE3MiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNC42MjQiIHg9IjU5OS41MDIiIHk9Ijc2Ni4xMTIzIj5FdmVudFB1Ymxpc2hlcjwvdGV4dD48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtcGFydGljaXBhbnQ9InNlcnZpY2UiPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTA1Ljc3MjUiIHg9IjgyNi45MjI0IiB5PSI3My4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEuNzcyNSIgeD0iODMzLjkyMjQiIHk9IjkzLjI5MiI+T3JkZXJTZXJ2aWNlPC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1wYXJ0aWNpcGFudD0ic2VydmljZSI+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDUuNzcyNSIgeD0iODI2LjkyMjQiIHk9Ijc0Ni4xMTcyIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEuNzcyNSIgeD0iODMzLjkyMjQiIHk9Ijc2Ni4xMTIzIj5PcmRlclNlcnZpY2U8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC1oZWFkIiBkYXRhLXBhcnRpY2lwYW50PSJkYiI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODAuNzUyOSIgeD0iOTc3LjQzMjMiIHk9IjEwMS4yOTIiPlBvc3RncmVTUUw8L3RleHQ+PHBhdGggZD0iTTEwMDIuODA4OCw1Mi4yOTY5IEMxMDAyLjgwODgsNDIuMjk2OSAxMDIwLjgwODgsNDIuMjk2OSAxMDIwLjgwODgsNDIuMjk2OSBDMTAyMC44MDg4LDQyLjI5NjkgMTAzOC44MDg4LDQyLjI5NjkgMTAzOC44MDg4LDUyLjI5NjkgTDEwMzguODA4OCw3OC4yOTY5IEMxMDM4LjgwODgsODguMjk2OSAxMDIwLjgwODgsODguMjk2OSAxMDIwLjgwODgsODguMjk2OSBDMTAyMC44MDg4LDg4LjI5NjkgMTAwMi44MDg4LDg4LjI5NjkgMTAwMi44MDg4LDc4LjI5NjkgTDEwMDIuODA4OCw1Mi4yOTY5IiBmaWxsPSIjRTJFMkYwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMTAwMi44MDg4LDUyLjI5NjkgQzEwMDIuODA4OCw2Mi4yOTY5IDEwMjAuODA4OCw2Mi4yOTY5IDEwMjAuODA4OCw2Mi4yOTY5IEMxMDIwLjgwODgsNjIuMjk2OSAxMDM4LjgwODgsNjIuMjk2OSAxMDM4LjgwODgsNTIuMjk2OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLXBhcnRpY2lwYW50PSJkYiI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODAuNzUyOSIgeD0iOTc3LjQzMjMiIHk9Ijc1OS4xMTIzIj5Qb3N0Z3JlU1FMPC90ZXh0PjxwYXRoIGQ9Ik0xMDAyLjgwODgsNzcyLjQxNDEgQzEwMDIuODA4OCw3NjIuNDE0MSAxMDIwLjgwODgsNzYyLjQxNDEgMTAyMC44MDg4LDc2Mi40MTQxIEMxMDIwLjgwODgsNzYyLjQxNDEgMTAzOC44MDg4LDc2Mi40MTQxIDEwMzguODA4OCw3NzIuNDE0MSBMMTAzOC44MDg4LDc5OC40MTQxIEMxMDM4LjgwODgsODA4LjQxNDEgMTAyMC44MDg4LDgwOC40MTQxIDEwMjAuODA4OCw4MDguNDE0MSBDMTAyMC44MDg4LDgwOC40MTQxIDEwMDIuODA4OCw4MDguNDE0MSAxMDAyLjgwODgsNzk4LjQxNDEgTDEwMDIuODA4OCw3NzIuNDE0MSIgZmlsbD0iI0UyRTJGMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTEwMDIuODA4OCw3NzIuNDE0MSBDMTAwMi44MDg4LDc4Mi40MTQxIDEwMjAuODA4OCw3ODIuNDE0MSAxMDIwLjgwODgsNzgyLjQxNDEgQzEwMjAuODA4OCw3ODIuNDE0MSAxMDM4LjgwODgsNzgyLjQxNDEgMTAzOC44MDg4LDc3Mi40MTQxIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48L2c+PHJlY3QgZmlsbD0iI0VFRUVFRSIgaGVpZ2h0PSIzIiBzdHlsZT0ic3Ryb2tlOiNFRUVFRUU7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iMTA2OS4xODUyIiB4PSIwIiB5PSIxMzUuMTYwMiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIwIiB4Mj0iMTA2OS4xODUyIiB5MT0iMTM1LjE2MDIiIHkyPSIxMzUuMTYwMiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIwIiB4Mj0iMTA2OS4xODUyIiB5MT0iMTM4LjE2MDIiIHkyPSIxMzguMTYwMiIvPjxyZWN0IGZpbGw9IiNFRUVFRUUiIGhlaWdodD0iMjMuMTMyOCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyOyIgd2lkdGg9IjE0MS40NDgzIiB4PSI0NjMuODY4NSIgeT0iMTI0LjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIyLjkyMjQiIHg9IjQ2OS44Njg1IiB5PSIxNDAuNjYwNiI+U3Vic2NyaXB0aW9uICYjMzgyODM7JiMyMjk4Nzs8L3RleHQ+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0iY2xpZW50IiBkYXRhLXBhcnRpY2lwYW50LTI9IndzIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI4Ni44NDA4LDE3NC44NTk0LDI5Ni44NDA4LDE3OC44NTk0LDI4Ni44NDA4LDE4Mi44NTk0LDI5MC44NDA4LDE3OC44NTk0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMyLjI2NTEiIHgyPSIyOTIuODQwOCIgeTE9IjE3OC44NTk0IiB5Mj0iMTc4Ljg1OTQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNDIuNTc1NyIgeD0iMzkuMjY1MSIgeT0iMTczLjc5MzUiPnN1YnNjcmlwdGlvbiB7IG9yZGVyU3RhdHVzQ2hhbmdlZCB9PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJ3cyIgZGF0YS1wYXJ0aWNpcGFudC0yPSJzZXJ2ZXIiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTA3LjQ0MDQsMjAzLjk5MjIsNTE3LjQ0MDQsMjA3Ljk5MjIsNTA3LjQ0MDQsMjExLjk5MjIsNTExLjQ0MDQsMjA3Ljk5MjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjk4Ljg0MDgiIHgyPSI1MTMuNDQwNCIgeTE9IjIwNy45OTIyIiB5Mj0iMjA3Ljk5MjIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjkuMjEzIiB4PSIzMDUuODQwOCIgeT0iMjAyLjkyNjMiPldlYlNvY2tldCAmIzI1NTA5OyYjMzIxNTQ7JiMzMDkwNjsmIzMxNDM1OzwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0ic2VydmVyIiBkYXRhLXBhcnRpY2lwYW50LTI9InNlcnZlciI+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjUxOS40NDA0IiB4Mj0iNTYxLjQ0MDQiIHkxPSIyMzcuMTI1IiB5Mj0iMjM3LjEyNSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI1NjEuNDQwNCIgeDI9IjU2MS40NDA0IiB5MT0iMjM3LjEyNSIgeTI9IjI1MC4xMjUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTIwLjQ0MDQiIHgyPSI1NjEuNDQwNCIgeTE9IjI1MC4xMjUiIHkyPSIyNTAuMTI1Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1MzAuNDQwNCwyNDYuMTI1LDUyMC40NDA0LDI1MC4xMjUsNTMwLjQ0MDQsMjU0LjEyNSw1MjYuNDQwNCwyNTAuMTI1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTEwLjkwNjMiIHg9IjUyNi40NDA0IiB5PSIyMzIuMDU5MSI+U3Vic2NyaXB0aW9uICYjMzAzMzE7JiMzNzY4Mjs8L3RleHQ+PC9nPjxyZWN0IGZpbGw9IiNFRUVFRUUiIGhlaWdodD0iMyIgc3R5bGU9InN0cm9rZTojRUVFRUVFO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjEwNjkuMTg1MiIgeD0iMCIgeT0iMjc4LjY5MTQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMCIgeDI9IjEwNjkuMTg1MiIgeTE9IjI3OC42OTE0IiB5Mj0iMjc4LjY5MTQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMCIgeDI9IjEwNjkuMTg1MiIgeTE9IjI4MS42OTE0IiB5Mj0iMjgxLjY5MTQiLz48cmVjdCBmaWxsPSIjRUVFRUVFIiBoZWlnaHQ9IjIzLjEzMjgiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjsiIHdpZHRoPSI5Ni41MjYiIHg9IjQ4Ni4zMjk2IiB5PSIyNjguMTI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4LjAwMDEiIHg9IjQ5Mi4zMjk2IiB5PSIyODQuMTkxOSI+JiMxMjQ1MjsmIzEyNTA1OyYjMTI1MzE7JiMxMjQ4ODsmIzMwMzMwOyYjMjk5ODM7PC90ZXh0PjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9InNlcnZpY2UiIGRhdGEtcGFydGljaXBhbnQtMj0iZGIiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTAwOC44MDg4LDMxOC4zOTA2LDEwMTguODA4OCwzMjIuMzkwNiwxMDA4LjgwODgsMzI2LjM5MDYsMTAxMi44MDg4LDMyMi4zOTA2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijg3OS44MDg2IiB4Mj0iMTAxNC44MDg4IiB5MT0iMzIyLjM5MDYiIHkyPSIzMjIuMzkwNiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNy4wMDAxIiB4PSI4ODYuODA4NiIgeT0iMzE3LjMyNDciPiYjMjE0NjM7JiMyNzg4MDsmIzEyNDczOyYjMTI0ODY7JiMxMjU0MDsmIzEyNDc5OyYjMTI0NzM7JiMyNjM1NjsmIzI2MDMyOzwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0iZGIiIGRhdGEtcGFydGljaXBhbnQtMj0ic2VydmljZSI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI4OTAuODA4NiwzNDcuNTIzNCw4ODAuODA4NiwzNTEuNTIzNCw4OTAuODA4NiwzNTUuNTIzNCw4ODYuODA4NiwzNTEuNTIzNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjIsMjsiIHgxPSI4ODQuODA4NiIgeDI9IjEwMTkuODA4OCIgeTE9IjM1MS41MjM0IiB5Mj0iMzUxLjUyMzQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1Mi4wMDAxIiB4PSI4OTYuODA4NiIgeT0iMzQ2LjQ1NzUiPiYjMjYzNTY7JiMyNjAzMjsmIzIzNDM2OyYjMjAxMDI7PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJzZXJ2aWNlIiBkYXRhLXBhcnRpY2lwYW50LTI9InB1Ymxpc2hlciI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI2NjIuODE0LDM3Ni42NTYzLDY1Mi44MTQsMzgwLjY1NjMsNjYyLjgxNCwzODQuNjU2Myw2NTguODE0LDM4MC42NTYzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjY1Ni44MTQiIHgyPSI4NzguODA4NiIgeTE9IjM4MC42NTYzIiB5Mj0iMzgwLjY1NjMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMDMuOTk0NyIgeD0iNjY4LjgxNCIgeT0iMzc1LjU5MDMiPk9yZGVyU3RhdHVzQ2hhbmdlZEV2ZW50ICYjMzAzMzA7JiMzNDg5Mjs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9InB1Ymxpc2hlciIgZGF0YS1wYXJ0aWNpcGFudC0yPSJzZXJ2ZXIiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTMwLjQ0MDQsNDA1Ljc4OTEsNTIwLjQ0MDQsNDA5Ljc4OTEsNTMwLjQ0MDQsNDEzLjc4OTEsNTI2LjQ0MDQsNDA5Ljc4OTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTI0LjQ0MDQiIHgyPSI2NTAuODE0IiB5MT0iNDA5Ljc4OTEiIHkyPSI0MDkuNzg5MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4LjAwMDEiIHg9IjUzNi40NDA0IiB5PSI0MDQuNzIzMSI+JiMxMjQ1MjsmIzEyNTA1OyYjMTI1MzE7JiMxMjQ4ODsmIzIxNDYzOyYjMjA0NDk7PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJzZXJ2ZXIiIGRhdGEtcGFydGljaXBhbnQtMj0id3MiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzA5Ljg0MDgsNDM0LjkyMTksMjk5Ljg0MDgsNDM4LjkyMTksMzA5Ljg0MDgsNDQyLjkyMTksMzA1Ljg0MDgsNDM4LjkyMTkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzAzLjg0MDgiIHgyPSI1MTguNDQwNCIgeTE9IjQzOC45MjE5IiB5Mj0iNDM4LjkyMTkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTYuNTk5NiIgeD0iMzE1Ljg0MDgiIHk9IjQzMy44NTYiPnsgb3JkZXJTdGF0dXNDaGFuZ2VkOiB7Li4ufSB9PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJ3cyIgZGF0YS1wYXJ0aWNpcGFudC0yPSJjbGllbnQiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNDMuMjY1MSw0NjQuMDU0NywzMy4yNjUxLDQ2OC4wNTQ3LDQzLjI2NTEsNDcyLjA1NDcsMzkuMjY1MSw0NjguMDU0NyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzNy4yNjUxIiB4Mj0iMjk3Ljg0MDgiIHkxPSI0NjguMDU0NyIgeTI9IjQ2OC4wNTQ3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA0LjAwMDEiIHg9IjQ5LjI2NTEiIHk9IjQ2Mi45ODg4Ij4mIzEyNTIyOyYjMTI0NTA7JiMxMjUyMzsmIzEyNDc5OyYjMTI0NTI7JiMxMjUxMjsmIzM2ODkwOyYjMzA2OTM7PC90ZXh0PjwvZz48cmVjdCBmaWxsPSIjRUVFRUVFIiBoZWlnaHQ9IjMiIHN0eWxlPSJzdHJva2U6I0VFRUVFRTtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIxMDY5LjE4NTIiIHg9IjAiIHk9IjQ5Ni42MjExIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjAiIHgyPSIxMDY5LjE4NTIiIHkxPSI0OTYuNjIxMSIgeTI9IjQ5Ni42MjExIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjAiIHgyPSIxMDY5LjE4NTIiIHkxPSI0OTkuNjIxMSIgeTI9IjQ5OS42MjExIi8+PHJlY3QgZmlsbD0iI0VFRUVFRSIgaGVpZ2h0PSIyMy4xMzI4IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7IiB3aWR0aD0iOTYuNTI2IiB4PSI0ODYuMzI5NiIgeT0iNDg2LjA1NDciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzguMDAwMSIgeD0iNDkyLjMyOTYiIHk9IjUwMi4xMjE2Ij4mIzM2ODYxOyYjMjExNTI7JiMxMjQ1MjsmIzEyNTA1OyYjMTI1MzE7JiMxMjQ4ODs8L3RleHQ+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0ic2VydmljZSIgZGF0YS1wYXJ0aWNpcGFudC0yPSJwdWJsaXNoZXIiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNjYyLjgxNCw1MzYuMzIwMyw2NTIuODE0LDU0MC4zMjAzLDY2Mi44MTQsNTQ0LjMyMDMsNjU4LjgxNCw1NDAuMzIwMyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI2NTYuODE0IiB4Mj0iODc4LjgwODYiIHkxPSI1NDAuMzIwMyIgeTI9IjU0MC4zMjAzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjAzLjk5NDciIHg9IjY2OC44MTQiIHk9IjUzNS4yNTQ0Ij5PcmRlclN0YXR1c0NoYW5nZWRFdmVudCAmIzMwMzMwOyYjMzQ4OTI7PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJwdWJsaXNoZXIiIGRhdGEtcGFydGljaXBhbnQtMj0ic2VydmVyIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjUzMC40NDA0LDU2NS40NTMxLDUyMC40NDA0LDU2OS40NTMxLDUzMC40NDA0LDU3My40NTMxLDUyNi40NDA0LDU2OS40NTMxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjUyNC40NDA0IiB4Mj0iNjUwLjgxNCIgeTE9IjU2OS40NTMxIiB5Mj0iNTY5LjQ1MzEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OC4wMDAxIiB4PSI1MzYuNDQwNCIgeT0iNTY0LjM4NzIiPiYjMTI0NTI7JiMxMjUwNTsmIzEyNTMxOyYjMTI0ODg7JiMyMTQ2MzsmIzIwNDQ5OzwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0ic2VydmVyIiBkYXRhLXBhcnRpY2lwYW50LTI9IndzIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMwOS44NDA4LDU5NC41ODU5LDI5OS44NDA4LDU5OC41ODU5LDMwOS44NDA4LDYwMi41ODU5LDMwNS44NDA4LDU5OC41ODU5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMwMy44NDA4IiB4Mj0iNTE4LjQ0MDQiIHkxPSI1OTguNTg1OSIgeTI9IjU5OC41ODU5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTk2LjU5OTYiIHg9IjMxNS44NDA4IiB5PSI1OTMuNTIiPnsgb3JkZXJTdGF0dXNDaGFuZ2VkOiB7Li4ufSB9PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJ3cyIgZGF0YS1wYXJ0aWNpcGFudC0yPSJjbGllbnQiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNDMuMjY1MSw2MjMuNzE4OCwzMy4yNjUxLDYyNy43MTg4LDQzLjI2NTEsNjMxLjcxODgsMzkuMjY1MSw2MjcuNzE4OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzNy4yNjUxIiB4Mj0iMjk3Ljg0MDgiIHkxPSI2MjcuNzE4OCIgeTI9IjYyNy43MTg4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA0LjAwMDEiIHg9IjQ5LjI2NTEiIHk9IjYyMi42NTI4Ij4mIzEyNTIyOyYjMTI0NTA7JiMxMjUyMzsmIzEyNDc5OyYjMTI0NTI7JiMxMjUxMjsmIzM2ODkwOyYjMzA2OTM7PC90ZXh0PjwvZz48cmVjdCBmaWxsPSIjRUVFRUVFIiBoZWlnaHQ9IjMiIHN0eWxlPSJzdHJva2U6I0VFRUVFRTtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIxMDY5LjE4NTIiIHg9IjAiIHk9IjY1Ni4yODUyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjAiIHgyPSIxMDY5LjE4NTIiIHkxPSI2NTYuMjg1MiIgeTI9IjY1Ni4yODUyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjAiIHgyPSIxMDY5LjE4NTIiIHkxPSI2NTkuMjg1MiIgeTI9IjY1OS4yODUyIi8+PHJlY3QgZmlsbD0iI0VFRUVFRSIgaGVpZ2h0PSIyMy4xMzI4IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7IiB3aWR0aD0iNzAuNTI1OSIgeD0iNDk5LjMyOTYiIHk9IjY0NS43MTg4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyLjAwMDEiIHg9IjUwNS4zMjk2IiB5PSI2NjEuNzg1NiI+JiMyNTUwOTsmIzMyMTU0OyYjMzIwNjY7JiMyMDEwMjs8L3RleHQ+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0iY2xpZW50IiBkYXRhLXBhcnRpY2lwYW50LTI9IndzIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI4Ni44NDA4LDY5NS45ODQ0LDI5Ni44NDA4LDY5OS45ODQ0LDI4Ni44NDA4LDcwMy45ODQ0LDI5MC44NDA4LDY5OS45ODQ0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMyLjI2NTEiIHgyPSIyOTIuODQwOCIgeTE9IjY5OS45ODQ0IiB5Mj0iNjk5Ljk4NDQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OC4wMDAxIiB4PSIzOS4yNjUxIiB5PSI2OTQuOTE4NSI+JiMyNTUwOTsmIzMyMTU0OyYjMTI0NjM7JiMxMjUyNTsmIzEyNTQwOyYjMTI0NzQ7PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1wYXJ0aWNpcGFudC0xPSJ3cyIgZGF0YS1wYXJ0aWNpcGFudC0yPSJzZXJ2ZXIiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTA3LjQ0MDQsNzI1LjExNzIsNTE3LjQ0MDQsNzI5LjExNzIsNTA3LjQ0MDQsNzMzLjExNzIsNTExLjQ0MDQsNzI5LjExNzIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjk4Ljg0MDgiIHgyPSI1MTMuNDQwNCIgeTE9IjcyOS4xMTcyIiB5Mj0iNzI5LjExNzIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTAuOTA2MyIgeD0iMzA1Ljg0MDgiIHk9IjcyNC4wNTEzIj5TdWJzY3JpcHRpb24gJiMzNTI5OTsmIzM4NTAwOzwvdGV4dD48L2c+PCEtLVNSQz1bckxGQkppOTA1RHRGTHFwT21tVUd1Q09PRG9IZU1CWVVqWERlOUQxcTFicU80ekQ5WTE2WTZ5TTAyeTE3RDE4VnlQTE9ETnBDMDhNX3kzQWpqS0wtbUR0anQzRmRkZEZjYmZreUhGNmdKUXBZVVhSZGduaEpSVEZZUGdNQ2ZKWUh1YXdBSnVHaU9kREpEb3JJdlpZbk4zOWZjSVNtT0xYTlBSb3pHUkx5SFQtYUZjQVJuUmxYOTZmbEtMajFjMmhaaTlLanU1c2hRWU1KNUdFT3pWQ0xILVBpV3plcERiRWQ4SHRLbzIyU1E4SEhkNVloQzV3bVFOdXpnbTI2WGIwYzRfU3dSVFA3cnRNU29JM1Y0YXVrV05JU25Zb0FzaTRMRE9xSk5jTkJITDhrSzBGbDhXMDJ0QlMxTHk4MHlGWm1vZGpoVS1Va3J3LVplMXo1bllIdWhPemZ1cWI5YXl3YjUycWZkZ05PenJna1R6b1BBR2tDcEhXQzNNd0ZaYXg3cHBWSVVQVVkxZ3lhZEc3S3V4RU5TVkNIMEkwUEo5ZlRJTUZfVjdKVjZCZ3JBNUVPQWMxb1Z5b2ZQbTFieGdKTkdCX0dnOFVlTGIwcTdGR1lKYk00WXJBM3FyR2dqSGs2NXdHRVRFOU1Fa1RJejlLVGVFdkV6emZVdnFoYkNYYnlaR3d3cU9icGtWbWhEeTVzbDNobTkwaXNwc3pCdnk3XzJRTlpwWXpRUjdxY3JuVkpya0t0XS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<hr />
<h3 id="162">16.2 イベントクラスの定義<a class="headerlink" href="#162" title="Permanent link">&para;</a></h3>
<details>
<summary>コード例: OrderStatusChangedEvent.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.domain.event</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.domain.model.order.OrderStatus</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 受注ステータス変更イベント</span>
<span class="cm"> */</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">record</span> <span class="nc">OrderStatusChangedEvent</span><span class="p">(</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">orderNumber</span><span class="p">,</span>
<span class="w">    </span><span class="n">OrderStatus</span><span class="w"> </span><span class="n">previousStatus</span><span class="p">,</span>
<span class="w">    </span><span class="n">OrderStatus</span><span class="w"> </span><span class="n">currentStatus</span><span class="p">,</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">changedBy</span><span class="p">,</span>
<span class="w">    </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">changedAt</span><span class="p">,</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">reason</span>
<span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">OrderStatusChangedEvent</span><span class="w"> </span><span class="nf">of</span><span class="p">(</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">orderNumber</span><span class="p">,</span>
<span class="w">            </span><span class="n">OrderStatus</span><span class="w"> </span><span class="n">previousStatus</span><span class="p">,</span>
<span class="w">            </span><span class="n">OrderStatus</span><span class="w"> </span><span class="n">currentStatus</span><span class="p">,</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">changedBy</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OrderStatusChangedEvent</span><span class="p">(</span>
<span class="w">            </span><span class="n">orderNumber</span><span class="p">,</span>
<span class="w">            </span><span class="n">previousStatus</span><span class="p">,</span>
<span class="w">            </span><span class="n">currentStatus</span><span class="p">,</span>
<span class="w">            </span><span class="n">changedBy</span><span class="p">,</span>
<span class="w">            </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">(),</span>
<span class="w">            </span><span class="kc">null</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>コード例: InventoryChangedEvent.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.domain.event</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 在庫変動イベント</span>
<span class="cm"> */</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">record</span> <span class="nc">InventoryChangedEvent</span><span class="p">(</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">warehouseCode</span><span class="p">,</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">,</span>
<span class="w">    </span><span class="n">InventoryChangeType</span><span class="w"> </span><span class="n">changeType</span><span class="p">,</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">quantity</span><span class="p">,</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">previousQuantity</span><span class="p">,</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">currentQuantity</span><span class="p">,</span>
<span class="w">    </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">timestamp</span>
<span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">InventoryChangeType</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">RECEIPT</span><span class="p">,</span><span class="w">      </span><span class="c1">// 入庫</span>
<span class="w">        </span><span class="n">SHIPMENT</span><span class="p">,</span><span class="w">     </span><span class="c1">// 出庫</span>
<span class="w">        </span><span class="n">ADJUSTMENT</span><span class="p">,</span><span class="w">   </span><span class="c1">// 調整</span>
<span class="w">        </span><span class="n">TRANSFER</span><span class="p">,</span><span class="w">     </span><span class="c1">// 移動</span>
<span class="w">        </span><span class="n">ALLOCATION</span><span class="p">,</span><span class="w">   </span><span class="c1">// 引当</span>
<span class="w">        </span><span class="n">RELEASE</span><span class="w">       </span><span class="c1">// 引当解除</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">InventoryChangedEvent</span><span class="w"> </span><span class="nf">of</span><span class="p">(</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">warehouseCode</span><span class="p">,</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">,</span>
<span class="w">            </span><span class="n">InventoryChangeType</span><span class="w"> </span><span class="n">changeType</span><span class="p">,</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">quantity</span><span class="p">,</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">previousQuantity</span><span class="p">,</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">currentQuantity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">InventoryChangedEvent</span><span class="p">(</span>
<span class="w">            </span><span class="n">warehouseCode</span><span class="p">,</span>
<span class="w">            </span><span class="n">productCode</span><span class="p">,</span>
<span class="w">            </span><span class="n">changeType</span><span class="p">,</span>
<span class="w">            </span><span class="n">quantity</span><span class="p">,</span>
<span class="w">            </span><span class="n">previousQuantity</span><span class="p">,</span>
<span class="w">            </span><span class="n">currentQuantity</span><span class="p">,</span>
<span class="w">            </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">()</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h3 id="163-reactor-sinks">16.3 イベントパブリッシャー（Reactor Sinks）<a class="headerlink" href="#163-reactor-sinks" title="Permanent link">&para;</a></h3>
<details>
<summary>コード例: GraphQLEventPublisher.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.subscription</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.domain.event.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Component</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">reactor.core.publisher.Flux</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">reactor.core.publisher.Sinks</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * GraphQL Subscription 用イベントパブリッシャー</span>
<span class="cm"> */</span>
<span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GraphQLEventPublisher</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="c1">// 受注ステータス変更</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Sinks</span><span class="p">.</span><span class="na">Many</span><span class="o">&lt;</span><span class="n">OrderStatusChangedEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="n">orderStatusSink</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">Sinks</span><span class="p">.</span><span class="na">many</span><span class="p">().</span><span class="na">multicast</span><span class="p">().</span><span class="na">onBackpressureBuffer</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// 出荷進捗</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Sinks</span><span class="p">.</span><span class="na">Many</span><span class="o">&lt;</span><span class="n">ShipmentProgressEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="n">shipmentProgressSink</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">Sinks</span><span class="p">.</span><span class="na">many</span><span class="p">().</span><span class="na">multicast</span><span class="p">().</span><span class="na">onBackpressureBuffer</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// 在庫変動</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Sinks</span><span class="p">.</span><span class="na">Many</span><span class="o">&lt;</span><span class="n">InventoryChangedEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="n">inventoryChangedSink</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">Sinks</span><span class="p">.</span><span class="na">many</span><span class="p">().</span><span class="na">multicast</span><span class="p">().</span><span class="na">onBackpressureBuffer</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// 締処理進捗</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Sinks</span><span class="p">.</span><span class="na">Many</span><span class="o">&lt;</span><span class="n">ClosingProgressEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="n">closingProgressSink</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">Sinks</span><span class="p">.</span><span class="na">many</span><span class="p">().</span><span class="na">multicast</span><span class="p">().</span><span class="na">onBackpressureBuffer</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// === 発行メソッド ===</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">publishOrderStatusChanged</span><span class="p">(</span><span class="n">OrderStatusChangedEvent</span><span class="w"> </span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">orderStatusSink</span><span class="p">.</span><span class="na">tryEmitNext</span><span class="p">(</span><span class="n">event</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">publishShipmentProgress</span><span class="p">(</span><span class="n">ShipmentProgressEvent</span><span class="w"> </span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">shipmentProgressSink</span><span class="p">.</span><span class="na">tryEmitNext</span><span class="p">(</span><span class="n">event</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">publishInventoryChanged</span><span class="p">(</span><span class="n">InventoryChangedEvent</span><span class="w"> </span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">inventoryChangedSink</span><span class="p">.</span><span class="na">tryEmitNext</span><span class="p">(</span><span class="n">event</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">publishClosingProgress</span><span class="p">(</span><span class="n">ClosingProgressEvent</span><span class="w"> </span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">closingProgressSink</span><span class="p">.</span><span class="na">tryEmitNext</span><span class="p">(</span><span class="n">event</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// === Flux 取得メソッド ===</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Flux</span><span class="o">&lt;</span><span class="n">OrderStatusChangedEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getOrderStatusChangedFlux</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">orderStatusSink</span><span class="p">.</span><span class="na">asFlux</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Flux</span><span class="o">&lt;</span><span class="n">OrderStatusChangedEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getOrderStatusChangedFlux</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">orderNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">orderStatusSink</span><span class="p">.</span><span class="na">asFlux</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">event</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">orderNumber</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span>
<span class="w">                             </span><span class="n">event</span><span class="p">.</span><span class="na">orderNumber</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="n">orderNumber</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Flux</span><span class="o">&lt;</span><span class="n">ShipmentProgressEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getShipmentProgressFlux</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">shipmentNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">shipmentProgressSink</span><span class="p">.</span><span class="na">asFlux</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">event</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">shipmentNumber</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span>
<span class="w">                             </span><span class="n">event</span><span class="p">.</span><span class="na">shipmentNumber</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="n">shipmentNumber</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Flux</span><span class="o">&lt;</span><span class="n">InventoryChangedEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getInventoryChangedFlux</span><span class="p">(</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">warehouseCode</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">inventoryChangedSink</span><span class="p">.</span><span class="na">asFlux</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">event</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">                </span><span class="p">(</span><span class="n">warehouseCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">event</span><span class="p">.</span><span class="na">warehouseCode</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="n">warehouseCode</span><span class="p">))</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">                </span><span class="p">(</span><span class="n">productCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">event</span><span class="p">.</span><span class="na">productCode</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="n">productCode</span><span class="p">))</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Flux</span><span class="o">&lt;</span><span class="n">ClosingProgressEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getClosingProgressFlux</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">closingId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">closingProgressSink</span><span class="p">.</span><span class="na">asFlux</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">event</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">event</span><span class="p">.</span><span class="na">closingId</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="n">closingId</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h3 id="164-subscription">16.4 受注リゾルバの実装（Subscription 対応）<a class="headerlink" href="#164-subscription" title="Permanent link">&para;</a></h3>
<details>
<summary>コード例: OrderResolver.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.resolver</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.application.port.in.OrderUseCase</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.domain.event.OrderStatusChangedEvent</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.domain.model.order.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.dto.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.subscription.GraphQLEventPublisher</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.graphql.data.method.annotation.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Controller</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">reactor.core.publisher.Flux</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 受注 GraphQL リゾルバ</span>
<span class="cm"> */</span>
<span class="nd">@Controller</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OrderResolver</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">OrderUseCase</span><span class="w"> </span><span class="n">orderUseCase</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">GraphQLEventPublisher</span><span class="w"> </span><span class="n">eventPublisher</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">OrderResolver</span><span class="p">(</span><span class="n">OrderUseCase</span><span class="w"> </span><span class="n">orderUseCase</span><span class="p">,</span>
<span class="w">                         </span><span class="n">GraphQLEventPublisher</span><span class="w"> </span><span class="n">eventPublisher</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">orderUseCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orderUseCase</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">eventPublisher</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">eventPublisher</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// === Query ===</span>

<span class="w">    </span><span class="nd">@QueryMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Order</span><span class="w"> </span><span class="nf">order</span><span class="p">(</span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">orderNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">orderUseCase</span><span class="p">.</span><span class="na">findByNumber</span><span class="p">(</span><span class="n">orderNumber</span><span class="p">).</span><span class="na">orElse</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@QueryMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">OrderConnection</span><span class="w"> </span><span class="nf">orders</span><span class="p">(</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">status</span><span class="p">,</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">partnerCode</span><span class="p">,</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">page</span><span class="p">,</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pageNum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pageSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>

<span class="w">        </span><span class="n">OrderStatus</span><span class="w"> </span><span class="n">orderStatus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">OrderStatus</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="n">status</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Order</span><span class="o">&gt;</span><span class="w"> </span><span class="n">orders</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orderUseCase</span><span class="p">.</span><span class="na">findAll</span><span class="p">(</span><span class="n">orderStatus</span><span class="p">,</span><span class="w"> </span><span class="n">partnerCode</span><span class="p">,</span><span class="w"> </span><span class="n">pageNum</span><span class="p">,</span><span class="w"> </span><span class="n">pageSize</span><span class="p">);</span>
<span class="w">        </span><span class="kt">long</span><span class="w"> </span><span class="n">totalCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orderUseCase</span><span class="p">.</span><span class="na">count</span><span class="p">(</span><span class="n">orderStatus</span><span class="p">,</span><span class="w"> </span><span class="n">partnerCode</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">OrderConnection</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">orders</span><span class="p">,</span><span class="w"> </span><span class="n">pageNum</span><span class="p">,</span><span class="w"> </span><span class="n">pageSize</span><span class="p">,</span><span class="w"> </span><span class="n">totalCount</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// === Mutation ===</span>

<span class="w">    </span><span class="nd">@MutationMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Order</span><span class="w"> </span><span class="nf">createOrder</span><span class="p">(</span><span class="nd">@Argument</span><span class="w"> </span><span class="n">CreateOrderInput</span><span class="w"> </span><span class="n">input</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">orderUseCase</span><span class="p">.</span><span class="na">create</span><span class="p">(</span>
<span class="w">            </span><span class="n">input</span><span class="p">.</span><span class="na">partnerCode</span><span class="p">(),</span>
<span class="w">            </span><span class="n">input</span><span class="p">.</span><span class="na">orderDate</span><span class="p">(),</span>
<span class="w">            </span><span class="n">input</span><span class="p">.</span><span class="na">deliveryDate</span><span class="p">(),</span>
<span class="w">            </span><span class="n">input</span><span class="p">.</span><span class="na">warehouseCode</span><span class="p">(),</span>
<span class="w">            </span><span class="n">input</span><span class="p">.</span><span class="na">salesPersonCode</span><span class="p">(),</span>
<span class="w">            </span><span class="n">input</span><span class="p">.</span><span class="na">remarks</span><span class="p">(),</span>
<span class="w">            </span><span class="n">input</span><span class="p">.</span><span class="na">details</span><span class="p">()</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@MutationMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Order</span><span class="w"> </span><span class="nf">confirmOrder</span><span class="p">(</span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">orderNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Order</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orderUseCase</span><span class="p">.</span><span class="na">confirm</span><span class="p">(</span><span class="n">orderNumber</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// イベント発行</span>
<span class="w">        </span><span class="n">eventPublisher</span><span class="p">.</span><span class="na">publishOrderStatusChanged</span><span class="p">(</span>
<span class="w">            </span><span class="n">OrderStatusChangedEvent</span><span class="p">.</span><span class="na">of</span><span class="p">(</span>
<span class="w">                </span><span class="n">orderNumber</span><span class="p">,</span>
<span class="w">                </span><span class="n">OrderStatus</span><span class="p">.</span><span class="na">DRAFT</span><span class="p">,</span>
<span class="w">                </span><span class="n">OrderStatus</span><span class="p">.</span><span class="na">CONFIRMED</span><span class="p">,</span>
<span class="w">                </span><span class="s">&quot;system&quot;</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">order</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@MutationMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Order</span><span class="w"> </span><span class="nf">cancelOrder</span><span class="p">(</span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">orderNumber</span><span class="p">,</span><span class="w"> </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">reason</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Order</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orderUseCase</span><span class="p">.</span><span class="na">cancel</span><span class="p">(</span><span class="n">orderNumber</span><span class="p">,</span><span class="w"> </span><span class="n">reason</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// イベント発行</span>
<span class="w">        </span><span class="n">eventPublisher</span><span class="p">.</span><span class="na">publishOrderStatusChanged</span><span class="p">(</span>
<span class="w">            </span><span class="n">OrderStatusChangedEvent</span><span class="p">.</span><span class="na">withReason</span><span class="p">(</span>
<span class="w">                </span><span class="n">orderNumber</span><span class="p">,</span>
<span class="w">                </span><span class="n">order</span><span class="p">.</span><span class="na">getStatus</span><span class="p">(),</span>
<span class="w">                </span><span class="n">OrderStatus</span><span class="p">.</span><span class="na">CANCELLED</span><span class="p">,</span>
<span class="w">                </span><span class="s">&quot;system&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="n">reason</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">order</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// === Subscription ===</span>

<span class="w">    </span><span class="nd">@SubscriptionMapping</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Flux</span><span class="o">&lt;</span><span class="n">OrderStatusChangedEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">orderStatusChanged</span><span class="p">(</span>
<span class="w">            </span><span class="nd">@Argument</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">orderNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">eventPublisher</span><span class="p">.</span><span class="na">getOrderStatusChangedFlux</span><span class="p">(</span><span class="n">orderNumber</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h3 id="165-graphiql">16.5 GraphiQL によるトランザクション操作<a class="headerlink" href="#165-graphiql" title="Permanent link">&para;</a></h3>
<details>
<summary>コード例: GraphQL クエリ/ミューテーション/サブスクリプション</summary>

<div class="highlight"><pre><span></span><code><span class="c"># 受注登録</span>
<span class="k">mutation</span><span class="w"> </span><span class="nf">CreateOrder</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">createOrder</span><span class="p">(</span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">partnerCode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CUS001&quot;</span>
<span class="w">    </span><span class="n">orderDate</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2025-12-29&quot;</span>
<span class="w">    </span><span class="n">deliveryDate</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2026-01-05&quot;</span>
<span class="w">    </span><span class="n">warehouseCode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;WH001&quot;</span>
<span class="w">    </span><span class="n">details</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="n">productCode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;PRD001&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">quantity</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">unitPrice</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="w"> </span><span class="p">}</span>
<span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="n">productCode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;PRD002&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">quantity</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">unitPrice</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">orderNumber</span>
<span class="w">    </span><span class="n">status</span>
<span class="w">    </span><span class="n">totalAmount</span>
<span class="w">    </span><span class="n">details</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">productCode</span>
<span class="w">      </span><span class="n">quantity</span>
<span class="w">      </span><span class="n">amount</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c"># 受注確定</span>
<span class="k">mutation</span><span class="w"> </span><span class="nf">ConfirmOrder</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">confirmOrder</span><span class="p">(</span><span class="n">orderNumber</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ORD20251229001&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">orderNumber</span>
<span class="w">    </span><span class="n">status</span>
<span class="w">    </span><span class="n">partner</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">partnerName</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c"># 受注ステータス監視（Subscription）</span>
<span class="k">subscription</span><span class="w"> </span><span class="nf">WatchOrderStatus</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">orderStatusChanged</span><span class="p">(</span><span class="n">orderNumber</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ORD20251229001&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">orderNumber</span>
<span class="w">    </span><span class="n">previousStatus</span>
<span class="w">    </span><span class="n">currentStatus</span>
<span class="w">    </span><span class="n">changedAt</span>
<span class="w">    </span><span class="n">changedBy</span>
<span class="w">    </span><span class="n">reason</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c"># 在庫変動監視</span>
<span class="k">subscription</span><span class="w"> </span><span class="nf">WatchInventory</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">inventoryChanged</span><span class="p">(</span><span class="n">warehouseCode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;WH001&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">warehouseCode</span>
<span class="w">    </span><span class="n">productCode</span>
<span class="w">    </span><span class="n">changeType</span>
<span class="w">    </span><span class="n">quantity</span>
<span class="w">    </span><span class="n">previousQuantity</span>
<span class="w">    </span><span class="n">currentQuantity</span>
<span class="w">    </span><span class="n">timestamp</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="17">第17章：エラーハンドリングとベストプラクティス<a class="headerlink" href="#17" title="Permanent link">&para;</a></h2>
<h3 id="171-graphql">17.1 GraphQL エラーハンドリング<a class="headerlink" href="#171-graphql" title="Permanent link">&para;</a></h3>
<p>GraphQL のエラーレスポンスは標準化された構造を持ちます：</p>
<details>
<summary>コード例: エラーレスポンス構造</summary>

<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;errors&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;商品コードが重複しています&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;locations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nt">&quot;line&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;column&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">}],</span>
<span class="w">      </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;createProduct&quot;</span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;extensions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;classification&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;VALIDATION_ERROR&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PRODUCT_CODE_DUPLICATE&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;field&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;productCode&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="_2">カスタム例外クラス<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: GraphQLErrorCode.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.application.exception</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">GraphQLErrorCode</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// バリデーションエラー</span>
<span class="w">    </span><span class="n">VALIDATION_ERROR</span><span class="p">(</span><span class="s">&quot;VALIDATION_ERROR&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">REQUIRED_FIELD_MISSING</span><span class="p">(</span><span class="s">&quot;REQUIRED_FIELD_MISSING&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">INVALID_FORMAT</span><span class="p">(</span><span class="s">&quot;INVALID_FORMAT&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">VALUE_OUT_OF_RANGE</span><span class="p">(</span><span class="s">&quot;VALUE_OUT_OF_RANGE&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">DUPLICATE_VALUE</span><span class="p">(</span><span class="s">&quot;DUPLICATE_VALUE&quot;</span><span class="p">),</span>

<span class="w">    </span><span class="c1">// ビジネスロジックエラー</span>
<span class="w">    </span><span class="n">BUSINESS_RULE_VIOLATION</span><span class="p">(</span><span class="s">&quot;BUSINESS_RULE_VIOLATION&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">INSUFFICIENT_STOCK</span><span class="p">(</span><span class="s">&quot;INSUFFICIENT_STOCK&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">INVALID_STATUS_TRANSITION</span><span class="p">(</span><span class="s">&quot;INVALID_STATUS_TRANSITION&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">CREDIT_LIMIT_EXCEEDED</span><span class="p">(</span><span class="s">&quot;CREDIT_LIMIT_EXCEEDED&quot;</span><span class="p">),</span>

<span class="w">    </span><span class="c1">// リソースエラー</span>
<span class="w">    </span><span class="n">NOT_FOUND</span><span class="p">(</span><span class="s">&quot;NOT_FOUND&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">ALREADY_EXISTS</span><span class="p">(</span><span class="s">&quot;ALREADY_EXISTS&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">CONFLICT</span><span class="p">(</span><span class="s">&quot;CONFLICT&quot;</span><span class="p">),</span>

<span class="w">    </span><span class="c1">// 認証・認可エラー</span>
<span class="w">    </span><span class="n">UNAUTHORIZED</span><span class="p">(</span><span class="s">&quot;UNAUTHORIZED&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">FORBIDDEN</span><span class="p">(</span><span class="s">&quot;FORBIDDEN&quot;</span><span class="p">),</span>

<span class="w">    </span><span class="c1">// システムエラー</span>
<span class="w">    </span><span class="n">INTERNAL_ERROR</span><span class="p">(</span><span class="s">&quot;INTERNAL_ERROR&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">SERVICE_UNAVAILABLE</span><span class="p">(</span><span class="s">&quot;SERVICE_UNAVAILABLE&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">code</span><span class="p">;</span>

<span class="w">    </span><span class="n">GraphQLErrorCode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">code</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">code</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">code</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getCode</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">code</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>コード例: GraphQLBusinessException.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.application.exception</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">graphql.ErrorClassification</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">graphql.GraphQLError</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">graphql.language.SourceLocation</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.HashMap</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GraphQLBusinessException</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RuntimeException</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">GraphQLError</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">GraphQLErrorCode</span><span class="w"> </span><span class="n">errorCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">field</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">additionalData</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">GraphQLBusinessException</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">GraphQLErrorCode</span><span class="w"> </span><span class="n">errorCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">(</span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">errorCode</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">GraphQLBusinessException</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">GraphQLErrorCode</span><span class="w"> </span><span class="n">errorCode</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">field</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">(</span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">errorCode</span><span class="p">,</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">GraphQLBusinessException</span><span class="p">(</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">message</span><span class="p">,</span>
<span class="w">            </span><span class="n">GraphQLErrorCode</span><span class="w"> </span><span class="n">errorCode</span><span class="p">,</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">field</span><span class="p">,</span>
<span class="w">            </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">additionalData</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">super</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">errorCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">errorCode</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">field</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">additionalData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">additionalData</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">additionalData</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">SourceLocation</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getLocations</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ErrorClassification</span><span class="w"> </span><span class="nf">getErrorType</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">CustomErrorClassification</span><span class="p">.</span><span class="na">fromCode</span><span class="p">(</span><span class="n">errorCode</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getExtensions</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">extensions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">        </span><span class="n">extensions</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;code&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">errorCode</span><span class="p">.</span><span class="na">getCode</span><span class="p">());</span>
<span class="w">        </span><span class="n">extensions</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;classification&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">getErrorType</span><span class="p">().</span><span class="na">toString</span><span class="p">());</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">field</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">extensions</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;field&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">field</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">extensions</span><span class="p">.</span><span class="na">putAll</span><span class="p">(</span><span class="n">additionalData</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">extensions</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h3 id="172">17.2 例外リゾルバ<a class="headerlink" href="#172" title="Permanent link">&para;</a></h3>
<details>
<summary>コード例: GraphQLExceptionResolver.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.infrastructure.graphql.exception</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.application.exception.GraphQLBusinessException</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.sales.application.exception.GraphQLErrorCode</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">graphql.GraphQLError</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">graphql.schema.DataFetchingEnvironment</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.graphql.execution.DataFetcherExceptionResolverAdapter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.graphql.execution.ErrorType</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Component</span><span class="p">;</span>

<span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GraphQLExceptionResolver</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">DataFetcherExceptionResolverAdapter</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="n">GraphQLError</span><span class="w"> </span><span class="nf">resolveToSingleError</span><span class="p">(</span><span class="n">Throwable</span><span class="w"> </span><span class="n">ex</span><span class="p">,</span><span class="w"> </span><span class="n">DataFetchingEnvironment</span><span class="w"> </span><span class="n">env</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// カスタムビジネス例外</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ex</span><span class="w"> </span><span class="k">instanceof</span><span class="w"> </span><span class="n">GraphQLBusinessException</span><span class="w"> </span><span class="n">businessEx</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">businessEx</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// ドメイン例外をラップ</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ex</span><span class="w"> </span><span class="k">instanceof</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GraphQLBusinessException</span><span class="p">(</span>
<span class="w">                </span><span class="n">ex</span><span class="p">.</span><span class="na">getMessage</span><span class="p">(),</span>
<span class="w">                </span><span class="n">GraphQLErrorCode</span><span class="p">.</span><span class="na">VALIDATION_ERROR</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ex</span><span class="w"> </span><span class="k">instanceof</span><span class="w"> </span><span class="n">IllegalStateException</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GraphQLBusinessException</span><span class="p">(</span>
<span class="w">                </span><span class="n">ex</span><span class="p">.</span><span class="na">getMessage</span><span class="p">(),</span>
<span class="w">                </span><span class="n">GraphQLErrorCode</span><span class="p">.</span><span class="na">BUSINESS_RULE_VIOLATION</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// Jakarta Validation 例外</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ex</span><span class="w"> </span><span class="k">instanceof</span><span class="w"> </span><span class="n">jakarta</span><span class="p">.</span><span class="na">validation</span><span class="p">.</span><span class="na">ConstraintViolationException</span><span class="w"> </span><span class="n">cve</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">firstViolation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cve</span><span class="p">.</span><span class="na">getConstraintViolations</span><span class="p">().</span><span class="na">iterator</span><span class="p">().</span><span class="na">next</span><span class="p">();</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GraphQLBusinessException</span><span class="p">(</span>
<span class="w">                </span><span class="n">firstViolation</span><span class="p">.</span><span class="na">getMessage</span><span class="p">(),</span>
<span class="w">                </span><span class="n">GraphQLErrorCode</span><span class="p">.</span><span class="na">VALIDATION_ERROR</span><span class="p">,</span>
<span class="w">                </span><span class="n">firstViolation</span><span class="p">.</span><span class="na">getPropertyPath</span><span class="p">().</span><span class="na">toString</span><span class="p">()</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// 未知の例外はログ出力して汎用メッセージを返す</span>
<span class="w">        </span><span class="n">logger</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="s">&quot;Unexpected error in GraphQL resolver&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ex</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">GraphQLError</span><span class="p">.</span><span class="na">newError</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">message</span><span class="p">(</span><span class="s">&quot;システムエラーが発生しました&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">errorType</span><span class="p">(</span><span class="n">ErrorType</span><span class="p">.</span><span class="na">INTERNAL_ERROR</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h3 id="173">17.3 入力バリデーション<a class="headerlink" href="#173" title="Permanent link">&para;</a></h3>
<h4 id="graphql">GraphQL ディレクティブによるバリデーション<a class="headerlink" href="#graphql" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: directives.graphqls</summary>

<div class="highlight"><pre><span></span><code><span class="c"># schema/directives.graphqls</span>
<span class="k">directive</span><span class="w"> </span><span class="err">@NotBlank(message:</span><span class="w"> </span><span class="err">String</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">&quot;必須項目です&quot;)</span><span class="w"> </span><span class="err">on</span><span class="w"> </span><span class="k">INPUT_FIELD_DEFINITION</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="k">ARGUMENT_DEFINITION</span>
<span class="k">directive</span><span class="w"> </span><span class="err">@Size(min:</span><span class="w"> </span><span class="err">Int</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">0</span><span class="p">,</span><span class="w"> </span><span class="err">max:</span><span class="w"> </span><span class="err">Int</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">255</span><span class="p">,</span><span class="w"> </span><span class="err">message:</span><span class="w"> </span><span class="err">String)</span><span class="w"> </span><span class="err">on</span><span class="w"> </span><span class="k">INPUT_FIELD_DEFINITION</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="k">ARGUMENT_DEFINITION</span>
<span class="k">directive</span><span class="w"> </span><span class="err">@Min(value:</span><span class="w"> </span><span class="err">Int!</span><span class="p">,</span><span class="w"> </span><span class="err">message:</span><span class="w"> </span><span class="err">String)</span><span class="w"> </span><span class="err">on</span><span class="w"> </span><span class="k">INPUT_FIELD_DEFINITION</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="k">ARGUMENT_DEFINITION</span>
<span class="k">directive</span><span class="w"> </span><span class="err">@Pattern(regexp:</span><span class="w"> </span><span class="err">String!</span><span class="p">,</span><span class="w"> </span><span class="err">message:</span><span class="w"> </span><span class="err">String)</span><span class="w"> </span><span class="err">on</span><span class="w"> </span><span class="k">INPUT_FIELD_DEFINITION</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="k">ARGUMENT_DEFINITION</span>
<span class="k">directive</span><span class="w"> </span><span class="err">@Email(message:</span><span class="w"> </span><span class="err">String</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">&quot;有効なメールアドレスを入力してください&quot;)</span><span class="w"> </span><span class="err">on</span><span class="w"> </span><span class="k">INPUT_FIELD_DEFINITION</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="k">ARGUMENT_DEFINITION</span>

<span class="c"># 使用例</span>
<span class="k">input</span><span class="w"> </span><span class="err">CreateProductInput</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">productCode</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="err">!</span><span class="w"> </span><span class="nd">@NotBlank</span><span class="w"> </span><span class="err">@Size</span><span class="p">(</span><span class="n">min</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">max</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;商品コードは16文字以内で入力してください&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="nl">productName</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="err">!</span><span class="w"> </span><span class="nd">@NotBlank</span><span class="w"> </span><span class="err">@Size</span><span class="p">(</span><span class="n">max</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
<span class="w">  </span><span class="nl">price</span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span><span class="err">!</span><span class="w"> </span><span class="nd">@Min</span><span class="p">(</span><span class="n">value</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;価格は0以上で入力してください&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">input</span><span class="w"> </span><span class="err">CreatePartnerInput</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">partnerCode</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="err">!</span><span class="w"> </span><span class="nd">@NotBlank</span><span class="w"> </span><span class="err">@Pattern</span><span class="p">(</span><span class="n">regexp</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;^[A-Z0-9]{4,10}$&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;取引先コードは英大文字と数字4〜10文字で入力してください&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="nl">partnerName</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="err">!</span><span class="w"> </span><span class="nd">@NotBlank</span><span class="w"> </span><span class="err">@Size</span><span class="p">(</span><span class="n">max</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
<span class="w">  </span><span class="nl">email</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nd">@Email</span>
<span class="w">  </span><span class="err">creditLimit:</span><span class="w"> </span><span class="err">BigDecimal</span><span class="w"> </span><span class="err">@Min</span><span class="p">(</span><span class="n">value</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="jakarta-validation">Jakarta Validation との統合<a class="headerlink" href="#jakarta-validation" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: CreateProductInputDto.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.sales.application.dto</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">jakarta.validation.constraints.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">record</span> <span class="nc">CreateProductInputDto</span><span class="p">(</span>
<span class="w">    </span><span class="nd">@NotBlank</span><span class="p">(</span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;商品コードは必須です&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="nd">@Size</span><span class="p">(</span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;商品コードは16文字以内で入力してください&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="nd">@Pattern</span><span class="p">(</span><span class="n">regexp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;^[A-Z0-9]+$&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;商品コードは英大文字と数字のみ使用可能です&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">productCode</span><span class="p">,</span>

<span class="w">    </span><span class="nd">@NotBlank</span><span class="p">(</span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;商品名は必須です&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="nd">@Size</span><span class="p">(</span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;商品名は100文字以内で入力してください&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">productName</span><span class="p">,</span>

<span class="w">    </span><span class="nd">@NotNull</span><span class="p">(</span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;価格は必須です&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="nd">@DecimalMin</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;0&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;価格は0以上で入力してください&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="nd">@Digits</span><span class="p">(</span><span class="n">integer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">fraction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;価格の形式が正しくありません&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">price</span><span class="p">,</span>

<span class="w">    </span><span class="nd">@Min</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;在庫数は0以上で入力してください&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">Integer</span><span class="w"> </span><span class="n">stockQuantity</span><span class="p">,</span>

<span class="w">    </span><span class="nd">@Size</span><span class="p">(</span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;備考は500文字以内で入力してください&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">notes</span>
<span class="p">)</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>

</details>

<hr />
<h3 id="174">17.4 セキュリティ<a class="headerlink" href="#174" title="Permanent link">&para;</a></h3>
<h4 id="_3">認可ディレクティブ<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: 認可ディレクティブ</summary>

<div class="highlight"><pre><span></span><code><span class="c"># スキーマレベルでの認可定義</span>
<span class="k">directive</span><span class="w"> </span><span class="err">@auth(</span>
<span class="w">  </span><span class="err">roles:</span><span class="w"> </span><span class="err">[String!]!</span>
<span class="err">)</span><span class="w"> </span><span class="err">on</span><span class="w"> </span><span class="k">FIELD_DEFINITION</span>

<span class="k">type</span><span class="w"> </span><span class="err">Mutation</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c"># 管理者のみ</span>
<span class="w">  </span><span class="n">deleteProduct</span><span class="p">(</span><span class="n">productCode</span><span class="p">:</span><span class="w"> </span><span class="no">ID</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Boolean</span><span class="err">!</span><span class="w"> </span><span class="nd">@auth</span><span class="p">(</span><span class="n">roles</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;ADMIN&quot;</span><span class="p">])</span>

<span class="w">  </span><span class="c"># 営業担当と管理者</span>
<span class="w">  </span><span class="n">createOrder</span><span class="p">(</span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="no">CreateOrderInput</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">Order</span><span class="err">!</span><span class="w"> </span><span class="nd">@auth</span><span class="p">(</span><span class="n">roles</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;SALES&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ADMIN&quot;</span><span class="p">])</span>

<span class="w">  </span><span class="c"># 経理担当と管理者</span>
<span class="w">  </span><span class="n">executeClosing</span><span class="p">(</span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="no">ExecuteClosingInput</span><span class="err">!</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">ClosingResult</span><span class="err">!</span><span class="w"> </span><span class="nd">@auth</span><span class="p">(</span><span class="n">roles</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;ACCOUNTING&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ADMIN&quot;</span><span class="p">])</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="_4">クエリ深度制限<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: クエリ深度制限</summary>

<div class="highlight"><pre><span></span><code><span class="nd">@Bean</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Instrumentation</span><span class="w"> </span><span class="nf">maxQueryDepthInstrumentation</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MaxQueryDepthInstrumentation</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="p">}</span>

<span class="nd">@Bean</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Instrumentation</span><span class="w"> </span><span class="nf">maxQueryComplexityInstrumentation</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MaxQueryComplexityInstrumentation</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h3 id="175">17.5 運用のベストプラクティス<a class="headerlink" href="#175" title="Permanent link">&para;</a></h3>
<h4 id="_5">ログインターセプター<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: GraphQLLoggingInterceptor.java</summary>

<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GraphQLLoggingInterceptor</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">WebGraphQlInterceptor</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Logger</span><span class="w"> </span><span class="n">logger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LoggerFactory</span><span class="p">.</span><span class="na">getLogger</span><span class="p">(</span><span class="n">GraphQLLoggingInterceptor</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Mono</span><span class="o">&lt;</span><span class="n">WebGraphQlResponse</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">intercept</span><span class="p">(</span><span class="n">WebGraphQlRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">Chain</span><span class="w"> </span><span class="n">chain</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">requestId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UUID</span><span class="p">.</span><span class="na">randomUUID</span><span class="p">().</span><span class="na">toString</span><span class="p">().</span><span class="na">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">operationName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">getOperationName</span><span class="p">();</span>
<span class="w">        </span><span class="n">Instant</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instant</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>

<span class="w">        </span><span class="n">MDC</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;requestId&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">requestId</span><span class="p">);</span>
<span class="w">        </span><span class="n">MDC</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;operationName&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">operationName</span><span class="p">);</span>

<span class="w">        </span><span class="n">logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="s">&quot;GraphQL リクエスト開始: operation={}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">operationName</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">chain</span><span class="p">.</span><span class="na">next</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">doOnNext</span><span class="p">(</span><span class="n">response</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">Duration</span><span class="w"> </span><span class="n">duration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Duration</span><span class="p">.</span><span class="na">between</span><span class="p">(</span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="n">Instant</span><span class="p">.</span><span class="na">now</span><span class="p">());</span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="na">getErrors</span><span class="p">().</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="s">&quot;GraphQL リクエスト完了: operation={}, duration={}ms&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="n">operationName</span><span class="p">,</span><span class="w"> </span><span class="n">duration</span><span class="p">.</span><span class="na">toMillis</span><span class="p">());</span>
<span class="w">                </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">logger</span><span class="p">.</span><span class="na">warn</span><span class="p">(</span><span class="s">&quot;GraphQL リクエスト完了（エラーあり）: operation={}, duration={}ms, errors={}&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="n">operationName</span><span class="p">,</span><span class="w"> </span><span class="n">duration</span><span class="p">.</span><span class="na">toMillis</span><span class="p">(),</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="na">getErrors</span><span class="p">().</span><span class="na">size</span><span class="p">());</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">})</span>
<span class="w">            </span><span class="p">.</span><span class="na">doFinally</span><span class="p">(</span><span class="n">signalType</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">MDC</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="s">&quot;requestId&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="n">MDC</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="s">&quot;operationName&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="_6">メトリクス収集<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h4>
<details>
<summary>コード例: GraphQLMetricsCollector.java</summary>

<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GraphQLMetricsCollector</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">WebGraphQlInterceptor</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Timer</span><span class="w"> </span><span class="n">queryTimer</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Timer</span><span class="w"> </span><span class="n">mutationTimer</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Counter</span><span class="w"> </span><span class="n">errorCounter</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Counter</span><span class="w"> </span><span class="n">successCounter</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">GraphQLMetricsCollector</span><span class="p">(</span><span class="n">MeterRegistry</span><span class="w"> </span><span class="n">registry</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">queryTimer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Timer</span><span class="p">.</span><span class="na">builder</span><span class="p">(</span><span class="s">&quot;graphql.query.duration&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">description</span><span class="p">(</span><span class="s">&quot;GraphQL クエリ実行時間&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">registry</span><span class="p">);</span>

<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">mutationTimer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Timer</span><span class="p">.</span><span class="na">builder</span><span class="p">(</span><span class="s">&quot;graphql.mutation.duration&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">description</span><span class="p">(</span><span class="s">&quot;GraphQL ミューテーション実行時間&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">registry</span><span class="p">);</span>

<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">errorCounter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Counter</span><span class="p">.</span><span class="na">builder</span><span class="p">(</span><span class="s">&quot;graphql.errors&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">description</span><span class="p">(</span><span class="s">&quot;GraphQL エラー数&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">registry</span><span class="p">);</span>

<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">successCounter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Counter</span><span class="p">.</span><span class="na">builder</span><span class="p">(</span><span class="s">&quot;graphql.success&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">description</span><span class="p">(</span><span class="s">&quot;GraphQL 成功数&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">registry</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Mono</span><span class="o">&lt;</span><span class="n">WebGraphQlResponse</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">intercept</span><span class="p">(</span><span class="n">WebGraphQlRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">Chain</span><span class="w"> </span><span class="n">chain</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Timer</span><span class="w"> </span><span class="n">timer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">getDocument</span><span class="p">().</span><span class="na">contains</span><span class="p">(</span><span class="s">&quot;mutation&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="o">?</span><span class="w"> </span><span class="n">mutationTimer</span>
<span class="w">            </span><span class="p">:</span><span class="w"> </span><span class="n">queryTimer</span><span class="p">;</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Mono</span><span class="p">.</span><span class="na">fromSupplier</span><span class="p">(</span><span class="n">timer</span><span class="p">::</span><span class="n">start</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">flatMap</span><span class="p">(</span><span class="n">sample</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">chain</span><span class="p">.</span><span class="na">next</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">doOnNext</span><span class="p">(</span><span class="n">response</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">sample</span><span class="p">.</span><span class="na">stop</span><span class="p">(</span><span class="n">timer</span><span class="p">);</span>

<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="na">getErrors</span><span class="p">().</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">successCounter</span><span class="p">.</span><span class="na">increment</span><span class="p">();</span>
<span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">errorCounter</span><span class="p">.</span><span class="na">increment</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="na">getErrors</span><span class="p">().</span><span class="na">size</span><span class="p">());</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">})</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="part-10-e">Part 10-E のまとめ<a class="headerlink" href="#part-10-e" title="Permanent link">&para;</a></h2>
<h3 id="_7">実装した機能一覧<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>章</th>
<th>内容</th>
<th>主要技術</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>第14章: 基礎</strong></td>
<td>GraphQL サーバーの基礎</td>
<td>Spring for GraphQL, スキーマ駆動開発</td>
</tr>
<tr>
<td><strong>第15章: マスタ API</strong></td>
<td>N+1 問題対策、ページネーション</td>
<td>DataLoader, Connection パターン</td>
</tr>
<tr>
<td><strong>第16章: トランザクション API</strong></td>
<td>リアルタイム通知、非同期処理</td>
<td>Subscription, Reactor Sinks</td>
</tr>
<tr>
<td><strong>第17章: エラーハンドリング</strong></td>
<td>バリデーション、セキュリティ</td>
<td>ディレクティブ, Jakarta Validation</td>
</tr>
</tbody>
</table>
<h3 id="graphql_1">実装した GraphQL 操作<a class="headerlink" href="#graphql_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Query</strong>: 商品・取引先・倉庫・受注・出荷・請求の取得</li>
<li><strong>Mutation</strong>: CRUD 操作、受注確定、出荷確定、締処理</li>
<li><strong>Subscription</strong>: 受注ステータス変更、出荷進捗、在庫変動、締処理進捗</li>
</ul>
<h3 id="_8">アーキテクチャの特徴<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9Ijk1N3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NzI0cHg7aGVpZ2h0Ojk1N3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDcyNCA5NTciIHdpZHRoPSI3MjRweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjwhLS1jbHVzdGVyIEFkYXB0ZXIgTGF5ZXIgKGluKS0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLWVudGl0eT0iQWRhcHRlciBMYXllciAuaW4uIiBkYXRhLXNvdXJjZS1saW5lPSIxIiBkYXRhLXVpZD0iZW50MDAwMiIgaWQ9ImNsdXN0ZXJfQWRhcHRlciBMYXllciAuaW4uIj48cGF0aCBkPSJNOC41LDYgTDE1NC4xMjExLDYgQTMuNzUsMy43NSAwIDAgMSAxNTYuNjIxMSw4LjUgTDE2My42MjExLDI4LjI5NjkgTDQyOC41LDI4LjI5NjkgQTIuNSwyLjUgMCAwIDEgNDMxLDMwLjc5NjkgTDQzMSw0NTkuNjggQTIuNSwyLjUgMCAwIDEgNDI4LjUsNDYyLjE4IEw4LjUsNDYyLjE4IEEyLjUsMi41IDAgMCAxIDYsNDU5LjY4IEw2LDguNSBBMi41LDIuNSAwIDAgMSA4LjUsNiIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNiIgeDI9IjE2My42MjExIiB5MT0iMjguMjk2OSIgeTI9IjI4LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ0LjYyMTEiIHg9IjEwIiB5PSIyMC45OTUxIj5BZGFwdGVyIExheWVyIChpbik8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIEFwcGxpY2F0aW9uIExheWVyLS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtZW50aXR5PSJBcHBsaWNhdGlvbiBMYXllciIgZGF0YS1zb3VyY2UtbGluZT0iMTAiIGRhdGEtdWlkPSJlbnQwMDA5IiBpZD0iY2x1c3Rlcl9BcHBsaWNhdGlvbiBMYXllciI+PHBhdGggZD0iTTQ1Ny41LDM2NC44OSBMNTk2LjU2NTQsMzY0Ljg5IEEzLjc1LDMuNzUgMCAwIDEgNTk5LjA2NTQsMzY3LjM5IEw2MDYuMDY1NCwzODcuMTg2OSBMNjg5LjUsMzg3LjE4NjkgQTIuNSwyLjUgMCAwIDEgNjkyLDM4OS42ODY5IEw2OTIsNjA1Ljk4IEEyLjUsMi41IDAgMCAxIDY4OS41LDYwOC40OCBMNDU3LjUsNjA4LjQ4IEEyLjUsMi41IDAgMCAxIDQ1NSw2MDUuOTggTDQ1NSwzNjcuMzkgQTIuNSwyLjUgMCAwIDEgNDU3LjUsMzY0Ljg5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI0NTUiIHgyPSI2MDYuMDY1NCIgeTE9IjM4Ny4xODY5IiB5Mj0iMzg3LjE4NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM4LjA2NTQiIHg9IjQ1OSIgeT0iMzc5Ljg4NTEiPkFwcGxpY2F0aW9uIExheWVyPC90ZXh0PjwvZz48IS0tY2x1c3RlciBEb21haW4gTGF5ZXItLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1lbnRpdHk9IkRvbWFpbiBMYXllciIgZGF0YS1zb3VyY2UtbGluZT0iMTYiIGRhdGEtdWlkPSJlbnQwMDEzIiBpZD0iY2x1c3Rlcl9Eb21haW4gTGF5ZXIiPjxwYXRoIGQ9Ik0zNC41LDUxMS4xOCBMMTQ0LjMwNzYsNTExLjE4IEEzLjc1LDMuNzUgMCAwIDEgMTQ2LjgwNzYsNTEzLjY4IEwxNTMuODA3Niw1MzMuNDc2OSBMNDI4LjUsNTMzLjQ3NjkgQTIuNSwyLjUgMCAwIDEgNDMxLDUzNS45NzY5IEw0MzEsNzM2LjI4IEEyLjUsMi41IDAgMCAxIDQyOC41LDczOC43OCBMMzQuNSw3MzguNzggQTIuNSwyLjUgMCAwIDEgMzIsNzM2LjI4IEwzMiw1MTMuNjggQTIuNSwyLjUgMCAwIDEgMzQuNSw1MTEuMTgiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjMyIiB4Mj0iMTUzLjgwNzYiIHkxPSI1MzMuNDc2OSIgeTI9IjUzMy40NzY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOC44MDc2IiB4PSIzNiIgeT0iNTI2LjE3NTEiPkRvbWFpbiBMYXllcjwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgQWRhcHRlciBMYXllciAob3V0KS0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLWVudGl0eT0iQWRhcHRlciBMYXllciAub3V0LiIgZGF0YS1zb3VyY2UtbGluZT0iMjIiIGRhdGEtdWlkPSJlbnQwMDE3IiBpZD0iY2x1c3Rlcl9BZGFwdGVyIExheWVyIC5vdXQuIj48cGF0aCBkPSJNNDU3LjUsNjQxLjQ4IEw2MTQuNjMyOCw2NDEuNDggQTMuNzUsMy43NSAwIDAgMSA2MTcuMTMyOCw2NDMuOTggTDYyNC4xMzI4LDY2My43NzY5IEw3MTQuNSw2NjMuNzc2OSBBMi41LDIuNSAwIDAgMSA3MTcsNjY2LjI3NjkgTDcxNyw4NDUuNTcgQTIuNSwyLjUgMCAwIDEgNzE0LjUsODQ4LjA3IEw0NTcuNSw4NDguMDcgQTIuNSwyLjUgMCAwIDEgNDU1LDg0NS41NyBMNDU1LDY0My45OCBBMi41LDIuNSAwIDAgMSA0NTcuNSw2NDEuNDgiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjQ1NSIgeDI9IjYyNC4xMzI4IiB5MT0iNjYzLjc3NjkiIHkyPSI2NjMuNzc2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTYuMTMyOCIgeD0iNDU5IiB5PSI2NTYuNDc1MSI+QWRhcHRlciBMYXllciAob3V0KTwvdGV4dD48L2c+PCEtLWVudGl0eSByZXNvbHZlci0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJyZXNvbHZlciIgZGF0YS1zb3VyY2UtbGluZT0iMiIgZGF0YS11aWQ9ImVudDAwMDMiIGlkPSJlbnRpdHlfcmVzb2x2ZXIiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTY2Ljk1NyIgeD0iMjM5LjUyIiB5PSIyNTUuNTkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNSIgeD0iMzg2LjQ3NyIgeT0iMjYwLjU5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSIzODQuNDc3IiB5PSIyNjIuNTkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjM4NC40NzciIHk9IjI2Ni41OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNi45NTciIHg9IjI1NC41MiIgeT0iMjg4LjU4NTEiPkdyYXBoUUwgUmVzb2x2ZXI8L3RleHQ+PC9nPjwhLS1lbnRpdHkgZXhjZXB0aW9uX3Jlc29sdmVyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9ImV4Y2VwdGlvbl9yZXNvbHZlciIgZGF0YS1zb3VyY2UtbGluZT0iMyIgZGF0YS11aWQ9ImVudDAwMDQiIGlkPSJlbnRpdHlfZXhjZXB0aW9uX3Jlc29sdmVyIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE3NC4zMzk4IiB4PSIyMS44MyIgeT0iMzk5Ljg5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTUiIHg9IjE3Ni4xNjk4IiB5PSI0MDQuODkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjE3NC4xNjk4IiB5PSI0MDYuODkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjE3NC4xNjk4IiB5PSI0MTAuODkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzQuMzM5OCIgeD0iMzYuODMiIHk9IjQzMi44ODUxIj5FeGNlcHRpb24gUmVzb2x2ZXI8L3RleHQ+PC9nPjwhLS1lbnRpdHkgdmFsaWRhdGlvbi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJ2YWxpZGF0aW9uIiBkYXRhLXNvdXJjZS1saW5lPSI0IiBkYXRhLXVpZD0iZW50MDAwNSIgaWQ9ImVudGl0eV92YWxpZGF0aW9uIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE3Ny42ODI2IiB4PSIzMy4xNiIgeT0iMTQ4LjI5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTUiIHg9IjE5MC44NDI2IiB5PSIxNTMuMjkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjE4OC44NDI2IiB5PSIxNTUuMjkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjE4OC44NDI2IiB5PSIxNTkuMjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzcuNjgyNiIgeD0iNDguMTYiIHk9IjE4MS4yODUxIj5WYWxpZGF0aW9uIERpcmVjdGl2ZTwvdGV4dD48L2c+PCEtLWVudGl0eSBkYXRhbG9hZGVyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9ImRhdGFsb2FkZXIiIGRhdGEtc291cmNlLWxpbmU9IjUiIGRhdGEtdWlkPSJlbnQwMDA2IiBpZD0iZW50aXR5X2RhdGFsb2FkZXIiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTg0LjAxOTUiIHg9IjIzMC45OSIgeT0iMzk5Ljg5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTUiIHg9IjM5NS4wMDk1IiB5PSI0MDQuODkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjM5My4wMDk1IiB5PSI0MDYuODkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjM5My4wMDk1IiB5PSI0MTAuODkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDQuMDE5NSIgeD0iMjQ1Ljk5IiB5PSI0MzIuODg1MSI+RGF0YUxvYWRlciBSZWdpc3RyeTwvdGV4dD48L2c+PCEtLWVudGl0eSBsb2dnaW5nLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9ImxvZ2dpbmciIGRhdGEtc291cmNlLWxpbmU9IjYiIGRhdGEtdWlkPSJlbnQwMDA3IiBpZD0iZW50aXR5X2xvZ2dpbmciPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTc4LjEwNjQiIHg9IjIzNS45NSIgeT0iNDEiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNSIgeD0iMzk0LjA1NjQiIHk9IjQ2Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSIzOTIuMDU2NCIgeT0iNDgiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjM5Mi4wNTY0IiB5PSI1MiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzOC4xMDY0IiB4PSIyNTAuOTUiIHk9IjczLjk5NTEiPkxvZ2dpbmcgSW50ZXJjZXB0b3I8L3RleHQ+PC9nPjwhLS1lbnRpdHkgbWV0cmljcy0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJtZXRyaWNzIiBkYXRhLXNvdXJjZS1saW5lPSI3IiBkYXRhLXVpZD0iZW50MDAwOCIgaWQ9ImVudGl0eV9tZXRyaWNzIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1Ny41MDk4IiB4PSIyNDYuMjUiIHk9IjE0OC4yOSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1IiB4PSIzODMuNzU5OCIgeT0iMTUzLjI5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSIzODEuNzU5OCIgeT0iMTU1LjI5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSIzODEuNzU5OCIgeT0iMTU5LjI5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE3LjUwOTgiIHg9IjI2MS4yNSIgeT0iMTgxLjI4NTEiPk1ldHJpY3MgQ29sbGVjdG9yPC90ZXh0PjwvZz48IS0tZW50aXR5IHVzZWNhc2UtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0idXNlY2FzZSIgZGF0YS1zb3VyY2UtbGluZT0iMTEiIGRhdGEtdWlkPSJlbnQwMDEwIiBpZD0iZW50aXR5X3VzZWNhc2UiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTAwLjQxNiIgeD0iNDcwLjc5IiB5PSIzOTkuODkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNSIgeD0iNTUxLjIwNiIgeT0iNDA0Ljg5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSI1NDkuMjA2IiB5PSI0MDYuODkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjU0OS4yMDYiIHk9IjQxMC44OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYwLjQxNiIgeD0iNDg1Ljc5IiB5PSI0MzIuODg1MSI+VXNlQ2FzZTwvdGV4dD48L2c+PCEtLWVudGl0eSBkdG8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iZHRvIiBkYXRhLXNvdXJjZS1saW5lPSIxMiIgZGF0YS11aWQ9ImVudDAwMTEiIGlkPSJlbnRpdHlfZHRvIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjcwLjM1MTYiIHg9IjYwNS44MiIgeT0iMzk5Ljg5Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTUiIHg9IjY1Ni4xNzE2IiB5PSI0MDQuODkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjY1NC4xNzE2IiB5PSI0MDYuODkiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjY1NC4xNzE2IiB5PSI0MTAuODkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMC4zNTE2IiB4PSI2MjAuODIiIHk9IjQzMi44ODUxIj5EVE88L3RleHQ+PC9nPjwhLS1lbnRpdHkgYXBwX2V4Y2VwdGlvbi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJhcHBfZXhjZXB0aW9uIiBkYXRhLXNvdXJjZS1saW5lPSIxMyIgZGF0YS11aWQ9ImVudDAwMTIiIGlkPSJlbnRpdHlfYXBwX2V4Y2VwdGlvbiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0Ni4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDkuMTQ1NSIgeD0iNDcxLjQzIiB5PSI1NDYuMTgiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNSIgeD0iNTYwLjU3NTUiIHk9IjU1MS4xOCIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iNTU4LjU3NTUiIHk9IjU1My4xOCIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iNTU4LjU3NTUiIHk9IjU1Ny4xOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5LjE0NTUiIHg9IjQ4Ni40MyIgeT0iNTc5LjE3NTEiPkV4Y2VwdGlvbjwvdGV4dD48L2c+PCEtLWVudGl0eSBkb21haW4tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iZG9tYWluIiBkYXRhLXNvdXJjZS1saW5lPSIxNyIgZGF0YS11aWQ9ImVudDAwMTQiIGlkPSJlbnRpdHlfZG9tYWluIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE0MC44MDk2IiB4PSI1Mi42IiB5PSI2NzYuNDgiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNSIgeD0iMTczLjQwOTYiIHk9IjY4MS40OCIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMTcxLjQwOTYiIHk9IjY4My40OCIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMTcxLjQwOTYiIHk9IjY4Ny40OCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMC44MDk2IiB4PSI2Ny42IiB5PSI3MDkuNDc1MSI+RG9tYWluIE1vZGVsPC90ZXh0PjwvZz48IS0tZW50aXR5IGRvbWFpbl9zZXJ2aWNlLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9ImRvbWFpbl9zZXJ2aWNlIiBkYXRhLXNvdXJjZS1saW5lPSIxOCIgZGF0YS11aWQ9ImVudDAwMTUiIGlkPSJlbnRpdHlfZG9tYWluX3NlcnZpY2UiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTUwLjUxNjYiIHg9IjQ3Ljc0IiB5PSI1NDYuMTgiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNSIgeD0iMTc4LjI1NjYiIHk9IjU1MS4xOCIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMTc2LjI1NjYiIHk9IjU1My4xOCIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMTc2LjI1NjYiIHk9IjU1Ny4xOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMC41MTY2IiB4PSI2Mi43NCIgeT0iNTc5LjE3NTEiPkRvbWFpbiBTZXJ2aWNlPC90ZXh0PjwvZz48IS0tZW50aXR5IHJlcG9faW50ZXJmYWNlLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9InJlcG9faW50ZXJmYWNlIiBkYXRhLXNvdXJjZS1saW5lPSIxOSIgZGF0YS11aWQ9ImVudDAwMTYiIGlkPSJlbnRpdHlfcmVwb19pbnRlcmZhY2UiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTgyLjIwMTIiIHg9IjIzMi45IiB5PSI1NDYuMTgiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNSIgeD0iMzk1LjEwMTIiIHk9IjU1MS4xOCIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMzkzLjEwMTIiIHk9IjU1My4xOCIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNCIgeD0iMzkzLjEwMTIiIHk9IjU1Ny4xOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0Mi4yMDEyIiB4PSIyNDcuOSIgeT0iNTc5LjE3NTEiPlJlcG9zaXRvcnkgSW50ZXJmYWNlPC90ZXh0PjwvZz48IS0tZW50aXR5IHJlcG9faW1wbC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJyZXBvX2ltcGwiIGRhdGEtc291cmNlLWxpbmU9IjIzIiBkYXRhLXVpZD0iZW50MDAxOCIgaWQ9ImVudGl0eV9yZXBvX2ltcGwiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMjMwLjY4ODUiIHg9IjQ3MC42NiIgeT0iNjc2LjQ4Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTUiIHg9IjY4MS4zNDg1IiB5PSI2ODEuNDgiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjY3OS4zNDg1IiB5PSI2ODMuNDgiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjQiIHg9IjY3OS4zNDg1IiB5PSI2ODcuNDgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTAuNjg4NSIgeD0iNDg1LjY2IiB5PSI3MDkuNDc1MSI+UmVwb3NpdG9yeSBJbXBsZW1lbnRhdGlvbjwvdGV4dD48L2c+PCEtLWVudGl0eSBtYXBwZXItLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0ibWFwcGVyIiBkYXRhLXNvdXJjZS1saW5lPSIyNCIgZGF0YS11aWQ9ImVudDAwMTkiIGlkPSJlbnRpdHlfbWFwcGVyIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1Mi40NzE3IiB4PSI1MDkuNzYiIHk9Ijc4NS43OCIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1IiB4PSI2NDIuMjMxNyIgeT0iNzkwLjc4Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSI2NDAuMjMxNyIgeT0iNzkyLjc4Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI0IiB4PSI2NDAuMjMxNyIgeT0iNzk2Ljc4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTEyLjQ3MTciIHg9IjUyNC43NiIgeT0iODE4Ljc3NTEiPk15QmF0aXMgTWFwcGVyPC90ZXh0PjwvZz48IS0tZW50aXR5IGRiLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9ImRiIiBkYXRhLXNvdXJjZS1saW5lPSIyNyIgZGF0YS11aWQ9ImVudDAwMjAiIGlkPSJlbnRpdHlfZGIiPjxwYXRoIGQ9Ik01MzUuNjIsOTA1LjA3IEM1MzUuNjIsODk1LjA3IDU4NS45OTY1LDg5NS4wNyA1ODUuOTk2NSw4OTUuMDcgQzU4NS45OTY1LDg5NS4wNyA2MzYuMzcyOSw4OTUuMDcgNjM2LjM3MjksOTA1LjA3IEw2MzYuMzcyOSw5MzAuMzY2OSBDNjM2LjM3MjksOTQwLjM2NjkgNTg1Ljk5NjUsOTQwLjM2NjkgNTg1Ljk5NjUsOTQwLjM2NjkgQzU4NS45OTY1LDk0MC4zNjY5IDUzNS42Miw5NDAuMzY2OSA1MzUuNjIsOTMwLjM2NjkgTDUzNS42Miw5MDUuMDciIGZpbGw9IiNGMUYxRjEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik01MzUuNjIsOTA1LjA3IEM1MzUuNjIsOTE1LjA3IDU4NS45OTY1LDkxNS4wNyA1ODUuOTk2NSw5MTUuMDcgQzU4NS45OTY1LDkxNS4wNyA2MzYuMzcyOSw5MTUuMDcgNjM2LjM3MjksOTA1LjA3IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4MC43NTI5IiB4PSI1NDUuNjIiIHk9IjkzMi4wNjUxIj5Qb3N0Z3JlU1FMPC90ZXh0PjwvZz48IS0tbGluayBsb2dnaW5nIHRvIG1ldHJpY3MtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0ibG9nZ2luZyIgZGF0YS1lbnRpdHktMj0ibWV0cmljcyIgZGF0YS1zb3VyY2UtbGluZT0iMzAiIGRhdGEtdWlkPSJsbmsyMSIgaWQ9ImxpbmtfbG9nZ2luZ19tZXRyaWNzIj48cGF0aCBkPSJNMzI1LDg3LjczIEMzMjUsMTA1LjUgMzI1LDEyNC4xMyAzMjUsMTQxLjg5IiBmaWxsPSJub25lIiBpZD0ibG9nZ2luZy10by1tZXRyaWNzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzMjUsMTQ3Ljg5LDMyOSwxMzguODksMzI1LDE0Mi44OSwzMjEsMTM4Ljg5LDMyNSwxNDcuODkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgbWV0cmljcyB0byByZXNvbHZlci0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJtZXRyaWNzIiBkYXRhLWVudGl0eS0yPSJyZXNvbHZlciIgZGF0YS1zb3VyY2UtbGluZT0iMzEiIGRhdGEtdWlkPSJsbmsyMiIgaWQ9ImxpbmtfbWV0cmljc19yZXNvbHZlciI+PHBhdGggZD0iTTMyNC41NywxOTUuMDMgQzMyNC4yMywyMTIuOCAzMjMuODg0OCwyMzEuNDMxMSAzMjMuNTQ0OCwyNDkuMTkxMSIgZmlsbD0ibm9uZSIgaWQ9Im1ldHJpY3MtdG8tcmVzb2x2ZXIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMyMy40MywyNTUuMTksMzI3LjYwMTUsMjQ2LjI2ODIsMzIzLjUyNTcsMjUwLjE5MDksMzE5LjYwMywyNDYuMTE1MSwzMjMuNDMsMjU1LjE5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIHZhbGlkYXRpb24gdG8gcmVzb2x2ZXItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0idmFsaWRhdGlvbiIgZGF0YS1lbnRpdHktMj0icmVzb2x2ZXIiIGRhdGEtc291cmNlLWxpbmU9IjM0IiBkYXRhLXVpZD0ibG5rMjMiIGlkPSJsaW5rX3ZhbGlkYXRpb25fcmVzb2x2ZXIiPjxwYXRoIGQ9Ik0xNjUuMTIsMTk1LjAzIEMxOTkuMDMsMjEyLjggMjQwLjc0NTUsMjM0LjY0NSAyNzQuNjM1NSwyNTIuNDA1IiBmaWxsPSJub25lIiBpZD0idmFsaWRhdGlvbi10by1yZXNvbHZlciIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjc5Ljk1LDI1NS4xOSwyNzMuODM1LDI0Ny40Njk1LDI3NS41MjEzLDI1Mi44NjkxLDI3MC4xMjE2LDI1NC41NTU0LDI3OS45NSwyNTUuMTkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgcmVzb2x2ZXIgdG8gdXNlY2FzZS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJyZXNvbHZlciIgZGF0YS1lbnRpdHktMj0idXNlY2FzZSIgZGF0YS1zb3VyY2UtbGluZT0iMzciIGRhdGEtdWlkPSJsbmsyNCIgaWQ9ImxpbmtfcmVzb2x2ZXJfdXNlY2FzZSI+PHBhdGggZD0iTTM1NC43LDMwMi4zIEMzNzYuMjQsMzE3LjY2IDQwNS4zNywzMzguNDYgNDMxLDM1Ni44OSBDNDUwLjczLDM3MS4wNyA0NjcuOTgxOSwzODMuNTU4OCA0ODUuMzUxOSwzOTYuMTQ4OCIgZmlsbD0ibm9uZSIgaWQ9InJlc29sdmVyLXRvLXVzZWNhc2UiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjQ5MC4yMSwzOTkuNjcsNDg1LjI3MDMsMzkxLjE0OTUsNDg2LjE2MTYsMzk2LjczNTcsNDgwLjU3NTQsMzk3LjYyNjksNDkwLjIxLDM5OS42NyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayByZXNvbHZlciB0byBkYXRhbG9hZGVyLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9InJlc29sdmVyIiBkYXRhLWVudGl0eS0yPSJkYXRhbG9hZGVyIiBkYXRhLXNvdXJjZS1saW5lPSIzOCIgZGF0YS11aWQ9ImxuazI1IiBpZD0ibGlua19yZXNvbHZlcl9kYXRhbG9hZGVyIj48cGF0aCBkPSJNMzIzLDMwMi4yOCBDMzIzLDMyOC45MyAzMjMsMzY2Ljk5IDMyMywzOTMuNTkiIGZpbGw9Im5vbmUiIGlkPSJyZXNvbHZlci10by1kYXRhbG9hZGVyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzMjMsMzk5LjU5LDMyNywzOTAuNTksMzIzLDM5NC41OSwzMTksMzkwLjU5LDMyMywzOTkuNTkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgdXNlY2FzZSB0byBkb21haW5fc2VydmljZS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJ1c2VjYXNlIiBkYXRhLWVudGl0eS0yPSJkb21haW5fc2VydmljZSIgZGF0YS1zb3VyY2UtbGluZT0iMzkiIGRhdGEtdWlkPSJsbmsyNiIgaWQ9ImxpbmtfdXNlY2FzZV9kb21haW5fc2VydmljZSI+PHBhdGggZD0iTTQ4My42Myw0NDYuNjIgQzQ2Ny44OCw0NTUuMjIgNDQ5LjA0LDQ2NC4zNSA0MzEsNDcwLjE4IEMzMzguNiw1MDAuMDYgMzA1LjA1LDQ2Ni44MSAyMTUsNTAzLjE4IEMxOTAuMTQsNTEzLjIyIDE3MC4xNTc1LDUyNy4zNDg4IDE1Mi42NTc1LDU0MS44Njg4IiBmaWxsPSJub25lIiBpZD0idXNlY2FzZS10by1kb21haW5fc2VydmljZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTQ4LjA0LDU0NS43LDE1Ny41MjA1LDU0My4wMzE1LDE1MS44ODc5LDU0Mi41MDczLDE1Mi40MTIxLDUzNi44NzQ4LDE0OC4wNCw1NDUuNyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayB1c2VjYXNlIHRvIHJlcG9faW50ZXJmYWNlLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9InVzZWNhc2UiIGRhdGEtZW50aXR5LTI9InJlcG9faW50ZXJmYWNlIiBkYXRhLXNvdXJjZS1saW5lPSI0MCIgZGF0YS11aWQ9ImxuazI3IiBpZD0ibGlua191c2VjYXNlX3JlcG9faW50ZXJmYWNlIj48cGF0aCBkPSJNNDkwLjIyLDQ0Ni41OCBDNDUzLjMyLDQ3My42MSAzOTYuNjgwMSw1MTUuMDk0MSAzNTkuNzMwMSw1NDIuMTY0MSIgZmlsbD0ibm9uZSIgaWQ9InVzZWNhc2UtdG8tcmVwb19pbnRlcmZhY2UiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM1NC44OSw1NDUuNzEsMzY0LjUxNDEsNTQzLjYxNzksMzU4LjkyMzQsNTQyLjc1NTEsMzU5Ljc4NjIsNTM3LjE2NDQsMzU0Ljg5LDU0NS43MSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBkb21haW5fc2VydmljZSB0byBkb21haW4tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZG9tYWluX3NlcnZpY2UiIGRhdGEtZW50aXR5LTI9ImRvbWFpbiIgZGF0YS1zb3VyY2UtbGluZT0iNDEiIGRhdGEtdWlkPSJsbmsyOCIgaWQ9ImxpbmtfZG9tYWluX3NlcnZpY2VfZG9tYWluIj48cGF0aCBkPSJNMTIzLDU5Mi45NyBDMTIzLDYxNi40MiAxMjMsNjQ2Ljg1IDEyMyw2NzAuMjEiIGZpbGw9Im5vbmUiIGlkPSJkb21haW5fc2VydmljZS10by1kb21haW4iIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjEyMyw2NzYuMjEsMTI3LDY2Ny4yMSwxMjMsNjcxLjIxLDExOSw2NjcuMjEsMTIzLDY3Ni4yMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tcmV2ZXJzZSBsaW5rIHJlcG9faW50ZXJmYWNlIHRvIHJlcG9faW1wbC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJyZXBvX2ludGVyZmFjZSIgZGF0YS1lbnRpdHktMj0icmVwb19pbXBsIiBkYXRhLXNvdXJjZS1saW5lPSI0MiIgZGF0YS11aWQ9ImxuazI5IiBpZD0ibGlua19yZXBvX2ludGVyZmFjZV9yZXBvX2ltcGwiPjxwYXRoIGQ9Ik0zODYuNDA1NSw2MDAuODg2OCBDNDM0LjE0NTUsNjI0LjI2NjggNDkyLjA1LDY1Mi42MiA1MzkuNzksNjc2IiBmaWxsPSJub25lIiBpZD0icmVwb19pbnRlcmZhY2UtYmFja3RvLXJlcG9faW1wbCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6Nyw3OyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMzcwLjI0LDU5Mi45NywzODMuNzY2Niw2MDYuMjc1MywzODkuMDQ0NSw1OTUuNDk4MywzNzAuMjQsNTkyLjk3IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIHJlcG9faW1wbCB0byBtYXBwZXItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0icmVwb19pbXBsIiBkYXRhLWVudGl0eS0yPSJtYXBwZXIiIGRhdGEtc291cmNlLWxpbmU9IjQzIiBkYXRhLXVpZD0ibG5rMzAiIGlkPSJsaW5rX3JlcG9faW1wbF9tYXBwZXIiPjxwYXRoIGQ9Ik01ODYsNzIzLjEyIEM1ODYsNzQxLjQzIDU4Niw3NjEuMTYgNTg2LDc3OS40NiIgZmlsbD0ibm9uZSIgaWQ9InJlcG9faW1wbC10by1tYXBwZXIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjU4Niw3ODUuNDYsNTkwLDc3Ni40Niw1ODYsNzgwLjQ2LDU4Miw3NzYuNDYsNTg2LDc4NS40NiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBtYXBwZXIgdG8gZGItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0ibWFwcGVyIiBkYXRhLWVudGl0eS0yPSJkYiIgZGF0YS1zb3VyY2UtbGluZT0iNDQiIGRhdGEtdWlkPSJsbmszMSIgaWQ9ImxpbmtfbWFwcGVyX2RiIj48cGF0aCBkPSJNNTg2LDgzMi4zMSBDNTg2LDg1MC42NiA1ODYsODcwLjQ5IDU4Niw4ODguNzMiIGZpbGw9Im5vbmUiIGlkPSJtYXBwZXItdG8tZGIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjU4Niw4OTQuNzMsNTkwLDg4NS43Myw1ODYsODg5LjczLDU4Miw4ODUuNzMsNTg2LDg5NC43MyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayByZXNvbHZlciB0byBleGNlcHRpb25fcmVzb2x2ZXItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0icmVzb2x2ZXIiIGRhdGEtZW50aXR5LTI9ImV4Y2VwdGlvbl9yZXNvbHZlciIgZGF0YS1zb3VyY2UtbGluZT0iNDciIGRhdGEtdWlkPSJsbmszMiIgaWQ9ImxpbmtfcmVzb2x2ZXJfZXhjZXB0aW9uX3Jlc29sdmVyIj48cGF0aCBkPSJNMjg5LjA5LDMwMi4yOCBDMjQ5LjAyLDMyOC45MyAxODcuNzQ2MSwzNjkuNjY3NiAxNDcuNzQ2MSwzOTYuMjY3NiIgZmlsbD0ibm9uZSIgaWQ9InJlc29sdmVyLXRvLWV4Y2VwdGlvbl9yZXNvbHZlciIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6Nyw3OyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTQyLjc1LDM5OS41OSwxNTIuNDU5MiwzOTcuOTM3MSwxNDYuOTEzNSwzOTYuODIxMywxNDguMDI5MywzOTEuMjc1NiwxNDIuNzUsMzk5LjU5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDQuMDQiIHg9IjI0Mi40NiIgeT0iMzQ0Ljk1NjkiPnRocm93czwvdGV4dD48L2c+PCEtLWxpbmsgdXNlY2FzZSB0byBhcHBfZXhjZXB0aW9uLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9InVzZWNhc2UiIGRhdGEtZW50aXR5LTI9ImFwcF9leGNlcHRpb24iIGRhdGEtc291cmNlLWxpbmU9IjQ4IiBkYXRhLXVpZD0ibG5rMzMiIGlkPSJsaW5rX3VzZWNhc2VfYXBwX2V4Y2VwdGlvbiI+PHBhdGggZD0iTTUyMS43OCw0NDYuNTggQzUyMi43Miw0NzMuNjkgNTI0LjA4MzcsNTEyLjkxMzUgNTI1LjAxMzcsNTM5Ljk0MzUiIGZpbGw9Im5vbmUiIGlkPSJ1c2VjYXNlLXRvLWFwcF9leGNlcHRpb24iIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjcsNzsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjUyNS4yMiw1NDUuOTQsNTI4LjkwODIsNTM2LjgwNzgsNTI1LjA0ODEsNTQwLjk0Myw1MjAuOTEyOSw1MzcuMDgyOSw1MjUuMjIsNTQ1Ljk0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDQuMDQiIHg9IjUyNC4zNSIgeT0iNDkxLjI0NjkiPnRocm93czwvdGV4dD48L2c+PCEtLWxpbmsgZGF0YWxvYWRlciB0byByZXBvX2ludGVyZmFjZS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJkYXRhbG9hZGVyIiBkYXRhLWVudGl0eS0yPSJyZXBvX2ludGVyZmFjZSIgZGF0YS1zb3VyY2UtbGluZT0iNTEiIGRhdGEtdWlkPSJsbmszNCIgaWQ9ImxpbmtfZGF0YWxvYWRlcl9yZXBvX2ludGVyZmFjZSI+PHBhdGggZD0iTTMyMy4xNiw0NDYuNTggQzMyMy4zNCw0NzMuNjkgMzIzLjYyLDUxMi45MTAxIDMyMy44LDUzOS45NDAxIiBmaWxsPSJub25lIiBpZD0iZGF0YWxvYWRlci10by1yZXBvX2ludGVyZmFjZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzIzLjg0LDU0NS45NCwzMjcuNzgsNTM2LjkxMzYsMzIzLjgwNjcsNTQwLjk0MDEsMzE5Ljc4MDIsNTM2Ljk2NjgsMzIzLjg0LDU0NS45NCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tU1JDPVtSTEQxUW5HbjVCeGRMdUl6ZzhWazNuMGZRNVVBQzhqc2dydTZNVEJQdnBJT2NPR2F0TlBIM3N4MDdocGlIVXoyaUkzcXZDNkItNlRZeU0tT0lNT3BZVW5iYWxkVXp4d3l4eHI0YUVlRGdHNkY3WXc4cTIxbkdMUmtVdlVzenFSdUJJZUY5SDZkSG1NVVdVOWkyVjhMOVdoQl9XVUxab3lnNDlob0RZVjA1ZnVGcjlVNHFHTm50MGNMSzZjdzE0elVuVzBnOXFJSldmRTVBczQ2RExMUWhacDduR2RwRTJlQk5qVXFoVjZKcmpOUmRTRjNlSXBXZzlvMmJoSEktODBwdml4Zm1xcjBxTms0SDNHajFBRExBQ2VSenZ2VkEzV1dBWEh0Zmcxb1VyVlB5d1VYNGlxSnNudVlHaW9adXFuX21YajJLLWFVY0Y4NWkyM2RXSFd1MWhjYTVJSVhrR2VHQWNTV2tBQkVwWWZPVnFyd2VkSTFFVHIya1M1eWdsbkNYeDZjTWVyV3E0MmhJSkdLMTF0a1VoYnd2NzI1Znl2YUZ6cDZSeGpaa2djU2tFeFdxSkVrVDJ0WC1BV08tVDlGNEJnSjNXWFJ5eTZraHd0dlBTcUZyNHlBeC10am54N3FneVZZZk40WXJjb2ktTXhEUFBVeF9jZERUUVNtdDlhVDJMX2otaWdIUlktX19UcnlqRVFwREpTazZNcjlGY0N4cm1uQ1JiYVYzdDAtWTNKcU4tanBQZkFDU1k5LXk2dXlKamVTVHc0YmVTNVgySUEtZHR6LVZ4Z3otWDlpM09NRm5faXh0WGstWl9NZnZFU2diamxuaWZpd0s5cHN5RjNHcThLVDVseTFdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_9">技術スタック<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>カテゴリ</th>
<th>技術</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>言語</strong></td>
<td>Java 21</td>
</tr>
<tr>
<td><strong>フレームワーク</strong></td>
<td>Spring Boot 4.0, Spring for GraphQL</td>
</tr>
<tr>
<td><strong>リアルタイム</strong></td>
<td>WebSocket, Reactor (Sinks)</td>
</tr>
<tr>
<td><strong>ORM</strong></td>
<td>MyBatis 3.0</td>
</tr>
<tr>
<td><strong>データベース</strong></td>
<td>PostgreSQL 16</td>
</tr>
<tr>
<td><strong>テスト</strong></td>
<td>JUnit 5, spring-graphql-test, TestContainers</td>
</tr>
</tbody>
</table>
<h3 id="api">API 形式の比較と選択基準<a class="headerlink" href="#api" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>観点</th>
<th>REST API</th>
<th>gRPC</th>
<th>GraphQL</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>データ取得</strong></td>
<td>固定レスポンス</td>
<td>固定レスポンス</td>
<td>クライアント指定</td>
</tr>
<tr>
<td><strong>エンドポイント</strong></td>
<td>複数</td>
<td>複数</td>
<td>単一</td>
</tr>
<tr>
<td><strong>Over-fetching</strong></td>
<td>発生しやすい</td>
<td>発生しやすい</td>
<td>防止可能</td>
</tr>
<tr>
<td><strong>Under-fetching</strong></td>
<td>発生しやすい</td>
<td>発生しやすい</td>
<td>防止可能</td>
</tr>
<tr>
<td><strong>リアルタイム</strong></td>
<td>WebSocket 別実装</td>
<td>ストリーミング</td>
<td>Subscription</td>
</tr>
<tr>
<td><strong>N+1 問題</strong></td>
<td>発生しにくい</td>
<td>発生しにくい</td>
<td>DataLoader で解決</td>
</tr>
<tr>
<td><strong>主な用途</strong></td>
<td>汎用 API</td>
<td>マイクロサービス</td>
<td>フロントエンド向け</td>
</tr>
</tbody>
</table>
<h3 id="graphql_2">GraphQL を選択する場面<a class="headerlink" href="#graphql_2" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>複雑なデータ構造</strong>: 関連データを柔軟に取得したい</li>
<li><strong>フロントエンド主導</strong>: クライアントが必要なデータを指定したい</li>
<li><strong>Over-fetching 回避</strong>: 帯域幅の節約が重要</li>
<li><strong>リアルタイム通知</strong>: Subscription による統一的な通知機構が必要</li>
<li><strong>API 統合</strong>: 複数のバックエンドを単一 API で公開したい</li>
</ol>
<p>GraphQL は REST API と比較して、クライアントが必要なデータを柔軟に取得できる点が大きな利点です。特に複雑なデータ構造を持つ販売管理システムでは、DataLoader と Subscription を活用することで、効率的かつリアルタイムな API を提供できます。</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/k2works/practical-database-design" target="_blank" rel="noopener" title="GitHub Repository" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
      
        <script src="../../../docs/assets/js/extra.js"></script>
      
    
  </body>
</html>