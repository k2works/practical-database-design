
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="基幹業務システム（販売管理・財務会計・生産管理）のデータベース設計を体系的に解説">
      
      
        <meta name="author" content="k2works">
      
      
      
        <link rel="prev" href="../study3-1/">
      
      
        <link rel="next" href="../study3-3/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>研究2 JavaFXデスクトップアプリケーションの実装 - 実践データベース設計：基幹業務システム編</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../docs/mkdocs/assets/css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#2-javafx" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="実践データベース設計：基幹業務システム編" class="md-header__button md-logo" aria-label="実践データベース設計：基幹業務システム編" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            実践データベース設計：基幹業務システム編
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              研究2 JavaFXデスクトップアプリケーションの実装
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/k2works/practical-database-design" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    practical-database-design
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
  実践データベース設計

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="実践データベース設計：基幹業務システム編" class="md-nav__button md-logo" aria-label="実践データベース設計：基幹業務システム編" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    実践データベース設計：基幹業務システム編
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/k2works/practical-database-design" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    practical-database-design
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    実践データベース設計
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    実践データベース設計
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../techstack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    技術スタック
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    アウトライン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    執筆ワークフロー
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    運用ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../project-setup-instruction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    プロジェクトセットアップ手順書
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7" >
        
          
          <label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    デプロイ
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    デプロイ
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-sms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SMS デモデプロイ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-fas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FAS デモデプロイ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-pms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PMS デモデプロイ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_8" >
        
          
          <label class="md-nav__link" for="__nav_1_8" id="__nav_1_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第1部 基幹業務システムの全体像
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    第1部 基幹業務システムの全体像
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第1章 基幹業務システムとは
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第2章 基幹業務システムの業務領域
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第3章 業務フローの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_9" >
        
          
          <label class="md-nav__link" for="__nav_1_9" id="__nav_1_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第2部 販売管理システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    第2部 販売管理システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第4章 販売管理システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter05/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第5章 マスタ情報の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter06/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第6章 受注・出荷・売上の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter07/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第7章 債権管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter08/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第8章 調達管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter09/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第9章 在庫管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第10章 債務管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第11章 共通処理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第12章 販売管理データ設計（B社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第13章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_10" >
        
          
          <label class="md-nav__link" for="__nav_1_10" id="__nav_1_10_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第3部 財務会計システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    第3部 財務会計システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章 財務会計システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章 勘定科目の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章 仕訳の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章 勘定科目残高の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter19/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章 赤黒とログの設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter20/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章 財務会計データ設計（D社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter21/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_11" >
        
          
          <label class="md-nav__link" for="__nav_1_11" id="__nav_1_11_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第4部 生産管理システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    第4部 生産管理システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter22/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第22章 生産管理システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter23/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第23章 マスタ情報の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter24/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第24章 生産計画の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter25/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第25章 購買管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter26/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第26章 外注委託管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter27/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第27章 工程管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter28/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第28章 在庫管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第29章 品質管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter30/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第30章 製造原価管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter31/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第31章 生産管理データ設計（E社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/chapter32/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第32章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_12" >
        
          
          <label class="md-nav__link" for="__nav_1_12" id="__nav_1_12_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第5部 エンタープライズインテグレーション
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    第5部 エンタープライズインテグレーション
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter33.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第33章 システム統合の概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter34.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第34章 メッセージングパターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter35.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第35章 システム間連携パターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter36.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第36章 マスタデータ管理（MDM）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter37.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第37章 イベント駆動アーキテクチャ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter38.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第38章 API設計とサービス連携
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter39.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第39章 データ連携の実装パターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_13" >
        
          
          <label class="md-nav__link" for="__nav_1_13" id="__nav_1_13_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 販売管理システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 販売管理システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study2-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study2-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study2-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study2-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study2-5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究5 AxonCQRS/ESの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_14" checked>
        
          
          <label class="md-nav__link" for="__nav_1_14" id="__nav_1_14_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 財務会計システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_14_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 財務会計システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study3-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        はじめに
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="はじめに">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        本パートで学ぶこと
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#22javafx" class="md-nav__link">
    <span class="md-ellipsis">
      
        第22章：JavaFX デスクトップアプリケーションの基礎
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第22章：JavaFX デスクトップアプリケーションの基礎">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#221-javafx" class="md-nav__link">
    <span class="md-ellipsis">
      
        22.1 JavaFX アーキテクチャ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#222-mvvm" class="md-nav__link">
    <span class="md-ellipsis">
      
        22.2 MVVM パターン
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#223" class="md-nav__link">
    <span class="md-ellipsis">
      
        22.3 ヘキサゴナルアーキテクチャとの統合
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#224" class="md-nav__link">
    <span class="md-ellipsis">
      
        22.4 ディレクトリ構成
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#23javafx" class="md-nav__link">
    <span class="md-ellipsis">
      
        第23章：JavaFX 環境のセットアップ
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第23章：JavaFX 環境のセットアップ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#231-buildgradlekts" class="md-nav__link">
    <span class="md-ellipsis">
      
        23.1 build.gradle.kts の設定
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#232-spring-boot-javafx" class="md-nav__link">
    <span class="md-ellipsis">
      
        23.2 Spring Boot + JavaFX 統合
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#24" class="md-nav__link">
    <span class="md-ellipsis">
      
        第24章：メイン画面とダッシュボードの実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第24章：メイン画面とダッシュボードの実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#241-fxml" class="md-nav__link">
    <span class="md-ellipsis">
      
        24.1 メイン画面 FXML
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#242-maincontrollerjava" class="md-nav__link">
    <span class="md-ellipsis">
      
        24.2 MainController.java
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#243-fxml" class="md-nav__link">
    <span class="md-ellipsis">
      
        24.3 ダッシュボード FXML
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#25" class="md-nav__link">
    <span class="md-ellipsis">
      
        第25章：勘定科目マスタ画面の実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第25章：勘定科目マスタ画面の実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#251" class="md-nav__link">
    <span class="md-ellipsis">
      
        25.1 勘定科目マスタ画面の設計
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#252-accountrowjavaview" class="md-nav__link">
    <span class="md-ellipsis">
      
        25.2 AccountRow.java（View 用データクラス）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#253-accountviewmodeljava" class="md-nav__link">
    <span class="md-ellipsis">
      
        25.3 AccountViewModel.java
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#26" class="md-nav__link">
    <span class="md-ellipsis">
      
        第26章：仕訳入力画面の実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第26章：仕訳入力画面の実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#261" class="md-nav__link">
    <span class="md-ellipsis">
      
        26.1 仕訳入力画面の設計
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#262-journaldetailrowjava" class="md-nav__link">
    <span class="md-ellipsis">
      
        26.2 JournalDetailRow.java
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#263-journalentryviewmodeljava" class="md-nav__link">
    <span class="md-ellipsis">
      
        26.3 JournalEntryViewModel.java
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#27" class="md-nav__link">
    <span class="md-ellipsis">
      
        第27章：帳票出力画面の実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第27章：帳票出力画面の実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#271" class="md-nav__link">
    <span class="md-ellipsis">
      
        27.1 帳票出力機能の概要
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#272-reportexporterjava" class="md-nav__link">
    <span class="md-ellipsis">
      
        27.2 ReportExporter.java（帳票出力ユーティリティ）
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#28css" class="md-nav__link">
    <span class="md-ellipsis">
      
        第28章：CSS スタイルシート
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第28章：CSS スタイルシート">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#281-applicationcss" class="md-nav__link">
    <span class="md-ellipsis">
      
        28.1 application.css
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        まとめ
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="まとめ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        学習した内容
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        技術スタック
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        ディレクトリ構成
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    <span class="md-ellipsis">
      
        API サーバー版との比較
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study3-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study3-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study3-5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究5 AxonCQRS/ESの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_15" >
        
          
          <label class="md-nav__link" for="__nav_1_15" id="__nav_1_15_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 生産管理システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 生産管理システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study4-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study4-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study4-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study4-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study4-5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究5 AxonCQRS/ESの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_16" >
        
          
          <label class="md-nav__link" for="__nav_1_16" id="__nav_1_16_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 財務会計システムORM実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_16">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 財務会計システムORM実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter14-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章 財務会計システムの全体像【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter15-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章 勘定科目の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter16-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章 仕訳の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter17-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter18-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章 勘定科目残高の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter19-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章 赤黒とログの設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter20-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章 財務会計データ設計（D社事例）【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter21-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章 APIサービスの実装【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter22-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第22章 Axon CQRS/ESの実装【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_17" >
        
          
          <label class="md-nav__link" for="__nav_1_17" id="__nav_1_17_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    付録
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_17">
            <span class="md-nav__icon md-icon"></span>
            
  
    付録
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/er-diagrams.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    A 全体ER図
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/table-definitions.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    B テーブル定義一覧
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/glossary.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C 用語集
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_18" >
        
          
          <label class="md-nav__link" for="__nav_1_18" id="__nav_1_18_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    データベース
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_18">
            <span class="md-nav__icon md-icon"></span>
            
  
    データベース
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../assets/schemaspy-output/sms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SchemaSpy ER図（SMS）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../assets/schemaspy-output/fas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SchemaSpy ER図（FAS）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../assets/schemaspy-output/pms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SchemaSpy ER図（PMS）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="2-javafx">実践データベース設計：財務会計システム 研究 2 - JavaFX デスクトップアプリケーションの実装<a class="headerlink" href="#2-javafx" title="Permanent link">&para;</a></h1>
<h2 id="_1">はじめに<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>本研究では、JavaFX を使用したデスクトップアプリケーションの実装を解説します。API サーバー版、モノリスサーバー版と同じ UseCase を共有しながら、リッチクライアント UI を提供します。</p>
<h3 id="_2">本パートで学ぶこと<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<ul>
<li>JavaFX と Spring Boot の統合</li>
<li>MVVM（Model-View-ViewModel）パターンの実践</li>
<li>FXML による宣言的 UI 定義</li>
<li>双方向データバインディング</li>
<li>ヘキサゴナルアーキテクチャとの統合</li>
</ul>
<hr />
<h2 id="22javafx">第22章：JavaFX デスクトップアプリケーションの基礎<a class="headerlink" href="#22javafx" title="Permanent link">&para;</a></h2>
<h3 id="221-javafx">22.1 JavaFX アーキテクチャ<a class="headerlink" href="#221-javafx" title="Permanent link">&para;</a></h3>
<p>JavaFX は Java のモダンな GUI フレームワークです。FXML による宣言的 UI 定義と、CSS によるスタイリングを特徴とします。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjQ1NXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDA0cHg7aGVpZ2h0OjQ1NXB4O2JhY2tncm91bmQ6I0ZFRkVGRTsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQwNCA0NTUiIHdpZHRoPSI0MDRweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjxyZWN0IGZpbGw9IiNGRUZFRkUiIGhlaWdodD0iNDU1IiBzdHlsZT0ic3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNDA0IiB4PSIwIiB5PSIwIi8+PCEtLWNsdXN0ZXIgSmF2YUZYIEFwcGxpY2F0aW9uLS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkphdmFGWCBBcHBsaWNhdGlvbiIgZGF0YS1zb3VyY2UtbGluZT0iMyIgaWQ9ImVudDAwMDIiPjxwYXRoIGQ9Ik04LjUsNiBMMTU3LjI1ODgsNiBBMy43NSwzLjc1IDAgMCAxIDE1OS43NTg4LDguNSBMMTY2Ljc1ODgsMjguMjk2OSBMMTY2LjUsMjguMjk2OSBBMi41LDIuNSAwIDAgMSAxNjksMzAuNzk2OSBMMTY5LDQ0Ni4xOSBBMi41LDIuNSAwIDAgMSAxNjYuNSw0NDguNjkgTDguNSw0NDguNjkgQTIuNSwyLjUgMCAwIDEgNiw0NDYuMTkgTDYsOC41IEEyLjUsMi41IDAgMCAxIDguNSw2IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI2IiB4Mj0iMTY2Ljc1ODgiIHkxPSIyOC4yOTY5IiB5Mj0iMjguMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDcuNzU4OCIgeD0iMTAiIHk9IjIwLjk5NTEiPkphdmFGWCBBcHBsaWNhdGlvbjwvdGV4dD48L2c+PCEtLWVudGl0eSBzdGFnZS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkphdmFGWCBBcHBsaWNhdGlvbi5zdGFnZSIgZGF0YS1zb3VyY2UtbGluZT0iNCIgaWQ9ImVudDAwMDMiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNjAuNDU1MSIgeD0iNzcuNzciIHk9IjQxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDAuNDU1MSIgeD0iODcuNzciIHk9IjYzLjk5NTEiPlN0YWdlPC90ZXh0PjwvZz48IS0tZW50aXR5IHNjZW5lLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iSmF2YUZYIEFwcGxpY2F0aW9uLnNjZW5lIiBkYXRhLXNvdXJjZS1saW5lPSI3IiBpZD0iZW50MDAwNCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzNi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI2Mi42ODM2IiB4PSI2Ny42NiIgeT0iMTU2LjI4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDIuNjgzNiIgeD0iNzcuNjYiIHk9IjE3OS4yNzUxIj5TY2VuZTwvdGV4dD48L2c+PCEtLWVudGl0eSBmeG1sLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iSmF2YUZYIEFwcGxpY2F0aW9uLmZ4bWwiIGRhdGEtc291cmNlLWxpbmU9IjEwIiBpZD0iZW50MDAwNSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzNi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI1Ny41MjI1IiB4PSI3OC4yNCIgeT0iMjcxLjU2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzcuNTIyNSIgeD0iODguMjQiIHk9IjI5NC41NTUxIj5GWE1MPC90ZXh0PjwvZz48IS0tZW50aXR5IGNvbnRyb2xsZXItLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJKYXZhRlggQXBwbGljYXRpb24uY29udHJvbGxlciIgZGF0YS1zb3VyY2UtbGluZT0iMTMiIGlkPSJlbnQwMDA2Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjM2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9Ijg5LjE3MjkiIHg9IjYyLjQxIiB5PSIzOTYuMzkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS4xNzI5IiB4PSI3Mi40MSIgeT0iNDE5LjM4NTEiPkNvbnRyb2xsZXI8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkdNTjEwIiBkYXRhLXNvdXJjZS1saW5lPSIyMiIgaWQ9ImVudDAwMTEiPjxwYXRoIGQ9Ik0xODQuNywyNjkuNTggTDE4NC43LDI4NS43MSBMMTM2LjAxLDI4OS43MSBMMTg0LjcsMjkzLjcxIEwxODQuNywzMDkuODQ1NiBBMCwwIDAgMCAwIDE4NC43LDMwOS44NDU2IEwzNDUuMzA0MSwzMDkuODQ1NiBBMCwwIDAgMCAwIDM0NS4zMDQxLDMwOS44NDU2IEwzNDUuMzA0MSwyNzkuNTggTDMzNS4zMDQxLDI2OS41OCBMMTg0LjcsMjY5LjU4IEEwLDAgMCAwIDAgMTg0LjcsMjY5LjU4IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMzM1LjMwNDEsMjY5LjU4IEwzMzUuMzA0MSwyNzkuNTggTDM0NS4zMDQxLDI3OS41OCBMMzM1LjMwNDEsMjY5LjU4IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzkuNjA0MSIgeD0iMTkwLjciIHk9IjI4Ni42NDY5Ij5GWE1MICYjMTIzOTk7IFhNTCAmIzEyNTA1OyYjMTI1NDA7JiMxMjQ3MzsmIzEyMzk4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS40ODE1IiB4PSIxOTAuNyIgeT0iMzAxLjc3OTciPlVJICYjMjM0NTA7JiMzMjY4MTsmIzM1MzI4OyYjMzU0ODY7PC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJHTU4xMyIgZGF0YS1zb3VyY2UtbGluZT0iMjciIGlkPSJlbnQwMDE0Ij48cGF0aCBkPSJNMTg0Ljc1LDM5LjAxIEwxODQuNzUsNTUuMTUgTDEzOC4zOCw1OS4xNSBMMTg0Ljc1LDYzLjE1IEwxODQuNzUsNzkuMjc1NiBBMCwwIDAgMCAwIDE4NC43NSw3OS4yNzU2IEwzOTcuMjQ2Miw3OS4yNzU2IEEwLDAgMCAwIDAgMzk3LjI0NjIsNzkuMjc1NiBMMzk3LjI0NjIsNDkuMDEgTDM4Ny4yNDYyLDM5LjAxIEwxODQuNzUsMzkuMDEgQTAsMCAwIDAgMCAxODQuNzUsMzkuMDEiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0zODcuMjQ2MiwzOS4wMSBMMzg3LjI0NjIsNDkuMDEgTDM5Ny4yNDYyLDQ5LjAxIEwzODcuMjQ2MiwzOS4wMSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTg5LjA3NzgiIHg9IjE5MC43NSIgeT0iNTYuMDc2OSI+U3RhZ2U6ICYjMTI0ODg7JiMxMjQ4MzsmIzEyNTAzOyYjMTI1MjQ7JiMxMjUwNTsmIzEyNTIzOyYjMTI0NTQ7JiMxMjQ1MTsmIzEyNTMxOyYjMTI0ODk7JiMxMjQ1NDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTkxLjQ5NjIiIHg9IjE5MC43NSIgeT0iNzEuMjA5NyI+U2NlbmU6IFVJJiMxMjQ2NzsmIzEyNTMxOyYjMTI0ODY7JiMxMjUzMTsmIzEyNDg0OyYjMTIzOTg7JiMxMjQ2NzsmIzEyNTMxOyYjMTI0ODY7JiMxMjQ5MDs8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkdNTjE2IiBkYXRhLXNvdXJjZS1saW5lPSIzMiIgaWQ9ImVudDAwMTciPjxwYXRoIGQ9Ik0xODYuOTQsMzg2Ljg0IEwxODYuOTQsNDEwLjU0IEwxNTEuOCw0MTQuNTQgTDE4Ni45NCw0MTguNTQgTDE4Ni45NCw0NDIuMjM4NCBBMCwwIDAgMCAwIDE4Ni45NCw0NDIuMjM4NCBMMzM3LjA1MTMsNDQyLjIzODQgQTAsMCAwIDAgMCAzMzcuMDUxMyw0NDIuMjM4NCBMMzM3LjA1MTMsMzk2Ljg0IEwzMjcuMDUxMywzODYuODQgTDE4Ni45NCwzODYuODQgQTAsMCAwIDAgMCAxODYuOTQsMzg2Ljg0IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMzI3LjA1MTMsMzg2Ljg0IEwzMjcuMDUxMywzOTYuODQgTDMzNy4wNTEzLDM5Ni44NCBMMzI3LjA1MTMsMzg2Ljg0IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjkuMTExMyIgeD0iMTkyLjk0IiB5PSI0MDMuOTA2OSI+QEZYTUwgYW5ub3RhdGlvbnM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjQuMzI3MSIgeD0iMTkyLjk0IiB5PSI0MTkuMDM5NyI+aW5pdGlhbGl6ZSgpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljc5ODMiIHg9IjE5Mi45NCIgeT0iNDM0LjE3MjUiPkV2ZW50IGhhbmRsZXJzPC90ZXh0PjwvZz48IS0tbGluayBzdGFnZSB0byBzY2VuZS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAzIiBkYXRhLWVudGl0eS0yPSJlbnQwMDA0IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMTciIGlkPSJsbms3Ij48cGF0aCBjb2RlTGluZT0iMTciIGQ9Ik0xMDYuNjMsNzcuMzUgQzEwNC45NCw5OC42NCAxMDIuNTU2LDEyOC43MTg5IDEwMC44NTYsMTUwLjA3ODkiIGZpbGw9Im5vbmUiIGlkPSJzdGFnZS10by1zY2VuZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTAwLjM4LDE1Ni4wNiwxMDUuMDgxNCwxNDcuNDA1NywxMDAuNzc2NywxNTEuMDc1OCw5Ny4xMDY2LDE0Ni43NzEsMTAwLjM4LDE1Ni4wNiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1LjAyNzgiIHg9IjEwNS4wNCIgeT0iMTIyLjM0NjkiPmNvbnRhaW5zPC90ZXh0PjwvZz48IS0tbGluayBzY2VuZSB0byBmeG1sLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDQiIGRhdGEtZW50aXR5LTI9ImVudDAwMDUiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIxOCIgaWQ9ImxuazgiPjxwYXRoIGNvZGVMaW5lPSIxOCIgZD0iTTEwMC4yMiwxOTIuNjMgQzEwMS43MiwyMTMuOTMgMTAzLjgzNjksMjQzLjk5NDkgMTA1LjM0NjksMjY1LjM1NDkiIGZpbGw9Im5vbmUiIGlkPSJzY2VuZS10by1meG1sIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMDUuNzcsMjcxLjM0LDEwOS4xMjU0LDI2Mi4wODAzLDEwNS40MTc0LDI2Ni4zNTI0LDEwMS4xNDUzLDI2Mi42NDQ1LDEwNS43NywyNzEuMzQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNC41NTY2IiB4PSIxMDQuNDgiIHk9IjIzNS42NDY5Ij5sb2FkczwvdGV4dD48L2c+PCEtLWxpbmsgZnhtbCB0byBjb250cm9sbGVyLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDUiIGRhdGEtZW50aXR5LTI9ImVudDAwMDYiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIxOSIgaWQ9ImxuazkiPjxwYXRoIGNvZGVMaW5lPSIxOSIgZD0iTTEwNywzMDguMzEgQzEwNywzMzEuNjYgMTA3LDM2Ni42NCAxMDcsMzg5Ljk4IiBmaWxsPSJub25lIiBpZD0iZnhtbC10by1jb250cm9sbGVyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMDcsMzk1Ljk4LDExMSwzODYuOTgsMTA3LDM5MC45OCwxMDMsMzg2Ljk4LDEwNywzOTUuOTgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNS4xMjc5IiB4PSIxMDgiIHk9IjM1Mi45MDY5Ij5iaW5kczwvdGV4dD48L2c+PD9wbGFudHVtbC1zcmMgVFA3RklXQ240Q1JsVU9mWGxVWjE1LVgxYkQ5MkhLekl3N013Y3N2M3FzSlBaS0tLbU12NHIxU0dGTldIbjdfS0dxLTItMzkxeDZFT0o0a2o1V2FhYV9iei1NUUk1M3NYQ2lvbjNzc0NVc2NrenJMSXJMQmRpNUFsWFM1T3ZXNmM3QTlqNzYyejFMalA5YU1DSGNXTG1IN0JVTW5HZlQ4QnplcE5ITzA1NTI3b3k5Wnp1WjVOQ253WTlMdmx4VXVHeFhwcXZIQWpRY0xvQklORklIRkZqd0pxc2NkSHpWTURjTnE1ZVkxMmVPZzhKTEMxYWhiZEtjRlkwTXIzVmk3R3F4UEdXSkFiM09UU2Y1cTNrYURkTU1XSnRGMExRQk5OcGh3eHlpcURId3BQV0NfSHBUVjd1LUpYUEY5cW94WEE4MVp5alE1RTZKck5uSmtTRXNrVGxOQnNYVG9VTk5kbG9aamRueXZVLTlaSGtyTVdzTjNiY0I5ZEQ5X3dhV2tQb3RfQl9Ub0NSTEJwZ0JvMFZoMVdHV2FaSzhmM2xoaDZRV0VrMzdISDlMdlNwMHNfMEcwMD8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h3 id="222-mvvm">22.2 MVVM パターン<a class="headerlink" href="#222-mvvm" title="Permanent link">&para;</a></h3>
<p>JavaFX では MVVM（Model-View-ViewModel）パターンを採用し、UI とビジネスロジックを分離します。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjQ0MnB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDY5cHg7aGVpZ2h0OjQ0MnB4O2JhY2tncm91bmQ6I0ZFRkVGRTsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQ2OSA0NDIiIHdpZHRoPSI0NjlweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjxyZWN0IGZpbGw9IiNGRUZFRkUiIGhlaWdodD0iNDQyIiBzdHlsZT0ic3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNDY5IiB4PSIwIiB5PSIwIi8+PCEtLWNsdXN0ZXIgTVZWTSA/Pz8/LS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ik1WVk0gLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMyIgaWQ9ImVudDAwMDIiPjxwYXRoIGQ9Ik04LjUsNiBMMTE5LjkwNyw2IEEzLjc1LDMuNzUgMCAwIDEgMTIyLjQwNyw4LjUgTDEyOS40MDcsMjguMjk2OSBMMjIzLjUsMjguMjk2OSBBMi41LDIuNSAwIDAgMSAyMjYsMzAuNzk2OSBMMjI2LDQzMi44NiBBMi41LDIuNSAwIDAgMSAyMjMuNSw0MzUuMzYgTDguNSw0MzUuMzYgQTIuNSwyLjUgMCAwIDEgNiw0MzIuODYgTDYsOC41IEEyLjUsMi41IDAgMCAxIDguNSw2IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI2IiB4Mj0iMTI5LjQwNyIgeTE9IjI4LjI5NjkiIHkyPSIyOC4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMC40MDciIHg9IjEwIiB5PSIyMC45OTUxIj5NVlZNICYjMTI0OTc7JiMxMjQ3OTsmIzEyNTQwOyYjMTI1MzE7PC90ZXh0PjwvZz48IS0tZW50aXR5IHZpZXctLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJNVlZNIC4uLi4udmlldyIgZGF0YS1zb3VyY2UtbGluZT0iNCIgaWQ9ImVudDAwMDMiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNTIuNTkzOCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTU4LjI1IiB4PSI0Ni44NyIgeT0iNDEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMy41MzAzIiB4PSI1Ni44NyIgeT0iNjMuOTk1MSI+VmlldzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzguMjUiIHg9IjU2Ljg3IiB5PSI4MC4yOTIiPihGWE1MICsgQ29udHJvbGxlcik8L3RleHQ+PC9nPjwhLS1lbnRpdHkgdm0tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJNVlZNIC4uLi4udm0iIGRhdGEtc291cmNlLWxpbmU9IjciIGlkPSJlbnQwMDA0Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjM2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9Ijk1LjU2NDUiIHg9IjkzLjIyIiB5PSIyMDguMjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3NS41NjQ1IiB4PSIxMDMuMjIiIHk9IjIzMS4yNDUxIj5WaWV3TW9kZWw8L3RleHQ+PC9nPjwhLS1lbnRpdHkgbW9kZWwtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJNVlZNIC4uLi4ubW9kZWwiIGRhdGEtc291cmNlLWxpbmU9IjEwIiBpZD0iZW50MDAwNSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI1Mi41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI5MS4zMzk4IiB4PSIxMTYuMzMiIHk9IjM2Ni43NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQyLjAzNDIiIHg9IjEyNi4zMyIgeT0iMzg5Ljc2NTEiPk1vZGVsPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcxLjMzOTgiIHg9IjEyNi4zMyIgeT0iNDA2LjA2MiI+KFVzZUNhc2UpPC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJHTU45IiBkYXRhLXNvdXJjZS1saW5lPSIxOSIgaWQ9ImVudDAwMTAiPjxwYXRoIGQ9Ik0yNDEuODUsMzkuNiBMMjQxLjg1LDYzLjMgTDIwNS40OSw2Ny4zIEwyNDEuODUsNzEuMyBMMjQxLjg1LDk0Ljk5ODQgQTAsMCAwIDAgMCAyNDEuODUsOTQuOTk4NCBMMzgwLjE1NDgsOTQuOTk4NCBBMCwwIDAgMCAwIDM4MC4xNTQ4LDk0Ljk5ODQgTDM4MC4xNTQ4LDQ5LjYgTDM3MC4xNTQ4LDM5LjYgTDI0MS44NSwzOS42IEEwLDAgMCAwIDAgMjQxLjg1LDM5LjYiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0zNzAuMTU0OCwzOS42IEwzNzAuMTU0OCw0OS42IEwzODAuMTU0OCw0OS42IEwzNzAuMTU0OCwzOS42IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTIuNzk3OSIgeD0iMjQ3Ljg1IiB5PSI1Ni42NjY5Ij4tIEZYTUwgJiMxMjUyNDsmIzEyNDUyOyYjMTI0NTA7JiMxMjQ1NDsmIzEyNDg4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTIuODIzNCIgeD0iMjQ3Ljg1IiB5PSI3MS43OTk3Ij4tICYjMTI0NTI7JiMxMjUwNTsmIzEyNTMxOyYjMTI0ODg7JiMxMjQ5NTsmIzEyNTMxOyYjMTI0ODk7JiMxMjUyMTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE3LjMwNDgiIHg9IjI0Ny44NSIgeT0iODYuOTMyNSI+LSBVSSAmIzEyNDY3OyYjMTI1MzE7JiMxMjUwOTsmIzEyNTQwOyYjMTI0OTM7JiMxMjUzMTsmIzEyNDg4OzwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iR01OMTIiIGRhdGEtc291cmNlLWxpbmU9IjI1IiBpZD0iZW50MDAxMyI+PHBhdGggZD0iTTI0MS41LDE3MiBMMjQxLjUsMjIyLjQgTDE4OS4yMiwyMjYuNCBMMjQxLjUsMjMwLjQgTDI0MS41LDI4MC43OTY5IEEwLDAgMCAwIDAgMjQxLjUsMjgwLjc5NjkgTDQ2Mi40OTU3LDI4MC43OTY5IEEwLDAgMCAwIDAgNDYyLjQ5NTcsMjgwLjc5NjkgTDQ2Mi40OTU3LDE4MiBMNDUyLjQ5NTcsMTcyIEwyNDEuNSwxNzIgQTAsMCAwIDAgMCAyNDEuNSwxNzIiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik00NTIuNDk1NywxNzIgTDQ1Mi40OTU3LDE4MiBMNDYyLjQ5NTcsMTgyIEw0NTIuNDk1NywxNzIiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5OS45OTU3IiB4PSIyNDcuNSIgeT0iMTg5LjA2NjkiPlZpZXdNb2RlbCAmIzEyMzk5OyBWaWV3ICYjMTIzOTI7IE1vZGVsICYjMTIzOTg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4LjAwMDEiIHg9IjI0Ny41IiB5PSIyMDQuMTk5NyI+JiMyNzIxMTsmIzI4MTkzOyYjMTIzNzU7JiMxMjQzNDsmIzM0ODkyOyYjMTIzNTg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4OS42NTU0IiB4PSIyNDcuNSIgeT0iMjE5LjMzMjUiPlByb3BlcnR5ICYjMTIzOTU7JiMxMjQyNDsmIzEyNDI3OyYjMjE0NTI7JiMyNjA0MTsmIzIxNTIxOyYjMTI0OTY7JiMxMjQ1MjsmIzEyNTMxOyYjMTI0ODk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNDIuNSIgeDI9IjQ2MS40OTU3IiB5MT0iMjIyLjM5ODQiIHkyPSIyMjIuMzk4NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNS42Njk0IiB4PSIyNDcuNSIgeT0iMjM4LjQ2NTMiPi0gT2JzZXJ2YWJsZUxpc3Q8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjQuMzQ2MiIgeD0iMjQ3LjUiIHk9IjI1My41OTgxIj4tIFByb3BlcnR5PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgyLjQxMTYiIHg9IjI0Ny41IiB5PSIyNjguNzMxIj4tIENvbW1hbmRzPC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJHTU4xNSIgZGF0YS1zb3VyY2UtbGluZT0iMzUiIGlkPSJlbnQwMDE2Ij48cGF0aCBkPSJNMjQzLjA5LDM1Ny44IEwyNDMuMDksMzg5LjA2IEwyMDcuOTYsMzkzLjA2IEwyNDMuMDksMzk3LjA2IEwyNDMuMDksNDI4LjMzMTMgQTAsMCAwIDAgMCAyNDMuMDksNDI4LjMzMTMgTDM3Ni45MTM0LDQyOC4zMzEzIEEwLDAgMCAwIDAgMzc2LjkxMzQsNDI4LjMzMTMgTDM3Ni45MTM0LDM2Ny44IEwzNjYuOTEzNCwzNTcuOCBMMjQzLjA5LDM1Ny44IEEwLDAgMCAwIDAgMjQzLjA5LDM1Ny44IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMzY2LjkxMzQsMzU3LjggTDM2Ni45MTM0LDM2Ny44IEwzNzYuOTEzNCwzNjcuOCBMMzY2LjkxMzQsMzU3LjgiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMi44MjM0IiB4PSIyNDkuMDkiIHk9IjM3NC44NjY5Ij4tICYjMTI0OTk7JiMxMjQ3MjsmIzEyNDkzOyYjMTI0NzM7JiMxMjUyNTsmIzEyNDcyOyYjMTI0ODM7JiMxMjQ2Mzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTkuODIzMyIgeD0iMjQ5LjA5IiB5PSIzODkuOTk5NyI+LSAmIzEyNDg5OyYjMTI1MTM7JiMxMjQ1MjsmIzEyNTMxOyYjMTI1MjM7JiMxMjU0MDsmIzEyNTIzOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTIuNTEyMiIgeD0iMjQ5LjA5IiB5PSI0MDUuMTMyNSI+LSBEb21haW4gT2JqZWN0czwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4OS4yMjI3IiB4PSIyNDkuMDkiIHk9IjQyMC4yNjUzIj4tIFJlcG9zaXRvcmllczwvdGV4dD48L2c+PCEtLWxpbmsgdmlldyB0byB2bS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAzIiBkYXRhLWVudGl0eS0yPSJlbnQwMDA0IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMTQiIGlkPSJsbms2Ij48cGF0aCBjb2RlTGluZT0iMTQiIGQ9Ik0xMjguNDQsOTMuODkgQzEzMS41MSwxMjYuMDYgMTM2LjEyODIsMTc0LjQzNzMgMTM4Ljc3ODIsMjAyLjExNzMiIGZpbGw9Im5vbmUiIGlkPSJ2aWV3LXRvLXZtIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMzkuMzUsMjA4LjA5LDE0Mi40NzQxLDE5OC43NDk4LDEzOC44NzM1LDIwMy4xMTI4LDEzNC41MTA1LDE5OS41MTIyLDEzOS4zNSwyMDguMDkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NC4yOTY5IiB4PSIxMzMuNiIgeT0iMTM4LjA2NjkiPkRhdGEgQmluZGluZzwvdGV4dD48L2c+PCEtLWxpbmsgdm0gdG8gbW9kZWwtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNCIgZGF0YS1lbnRpdHktMj0iZW50MDAwNSIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjE1IiBpZD0ibG5rNyI+PHBhdGggY29kZUxpbmU9IjE1IiBkPSJNMTA2Ljk1LDI0NC45MyBDNzUuMjgsMjYzLjc0IDM1LjUzLDI5NS4zMiA1NCwzMjcuOCBDNjcuMzIsMzUxLjIyIDg3LjQyNTEsMzY0LjU5MDMgMTEwLjM2NTEsMzc0LjY1MDMiIGZpbGw9Im5vbmUiIGlkPSJ2bS10by1tb2RlbCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTE1Ljg2LDM3Ny4wNiwxMDkuMjI0MiwzNjkuNzgyMiwxMTEuMjgxLDM3NS4wNTE5LDEwNi4wMTEzLDM3Ny4xMDg3LDExNS44NiwzNzcuMDYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NC4wMjg4IiB4PSI1NSIgeT0iMzIzLjg2NjkiPklucHV0IFBvcnQ8L3RleHQ+PC9nPjwhLS1saW5rIG1vZGVsIHRvIHZtLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDUiIGRhdGEtZW50aXR5LTI9ImVudDAwMDQiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIxNiIgaWQ9ImxuazgiPjxwYXRoIGNvZGVMaW5lPSIxNiIgZD0iTTE1OC43NCwzNjYuNTIgQzE1NC40NCwzMzIuNzcgMTQ3LjcyOCwyODAuMTgxOSAxNDQuMDA4LDI1MC45NzE5IiBmaWxsPSJub25lIiBpZD0ibW9kZWwtdG8tdm0iIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjE0My4yNSwyNDUuMDIsMTQwLjQxOSwyNTQuNDUzMiwxNDMuODgxNywyNDkuOTc5OSwxNDguMzU1LDI1My40NDI2LDE0My4yNSwyNDUuMDIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0NS4xNTcyIiB4PSIxNTQuMzgiIHk9IjMyMy44NjY5Ij5PdXRwdXQ8L3RleHQ+PC9nPjw/cGxhbnR1bWwtc3JjIFRQN0ZJbm1uNUNWbC1JaVV1d01icDNfR0dtLWs1R0dOSE4zZmVQVWlhcXZKUHY4WG9JZ2J6QjA5NThpTWpPQklXdVVMS1lnaHpVMTVHVjJGVVJacXBfMGJtb2ZLb2JuVWxmX2wtcGJzTlFnNjZydjNkdy1qYnFPRkxEN0hiSk9tQ195d1ZlbXIxN1dmOEVsc1VidDBpOF8tNWlDRFhpaUNGWjRaclhuTlBLTXk5eU5jTV9MaV9hcnQ0THYwSG9qZFQ1Szl5cG0zUmM2M0FGYV9pdHpKa2hlR0xNa2ZkbldJZkFBaExkSXU1TXNmRWVoOUlrUEtEeXpWblVvTmFDcm5uczVNZ2FBZ0NjRWFIVEdjNDVyR3BTMzFpWk9rT3d0dWNCYXFTMEdwbmZIczBlbWl0cGxHeHpCU0I4VXE1T09wejNfSGR3M19YTTZCdkZXQ0YtV016Q0ltY3VBbDY0dTloSXVHbEtwQVNSaE5qelI2WDJlV3pkWklnTU9Gem0wU05hMXlLVjBSZmo4VkRaZFRkYm9EUzdZNF9sbFZxR3VFbHgxYmVualh0NFZZT19IUndCVmxUZFNjWHpUdFVfaU96akEwU0lZTXZwSktLanlBaXk3eGJMWUtyZjRtcFFRbWUta1FneUItVHkxcWlSWHFFNDFfNUhWb3JuWkVLbnBHTm9INHN1LWNKU1RmeHA3ZlN4aGNLYjd4M19IbEJHYWhlajVNRWNzYVU2bnUzbTAwPz48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h3 id="223">22.3 ヘキサゴナルアーキテクチャとの統合<a class="headerlink" href="#223" title="Permanent link">&para;</a></h3>
<p>JavaFX アプリケーションはヘキサゴナルアーキテクチャの Input Adapter として動作します。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjU2NXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NTYxcHg7aGVpZ2h0OjU2NXB4O2JhY2tncm91bmQ6I0ZFRkVGRTsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDU2MSA1NjUiIHdpZHRoPSI1NjFweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjxyZWN0IGZpbGw9IiNGRUZFRkUiIGhlaWdodD0iNTY1IiBzdHlsZT0ic3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNTYxIiB4PSIwIiB5PSIwIi8+PCEtLWNsdXN0ZXIgSW5wdXQgQWRhcHRlcnMtLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iSW5wdXQgQWRhcHRlcnMiIGRhdGEtc291cmNlLWxpbmU9IjMiIGlkPSJlbnQwMDAyIj48cGF0aCBkPSJNOC41LDYgTDEyNy45ODA1LDYgQTMuNzUsMy43NSAwIDAgMSAxMzAuNDgwNSw4LjUgTDEzNy40ODA1LDI4LjI5NjkgTDU1MC41LDI4LjI5NjkgQTIuNSwyLjUgMCAwIDEgNTUzLDMwLjc5NjkgTDU1MywxMDcuMSBBMi41LDIuNSAwIDAgMSA1NTAuNSwxMDkuNiBMOC41LDEwOS42IEEyLjUsMi41IDAgMCAxIDYsMTA3LjEgTDYsOC41IEEyLjUsMi41IDAgMCAxIDguNSw2IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI2IiB4Mj0iMTM3LjQ4MDUiIHkxPSIyOC4yOTY5IiB5Mj0iMjguMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTguNDgwNSIgeD0iMTAiIHk9IjIwLjk5NTEiPklucHV0IEFkYXB0ZXJzPC90ZXh0PjwvZz48IS0tY2x1c3RlciBBcHBsaWNhdGlvbiBDb3JlLS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkFwcGxpY2F0aW9uIENvcmUiIGRhdGEtc291cmNlLWxpbmU9IjkiIGlkPSJlbnQwMDA2Ij48cGF0aCBkPSJNNjguNSwxMzMuNiBMMTk5Ljk2MzksMTMzLjYgQTMuNzUsMy43NSAwIDAgMSAyMDIuNDYzOSwxMzYuMSBMMjA5LjQ2MzksMTU1Ljg5NjkgTDM1Ni41LDE1NS44OTY5IEEyLjUsMi41IDAgMCAxIDM1OSwxNTguMzk2OSBMMzU5LDQ0NC45OCBBMi41LDIuNSAwIDAgMSAzNTYuNSw0NDcuNDggTDY4LjUsNDQ3LjQ4IEEyLjUsMi41IDAgMCAxIDY2LDQ0NC45OCBMNjYsMTM2LjEgQTIuNSwyLjUgMCAwIDEgNjguNSwxMzMuNiIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNjYiIHgyPSIyMDkuNDYzOSIgeTE9IjE1NS44OTY5IiB5Mj0iMTU1Ljg5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMwLjQ2MzkiIHg9IjcwIiB5PSIxNDguNTk1MSI+QXBwbGljYXRpb24gQ29yZTwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgT3V0cHV0IEFkYXB0ZXJzLS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ik91dHB1dCBBZGFwdGVycyIgZGF0YS1zb3VyY2UtbGluZT0iMTYiIGlkPSJlbnQwMDExIj48cGF0aCBkPSJNMjYuNSw0NzEuNDggTDE1OS4zNjUyLDQ3MS40OCBBMy43NSwzLjc1IDAgMCAxIDE2MS44NjUyLDQ3My45OCBMMTY4Ljg2NTIsNDkzLjc3NjkgTDUyMS41LDQ5My43NzY5IEEyLjUsMi41IDAgMCAxIDUyNCw0OTYuMjc2OSBMNTI0LDU1Ni4yOCBBMi41LDIuNSAwIDAgMSA1MjEuNSw1NTguNzggTDI2LjUsNTU4Ljc4IEEyLjUsMi41IDAgMCAxIDI0LDU1Ni4yOCBMMjQsNDczLjk4IEEyLjUsMi41IDAgMCAxIDI2LjUsNDcxLjQ4IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIyNCIgeDI9IjE2OC44NjUyIiB5MT0iNDkzLjc3NjkiIHkyPSI0OTMuNzc2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzEuODY1MiIgeD0iMjgiIHk9IjQ4Ni40NzUxIj5PdXRwdXQgQWRhcHRlcnM8L3RleHQ+PC9nPjwhLS1lbnRpdHkgYXBpLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iSW5wdXQgQWRhcHRlcnMuYXBpIiBkYXRhLXNvdXJjZS1saW5lPSI0IiBpZD0iZW50MDAwMyI+PHJlY3QgZmlsbD0iI0FERDhFNiIgaGVpZ2h0PSI1Mi41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjkuNjM0OCIgeD0iMjIuMTgiIHk9IjQxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA5LjYzNDgiIHg9IjMyLjE4IiB5PSI2My45OTUxIj5SRVNUIENvbnRyb2xsZXI8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzMuMDcyMyIgeD0iMzIuMTgiIHk9IjgwLjI5MiI+KEFQSSk8L3RleHQ+PC9nPjwhLS1lbnRpdHkgd2ViLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iSW5wdXQgQWRhcHRlcnMud2ViIiBkYXRhLXNvdXJjZS1saW5lPSI1IiBpZD0iZW50MDAwNCI+PHJlY3QgZmlsbD0iIzkwRUU5MCIgaGVpZ2h0PSI1Mi41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNjcuNTk0NyIgeD0iMTg3LjIiIHk9IjQxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ3LjU5NDciIHg9IjE5Ny4yIiB5PSI2My45OTUxIj5UaHltZWxlYWYgQ29udHJvbGxlcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0Mi4yNjY2IiB4PSIxOTcuMiIgeT0iODAuMjkyIj4oV2ViKTwvdGV4dD48L2c+PCEtLWVudGl0eSBmeC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IklucHV0IEFkYXB0ZXJzLmZ4IiBkYXRhLXNvdXJjZS1saW5lPSI2IiBpZD0iZW50MDAwNSI+PHJlY3QgZmlsbD0iI0ZGRkZFMCIgaGVpZ2h0PSI1Mi41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNDcuMjMwNSIgeD0iMzg5LjM4IiB5PSI0MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNy4yMzA1IiB4PSIzOTkuMzgiIHk9IjYzLjk5NTEiPkphdmFGWCBWaWV3TW9kZWw8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjguNjYwMiIgeD0iMzk5LjM4IiB5PSI4MC4yOTIiPihEZXNrdG9wKTwvdGV4dD48L2c+PCEtLWVudGl0eSBpbnB1dC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkFwcGxpY2F0aW9uIENvcmUuaW5wdXQiIGRhdGEtc291cmNlLWxpbmU9IjEwIiBpZD0iZW50MDAwNyI+PHJlY3QgZmlsbD0iI0ZGQzBDQiIgaGVpZ2h0PSI1Mi41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI5MS4zMzk4IiB4PSIyMjMuMzMiIHk9IjE2OC42Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjguOTU0MSIgeD0iMjMzLjMzIiB5PSIxOTEuNTk1MSI+SW5wdXQgUG9ydDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MS4zMzk4IiB4PSIyMzMuMzMiIHk9IjIwNy44OTIiPihVc2VDYXNlKTwvdGV4dD48L2c+PCEtLWVudGl0eSBhcHAtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJBcHBsaWNhdGlvbiBDb3JlLmFwcCIgZGF0YS1zb3VyY2UtbGluZT0iMTEiIGlkPSJlbnQwMDA4Ij48cmVjdCBmaWxsPSIjRkZDMENCIiBoZWlnaHQ9IjM2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1NC40MTUiIHg9IjE4OC43OSIgeT0iMjgyLjU5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM0LjQxNSIgeD0iMTk4Ljc5IiB5PSIzMDUuNTg1MSI+QXBwbGljYXRpb24gU2VydmljZTwvdGV4dD48L2c+PCEtLWVudGl0eSBkb21haW4tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJBcHBsaWNhdGlvbiBDb3JlLmRvbWFpbiIgZGF0YS1zb3VyY2UtbGluZT0iMTIiIGlkPSJlbnQwMDA5Ij48cmVjdCBmaWxsPSIjRkZDMENCIiBoZWlnaHQ9IjM2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyMC44MDk2IiB4PSI4MS42IiB5PSIzODcuMDQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDAuODA5NiIgeD0iOTEuNiIgeT0iNDEwLjAzNTEiPkRvbWFpbiBNb2RlbDwvdGV4dD48L2c+PCEtLWVudGl0eSBvdXRwdXQtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJBcHBsaWNhdGlvbiBDb3JlLm91dHB1dCIgZGF0YS1zb3VyY2UtbGluZT0iMTMiIGlkPSJlbnQwMDEwIj48cmVjdCBmaWxsPSIjRkZDMENCIiBoZWlnaHQ9IjUyLjU5MzgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEwNS45OTYxIiB4PSIyMzciIHk9IjM3OC44OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgxLjMzNCIgeD0iMjQ3IiB5PSI0MDEuODg1MSI+T3V0cHV0IFBvcnQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODUuOTk2MSIgeD0iMjQ3IiB5PSI0MTguMTgyIj4oUmVwb3NpdG9yeSk8L3RleHQ+PC9nPjwhLS1lbnRpdHkgbXliYXRpcy0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ik91dHB1dCBBZGFwdGVycy5teWJhdGlzIiBkYXRhLXNvdXJjZS1saW5lPSIxNyIgaWQ9ImVudDAwMTIiPjxyZWN0IGZpbGw9IiNEM0QzRDMiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTU0Ljc0MzIiIHg9IjM5LjYzIiB5PSI1MDYuNDgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzQuNzQzMiIgeD0iNDkuNjMiIHk9IjUyOS40NzUxIj5NeUJhdGlzIFJlcG9zaXRvcnk8L3RleHQ+PC9nPjwhLS1lbnRpdHkgZXhjZWwtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJPdXRwdXQgQWRhcHRlcnMuZXhjZWwiIGRhdGEtc291cmNlLWxpbmU9IjE4IiBpZD0iZW50MDAxMyI+PHJlY3QgZmlsbD0iI0QzRDNEMyIgaGVpZ2h0PSIzNi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjEuOTc4NSIgeD0iMjI5LjAxIiB5PSI1MDYuNDgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDEuOTc4NSIgeD0iMjM5LjAxIiB5PSI1MjkuNDc1MSI+RXhjZWwgRXhwb3J0ZXI8L3RleHQ+PC9nPjwhLS1lbnRpdHkgcGRmLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iT3V0cHV0IEFkYXB0ZXJzLnBkZiIgZGF0YS1zb3VyY2UtbGluZT0iMTkiIGlkPSJlbnQwMDE0Ij48cmVjdCBmaWxsPSIjRDNEM0QzIiBoZWlnaHQ9IjM2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyMi44MTkzIiB4PSIzODUuNTkiIHk9IjUwNi40OCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMi44MTkzIiB4PSIzOTUuNTkiIHk9IjUyOS40NzUxIj5QREYgR2VuZXJhdG9yPC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJHTU4yNCIgZGF0YS1zb3VyY2UtbGluZT0iMzMiIGlkPSJlbnQwMDI1Ij48cGF0aCBkPSJNMzc1LjE0LDE2Ny4xOSBMMzc1LjE0LDIyMi41ODg0IEEwLDAgMCAwIDAgMzc1LjE0LDIyMi41ODg0IEw1NTQuODY5NiwyMjIuNTg4NCBBMCwwIDAgMCAwIDU1NC44Njk2LDIyMi41ODg0IEw1NTQuODY5NiwxNzcuMTkgTDU0NC44Njk2LDE2Ny4xOSBMNDY4LjU3LDE2Ny4xOSBMNDYzLjQxLDk0LjAyIEw0NjAuNTcsMTY3LjE5IEwzNzUuMTQsMTY3LjE5IEEwLDAgMCAwIDAgMzc1LjE0LDE2Ny4xOSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTU0NC44Njk2LDE2Ny4xOSBMNTQ0Ljg2OTYsMTc3LjE5IEw1NTQuODY5NiwxNzcuMTkgTDU0NC44Njk2LDE2Ny4xOSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM1LjI3NDkiIHg9IjM4MS4xNCIgeT0iMTg0LjI1NjkiPkphdmFGWCBWaWV3TW9kZWwgJiMxMjQxODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTU3LjkzNjEiIHg9IjM4MS4xNCIgeT0iMTk5LjM4OTciPlJFU1QgQ29udHJvbGxlciAmIzEyMzkyOyYjMjE1MTY7JiMyNzA5NjsmIzEyMzk1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTguNzI5NiIgeD0iMzgxLjE0IiB5PSIyMTQuNTIyNSI+SW5wdXQgQWRhcHRlciAmIzEyMzkyOyYjMTIzNzU7JiMxMjM5MDsmIzIxMjA1OyYjMjAzMTY7PC90ZXh0PjwvZz48IS0tbGluayBhcGkgdG8gaW5wdXQtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMyIgZGF0YS1lbnRpdHktMj0iZW50MDAwNyIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjIyIiBpZD0ibG5rMTUiPjxwYXRoIGQ9Ik0xMjQuMjcsOTQuMDIgQzE1NS42OCwxMTUuNjkgMTk1LjQ1MTYsMTQzLjE0MjQgMjI2Ljg0MTYsMTY0LjgwMjQiIGZpbGw9Im5vbmUiIGlkPSJhcGktdG8taW5wdXQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIzMS43OCwxNjguMjEsMjI2LjY0NDEsMTU5LjgwNjMsMjI3LjY2NDcsMTY1LjM3MDMsMjIyLjEwMDYsMTY2LjM5MDgsMjMxLjc4LDE2OC4yMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayB3ZWIgdG8gaW5wdXQtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNCIgZGF0YS1lbnRpdHktMj0iZW50MDAwNyIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjIzIiBpZD0ibG5rMTYiPjxwYXRoIGQ9Ik0yNzAuNTksOTQuMDIgQzI3MC4yNSwxMTUuNjkgMjY5Ljg0NDIsMTQwLjU1MDcgMjY5LjUwNDIsMTYyLjIxMDciIGZpbGw9Im5vbmUiIGlkPSJ3ZWItdG8taW5wdXQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI2OS40MSwxNjguMjEsMjczLjU1MDgsMTU5LjI3MzksMjY5LjQ4ODUsMTYzLjIxMDYsMjY1LjU1MTcsMTU5LjE0ODMsMjY5LjQxLDE2OC4yMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBmeCB0byBpbnB1dC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA1IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA3IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMjQiIGlkPSJsbmsxNyI+PHBhdGggZD0iTTQxNS41OCw5My45NyBDMzg5LjEyLDEwOC4zMiAzNjAuODksMTIzLjcxIDM1OCwxMjUuNiBDMzM3LjkyLDEzOC42NyAzMjEuMjc1NSwxNTEuMTkyMiAzMDQuNTM1NSwxNjQuNTgyMiIgZmlsbD0ibm9uZSIgaWQ9ImZ4LXRvLWlucHV0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyOTkuODUsMTY4LjMzLDMwOS4zNzY4LDE2NS44MzE5LDMwMy43NTQ2LDE2NS4yMDY4LDMwNC4zNzk3LDE1OS41ODQ2LDI5OS44NSwxNjguMzMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgaW5wdXQgdG8gYXBwLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDciIGRhdGEtZW50aXR5LTI9ImVudDAwMDgiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIyNSIgaWQ9ImxuazE4Ij48cGF0aCBkPSJNMjY4LjI2LDIyMS41NiBDMjY3LjcxLDI0MC40MiAyNjcuMTYzMiwyNTkuNTUyNSAyNjYuNjgzMiwyNzYuMTcyNSIgZmlsbD0ibm9uZSIgaWQ9ImlucHV0LXRvLWFwcCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjY2LjUxLDI4Mi4xNywyNzAuNzY4MiwyNzMuMjg5MiwyNjYuNjU0MywyNzcuMTcyMSwyNjIuNzcxNSwyNzMuMDU4MywyNjYuNTEsMjgyLjE3IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIGFwcCB0byBkb21haW4tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwOCIgZGF0YS1lbnRpdHktMj0iZW50MDAwOSIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjI2IiBpZD0ibG5rMTkiPjxwYXRoIGQ9Ik0yNDQuNjgsMzE5LjM1IEMyMjEuODMsMzM4LjIzIDE5MC40MDUzLDM2NC4xOTgxIDE2Ny42NjUzLDM4Mi45ODgxIiBmaWxsPSJub25lIiBpZD0iYXBwLXRvLWRvbWFpbiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTYzLjA0LDM4Ni44MSwxNzIuNTI1OSwzODQuMTYwNywxNjYuODk0NCwzODMuNjI1MSwxNjcuNDMsMzc3Ljk5MzcsMTYzLjA0LDM4Ni44MSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBhcHAgdG8gb3V0cHV0LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDgiIGRhdGEtZW50aXR5LTI9ImVudDAwMTAiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIyNyIgaWQ9ImxuazIwIj48cGF0aCBkPSJNMjcwLjA3LDMxOS4xMiBDMjczLjksMzM1LjQ1IDI3OC4zMDM4LDM1NC4yMzc2IDI4Mi42NDM4LDM3Mi43OTc2IiBmaWxsPSJub25lIiBpZD0iYXBwLXRvLW91dHB1dCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjg0LjAxLDM3OC42NCwyODUuODU1NywzNjguOTY1NiwyODIuODcxNSwzNzMuNzcxMywyNzguMDY1OCwzNzAuNzg3MiwyODQuMDEsMzc4LjY0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIG91dHB1dCB0byBteWJhdGlzLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMTAiIGRhdGEtZW50aXR5LTI9ImVudDAwMTIiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIyOCIgaWQ9ImxuazIxIj48cGF0aCBkPSJNMjUzLjgxLDQzMS45NyBDMjQyLjk4LDQzOS42MSAyMzEuMDUsNDQ3Ljk0IDIyMCw0NTUuNDggQzE5NC4zMiw0NzMuMDEgMTY5LjcxMjUsNDg5LjI2NzUgMTQ4Ljg0MjUsNTAyLjkwNzUiIGZpbGw9Im5vbmUiIGlkPSJvdXRwdXQtdG8tbXliYXRpcyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTQzLjgyLDUwNi4xOSwxNTMuNTQyLDUwNC42MTQ1LDE0OC4wMDU0LDUwMy40NTQ2LDE0OS4xNjUzLDQ5Ny45MTc5LDE0My44Miw1MDYuMTkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgb3V0cHV0IHRvIGV4Y2VsLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMTAiIGRhdGEtZW50aXR5LTI9ImVudDAwMTMiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIyOSIgaWQ9ImxuazIyIj48cGF0aCBkPSJNMjkwLDQzMS45NiBDMjkwLDQ1NC41MSAyOTAsNDgwLjY1IDI5MCw1MDAuMjciIGZpbGw9Im5vbmUiIGlkPSJvdXRwdXQtdG8tZXhjZWwiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI5MCw1MDYuMjcsMjk0LDQ5Ny4yNywyOTAsNTAxLjI3LDI4Niw0OTcuMjcsMjkwLDUwNi4yNyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBvdXRwdXQgdG8gcGRmLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMTAiIGRhdGEtZW50aXR5LTI9ImVudDAwMTQiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIzMCIgaWQ9ImxuazIzIj48cGF0aCBkPSJNMzI1LjA0LDQzMS43MyBDMzM4LjUxLDQ0MS42IDM1NC4wMSw0NTMuMDIgMzY4LDQ2My40OCBDMzg3LjA1LDQ3Ny43MyA0MDMuNzU3Myw0OTAuNDUwOCA0MTkuNDk3Myw1MDIuNTEwOCIgZmlsbD0ibm9uZSIgaWQ9Im91dHB1dC10by1wZGYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjQyNC4yNiw1MDYuMTYsNDE5LjU0ODcsNDk3LjUxMTEsNDIwLjI5MTEsNTAzLjExOSw0MTQuNjgzMSw1MDMuODYxNCw0MjQuMjYsNTA2LjE2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjw/cGxhbnR1bWwtc3JjIFRMRkJKWGluNUR0eEF3d0kzTHRtMnFXWDNtR2c4a0JIWHlKNkN0Q0poN1h5Qk96M0NnZ3cyRGpzcUdzMjFVaU1ZTV9XUW1SdzdWTFpJYW5lREhsVm5wYS16X1hFREhEQVN5REJvN1ctY25nUWd3OUZhV25xSHFGX0NRUFRXS3lIRWxqQXBvdHEyZ3VqY2dlM052WjF0NzhyYlF2dUYzbXZYSnVmUXFYQURFVGdncFZVVnpTMU5XN04waGhsblZKMnhpZXZmZzNKWXhmNFlOcG82bGFIaXVYU09ET1l6bW9ZSWc0N185QUZGaTQ3V09qM0FiMHdzMDJoY0lLVGVQRGJZX29DS2pBMlZLcTZ3TWFqSFN3ajhFS2tEaFduSWZucEpDT3dxaENBLXhwMkkyZjJmSmlNUWZPMktodUpEOVNZbnRQbV9SUHZHMktOMmVCZXE1TjRuOWw2ZXhiRFQxb1pmYWZPQ2RNS0doNFFLVWJtQlVtX3B0SE94cGdUNVFwZjBialBQbzd6cnNuVWZ3M1hDYVM5bXdMc0tqMDQwOFJLbHpsN1duN2llS0IzN05fZXJpS2F4TkxvX0t2aVItejRIdmJfdnROYWRjdVRIQ2p6eERuYXRiNV9aZnd6WEQ0Q3JkaFlDLXIwUUlmOEpYREU1TUVBQjQ5NnJiODlENzVobXBPdDJ2Z2hBeFFudGoyaXhmel9WRl96d3hQUEZSMU5GdU9sRFFrUlBsTnAtVGxycS1DVEdyTTBsLUtGPz48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h3 id="224">22.4 ディレクトリ構成<a class="headerlink" href="#224" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>app/src/main/java/com/example/accounting/
├── infrastructure/
│   ├── in/
│   │   ├── api/           # REST API Controller（既存）
│   │   ├── web/           # Thymeleaf Controller（既存）
│   │   └── javafx/        # JavaFX アプリケーション（新規）
│   │       ├── controller/    # FXML Controller
│   │       ├── viewmodel/     # ViewModel
│   │       ├── view/          # 行モデル（TableView 用）
│   │       ├── dialog/        # ダイアログ
│   │       ├── util/          # ユーティリティ
│   │       └── config/        # 設定（StageManager, FxmlView）
│   └── out/
│       └── persistence/   # MyBatis Repository（既存）
│
└── resources/
    └── fxml/              # FXML ファイル
        ├── main.fxml
        ├── dashboard.fxml
        ├── account/       # 勘定科目マスタ
        ├── journal/       # 仕訳
        ├── balance/       # 残高照会
        └── report/        # 帳票
</code></pre></div>
<hr />
<h2 id="23javafx">第23章：JavaFX 環境のセットアップ<a class="headerlink" href="#23javafx" title="Permanent link">&para;</a></h2>
<h3 id="231-buildgradlekts">23.1 build.gradle.kts の設定<a class="headerlink" href="#231-buildgradlekts" title="Permanent link">&para;</a></h3>
<details>
<summary>build.gradle.kts</summary>

<div class="highlight"><pre><span></span><code><span class="n">plugins</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">java</span>
<span class="w">    </span><span class="n">id</span><span class="p">(</span><span class="s">&quot;org.springframework.boot&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="s">&quot;3.2.0&quot;</span>
<span class="w">    </span><span class="n">id</span><span class="p">(</span><span class="s">&quot;io.spring.dependency-management&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="s">&quot;1.1.4&quot;</span>
<span class="w">    </span><span class="n">id</span><span class="p">(</span><span class="s">&quot;org.openjfx.javafxplugin&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="s">&quot;0.1.0&quot;</span>
<span class="p">}</span>

<span class="n">javafx</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;21&quot;</span>
<span class="w">    </span><span class="n">modules</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">listOf</span><span class="p">(</span><span class="s">&quot;javafx.controls&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;javafx.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;javafx.graphics&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">dependencies</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Spring Boot</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;org.springframework.boot:spring-boot-starter&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;org.springframework.boot:spring-boot-starter-validation&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// JavaFX 追加コントロール</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;org.controlsfx:controlsfx:11.2.0&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// アイコン</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;org.kordamp.ikonli:ikonli-javafx:12.3.1&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;org.kordamp.ikonli:ikonli-fontawesome5-pack:12.3.1&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// 帳票</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;net.sf.jasperreports:jasperreports:6.20.5&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;com.github.librepdf:openpdf:1.3.30&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;org.apache.poi:poi-ooxml:5.2.5&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// JavaFX テスト</span>
<span class="w">    </span><span class="n">testImplementation</span><span class="p">(</span><span class="s">&quot;org.testfx:testfx-core:4.0.18&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">testImplementation</span><span class="p">(</span><span class="s">&quot;org.testfx:testfx-junit5:4.0.18&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

</details>

<p><strong>パッケージの説明：</strong></p>
<table>
<thead>
<tr>
<th>パッケージ</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>javafx.controls</td>
<td>標準 UI コントロール</td>
</tr>
<tr>
<td>javafx.fxml</td>
<td>FXML サポート</td>
</tr>
<tr>
<td>controlsfx</td>
<td>拡張コントロール</td>
</tr>
<tr>
<td>ikonli-fontawesome5-pack</td>
<td>FontAwesome アイコン</td>
</tr>
<tr>
<td>jasperreports</td>
<td>PDF 帳票生成</td>
</tr>
<tr>
<td>poi-ooxml</td>
<td>Excel 帳票生成</td>
</tr>
<tr>
<td>testfx</td>
<td>JavaFX テスト</td>
</tr>
</tbody>
</table>
<h3 id="232-spring-boot-javafx">23.2 Spring Boot + JavaFX 統合<a class="headerlink" href="#232-spring-boot-javafx" title="Permanent link">&para;</a></h3>
<details>
<summary>JavaFxApplication.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.in.javafx</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.application.Application</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.application.Platform</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.stage.Stage</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.boot.builder.SpringApplicationBuilder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.context.ApplicationEvent</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.context.ConfigurableApplicationContext</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * JavaFX と Spring Boot を統合するアプリケーションクラス</span>
<span class="cm"> */</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">JavaFxApplication</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Application</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ConfigurableApplicationContext</span><span class="w"> </span><span class="n">applicationContext</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">init</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">applicationContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SpringApplicationBuilder</span><span class="p">(</span><span class="n">AccountingApplication</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">run</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">start</span><span class="p">(</span><span class="n">Stage</span><span class="w"> </span><span class="n">stage</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">applicationContext</span><span class="p">.</span><span class="na">publishEvent</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">StageReadyEvent</span><span class="p">(</span><span class="n">stage</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">stop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">applicationContext</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
<span class="w">        </span><span class="n">Platform</span><span class="p">.</span><span class="na">exit</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * Stage 準備完了イベント</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StageReadyEvent</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">ApplicationEvent</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="nf">StageReadyEvent</span><span class="p">(</span><span class="n">Stage</span><span class="w"> </span><span class="n">stage</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">super</span><span class="p">(</span><span class="n">stage</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="n">Stage</span><span class="w"> </span><span class="nf">getStage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">Stage</span><span class="p">)</span><span class="w"> </span><span class="n">getSource</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>StageManager.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.in.javafx.config</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.fxml.FXMLLoader</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.scene.Parent</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.scene.Scene</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.stage.Stage</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.context.ApplicationContext</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.context.ApplicationListener</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Component</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.io.IOException</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Objects</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Stage と Scene の管理を担当するマネージャー</span>
<span class="cm"> */</span>
<span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StageManager</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ApplicationListener</span><span class="o">&lt;</span><span class="n">JavaFxApplication</span><span class="p">.</span><span class="na">StageReadyEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">applicationContext</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Stage</span><span class="w"> </span><span class="n">primaryStage</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">StageManager</span><span class="p">(</span><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">applicationContext</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">applicationContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">applicationContext</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onApplicationEvent</span><span class="p">(</span><span class="n">JavaFxApplication</span><span class="p">.</span><span class="na">StageReadyEvent</span><span class="w"> </span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">primaryStage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">event</span><span class="p">.</span><span class="na">getStage</span><span class="p">();</span>
<span class="w">        </span><span class="n">showMainView</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * メイン画面を表示</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">showMainView</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">switchScene</span><span class="p">(</span><span class="n">FxmlView</span><span class="p">.</span><span class="na">MAIN</span><span class="p">);</span>
<span class="w">        </span><span class="n">primaryStage</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;財務会計システム&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">primaryStage</span><span class="p">.</span><span class="na">setWidth</span><span class="p">(</span><span class="mi">1280</span><span class="p">);</span>
<span class="w">        </span><span class="n">primaryStage</span><span class="p">.</span><span class="na">setHeight</span><span class="p">(</span><span class="mi">800</span><span class="p">);</span>
<span class="w">        </span><span class="n">primaryStage</span><span class="p">.</span><span class="na">show</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * シーンを切り替え</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">switchScene</span><span class="p">(</span><span class="n">FxmlView</span><span class="w"> </span><span class="n">view</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Parent</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">loadViewNode</span><span class="p">(</span><span class="n">view</span><span class="p">.</span><span class="na">getFxmlPath</span><span class="p">());</span>
<span class="w">        </span><span class="n">Scene</span><span class="w"> </span><span class="n">scene</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Scene</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>
<span class="w">        </span><span class="n">scene</span><span class="p">.</span><span class="na">getStylesheets</span><span class="p">().</span><span class="na">add</span><span class="p">(</span>
<span class="w">            </span><span class="n">Objects</span><span class="p">.</span><span class="na">requireNonNull</span><span class="p">(</span>
<span class="w">                </span><span class="n">getClass</span><span class="p">().</span><span class="na">getResource</span><span class="p">(</span><span class="s">&quot;/fxml/css/application.css&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">).</span><span class="na">toExternalForm</span><span class="p">()</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">        </span><span class="n">primaryStage</span><span class="p">.</span><span class="na">setScene</span><span class="p">(</span><span class="n">scene</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * FXML をロード</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Parent</span><span class="w"> </span><span class="nf">loadViewNode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">fxmlPath</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">FXMLLoader</span><span class="w"> </span><span class="n">loader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FXMLLoader</span><span class="p">(</span><span class="n">getClass</span><span class="p">().</span><span class="na">getResource</span><span class="p">(</span><span class="n">fxmlPath</span><span class="p">));</span>
<span class="w">            </span><span class="n">loader</span><span class="p">.</span><span class="na">setControllerFactory</span><span class="p">(</span><span class="n">applicationContext</span><span class="p">::</span><span class="n">getBean</span><span class="p">);</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">loader</span><span class="p">.</span><span class="na">load</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="s">&quot;FXMLのロードに失敗: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">fxmlPath</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ApplicationContext</span><span class="w"> </span><span class="nf">getApplicationContext</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">applicationContext</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Stage</span><span class="w"> </span><span class="nf">getPrimaryStage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">primaryStage</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>FxmlView.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.in.javafx.config</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * FXML 画面の定義</span>
<span class="cm"> */</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">FxmlView</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="c1">// メイン</span>
<span class="w">    </span><span class="n">MAIN</span><span class="p">(</span><span class="s">&quot;/fxml/main.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;メイン&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">DASHBOARD</span><span class="p">(</span><span class="s">&quot;/fxml/dashboard.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ダッシュボード&quot;</span><span class="p">),</span>

<span class="w">    </span><span class="c1">// マスタ</span>
<span class="w">    </span><span class="n">ACCOUNT_LIST</span><span class="p">(</span><span class="s">&quot;/fxml/account/account-list.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;勘定科目マスタ&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">ACCOUNT_EDIT</span><span class="p">(</span><span class="s">&quot;/fxml/account/account-edit.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;勘定科目編集&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">ACCOUNT_STRUCTURE</span><span class="p">(</span><span class="s">&quot;/fxml/account/account-structure.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;勘定科目構成&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">TAX_TRANSACTION_LIST</span><span class="p">(</span><span class="s">&quot;/fxml/account/tax-transaction-list.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;課税取引マスタ&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">DEPARTMENT_LIST</span><span class="p">(</span><span class="s">&quot;/fxml/account/department-list.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;部門マスタ&quot;</span><span class="p">),</span>

<span class="w">    </span><span class="c1">// 仕訳</span>
<span class="w">    </span><span class="n">JOURNAL_ENTRY</span><span class="p">(</span><span class="s">&quot;/fxml/journal/journal-entry.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;仕訳入力&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">JOURNAL_LIST</span><span class="p">(</span><span class="s">&quot;/fxml/journal/journal-list.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;仕訳一覧&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">JOURNAL_SEARCH</span><span class="p">(</span><span class="s">&quot;/fxml/journal/journal-search.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;仕訳検索&quot;</span><span class="p">),</span>

<span class="w">    </span><span class="c1">// 残高照会</span>
<span class="w">    </span><span class="n">DAILY_BALANCE</span><span class="p">(</span><span class="s">&quot;/fxml/balance/daily-balance.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;日次残高照会&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">MONTHLY_BALANCE</span><span class="p">(</span><span class="s">&quot;/fxml/balance/monthly-balance.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;月次残高照会&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">ACCOUNT_BALANCE</span><span class="p">(</span><span class="s">&quot;/fxml/balance/account-balance.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;勘定科目別残高&quot;</span><span class="p">),</span>

<span class="w">    </span><span class="c1">// 帳票</span>
<span class="w">    </span><span class="n">DAILY_REPORT</span><span class="p">(</span><span class="s">&quot;/fxml/report/daily-report.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;日計表&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">TRIAL_BALANCE</span><span class="p">(</span><span class="s">&quot;/fxml/report/trial-balance.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;合計残高試算表&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">FINANCIAL_STATEMENTS</span><span class="p">(</span><span class="s">&quot;/fxml/report/financial-statements.fxml&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;財務諸表&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">fxmlPath</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">title</span><span class="p">;</span>

<span class="w">    </span><span class="n">FxmlView</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">fxmlPath</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">title</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">fxmlPath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fxmlPath</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">title</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getFxmlPath</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">fxmlPath</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getTitle</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">title</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="24">第24章：メイン画面とダッシュボードの実装<a class="headerlink" href="#24" title="Permanent link">&para;</a></h2>
<h3 id="241-fxml">24.1 メイン画面 FXML<a class="headerlink" href="#241-fxml" title="Permanent link">&para;</a></h3>
<details>
<summary>main.fxml</summary>

<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>

<span class="cp">&lt;?import javafx.geometry.*?&gt;</span>
<span class="cp">&lt;?import javafx.scene.control.*?&gt;</span>
<span class="cp">&lt;?import javafx.scene.layout.*?&gt;</span>
<span class="cp">&lt;?import org.kordamp.ikonli.javafx.FontIcon?&gt;</span>

<span class="nt">&lt;BorderPane</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://javafx.com/javafx/21&quot;</span>
<span class="w">            </span><span class="na">xmlns:fx=</span><span class="s">&quot;http://javafx.com/fxml/1&quot;</span>
<span class="w">            </span><span class="na">fx:controller=</span><span class="s">&quot;com.example.accounting.infrastructure.in.javafx.controller.MainController&quot;</span>
<span class="w">            </span><span class="na">styleClass=</span><span class="s">&quot;main-container&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- メニューバー --&gt;</span>
<span class="w">    </span><span class="nt">&lt;top&gt;</span>
<span class="w">        </span><span class="nt">&lt;VBox&gt;</span>
<span class="w">            </span><span class="nt">&lt;MenuBar&gt;</span>
<span class="w">                </span><span class="cm">&lt;!-- ファイルメニュー --&gt;</span>
<span class="w">                </span><span class="nt">&lt;Menu</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;ファイル(_F)&quot;</span><span class="nt">&gt;</span>
<span class="w">                    </span><span class="nt">&lt;MenuItem</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;終了(_X)&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onExit&quot;</span><span class="w"> </span><span class="na">accelerator=</span><span class="s">&quot;Alt+F4&quot;</span><span class="nt">&gt;</span>
<span class="w">                        </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-sign-out-alt&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">                    </span><span class="nt">&lt;/MenuItem&gt;</span>
<span class="w">                </span><span class="nt">&lt;/Menu&gt;</span>

<span class="w">                </span><span class="cm">&lt;!-- マスタメニュー --&gt;</span>
<span class="w">                </span><span class="nt">&lt;Menu</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;マスタ(_M)&quot;</span><span class="nt">&gt;</span>
<span class="w">                    </span><span class="nt">&lt;MenuItem</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;勘定科目マスタ(_A)&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onAccountMaster&quot;</span><span class="nt">&gt;</span>
<span class="w">                        </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-book&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">                    </span><span class="nt">&lt;/MenuItem&gt;</span>
<span class="w">                    </span><span class="nt">&lt;MenuItem</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;勘定科目構成(_S)&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onAccountStructure&quot;</span><span class="nt">&gt;</span>
<span class="w">                        </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-sitemap&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">                    </span><span class="nt">&lt;/MenuItem&gt;</span>
<span class="w">                    </span><span class="nt">&lt;MenuItem</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;課税取引マスタ(_T)&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onTaxTransactionMaster&quot;</span><span class="nt">&gt;</span>
<span class="w">                        </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-percent&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">                    </span><span class="nt">&lt;/MenuItem&gt;</span>
<span class="w">                    </span><span class="nt">&lt;SeparatorMenuItem/&gt;</span>
<span class="w">                    </span><span class="nt">&lt;MenuItem</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;部門マスタ(_D)&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onDepartmentMaster&quot;</span><span class="nt">&gt;</span>
<span class="w">                        </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-building&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">                    </span><span class="nt">&lt;/MenuItem&gt;</span>
<span class="w">                </span><span class="nt">&lt;/Menu&gt;</span>

<span class="w">                </span><span class="cm">&lt;!-- 仕訳メニュー --&gt;</span>
<span class="w">                </span><span class="nt">&lt;Menu</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;仕訳(_J)&quot;</span><span class="nt">&gt;</span>
<span class="w">                    </span><span class="nt">&lt;MenuItem</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;仕訳入力(_E)&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onJournalEntry&quot;</span><span class="nt">&gt;</span>
<span class="w">                        </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-edit&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">                    </span><span class="nt">&lt;/MenuItem&gt;</span>
<span class="w">                    </span><span class="nt">&lt;MenuItem</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;仕訳一覧(_L)&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onJournalList&quot;</span><span class="nt">&gt;</span>
<span class="w">                        </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-list&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">                    </span><span class="nt">&lt;/MenuItem&gt;</span>
<span class="w">                    </span><span class="nt">&lt;MenuItem</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;仕訳検索(_S)&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onJournalSearch&quot;</span><span class="nt">&gt;</span>
<span class="w">                        </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-search&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">                    </span><span class="nt">&lt;/MenuItem&gt;</span>
<span class="w">                </span><span class="nt">&lt;/Menu&gt;</span>

<span class="w">                </span><span class="cm">&lt;!-- 残高照会メニュー --&gt;</span>
<span class="w">                </span><span class="nt">&lt;Menu</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;残高照会(_B)&quot;</span><span class="nt">&gt;</span>
<span class="w">                    </span><span class="nt">&lt;MenuItem</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;日次残高照会(_D)&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onDailyBalance&quot;</span><span class="nt">&gt;</span>
<span class="w">                        </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-calendar-day&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">                    </span><span class="nt">&lt;/MenuItem&gt;</span>
<span class="w">                    </span><span class="nt">&lt;MenuItem</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;月次残高照会(_M)&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onMonthlyBalance&quot;</span><span class="nt">&gt;</span>
<span class="w">                        </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-calendar-alt&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">                    </span><span class="nt">&lt;/MenuItem&gt;</span>
<span class="w">                    </span><span class="nt">&lt;MenuItem</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;勘定科目別残高(_A)&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onAccountBalance&quot;</span><span class="nt">&gt;</span>
<span class="w">                        </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-chart-line&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">                    </span><span class="nt">&lt;/MenuItem&gt;</span>
<span class="w">                </span><span class="nt">&lt;/Menu&gt;</span>

<span class="w">                </span><span class="cm">&lt;!-- 帳票メニュー --&gt;</span>
<span class="w">                </span><span class="nt">&lt;Menu</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;帳票(_R)&quot;</span><span class="nt">&gt;</span>
<span class="w">                    </span><span class="nt">&lt;MenuItem</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;日計表(_D)&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onDailyReport&quot;</span><span class="nt">&gt;</span>
<span class="w">                        </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-file-invoice&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">                    </span><span class="nt">&lt;/MenuItem&gt;</span>
<span class="w">                    </span><span class="nt">&lt;MenuItem</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;合計残高試算表(_T)&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onTrialBalance&quot;</span><span class="nt">&gt;</span>
<span class="w">                        </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-file-alt&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">                    </span><span class="nt">&lt;/MenuItem&gt;</span>
<span class="w">                    </span><span class="nt">&lt;MenuItem</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;財務諸表(_F)&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onFinancialStatements&quot;</span><span class="nt">&gt;</span>
<span class="w">                        </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-file-invoice-dollar&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">                    </span><span class="nt">&lt;/MenuItem&gt;</span>
<span class="w">                </span><span class="nt">&lt;/Menu&gt;</span>

<span class="w">                </span><span class="cm">&lt;!-- ヘルプメニュー --&gt;</span>
<span class="w">                </span><span class="nt">&lt;Menu</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;ヘルプ(_H)&quot;</span><span class="nt">&gt;</span>
<span class="w">                    </span><span class="nt">&lt;MenuItem</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;バージョン情報(_A)&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onAbout&quot;</span><span class="nt">&gt;</span>
<span class="w">                        </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-info-circle&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">                    </span><span class="nt">&lt;/MenuItem&gt;</span>
<span class="w">                </span><span class="nt">&lt;/Menu&gt;</span>
<span class="w">            </span><span class="nt">&lt;/MenuBar&gt;</span>

<span class="w">            </span><span class="cm">&lt;!-- ツールバー --&gt;</span>
<span class="w">            </span><span class="nt">&lt;ToolBar</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;tool-bar&quot;</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onDashboard&quot;</span><span class="w"> </span><span class="na">tooltip=</span><span class="s">&quot;ダッシュボード&quot;</span><span class="nt">&gt;</span>
<span class="w">                    </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-home&quot;</span><span class="w"> </span><span class="na">iconSize=</span><span class="s">&quot;18&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">                </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">                </span><span class="nt">&lt;Separator</span><span class="w"> </span><span class="na">orientation=</span><span class="s">&quot;VERTICAL&quot;</span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onAccountMaster&quot;</span><span class="w"> </span><span class="na">tooltip=</span><span class="s">&quot;勘定科目マスタ&quot;</span><span class="nt">&gt;</span>
<span class="w">                    </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-book&quot;</span><span class="w"> </span><span class="na">iconSize=</span><span class="s">&quot;18&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">                </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">                </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onJournalEntry&quot;</span><span class="w"> </span><span class="na">tooltip=</span><span class="s">&quot;仕訳入力&quot;</span><span class="nt">&gt;</span>
<span class="w">                    </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-edit&quot;</span><span class="w"> </span><span class="na">iconSize=</span><span class="s">&quot;18&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">                </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">                </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onJournalList&quot;</span><span class="w"> </span><span class="na">tooltip=</span><span class="s">&quot;仕訳一覧&quot;</span><span class="nt">&gt;</span>
<span class="w">                    </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-list&quot;</span><span class="w"> </span><span class="na">iconSize=</span><span class="s">&quot;18&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">                </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">                </span><span class="nt">&lt;Separator</span><span class="w"> </span><span class="na">orientation=</span><span class="s">&quot;VERTICAL&quot;</span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onDailyBalance&quot;</span><span class="w"> </span><span class="na">tooltip=</span><span class="s">&quot;日次残高照会&quot;</span><span class="nt">&gt;</span>
<span class="w">                    </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-calendar-day&quot;</span><span class="w"> </span><span class="na">iconSize=</span><span class="s">&quot;18&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">                </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">                </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onMonthlyBalance&quot;</span><span class="w"> </span><span class="na">tooltip=</span><span class="s">&quot;月次残高照会&quot;</span><span class="nt">&gt;</span>
<span class="w">                    </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-calendar-alt&quot;</span><span class="w"> </span><span class="na">iconSize=</span><span class="s">&quot;18&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">                </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">                </span><span class="nt">&lt;Separator</span><span class="w"> </span><span class="na">orientation=</span><span class="s">&quot;VERTICAL&quot;</span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onDailyReport&quot;</span><span class="w"> </span><span class="na">tooltip=</span><span class="s">&quot;日計表&quot;</span><span class="nt">&gt;</span>
<span class="w">                    </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-file-invoice&quot;</span><span class="w"> </span><span class="na">iconSize=</span><span class="s">&quot;18&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">                </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">                </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onTrialBalance&quot;</span><span class="w"> </span><span class="na">tooltip=</span><span class="s">&quot;合計残高試算表&quot;</span><span class="nt">&gt;</span>
<span class="w">                    </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-file-alt&quot;</span><span class="w"> </span><span class="na">iconSize=</span><span class="s">&quot;18&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">                </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">            </span><span class="nt">&lt;/ToolBar&gt;</span>
<span class="w">        </span><span class="nt">&lt;/VBox&gt;</span>
<span class="w">    </span><span class="nt">&lt;/top&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- メインコンテンツ（タブパネル） --&gt;</span>
<span class="w">    </span><span class="nt">&lt;center&gt;</span>
<span class="w">        </span><span class="nt">&lt;TabPane</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;mainTabPane&quot;</span><span class="w"> </span><span class="na">tabClosingPolicy=</span><span class="s">&quot;ALL_TABS&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="cm">&lt;!-- 初期表示はダッシュボード --&gt;</span>
<span class="w">        </span><span class="nt">&lt;/TabPane&gt;</span>
<span class="w">    </span><span class="nt">&lt;/center&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- ステータスバー --&gt;</span>
<span class="w">    </span><span class="nt">&lt;bottom&gt;</span>
<span class="w">        </span><span class="nt">&lt;HBox</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;status-bar&quot;</span><span class="w"> </span><span class="na">spacing=</span><span class="s">&quot;10&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;statusMessage&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;準備完了&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;Pane</span><span class="w"> </span><span class="na">HBox.hgrow=</span><span class="s">&quot;ALWAYS&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;fiscalPeriod&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;2025年度&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;Separator</span><span class="w"> </span><span class="na">orientation=</span><span class="s">&quot;VERTICAL&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;currentDateTime&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;/HBox&gt;</span>
<span class="w">    </span><span class="nt">&lt;/bottom&gt;</span>
<span class="nt">&lt;/BorderPane&gt;</span>
</code></pre></div>

</details>

<h3 id="242-maincontrollerjava">24.2 MainController.java<a class="headerlink" href="#242-maincontrollerjava" title="Permanent link">&para;</a></h3>
<details>
<summary>MainController.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.in.javafx.controller</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.in.javafx.config.FxmlView</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.in.javafx.config.StageManager</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.animation.Animation</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.animation.KeyFrame</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.animation.Timeline</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.fxml.FXML</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.fxml.Initializable</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.scene.control.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.util.Duration</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Component</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.net.URL</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.format.DateTimeFormatter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Optional</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ResourceBundle</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * メイン画面 Controller</span>
<span class="cm"> */</span>
<span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MainController</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Initializable</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StageManager</span><span class="w"> </span><span class="n">stageManager</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">TabPane</span><span class="w"> </span><span class="n">mainTabPane</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Label</span><span class="w"> </span><span class="n">statusMessage</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Label</span><span class="w"> </span><span class="n">fiscalPeriod</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@FXML</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Label</span><span class="w"> </span><span class="n">currentDateTime</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">DateTimeFormatter</span><span class="w"> </span><span class="n">DATE_TIME_FORMATTER</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">DateTimeFormatter</span><span class="p">.</span><span class="na">ofPattern</span><span class="p">(</span><span class="s">&quot;yyyy/MM/dd HH:mm:ss&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">MainController</span><span class="p">(</span><span class="n">StageManager</span><span class="w"> </span><span class="n">stageManager</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">stageManager</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stageManager</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">initialize</span><span class="p">(</span><span class="n">URL</span><span class="w"> </span><span class="n">location</span><span class="p">,</span><span class="w"> </span><span class="n">ResourceBundle</span><span class="w"> </span><span class="n">resources</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">startClock</span><span class="p">();</span>
<span class="w">        </span><span class="n">openInTab</span><span class="p">(</span><span class="n">FxmlView</span><span class="p">.</span><span class="na">DASHBOARD</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">startClock</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Timeline</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Timeline</span><span class="p">(</span>
<span class="w">            </span><span class="k">new</span><span class="w"> </span><span class="n">KeyFrame</span><span class="p">(</span><span class="n">Duration</span><span class="p">.</span><span class="na">seconds</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">currentDateTime</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span>
<span class="w">                    </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">().</span><span class="na">format</span><span class="p">(</span><span class="n">DATE_TIME_FORMATTER</span><span class="p">)</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">            </span><span class="p">})</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">        </span><span class="n">clock</span><span class="p">.</span><span class="na">setCycleCount</span><span class="p">(</span><span class="n">Animation</span><span class="p">.</span><span class="na">INDEFINITE</span><span class="p">);</span>
<span class="w">        </span><span class="n">clock</span><span class="p">.</span><span class="na">play</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ========== メニューアクション ==========</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onExit</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Alert</span><span class="w"> </span><span class="n">alert</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Alert</span><span class="p">(</span><span class="n">Alert</span><span class="p">.</span><span class="na">AlertType</span><span class="p">.</span><span class="na">CONFIRMATION</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;終了確認&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">setHeaderText</span><span class="p">(</span><span class="s">&quot;アプリケーションを終了しますか？&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">ButtonType</span><span class="o">&gt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">alert</span><span class="p">.</span><span class="na">showAndWait</span><span class="p">();</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="na">isPresent</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="na">get</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">ButtonType</span><span class="p">.</span><span class="na">OK</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onDashboard</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">openInTab</span><span class="p">(</span><span class="n">FxmlView</span><span class="p">.</span><span class="na">DASHBOARD</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ----- マスタ -----</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onAccountMaster</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">openInTab</span><span class="p">(</span><span class="n">FxmlView</span><span class="p">.</span><span class="na">ACCOUNT_LIST</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onAccountStructure</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">openInTab</span><span class="p">(</span><span class="n">FxmlView</span><span class="p">.</span><span class="na">ACCOUNT_STRUCTURE</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onTaxTransactionMaster</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">openInTab</span><span class="p">(</span><span class="n">FxmlView</span><span class="p">.</span><span class="na">TAX_TRANSACTION_LIST</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onDepartmentMaster</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">openInTab</span><span class="p">(</span><span class="n">FxmlView</span><span class="p">.</span><span class="na">DEPARTMENT_LIST</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ----- 仕訳 -----</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onJournalEntry</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">openInTab</span><span class="p">(</span><span class="n">FxmlView</span><span class="p">.</span><span class="na">JOURNAL_ENTRY</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onJournalList</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">openInTab</span><span class="p">(</span><span class="n">FxmlView</span><span class="p">.</span><span class="na">JOURNAL_LIST</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onJournalSearch</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">openInTab</span><span class="p">(</span><span class="n">FxmlView</span><span class="p">.</span><span class="na">JOURNAL_SEARCH</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ----- 残高照会 -----</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onDailyBalance</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">openInTab</span><span class="p">(</span><span class="n">FxmlView</span><span class="p">.</span><span class="na">DAILY_BALANCE</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onMonthlyBalance</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">openInTab</span><span class="p">(</span><span class="n">FxmlView</span><span class="p">.</span><span class="na">MONTHLY_BALANCE</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onAccountBalance</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">openInTab</span><span class="p">(</span><span class="n">FxmlView</span><span class="p">.</span><span class="na">ACCOUNT_BALANCE</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ----- 帳票 -----</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onDailyReport</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">openInTab</span><span class="p">(</span><span class="n">FxmlView</span><span class="p">.</span><span class="na">DAILY_REPORT</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onTrialBalance</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">openInTab</span><span class="p">(</span><span class="n">FxmlView</span><span class="p">.</span><span class="na">TRIAL_BALANCE</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onFinancialStatements</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">openInTab</span><span class="p">(</span><span class="n">FxmlView</span><span class="p">.</span><span class="na">FINANCIAL_STATEMENTS</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ----- ヘルプ -----</span>

<span class="w">    </span><span class="nd">@FXML</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onAbout</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Alert</span><span class="w"> </span><span class="n">alert</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Alert</span><span class="p">(</span><span class="n">Alert</span><span class="p">.</span><span class="na">AlertType</span><span class="p">.</span><span class="na">INFORMATION</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;バージョン情報&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">setHeaderText</span><span class="p">(</span><span class="s">&quot;財務会計システム&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">setContentText</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">            バージョン: 1.0.0</span>

<span class="s">            D社 製造業向け財務会計システム</span>

<span class="s">            Copyright (c) 2025</span>
<span class="s">            &quot;&quot;&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">showAndWait</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ========== ユーティリティ ==========</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * TabPane 内に画面を開く</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">openInTab</span><span class="p">(</span><span class="n">FxmlView</span><span class="w"> </span><span class="n">view</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 既存タブをチェック</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Tab</span><span class="w"> </span><span class="n">tab</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">mainTabPane</span><span class="p">.</span><span class="na">getTabs</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">tab</span><span class="p">.</span><span class="na">getText</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="n">view</span><span class="p">.</span><span class="na">getTitle</span><span class="p">()))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">mainTabPane</span><span class="p">.</span><span class="na">getSelectionModel</span><span class="p">().</span><span class="na">select</span><span class="p">(</span><span class="n">tab</span><span class="p">);</span>
<span class="w">                </span><span class="k">return</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// 新しいタブを作成</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">loader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">javafx</span><span class="p">.</span><span class="na">fxml</span><span class="p">.</span><span class="na">FXMLLoader</span><span class="p">(</span>
<span class="w">                </span><span class="n">getClass</span><span class="p">().</span><span class="na">getResource</span><span class="p">(</span><span class="n">view</span><span class="p">.</span><span class="na">getFxmlPath</span><span class="p">())</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">            </span><span class="n">loader</span><span class="p">.</span><span class="na">setControllerFactory</span><span class="p">(</span>
<span class="w">                </span><span class="n">stageManager</span><span class="p">.</span><span class="na">getApplicationContext</span><span class="p">()::</span><span class="n">getBean</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">            </span><span class="n">Tab</span><span class="w"> </span><span class="n">tab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Tab</span><span class="p">(</span><span class="n">view</span><span class="p">.</span><span class="na">getTitle</span><span class="p">());</span>
<span class="w">            </span><span class="n">tab</span><span class="p">.</span><span class="na">setContent</span><span class="p">(</span><span class="n">loader</span><span class="p">.</span><span class="na">load</span><span class="p">());</span>
<span class="w">            </span><span class="n">mainTabPane</span><span class="p">.</span><span class="na">getTabs</span><span class="p">().</span><span class="na">add</span><span class="p">(</span><span class="n">tab</span><span class="p">);</span>
<span class="w">            </span><span class="n">mainTabPane</span><span class="p">.</span><span class="na">getSelectionModel</span><span class="p">().</span><span class="na">select</span><span class="p">(</span><span class="n">tab</span><span class="p">);</span>

<span class="w">            </span><span class="n">setStatus</span><span class="p">(</span><span class="n">view</span><span class="p">.</span><span class="na">getTitle</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; を開きました&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">showError</span><span class="p">(</span><span class="s">&quot;画面を開けませんでした: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setStatus</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">statusMessage</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">showError</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Alert</span><span class="w"> </span><span class="n">alert</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Alert</span><span class="p">(</span><span class="n">Alert</span><span class="p">.</span><span class="na">AlertType</span><span class="p">.</span><span class="na">ERROR</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">setTitle</span><span class="p">(</span><span class="s">&quot;エラー&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">setHeaderText</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">setContentText</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
<span class="w">        </span><span class="n">alert</span><span class="p">.</span><span class="na">showAndWait</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="243-fxml">24.3 ダッシュボード FXML<a class="headerlink" href="#243-fxml" title="Permanent link">&para;</a></h3>
<details>
<summary>dashboard.fxml</summary>

<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>

<span class="cp">&lt;?import javafx.geometry.*?&gt;</span>
<span class="cp">&lt;?import javafx.scene.chart.*?&gt;</span>
<span class="cp">&lt;?import javafx.scene.control.*?&gt;</span>
<span class="cp">&lt;?import javafx.scene.layout.*?&gt;</span>
<span class="cp">&lt;?import org.kordamp.ikonli.javafx.FontIcon?&gt;</span>

<span class="nt">&lt;ScrollPane</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://javafx.com/javafx/21&quot;</span>
<span class="w">            </span><span class="na">xmlns:fx=</span><span class="s">&quot;http://javafx.com/fxml/1&quot;</span>
<span class="w">            </span><span class="na">fx:controller=</span><span class="s">&quot;com.example.accounting.infrastructure.in.javafx.controller.DashboardController&quot;</span>
<span class="w">            </span><span class="na">fitToWidth=</span><span class="s">&quot;true&quot;</span><span class="w"> </span><span class="na">fitToHeight=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="nt">&lt;VBox</span><span class="w"> </span><span class="na">spacing=</span><span class="s">&quot;20&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;dashboard&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;padding&gt;&lt;Insets</span><span class="w"> </span><span class="na">top=</span><span class="s">&quot;20&quot;</span><span class="w"> </span><span class="na">right=</span><span class="s">&quot;20&quot;</span><span class="w"> </span><span class="na">bottom=</span><span class="s">&quot;20&quot;</span><span class="w"> </span><span class="na">left=</span><span class="s">&quot;20&quot;</span><span class="nt">/&gt;&lt;/padding&gt;</span>

<span class="w">        </span><span class="cm">&lt;!-- タイトル --&gt;</span>
<span class="w">        </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;ダッシュボード&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;title&quot;</span><span class="nt">/&gt;</span>

<span class="w">        </span><span class="cm">&lt;!-- サマリーカード --&gt;</span>
<span class="w">        </span><span class="nt">&lt;HBox</span><span class="w"> </span><span class="na">spacing=</span><span class="s">&quot;20&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="cm">&lt;!-- 当月仕訳件数 --&gt;</span>
<span class="w">            </span><span class="nt">&lt;VBox</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;dashboard-card&quot;</span><span class="w"> </span><span class="na">alignment=</span><span class="s">&quot;CENTER&quot;</span><span class="w"> </span><span class="na">HBox.hgrow=</span><span class="s">&quot;ALWAYS&quot;</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;当月仕訳件数&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;card-title&quot;</span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;monthlyJournalCount&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;card-value&quot;</span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;件&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;/VBox&gt;</span>

<span class="w">            </span><span class="cm">&lt;!-- 当月仕訳金額 --&gt;</span>
<span class="w">            </span><span class="nt">&lt;VBox</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;dashboard-card&quot;</span><span class="w"> </span><span class="na">alignment=</span><span class="s">&quot;CENTER&quot;</span><span class="w"> </span><span class="na">HBox.hgrow=</span><span class="s">&quot;ALWAYS&quot;</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;当月仕訳金額（借方）&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;card-title&quot;</span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;monthlyDebitAmount&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;¥0&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;card-value&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;/VBox&gt;</span>

<span class="w">            </span><span class="cm">&lt;!-- 当月仕訳金額 --&gt;</span>
<span class="w">            </span><span class="nt">&lt;VBox</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;dashboard-card&quot;</span><span class="w"> </span><span class="na">alignment=</span><span class="s">&quot;CENTER&quot;</span><span class="w"> </span><span class="na">HBox.hgrow=</span><span class="s">&quot;ALWAYS&quot;</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;当月仕訳金額（貸方）&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;card-title&quot;</span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;monthlyCreditAmount&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;¥0&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;card-value&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;/VBox&gt;</span>

<span class="w">            </span><span class="cm">&lt;!-- 現金預金残高 --&gt;</span>
<span class="w">            </span><span class="nt">&lt;VBox</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;dashboard-card&quot;</span><span class="w"> </span><span class="na">alignment=</span><span class="s">&quot;CENTER&quot;</span><span class="w"> </span><span class="na">HBox.hgrow=</span><span class="s">&quot;ALWAYS&quot;</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;現金預金残高&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;card-title&quot;</span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;cashBalance&quot;</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;¥0&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;card-value&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;/VBox&gt;</span>
<span class="w">        </span><span class="nt">&lt;/HBox&gt;</span>

<span class="w">        </span><span class="cm">&lt;!-- チャートエリア --&gt;</span>
<span class="w">        </span><span class="nt">&lt;HBox</span><span class="w"> </span><span class="na">spacing=</span><span class="s">&quot;20&quot;</span><span class="w"> </span><span class="na">VBox.vgrow=</span><span class="s">&quot;ALWAYS&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="cm">&lt;!-- 勘定科目別残高グラフ --&gt;</span>
<span class="w">            </span><span class="nt">&lt;VBox</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;chart-container&quot;</span><span class="w"> </span><span class="na">HBox.hgrow=</span><span class="s">&quot;ALWAYS&quot;</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;勘定科目別残高（資産）&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;chart-title&quot;</span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;PieChart</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;assetChart&quot;</span><span class="w"> </span><span class="na">legendSide=</span><span class="s">&quot;BOTTOM&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;/VBox&gt;</span>

<span class="w">            </span><span class="cm">&lt;!-- 月別仕訳件数推移 --&gt;</span>
<span class="w">            </span><span class="nt">&lt;VBox</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;chart-container&quot;</span><span class="w"> </span><span class="na">HBox.hgrow=</span><span class="s">&quot;ALWAYS&quot;</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;月別仕訳件数推移&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;chart-title&quot;</span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;BarChart</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;journalTrendChart&quot;</span><span class="nt">&gt;</span>
<span class="w">                    </span><span class="nt">&lt;xAxis&gt;&lt;CategoryAxis</span><span class="w"> </span><span class="na">label=</span><span class="s">&quot;月&quot;</span><span class="nt">/&gt;&lt;/xAxis&gt;</span>
<span class="w">                    </span><span class="nt">&lt;yAxis&gt;&lt;NumberAxis</span><span class="w"> </span><span class="na">label=</span><span class="s">&quot;件数&quot;</span><span class="nt">/&gt;&lt;/yAxis&gt;</span>
<span class="w">                </span><span class="nt">&lt;/BarChart&gt;</span>
<span class="w">            </span><span class="nt">&lt;/VBox&gt;</span>
<span class="w">        </span><span class="nt">&lt;/HBox&gt;</span>

<span class="w">        </span><span class="cm">&lt;!-- 最近の仕訳 --&gt;</span>
<span class="w">        </span><span class="nt">&lt;VBox</span><span class="w"> </span><span class="na">spacing=</span><span class="s">&quot;10&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;最近の仕訳&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;section-title&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;TableView</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;recentJournalsTable&quot;</span><span class="w"> </span><span class="na">prefHeight=</span><span class="s">&quot;200&quot;</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;columns&gt;</span>
<span class="w">                    </span><span class="nt">&lt;TableColumn</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;起票日&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;dateColumn&quot;</span><span class="nt">/&gt;</span>
<span class="w">                    </span><span class="nt">&lt;TableColumn</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;伝票番号&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;120&quot;</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;slipNoColumn&quot;</span><span class="nt">/&gt;</span>
<span class="w">                    </span><span class="nt">&lt;TableColumn</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;摘要&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;300&quot;</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;summaryColumn&quot;</span><span class="nt">/&gt;</span>
<span class="w">                    </span><span class="nt">&lt;TableColumn</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;借方金額&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;120&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;amount-column&quot;</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;debitColumn&quot;</span><span class="nt">/&gt;</span>
<span class="w">                    </span><span class="nt">&lt;TableColumn</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;貸方金額&quot;</span><span class="w"> </span><span class="na">prefWidth=</span><span class="s">&quot;120&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;amount-column&quot;</span><span class="w"> </span><span class="na">fx:id=</span><span class="s">&quot;creditColumn&quot;</span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;/columns&gt;</span>
<span class="w">                </span><span class="nt">&lt;placeholder&gt;</span>
<span class="w">                    </span><span class="nt">&lt;Label</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;仕訳データがありません&quot;</span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;/placeholder&gt;</span>
<span class="w">            </span><span class="nt">&lt;/TableView&gt;</span>
<span class="w">        </span><span class="nt">&lt;/VBox&gt;</span>

<span class="w">        </span><span class="cm">&lt;!-- クイックアクセス --&gt;</span>
<span class="w">        </span><span class="nt">&lt;HBox</span><span class="w"> </span><span class="na">spacing=</span><span class="s">&quot;10&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;仕訳入力&quot;</span><span class="w"> </span><span class="na">styleClass=</span><span class="s">&quot;primary&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onQuickJournalEntry&quot;</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-edit&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">            </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">            </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;日計表出力&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onQuickDailyReport&quot;</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-file-invoice&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">            </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">            </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;試算表出力&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onQuickTrialBalance&quot;</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-file-alt&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">            </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">            </span><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">text=</span><span class="s">&quot;データ更新&quot;</span><span class="w"> </span><span class="na">onAction=</span><span class="s">&quot;#onRefresh&quot;</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;graphic&gt;&lt;FontIcon</span><span class="w"> </span><span class="na">iconLiteral=</span><span class="s">&quot;fas-sync-alt&quot;</span><span class="nt">/&gt;&lt;/graphic&gt;</span>
<span class="w">            </span><span class="nt">&lt;/Button&gt;</span>
<span class="w">        </span><span class="nt">&lt;/HBox&gt;</span>
<span class="w">    </span><span class="nt">&lt;/VBox&gt;</span>
<span class="nt">&lt;/ScrollPane&gt;</span>
</code></pre></div>

</details>

<hr />
<h2 id="25">第25章：勘定科目マスタ画面の実装<a class="headerlink" href="#25" title="Permanent link">&para;</a></h2>
<h3 id="251">25.1 勘定科目マスタ画面の設計<a class="headerlink" href="#251" title="Permanent link">&para;</a></h3>
<p>勘定科目マスタ画面は、一覧表示・検索・登録・編集・削除の機能を提供します。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjQ1MHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6ODU5cHg7aGVpZ2h0OjQ1MHB4O2JhY2tncm91bmQ6I0ZFRkVGRTsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDg1OSA0NTAiIHdpZHRoPSI4NTlweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjxyZWN0IGZpbGw9IiNGRUZFRkUiIGhlaWdodD0iNDUwIiBzdHlsZT0ic3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iODU5IiB4PSIwIiB5PSIwIi8+PCEtLWNsdXN0ZXIgPz8/Pz8/Pz8/Pz8tLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjMiIGlkPSJlbnQwMDAyIj48cGF0aCBkPSJNOC41LDQyLjIxIEwxNjMuNDk5Myw0Mi4yMSBBMy43NSwzLjc1IDAgMCAxIDE2NS45OTkzLDQ0LjcxIEwxNzIuOTk5Myw2NC41MDY5IEw0MTQuNSw2NC41MDY5IEEyLjUsMi41IDAgMCAxIDQxNyw2Ny4wMDY5IEw0MTcsNDQwLjk2IEEyLjUsMi41IDAgMCAxIDQxNC41LDQ0My40NiBMOC41LDQ0My40NiBBMi41LDIuNSAwIDAgMSA2LDQ0MC45NiBMNiw0NC43MSBBMi41LDIuNSAwIDAgMSA4LjUsNDIuMjEiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjYiIHgyPSIxNzIuOTk5MyIgeTE9IjY0LjUwNjkiIHkyPSI2NC41MDY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1My45OTkzIiB4PSIxMCIgeT0iNTcuMjA1MSI+JiMyMTIwODsmIzIzNDUwOyYjMzExODU7JiMzMDQ0NjsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTsmIzMwMDExOyYjMzg3NTQ7JiMyNzA4MzsmIzI1MTA0OzwvdGV4dD48L2c+PCEtLWVudGl0eSBsaXN0LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLi4uLi4ubGlzdCIgZGF0YS1zb3VyY2UtbGluZT0iNSIgaWQ9ImVudDAwMDMiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNTIuNTkzOCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTcwLjQxOCIgeD0iMjEuNzkiIHk9Ijc3LjIxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUwLjQxOCIgeD0iMzEuNzkiIHk9IjEwMC4yMDUxIj5BY2NvdW50TGlzdENvbnRyb2xsZXI8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjYuOTIzNiIgeD0iMzEuNzkiIHk9IjExNi41MDIiPigmIzE5OTY4OyYjMzUyMzk7JiMzMDAxMTsmIzM4NzU0Oyk8L3RleHQ+PC9nPjwhLS1lbnRpdHkgZWRpdC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uLi4uLi4uLmVkaXQiIGRhdGEtc291cmNlLWxpbmU9IjgiIGlkPSJlbnQwMDA0Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjUyLjU5MzgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE3My4wNTY2IiB4PSIyMjcuNDciIHk9Ijc3LjIxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjA1NjYiIHg9IjIzNy40NyIgeT0iMTAwLjIwNTEiPkFjY291bnRFZGl0Q29udHJvbGxlcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2Ni45MjM2IiB4PSIyMzcuNDciIHk9IjExNi41MDIiPigmIzMyMjMyOyYjMzg1OTg7JiMzMDAxMTsmIzM4NzU0Oyk8L3RleHQ+PC9nPjwhLS1lbnRpdHkgdm0tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLi4uLi4uLi52bSIgZGF0YS1zb3VyY2UtbGluZT0iMTEiIGlkPSJlbnQwMDA1Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjUyLjU5MzgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1Mi4zMzY5IiB4PSIyMzcuODMiIHk9IjIzNi4zIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMyLjMzNjkiIHg9IjI0Ny44MyIgeT0iMjU5LjI5NTEiPkFjY291bnRWaWV3TW9kZWw8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjYuOTIzNiIgeD0iMjQ3LjgzIiB5PSIyNzUuNTkyIj4oJiMzMDAxMTsmIzM4NzU0OyYjMjkzNjY7JiMyNDkwNzspPC90ZXh0PjwvZz48IS0tZW50aXR5IHVzZWNhc2UtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLi4uLi4uLi51c2VjYXNlIiBkYXRhLXNvdXJjZS1saW5lPSIxNCIgaWQ9ImVudDAwMDYiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNTIuNTkzOCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTQyLjkyMzMiIHg9IjI0Mi41NCIgeT0iMzc0Ljg3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE3LjE4ODUiIHg9IjI1Mi41NCIgeT0iMzk3Ljg2NTEiPkFjY291bnRVc2VDYXNlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMi45MjMzIiB4PSIyNTIuNTQiIHk9IjQxNC4xNjIiPigmIzEyNDk5OyYjMTI0NzI7JiMxMjQ5MzsmIzEyNDczOyYjMTI1MjU7JiMxMjQ3MjsmIzEyNDgzOyYjMTI0NjM7KTwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iR01OMTAiIGRhdGEtc291cmNlLWxpbmU9IjIzIiBpZD0iZW50MDAxMSI+PHBhdGggZD0iTTQzNS41OCw1Ni42NyBMNDM1LjU4LDE1MC4zMzQxIEw2MzQuNDI4NiwxNTAuMzM0MSBMNjM0LjQyODYsNjYuNjcgTDYyNC40Mjg2LDU2LjY3IEw0MzUuNTgsNTYuNjciIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik02MjQuNDI4Niw1Ni42NyBMNjI0LjQyODYsNjYuNjcgTDYzNC40Mjg2LDY2LjY3IEw2MjQuNDI4Niw1Ni42NyIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzNi4wMzY3IiB4PSI0NDEuNTgiIHk9IjczLjczNjkiPlRhYmxlVmlldyAmIzEyMzkxOyYjMTk5Njg7JiMzNTIzOTsmIzM0OTIwOyYjMzEwMzQ7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0My4wMDAyIiB4PSI0NDEuNTgiIHk9Ijg4Ljg2OTciPiYjMjY5MDg7JiMzMjAzNDsmIzEyNTM5OyYjMTI0Nzc7JiMxMjU0MDsmIzEyNDg4OyYjMTI1Mzk7JiMxMjUwMTsmIzEyNDUxOyYjMTI1MjM7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQzNi41OCIgeDI9IjYzMy40Mjg2IiB5MT0iOTEuOTM1NiIgeTI9IjkxLjkzNTYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNzcuODQ4NiIgeD0iNDQxLjU4IiB5PSIxMDguMDAyNSI+LSBUYWJsZVZpZXcmbHQ7QWNjb3VudFJvdyZndDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA4Ljc3OTgiIHg9IjQ0MS41OCIgeT0iMTIzLjEzNTMiPi0gVGV4dEZpZWxkICgmIzI2OTA4OyYjMzIwMzQ7KTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTMuNDAzOSIgeD0iNDQxLjU4IiB5PSIxMzguMjY4MSI+LSBCdXR0b24gKCYjMjYwMzI7JiMzNTIxNTsvJiMzMjIzMjsmIzM4NTk4Oy8mIzIxMDY2OyYjMzg1MDA7KTwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iR01OMTMiIGRhdGEtc291cmNlLWxpbmU9IjMyIiBpZD0iZW50MDAxNCI+PHBhdGggZD0iTTY2OS40OSw1Ni42NyBMNjY5LjQ5LDE1MC4zMzQxIEw4NTIuNTE0LDE1MC4zMzQxIEw4NTIuNTE0LDY2LjY3IEw4NDIuNTE0LDU2LjY3IEw2NjkuNDksNTYuNjciIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik04NDIuNTE0LDU2LjY3IEw4NDIuNTE0LDY2LjY3IEw4NTIuNTE0LDY2LjY3IEw4NDIuNTE0LDU2LjY3IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE3LjAwMDEiIHg9IjY3NS40OSIgeT0iNzMuNzM2OSI+JiMxMjUxNDsmIzEyNTQwOyYjMTI0ODA7JiMxMjUyMzsmIzEyNDgwOyYjMTI0NTI7JiMxMjQ1MDsmIzEyNTI1OyYjMTI0NjQ7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNy4wMDAxIiB4PSI2NzUuNDkiIHk9Ijg4Ljg2OTciPiYjMTI0MTQ7JiMxMjM4MzsmIzEyMzk5OyYjMjEwMjk7JiMxMjQ3OTsmIzEyNTAyOyYjMTIzOTE7JiMzODI4MzsmIzEyMzY3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjcwLjQ5IiB4Mj0iODUxLjUxNCIgeTE9IjkxLjkzNTYiIHkyPSI5MS45MzU2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUyLjE1OTciIHg9IjY3NS40OSIgeT0iMTA4LjAwMjUiPi0gVGV4dEZpZWxkICgmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsvJiMyMTUxNzsmIzMxMjE2Oyk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE5LjU2NDUiIHg9IjY3NS40OSIgeT0iMTIzLjEzNTMiPi0gQ29tYm9Cb3ggKCYjMjEzMDY7JiMyMDk5ODspPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2Mi4wMjQiIHg9IjY3NS40OSIgeT0iMTM4LjI2ODEiPi0gQnV0dG9uICgmIzIwNDQ1OyYjMjMzODQ7LyYjMTI0NjE7JiMxMjUxNTsmIzEyNTMxOyYjMTI0NzU7JiMxMjUyMzspPC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJHTU4xNiIgZGF0YS1zb3VyY2UtbGluZT0iNDEiIGlkPSJlbnQwMDE3Ij48cGF0aCBkPSJNNDMyLjYsMjI3LjMzIEw0MzIuNiwyNTguNiBMMzkwLjQ1LDI2Mi42IEw0MzIuNiwyNjYuNiBMNDMyLjYsMjk3Ljg2MTMgQTAsMCAwIDAgMCA0MzIuNiwyOTcuODYxMyBMNjYxLjM5MDUsMjk3Ljg2MTMgQTAsMCAwIDAgMCA2NjEuMzkwNSwyOTcuODYxMyBMNjYxLjM5MDUsMjM3LjMzIEw2NTEuMzkwNSwyMjcuMzMgTDQzMi42LDIyNy4zMyBBMCwwIDAgMCAwIDQzMi42LDIyNy4zMyIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTY1MS4zOTA1LDIyNy4zMyBMNjUxLjM5MDUsMjM3LjMzIEw2NjEuMzkwNSwyMzcuMzMgTDY1MS4zOTA1LDIyNy4zMyIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjA3Ljc5MDUiIHg9IjQzOC42IiB5PSIyNDQuMzk2OSI+LSBPYnNlcnZhYmxlTGlzdCZsdDtBY2NvdW50Um93Jmd0OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTYuNDE2IiB4PSI0MzguNiIgeT0iMjU5LjUyOTciPi0gc2VsZWN0ZWRBY2NvdW50PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOC42OTA5IiB4PSI0MzguNiIgeT0iMjc0LjY2MjUiPi0gc2VhcmNoS2V5d29yZDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1Ni43MSIgeD0iNDM4LjYiIHk9IjI4OS43OTUzIj4tIGxvYWRpbmc8L3RleHQ+PC9nPjwhLS1saW5rIGxpc3QgdG8gdm0tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMyIgZGF0YS1lbnRpdHktMj0iZW50MDAwNSIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjE4IiBpZD0ibG5rNyI+PHBhdGggY29kZUxpbmU9IjE4IiBkPSJNMTQwLjcyLDEzMC4wOSBDMTc5LjIxLDE1OS4zMSAyMzcuMDMwNSwyMDMuMTgyOCAyNzUuNTIwNSwyMzIuMzkyOCIgZmlsbD0ibm9uZSIgaWQ9Imxpc3QtdG8tdm0iIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI4MC4zLDIzNi4wMiwyNzUuNTQ4OCwyMjcuMzkyOSwyNzYuMzE3MSwyMzIuOTk3NCwyNzAuNzEyNiwyMzMuNzY1NiwyODAuMywyMzYuMDIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1Mi4wMDAxIiB4PSIyMzAuMDQiIHk9IjE5My4zOTY5Ij4mIzEyNDk2OyYjMTI0NTI7JiMxMjUzMTsmIzEyNDg5OzwvdGV4dD48L2c+PCEtLWxpbmsgZWRpdCB0byB2bS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA0IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA1IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMTkiIGlkPSJsbms4Ij48cGF0aCBjb2RlTGluZT0iMTkiIGQ9Ik0zMTQsMTMwLjA5IEMzMTQsMTU5LjMxIDMxNCwyMDAuODEgMzE0LDIzMC4wMiIgZmlsbD0ibm9uZSIgaWQ9ImVkaXQtdG8tdm0iIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMxNCwyMzYuMDIsMzE4LDIyNy4wMiwzMTQsMjMxLjAyLDMxMCwyMjcuMDIsMzE0LDIzNi4wMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyLjAwMDEiIHg9IjMxNSIgeT0iMTkzLjM5NjkiPiYjMTI0OTY7JiMxMjQ1MjsmIzEyNTMxOyYjMTI0ODk7PC90ZXh0PjwvZz48IS0tbGluayB2bSB0byB1c2VjYXNlLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDUiIGRhdGEtZW50aXR5LTI9ImVudDAwMDYiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIyMCIgaWQ9ImxuazkiPjxwYXRoIGNvZGVMaW5lPSIyMCIgZD0iTTMxNCwyODkuMjkgQzMxNCwzMTMuNyAzMTQsMzQ0LjIxIDMxNCwzNjguNTkiIGZpbGw9Im5vbmUiIGlkPSJ2bS10by11c2VjYXNlIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzMTQsMzc0LjU5LDMxOCwzNjUuNTksMzE0LDM2OS41OSwzMTAsMzY1LjU5LDMxNCwzNzQuNTkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NC4wMjg4IiB4PSIzMTUiIHk9IjM0MC45MzY5Ij5JbnB1dCBQb3J0PC90ZXh0PjwvZz48IS0tbGluayBsaXN0IHRvIEdNTjEwLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDMiIGRhdGEtZW50aXR5LTI9ImVudDAwMTEiIGRhdGEtbGluay10eXBlPSJhc3NvY2lhdGlvbiIgZGF0YS1zb3VyY2UtbGluZT0iMjMiIGlkPSJsbmsxMiI+PHBhdGggZD0iTTEzNC40Nyw3Ni44IEMxNTcuMjksNTYuNiAxOTEuNywzMC40OCAyMjcuNSwxOS4yMSBDMjYzLjk2LDcuNzIgMzYyLjc1LDguNzEgMzk5LjUsMTkuMjEgQzQyNi4xNCwyNi44MiA0NTIuNjQsNDEuMzQgNDc1LjA1LDU2LjIyIiBmaWxsPSJub25lIiBpZD0ibGlzdC1HTU4xMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6Nyw3OyIvPjwvZz48IS0tbGluayBlZGl0IHRvIEdNTjEzLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDQiIGRhdGEtZW50aXR5LTI9ImVudDAwMTQiIGRhdGEtbGluay10eXBlPSJhc3NvY2lhdGlvbiIgZGF0YS1zb3VyY2UtbGluZT0iMzIiIGlkPSJsbmsxNSI+PHBhdGggZD0iTTM0MS43Myw3Ni44IEMzNjQuNzcsNTYuNiAzOTkuNDgsMzAuNDggNDM1LjUsMTkuMjEgQzQ3Ny43LDYgNTkyLjE3LDYuNCA2MzQuNSwxOS4yMSBDNjU5Ljc2LDI2Ljg1IDY4NC41OSw0MS4zOSA3MDUuNDcsNTYuMjYiIGZpbGw9Im5vbmUiIGlkPSJlZGl0LUdNTjEzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTo3LDc7Ii8+PC9nPjw/cGxhbnR1bWwtc3JjIFRMQkhRWEQxNTdzVmhuWk1iLUdYdjVzYU80Q0JlZ0E4LWtKQlBkVENic3ZzbWttYWdPWkd4NjE5NmFpWlFnWk1BZ1FuQVBJcVdPaE1Ma3Q3dDZ1cy1HbGx4Q1BRWXM1WGNSZHRkWkZkZDFiX3FWNUFmWjJCRDZ6UVltTjFvdndUdW91TnpDaHlkRnU4QU03M0IzMWdYQ3NEU0Z6VHI3aVBSVXczLVczMVRtWEVlelNkdXd0RWlEU1NyYmk2VktnOE85T3FsT0FCV0VrTVhOcG9ia0ZCN0ZVYXVBeEJuMkNsVE5RcUZEaGY5U1lxR0tzVmtaWTJ1NlZfV3lfUHBoX213RGxrVTdGYjhmcFhvM0p1R3VUTFJ0RVJrSGVQT3dCTGh5RmRwR0hQQUt4M0ZWMVBwbEdQZWEyeldrMDhyOWZzaEZobk1hNW1hMzJLVk1SWE40bzNIQjZKSjZQNkNyLWIxZ1dNMTVyR1h3MFExZWJySmNqWUpSVi15NjdfWGJTZ0l0Z04yc2FHdWQ3OWc3MEEydkJvbnQ1V3ZCd1BUdmRzSHc3TUlxOFRWVGdEa2lUYXM3cVZWVWMwRWU3Vzl3V1ZlRWZ3aFR2MGkwcmczdy1EUDM4YUd5eTloYXJDdC1GTDZMcmRJdEJVT1F2REttYko2ZWtwUEljdlh2TnNPQklwZGFyazhIaXNMaVRsa3NkMkY5amdZUFU1UWlpNEwyVE1pUW1GbnAtUTNaZm5iMEMyakx6Ry1tWXJXeDMtNk9NMVFnRVBTUmk5alZNOW9Celk4M1lDVUhoUGlCS016R1BRTGV1Tnl0b01CejVLLUU4dWhBelNiN2Zza1hOc0R4OEd6NDVqd3ZtMzM2NWxralhBNFM1dHladUo1UHNDVmhZTmFsNlBZby01c1BEZ04zNjVqTjJKRlFib09VRlV2UVJqVThOcEN0dTM/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="252-accountrowjavaview">25.2 AccountRow.java（View 用データクラス）<a class="headerlink" href="#252-accountrowjavaview" title="Permanent link">&para;</a></h3>
<details>
<summary>AccountRow.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.in.javafx.view</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.beans.property.*</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 勘定科目マスタ画面用の行モデル</span>
<span class="cm"> * JavaFX Property による双方向バインディング対応</span>
<span class="cm"> */</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AccountRow</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">accountCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">accountName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">bsplTypeName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">debitCreditTypeName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">elementTypeName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">aggregationTypeName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">BooleanProperty</span><span class="w"> </span><span class="n">active</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleBooleanProperty</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// ========== コンストラクタ ==========</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">AccountRow</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">AccountRow</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">accountCode</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">accountName</span><span class="p">,</span>
<span class="w">                      </span><span class="n">String</span><span class="w"> </span><span class="n">bsplTypeName</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">debitCreditTypeName</span><span class="p">,</span>
<span class="w">                      </span><span class="n">String</span><span class="w"> </span><span class="n">elementTypeName</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">aggregationTypeName</span><span class="p">,</span>
<span class="w">                      </span><span class="kt">boolean</span><span class="w"> </span><span class="n">active</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">setAccountCode</span><span class="p">(</span><span class="n">accountCode</span><span class="p">);</span>
<span class="w">        </span><span class="n">setAccountName</span><span class="p">(</span><span class="n">accountName</span><span class="p">);</span>
<span class="w">        </span><span class="n">setBsplTypeName</span><span class="p">(</span><span class="n">bsplTypeName</span><span class="p">);</span>
<span class="w">        </span><span class="n">setDebitCreditTypeName</span><span class="p">(</span><span class="n">debitCreditTypeName</span><span class="p">);</span>
<span class="w">        </span><span class="n">setElementTypeName</span><span class="p">(</span><span class="n">elementTypeName</span><span class="p">);</span>
<span class="w">        </span><span class="n">setAggregationTypeName</span><span class="p">(</span><span class="n">aggregationTypeName</span><span class="p">);</span>
<span class="w">        </span><span class="n">setActive</span><span class="p">(</span><span class="n">active</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ========== Property アクセサ ==========</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">accountCodeProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">accountCode</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">accountNameProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">accountName</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">bsplTypeNameProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">bsplTypeName</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">debitCreditTypeNameProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">debitCreditTypeName</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">elementTypeNameProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">elementTypeName</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">aggregationTypeNameProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">aggregationTypeName</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BooleanProperty</span><span class="w"> </span><span class="nf">activeProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">active</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ========== Getter/Setter ==========</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getAccountCode</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">accountCode</span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setAccountCode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">accountCode</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getAccountName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">accountName</span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setAccountName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">accountName</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getBsplTypeName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">bsplTypeName</span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setBsplTypeName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">bsplTypeName</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getDebitCreditTypeName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">debitCreditTypeName</span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setDebitCreditTypeName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">debitCreditTypeName</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getElementTypeName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">elementTypeName</span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setElementTypeName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">elementTypeName</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getAggregationTypeName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">aggregationTypeName</span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setAggregationTypeName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">aggregationTypeName</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isActive</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">active</span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setActive</span><span class="p">(</span><span class="kt">boolean</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">active</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="253-accountviewmodeljava">25.3 AccountViewModel.java<a class="headerlink" href="#253-accountviewmodeljava" title="Permanent link">&para;</a></h3>
<details>
<summary>AccountViewModel.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.in.javafx.viewmodel</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.application.port.in.AccountUseCase</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.application.port.in.command.CreateAccountCommand</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.application.port.in.command.UpdateAccountCommand</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.account.Account</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.in.javafx.view.AccountRow</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.beans.property.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.collections.FXCollections</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.collections.ObservableList</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Component</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 勘定科目マスタ画面の ViewModel</span>
<span class="cm"> * UI 状態とビジネスロジックの橋渡し</span>
<span class="cm"> */</span>
<span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AccountViewModel</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">AccountUseCase</span><span class="w"> </span><span class="n">accountUseCase</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// 画面状態</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ObservableList</span><span class="o">&lt;</span><span class="n">AccountRow</span><span class="o">&gt;</span><span class="w"> </span><span class="n">accounts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FXCollections</span><span class="p">.</span><span class="na">observableArrayList</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">AccountRow</span><span class="o">&gt;</span><span class="w"> </span><span class="n">selectedAccount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleObjectProperty</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">searchKeyword</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">BooleanProperty</span><span class="w"> </span><span class="n">loading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleBooleanProperty</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">errorMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// 編集用フィールド</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">editAccountCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">editAccountName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">editBsplType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleObjectProperty</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">editDebitCreditType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleObjectProperty</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">editElementType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleObjectProperty</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">editAggregationType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleObjectProperty</span><span class="o">&lt;&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">AccountViewModel</span><span class="p">(</span><span class="n">AccountUseCase</span><span class="w"> </span><span class="n">accountUseCase</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">accountUseCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">accountUseCase</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ========== データ操作 ==========</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 勘定科目一覧を検索</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">search</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">loading</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">        </span><span class="n">errorMessage</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Account</span><span class="o">&gt;</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">keyword</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">searchKeyword</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">keyword</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">keyword</span><span class="p">.</span><span class="na">isBlank</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">accountUseCase</span><span class="p">.</span><span class="na">findAll</span><span class="p">();</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">accountUseCase</span><span class="p">.</span><span class="na">searchByKeyword</span><span class="p">(</span><span class="n">keyword</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="n">accounts</span><span class="p">.</span><span class="na">clear</span><span class="p">();</span>
<span class="w">            </span><span class="n">result</span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">accounts</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">toRow</span><span class="p">(</span><span class="n">a</span><span class="p">)));</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">errorMessage</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&quot;検索エラー: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">loading</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 勘定科目を新規登録</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">create</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">loading</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">        </span><span class="n">errorMessage</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CreateAccountCommand</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">accountCode</span><span class="p">(</span><span class="n">editAccountCode</span><span class="p">.</span><span class="na">get</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">accountName</span><span class="p">(</span><span class="n">editAccountName</span><span class="p">.</span><span class="na">get</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">bsplType</span><span class="p">(</span><span class="n">editBsplType</span><span class="p">.</span><span class="na">get</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">debitCreditType</span><span class="p">(</span><span class="n">editDebitCreditType</span><span class="p">.</span><span class="na">get</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">elementType</span><span class="p">(</span><span class="n">editElementType</span><span class="p">.</span><span class="na">get</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">aggregationType</span><span class="p">(</span><span class="n">editAggregationType</span><span class="p">.</span><span class="na">get</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">            </span><span class="n">Account</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">accountUseCase</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">command</span><span class="p">);</span>
<span class="w">            </span><span class="n">accounts</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">toRow</span><span class="p">(</span><span class="n">created</span><span class="p">));</span>
<span class="w">            </span><span class="n">clearEditFields</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">errorMessage</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&quot;登録エラー: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="n">e</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">loading</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 勘定科目を更新</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">update</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">loading</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">        </span><span class="n">errorMessage</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UpdateAccountCommand</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">accountCode</span><span class="p">(</span><span class="n">editAccountCode</span><span class="p">.</span><span class="na">get</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">accountName</span><span class="p">(</span><span class="n">editAccountName</span><span class="p">.</span><span class="na">get</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">bsplType</span><span class="p">(</span><span class="n">editBsplType</span><span class="p">.</span><span class="na">get</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">debitCreditType</span><span class="p">(</span><span class="n">editDebitCreditType</span><span class="p">.</span><span class="na">get</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">elementType</span><span class="p">(</span><span class="n">editElementType</span><span class="p">.</span><span class="na">get</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">aggregationType</span><span class="p">(</span><span class="n">editAggregationType</span><span class="p">.</span><span class="na">get</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">            </span><span class="n">Account</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">accountUseCase</span><span class="p">.</span><span class="na">update</span><span class="p">(</span><span class="n">command</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// 一覧を更新</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findRowIndex</span><span class="p">(</span><span class="n">updated</span><span class="p">.</span><span class="na">getAccountCode</span><span class="p">());</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">accounts</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">toRow</span><span class="p">(</span><span class="n">updated</span><span class="p">));</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">errorMessage</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&quot;更新エラー: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="n">e</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">loading</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 勘定科目を削除</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">delete</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">accountCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">loading</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">        </span><span class="n">errorMessage</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">accountUseCase</span><span class="p">.</span><span class="na">delete</span><span class="p">(</span><span class="n">accountCode</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// 一覧から削除</span>
<span class="w">            </span><span class="n">accounts</span><span class="p">.</span><span class="na">removeIf</span><span class="p">(</span><span class="n">row</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">row</span><span class="p">.</span><span class="na">getAccountCode</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="n">accountCode</span><span class="p">));</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">errorMessage</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&quot;削除エラー: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="n">e</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">loading</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 選択された勘定科目を編集フィールドにロード</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">loadForEdit</span><span class="p">(</span><span class="n">AccountRow</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">row</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">clearEditFields</span><span class="p">();</span>
<span class="w">            </span><span class="k">return</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">editAccountCode</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="na">getAccountCode</span><span class="p">());</span>
<span class="w">        </span><span class="n">editAccountName</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="na">getAccountName</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 編集フィールドをクリア</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">clearEditFields</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">editAccountCode</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">editAccountName</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">editBsplType</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">        </span><span class="n">editDebitCreditType</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">        </span><span class="n">editElementType</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">        </span><span class="n">editAggregationType</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ========== Property アクセサ ==========</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ObservableList</span><span class="o">&lt;</span><span class="n">AccountRow</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getAccounts</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">accounts</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">AccountRow</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">selectedAccountProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">selectedAccount</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">searchKeywordProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">searchKeyword</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BooleanProperty</span><span class="w"> </span><span class="nf">loadingProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">loading</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">errorMessageProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">errorMessage</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">editAccountCodeProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">editAccountCode</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">editAccountNameProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">editAccountName</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">editBsplTypeProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">editBsplType</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">editDebitCreditTypeProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">editDebitCreditType</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">editElementTypeProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">editElementType</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">editAggregationTypeProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">editAggregationType</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ========== ヘルパー ==========</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">AccountRow</span><span class="w"> </span><span class="nf">toRow</span><span class="p">(</span><span class="n">Account</span><span class="w"> </span><span class="n">account</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AccountRow</span><span class="p">(</span>
<span class="w">            </span><span class="n">account</span><span class="p">.</span><span class="na">getAccountCode</span><span class="p">(),</span>
<span class="w">            </span><span class="n">account</span><span class="p">.</span><span class="na">getAccountName</span><span class="p">(),</span>
<span class="w">            </span><span class="n">account</span><span class="p">.</span><span class="na">getBsplTypeName</span><span class="p">(),</span>
<span class="w">            </span><span class="n">account</span><span class="p">.</span><span class="na">getDebitCreditTypeName</span><span class="p">(),</span>
<span class="w">            </span><span class="n">account</span><span class="p">.</span><span class="na">getElementTypeName</span><span class="p">(),</span>
<span class="w">            </span><span class="n">account</span><span class="p">.</span><span class="na">getAggregationTypeName</span><span class="p">(),</span>
<span class="w">            </span><span class="n">account</span><span class="p">.</span><span class="na">isActive</span><span class="p">()</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">findRowIndex</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">accountCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">accounts</span><span class="p">.</span><span class="na">size</span><span class="p">();</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">accounts</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">i</span><span class="p">).</span><span class="na">getAccountCode</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="n">accountCode</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="26">第26章：仕訳入力画面の実装<a class="headerlink" href="#26" title="Permanent link">&para;</a></h2>
<h3 id="261">26.1 仕訳入力画面の設計<a class="headerlink" href="#261" title="Permanent link">&para;</a></h3>
<p>仕訳入力画面は、複式簿記に基づいた借方・貸方の入力と、貸借バランスチェックを提供します。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjQ5MHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NzgycHg7aGVpZ2h0OjQ5MHB4O2JhY2tncm91bmQ6I0ZFRkVGRTsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDc4MiA0OTAiIHdpZHRoPSI3ODJweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjxyZWN0IGZpbGw9IiNGRUZFRkUiIGhlaWdodD0iNDkwIiBzdHlsZT0ic3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNzgyIiB4PSIwIiB5PSIwIi8+PCEtLWNsdXN0ZXIgPz8/Pz8/Pz8tLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjMiIGlkPSJlbnQwMDAyIj48cGF0aCBkPSJNOC41LDE0LjI0IEwxMjEuNDk5NSwxNC4yNCBBMy43NSwzLjc1IDAgMCAxIDEyMy45OTk1LDE2Ljc0IEwxMzAuOTk5NSwzNi41MzY5IEwzOTIuNSwzNi41MzY5IEEyLjUsMi41IDAgMCAxIDM5NSwzOS4wMzY5IEwzOTUsNDgxLjA5IEEyLjUsMi41IDAgMCAxIDM5Mi41LDQ4My41OSBMOC41LDQ4My41OSBBMi41LDIuNSAwIDAgMSA2LDQ4MS4wOSBMNiwxNi43NCBBMi41LDIuNSAwIDAgMSA4LjUsMTQuMjQiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjYiIHgyPSIxMzAuOTk5NSIgeTE9IjM2LjUzNjkiIHkyPSIzNi41MzY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMS45OTk1IiB4PSIxMCIgeT0iMjkuMjM1MSI+JiMyMDE4MTsmIzM1Mzc5OyYjMjA4Mzc7JiMyMTE0NzsmIzMwMDExOyYjMzg3NTQ7JiMyNzA4MzsmIzI1MTA0OzwvdGV4dD48L2c+PCEtLWVudGl0eSBlbnRyeS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uLi4uLmVudHJ5IiBkYXRhLXNvdXJjZS1saW5lPSI1IiBpZD0iZW50MDAwMyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI1Mi41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNzUuMDg2OSIgeD0iMjAwLjQ2IiB5PSI0OS4yNCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1NS4wODY5IiB4PSIyMTAuNDYiIHk9IjcyLjIzNTEiPkpvdXJuYWxFbnRyeUNvbnRyb2xsZXI8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjYuOTIzNiIgeD0iMjEwLjQ2IiB5PSI4OC41MzIiPigmIzIwODM3OyYjMjExNDc7JiMzMDAxMTsmIzM4NzU0Oyk8L3RleHQ+PC9nPjwhLS1lbnRpdHkgZGV0YWlsLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLi4uZGV0YWlsIiBkYXRhLXNvdXJjZS1saW5lPSI4IiBpZD0iZW50MDAwNCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI1Mi41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMzkuNjQ5NCIgeD0iMjIuMTgiIHk9IjI1My43MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExOS42NDk0IiB4PSIzMi4xOCIgeT0iMjc2LjcyNTEiPkpvdXJuYWxEZXRhaWxSb3c8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIuOTIzNiIgeD0iMzIuMTgiIHk9IjI5My4wMjIiPigmIzI2MTI2OyYjMzIwNDg7JiMzNDg5MjspPC90ZXh0PjwvZz48IS0tZW50aXR5IHZtLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLi4udm0iIGRhdGEtc291cmNlLWxpbmU9IjExIiBpZD0iZW50MDAwNSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI1Mi41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxODEuNDc4NSIgeD0iMTk3LjI2IiB5PSIyNTMuNzMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjEuNDc4NSIgeD0iMjA3LjI2IiB5PSIyNzYuNzI1MSI+Sm91cm5hbEVudHJ5Vmlld01vZGVsPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY2LjkyMzYiIHg9IjIwNy4yNiIgeT0iMjkzLjAyMiI+KCYjMzAwMTE7JiMzODc1NDsmIzI5MzY2OyYjMjQ5MDc7KTwvdGV4dD48L2c+PCEtLWVudGl0eSB1c2VjYXNlLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLi4udXNlY2FzZSIgZGF0YS1zb3VyY2UtbGluZT0iMTQiIGlkPSJlbnQwMDA2Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjUyLjU5MzgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE0Mi45MjMzIiB4PSIyMTYuNTQiIHk9IjQxNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOS4wODExIiB4PSIyMjYuNTQiIHk9IjQzNy45OTUxIj5Kb3VybmFsVXNlQ2FzZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuOTIzMyIgeD0iMjI2LjU0IiB5PSI0NTQuMjkyIj4oJiMxMjQ5OTsmIzEyNDcyOyYjMTI0OTM7JiMxMjQ3MzsmIzEyNTI1OyYjMTI0NzI7JiMxMjQ4MzsmIzEyNDYzOyk8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkdNTjEwIiBkYXRhLXNvdXJjZS1saW5lPSIyMyIgaWQ9ImVudDAwMTEiPjxwYXRoIGQ9Ik00MTEuMjMsNiBMNDExLjIzLDcxLjU0IEwzNzUuNzMsNzUuNTQgTDQxMS4yMyw3OS41NCBMNDExLjIzLDE0NS4wNjI1IEEwLDAgMCAwIDAgNDExLjIzLDE0NS4wNjI1IEw1OTguNzc5OSwxNDUuMDYyNSBBMCwwIDAgMCAwIDU5OC43Nzk5LDE0NS4wNjI1IEw1OTguNzc5OSwxNiBMNTg4Ljc3OTksNiBMNDExLjIzLDYgQTAsMCAwIDAgMCA0MTEuMjMsNiIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTU4OC43Nzk5LDYgTDU4OC43Nzk5LDE2IEw1OTguNzc5OSwxNiBMNTg4Ljc3OTksNiIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEuMDAwMSIgeD0iNDE3LjIzIiB5PSIyMy4wNjY5Ij4mIzM2MDI0OyYjMjA1MTE7JiMxMjQ5NjsmIzEyNTIxOyYjMTI1MzE7JiMxMjQ3MzsmIzEyNDM0OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTcuMDAwMSIgeD0iNDE3LjIzIiB5PSIzOC4xOTk3Ij4mIzEyNTIyOyYjMTI0NTA7JiMxMjUyMzsmIzEyNDc5OyYjMTI0NTI7JiMxMjUxMjsmIzEyMzkxOyYjMzQ5MjA7JiMzMTAzNDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEuMDAwMSIgeD0iNDE3LjIzIiB5PSI1My4zMzI1Ij4mIzE5OTgxOyYjMTk5Njg7JiMzMzI2ODsmIzI2MTc4OyYjMTIzOTk7JiMzNTY4NjsmIzIxNTc4OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDEyLjIzIiB4Mj0iNTk3Ljc3OTkiIHkxPSI1Ni4zOTg0IiB5Mj0iNTYuMzk4NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMi42NDA3IiB4PSI0MTcuMjMiIHk9IjcyLjQ2NTMiPi0gRGF0ZVBpY2tlciAoJiMzNjIxNTsmIzMxMDgwOyYjMjYwODU7KTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzQuNzc5OCIgeD0iNDE3LjIzIiB5PSI4Ny41OTgxIj4tIFRleHRGaWVsZCAoJiMyMDI1MzsmIzMxMDgwOyYjMjU2ODg7JiMzNTIwMTspPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNi4wMDM0IiB4PSI0MTcuMjMiIHk9IjEwMi43MzEiPi0gVGFibGVWaWV3ICgmIzI2MTI2OyYjMzIwNDg7KTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjYuNTQ5OSIgeD0iNDE3LjIzIiB5PSIxMTcuODYzOCI+LSBMYWJlbCAoJiMyMDUxMTsmIzI2MDQxOyYjMjE1MTI7JiMzNTMzNjsvJiMzNjAyNDsmIzI2MDQxOyYjMjE1MTI7JiMzNTMzNjspPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzNi4wMjQiIHg9IjQxNy4yMyIgeT0iMTMyLjk5NjYiPi0gQnV0dG9uICgmIzMwMzMxOyYjMzc2ODI7LyYjMTI0NjM7JiMxMjUyMjsmIzEyNDUwOyk8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkdNTjEzIiBkYXRhLXNvdXJjZS1saW5lPSIzNSIgaWQ9ImVudDAwMTQiPjxwYXRoIGQ9Ik00MTMuOSwyMjIuMDcgTDQxMy45LDMzNy45OTk3IEw1MjYuMTAzMiwzMzcuOTk5NyBMNTI2LjEwMzIsMjMyLjA3IEw1MTYuMTAzMiwyMjIuMDcgTDQxMy45LDIyMi4wNyIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTUxNi4xMDMyLDIyMi4wNyBMNTE2LjEwMzIsMjMyLjA3IEw1MjYuMTAzMiwyMzIuMDcgTDUxNi4xMDMyLDIyMi4wNyIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ3LjgyMzMiIHg9IjQxOS45IiB5PSIyMzkuMTM2OSI+LSAmIzM0ODkyOyYjMzAwNTg7JiMyMTQ5NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEuMjAzMiIgeD0iNDE5LjkiIHk9IjI1NC4yNjk3Ij4tICYjMjA1MTE7JiMyNjA0MTsvJiMzNjAyNDsmIzI2MDQxOyYjMjEzMDY7JiMyMDk5ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjAuODIzMyIgeD0iNDE5LjkiIHk9IjI2OS40MDI1Ij4tICYjMjEyMDg7JiMyMzQ1MDsmIzMxMTg1OyYjMzA0NDY7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYwLjgyMzMiIHg9IjQxOS45IiB5PSIyODQuNTM1MyI+LSAmIzM1MDM2OyYjMjExNjE7JiMzMTE4NTsmIzMwNDQ2OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNC44MjMzIiB4PSI0MTkuOSIgeT0iMjk5LjY2ODEiPi0gJiMzNzA5NjsmIzM4MjcyOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNC44MjMzIiB4PSI0MTkuOSIgeT0iMzE0LjgwMSI+LSAmIzI1Njg4OyYjMzUyMDE7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM0LjgyMzMiIHg9IjQxOS45IiB5PSIzMjkuOTMzOCI+LSAmIzM3MzI5OyYjMzg5ODk7PC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJHTU4xNiIgZGF0YS1zb3VyY2UtbGluZT0iNDUiIGlkPSJlbnQwMDE3Ij48cGF0aCBkPSJNNTYwLjgyLDIyOS42MyBMNTYwLjgyLDMzMC40MjY5IEw3NzUuMTg4NywzMzAuNDI2OSBMNzc1LjE4ODcsMjM5LjYzIEw3NjUuMTg4NywyMjkuNjMgTDU2MC44MiwyMjkuNjMiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik03NjUuMTg4NywyMjkuNjMgTDc2NS4xODg3LDIzOS42MyBMNzc1LjE4ODcsMjM5LjYzIEw3NjUuMTg4NywyMjkuNjMiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NC44NjE4IiB4PSI1NjYuODIiIHk9IjI0Ni42OTY5Ij4tIGpvdXJuYWxEYXRlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjI5MzkiIHg9IjU2Ni44MiIgeT0iMjYxLjgyOTciPi0gc2xpcE51bWJlcjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MC4xNjciIHg9IjU2Ni44MiIgeT0iMjc2Ljk2MjUiPi0gc3VtbWFyeTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTMuMzY4NyIgeD0iNTY2LjgyIiB5PSIyOTIuMDk1MyI+LSBPYnNlcnZhYmxlTGlzdCZsdDtEZXRhaWxSb3cmZ3Q7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1Ny4yNjk1IiB4PSI1NjYuODIiIHk9IjMwNy4yMjgxIj4tIGRlYml0VG90YWwgLyBjcmVkaXRUb3RhbDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OS4zMDc2IiB4PSI1NjYuODIiIHk9IjMyMi4zNjEiPi0gaXNCYWxhbmNlZDwvdGV4dD48L2c+PCEtLWxpbmsgZW50cnkgdG8gdm0tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMyIgZGF0YS1lbnRpdHktMj0iZW50MDAwNSIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjE4IiBpZD0ibG5rNyI+PHBhdGggY29kZUxpbmU9IjE4IiBkPSJNMjg4LDEwMi4xOCBDMjg4LDE0MS4wMyAyODgsMjA4LjM2IDI4OCwyNDcuMjciIGZpbGw9Im5vbmUiIGlkPSJlbnRyeS10by12bSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjg4LDI1My4yNywyOTIsMjQ0LjI3LDI4OCwyNDguMjcsMjg0LDI0NC4yNywyODgsMjUzLjI3IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIuMDAwMSIgeD0iMjg5IiB5PSIxODguMTM2OSI+JiMxMjQ5NjsmIzEyNDUyOyYjMTI1MzE7JiMxMjQ4OTs8L3RleHQ+PC9nPjwhLS1saW5rIGVudHJ5IHRvIGRldGFpbC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAzIiBkYXRhLWVudGl0eS0yPSJlbnQwMDA0IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMTkiIGlkPSJsbms4Ij48cGF0aCBjb2RlTGluZT0iMTkiIGQ9Ik0yNjMuMTgsMTAyLjE4IEMyMjUuNTgsMTQxLjAzIDE1OC43NjI4LDIxMC4wNDg3IDEyMS4xMDI4LDI0OC45NTg3IiBmaWxsPSJub25lIiBpZD0iZW50cnktdG8tZGV0YWlsIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMTYuOTMsMjUzLjI3LDEyNi4wNjM1LDI0OS41ODQ5LDEyMC40MDc0LDI0OS42NzcyLDEyMC4zMTUsMjQ0LjAyMTEsMTE2LjkzLDI1My4yNyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1LjAyNzgiIHg9IjE5MSIgeT0iMTg4LjEzNjkiPmNvbnRhaW5zPC90ZXh0PjwvZz48IS0tbGluayB2bSB0byB1c2VjYXNlLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDUiIGRhdGEtZW50aXR5LTI9ImVudDAwMDYiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIyMCIgaWQ9ImxuazkiPjxwYXRoIGNvZGVMaW5lPSIyMCIgZD0iTTI4OCwzMDYuNjIgQzI4OCwzMzYuMjUgMjg4LDM3OC43OSAyODgsNDA4LjUiIGZpbGw9Im5vbmUiIGlkPSJ2bS10by11c2VjYXNlIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyODgsNDE0LjUsMjkyLDQwNS41LDI4OCw0MDkuNSwyODQsNDA1LjUsMjg4LDQxNC41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjQuMDI4OCIgeD0iMjg5IiB5PSIzODEuMDY2OSI+SW5wdXQgUG9ydDwvdGV4dD48L2c+PCEtLWxpbmsgZGV0YWlsIHRvIEdNTjEzLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDQiIGRhdGEtZW50aXR5LTI9ImVudDAwMTQiIGRhdGEtbGluay10eXBlPSJhc3NvY2lhdGlvbiIgZGF0YS1zb3VyY2UtbGluZT0iMzUiIGlkPSJsbmsxNSI+PHBhdGggZD0iTTExMS41NiwyNTMuMzQgQzEzMC41MywyMjkuOTIgMTYxLjY0LDE5Ny40OSAxOTcuNSwxODMuNTcgQzI3Mi4wOCwxNTQuNjEgMzAzLjkxLDE1Mi4xOCAzNzcuNSwxODMuNTcgQzM5Ni45MiwxOTEuODUgNDE0LjIyLDIwNi40MyA0MjguNDYsMjIxLjc5IiBmaWxsPSJub25lIiBpZD0iZGV0YWlsLUdNTjEzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTo3LDc7Ii8+PC9nPjwhLS1saW5rIHZtIHRvIEdNTjE2LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDUiIGRhdGEtZW50aXR5LTI9ImVudDAwMTciIGRhdGEtbGluay10eXBlPSJhc3NvY2lhdGlvbiIgZGF0YS1zb3VyY2UtbGluZT0iNDUiIGlkPSJsbmsxOCI+PHBhdGggZD0iTTMxMi4zNiwyNTMuMjQgQzMzNS42NywyMjkuNzUgMzczLjE3LDE5Ny4yOCA0MTMuNSwxODMuNTcgQzQ2MS4wNSwxNjcuNCA0NzguNTEsMTY4Ljc2IDUyNi41LDE4My41NyBDNTU2Ljc2LDE5Mi45IDU4Ni4zMywyMTEuMTYgNjEwLjU1LDIyOS4zMSIgZmlsbD0ibm9uZSIgaWQ9InZtLUdNTjE2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTo3LDc7Ii8+PC9nPjw/cGxhbnR1bWwtc3JjIFRMOVRKbkQxNTd0Vk5wNVBOemc3WGRUWlVFMGhxUTBJV3B4dkNqcVR3eWZxZnZjVEJIZlowaGoxUVc1akxSMjhINDVBMm1PbVc1QjBuMXlwdE9fLTItenFJcUU4UDlGRHQ3bGtFVlZVQy1EQ01OTzFTdm43TU1uQ3ZKWHBSTkVPS1NSSFpSNUh6TWJRMEcyUzhxWGxkb183cFFEV2hYd0tyd0FGdnZ0cnBSMm40OU9nRWRnZlFQbU8waml2MmRMdGNDampKNFRqbUx5Q0NfV3BJV2JfUkFTa0t6Q3dtV3VZZ1dSZWhfdWRDNDg0amtXM0RXdEtpRk9zRWx1UFJvbWNGQkNCTktWaVRkdmFhVWN4cDJHS3M0ZEJnRm14ZDVqODE4aHZ3eVdGN0pBQzdHOGl3Ti1HTmFsd0l6OHhiVnZVei1uQnhvMUhTMXJZRzVyTjFlSUlKSkFQR0lMejQtZElocVhsSV9mN3FkLVpOcTl4YXFFNTBUUFdvdFBxM0hXQWtiMDR4QlBUUzBNUU81cGVjY09wR0gydFNheTVPYXlJb3hKdWkxTkNWNUxEXzF0TDEyUnF0Y2xJdHZOVWZsSF9JRXpsal9pdEVUazhEdmhIcmZkTVJZc3JNcEZuXzc2dXdpZFBXdFhsRXdZTWpLbjZvdzBIQkNZNFBLbUhaYkJuaHZFZXRXbV9yVEMwSjlCZE9pbVlyNElmemZ6cmJRX011a3RQQmVJcGIyWUZLVXprTDc4U1BtYjVBUFdpTjNhREFnTXVNSGcwSVZrMWdYYm9YTTBzSWFNaHZ2dDVtbTdtQ3ZhdzNJUVBJRXJ3VFVGNENnMzJ6S1ZCa3k2eDRwV2RGSXhLNXktMnFja0xOUVc1LXYtWkhaTFFzclU0eHItMnlhdV94RlpEcGllQzc5OHJMNlEtc2piT2toUHBDR3lycHRnbDRLbzJvQTVNdVB3UnBuQWswWlVWbnQwUjZOR193bjFVTDl3Q011d3VyTi13V3UyUDk2azlJSU9tSEdGOHVDSmlIRzFQcFgyY3MzUThzUF9YN20wMD8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h3 id="262-journaldetailrowjava">26.2 JournalDetailRow.java<a class="headerlink" href="#262-journaldetailrowjava" title="Permanent link">&para;</a></h3>
<details>
<summary>JournalDetailRow.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.in.javafx.view</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.beans.property.*</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 仕訳明細行の View モデル</span>
<span class="cm"> */</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">JournalDetailRow</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">IntegerProperty</span><span class="w"> </span><span class="n">lineNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleIntegerProperty</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">debitCreditType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">accountCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">accountName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">subAccountCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">departmentCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">lineSummary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">BigDecimal</span><span class="o">&gt;</span><span class="w"> </span><span class="n">amount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleObjectProperty</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">taxType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// ========== コンストラクタ ==========</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">JournalDetailRow</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">amount</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">JournalDetailRow</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">lineNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">();</span>
<span class="w">        </span><span class="n">setLineNumber</span><span class="p">(</span><span class="n">lineNumber</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ========== Property アクセサ ==========</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">IntegerProperty</span><span class="w"> </span><span class="nf">lineNumberProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">lineNumber</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">debitCreditTypeProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">debitCreditType</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">accountCodeProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">accountCode</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">accountNameProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">accountName</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">subAccountCodeProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">subAccountCode</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">departmentCodeProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">departmentCode</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">lineSummaryProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">lineSummary</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">BigDecimal</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">amountProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">amount</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">taxTypeProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">taxType</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ========== Getter/Setter ==========</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getLineNumber</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">lineNumber</span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setLineNumber</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">lineNumber</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getDebitCreditType</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">debitCreditType</span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setDebitCreditType</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">debitCreditType</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getAccountCode</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">accountCode</span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setAccountCode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">accountCode</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getAccountName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">accountName</span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setAccountName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">accountName</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getSubAccountCode</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">subAccountCode</span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setSubAccountCode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">subAccountCode</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getDepartmentCode</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">departmentCode</span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setDepartmentCode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">departmentCode</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getLineSummary</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">lineSummary</span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setLineSummary</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">lineSummary</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="nf">getAmount</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">amount</span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setAmount</span><span class="p">(</span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">amount</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getTaxType</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">taxType</span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setTaxType</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">taxType</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 借方かどうか</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isDebit</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;借方&quot;</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">getDebitCreditType</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 貸方かどうか</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isCredit</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;貸方&quot;</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">getDebitCreditType</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="263-journalentryviewmodeljava">26.3 JournalEntryViewModel.java<a class="headerlink" href="#263-journalentryviewmodeljava" title="Permanent link">&para;</a></h3>
<details>
<summary>JournalEntryViewModel.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.in.javafx.viewmodel</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.application.port.in.JournalUseCase</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.application.port.in.AccountUseCase</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.application.port.in.command.CreateJournalCommand</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.domain.model.journal.Journal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.in.javafx.view.JournalDetailRow</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.beans.property.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.collections.FXCollections</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.collections.ListChangeListener</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">javafx.collections.ObservableList</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Component</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.stream.Collectors</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 仕訳入力画面の ViewModel</span>
<span class="cm"> */</span>
<span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">JournalEntryViewModel</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">JournalUseCase</span><span class="w"> </span><span class="n">journalUseCase</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">AccountUseCase</span><span class="w"> </span><span class="n">accountUseCase</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// ヘッダー情報</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">LocalDate</span><span class="o">&gt;</span><span class="w"> </span><span class="n">journalDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleObjectProperty</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">());</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">slipNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">summary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">BooleanProperty</span><span class="w"> </span><span class="n">closingJournal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleBooleanProperty</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// 明細</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ObservableList</span><span class="o">&lt;</span><span class="n">JournalDetailRow</span><span class="o">&gt;</span><span class="w"> </span><span class="n">details</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FXCollections</span><span class="p">.</span><span class="na">observableArrayList</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// 合計</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">BigDecimal</span><span class="o">&gt;</span><span class="w"> </span><span class="n">debitTotal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleObjectProperty</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">);</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">BigDecimal</span><span class="o">&gt;</span><span class="w"> </span><span class="n">creditTotal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleObjectProperty</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">);</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">BigDecimal</span><span class="o">&gt;</span><span class="w"> </span><span class="n">difference</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleObjectProperty</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">);</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">BooleanProperty</span><span class="w"> </span><span class="n">balanced</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleBooleanProperty</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// 状態</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">BooleanProperty</span><span class="w"> </span><span class="n">loading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleBooleanProperty</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="n">errorMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleStringProperty</span><span class="p">();</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">JournalEntryViewModel</span><span class="p">(</span><span class="n">JournalUseCase</span><span class="w"> </span><span class="n">journalUseCase</span><span class="p">,</span>
<span class="w">                                  </span><span class="n">AccountUseCase</span><span class="w"> </span><span class="n">accountUseCase</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">journalUseCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">journalUseCase</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">accountUseCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">accountUseCase</span><span class="p">;</span>

<span class="w">        </span><span class="n">setupListeners</span><span class="p">();</span>
<span class="w">        </span><span class="n">initializeDetails</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setupListeners</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 明細変更時に合計を再計算</span>
<span class="w">        </span><span class="n">details</span><span class="p">.</span><span class="na">addListener</span><span class="p">((</span><span class="n">ListChangeListener</span><span class="o">&lt;</span><span class="n">JournalDetailRow</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">calculateTotals</span><span class="p">();</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">initializeDetails</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 初期明細行を追加（借方1行、貸方1行）</span>
<span class="w">        </span><span class="n">addLine</span><span class="p">(</span><span class="s">&quot;借方&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">addLine</span><span class="p">(</span><span class="s">&quot;貸方&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ========== データ操作 ==========</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 明細行を追加</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addLine</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">debitCreditType</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">JournalDetailRow</span><span class="w"> </span><span class="n">row</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JournalDetailRow</span><span class="p">(</span><span class="n">details</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">        </span><span class="n">row</span><span class="p">.</span><span class="na">setDebitCreditType</span><span class="p">(</span><span class="n">debitCreditType</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// 金額変更時に合計を再計算</span>
<span class="w">        </span><span class="n">row</span><span class="p">.</span><span class="na">amountProperty</span><span class="p">().</span><span class="na">addListener</span><span class="p">((</span><span class="n">obs</span><span class="p">,</span><span class="w"> </span><span class="n">oldVal</span><span class="p">,</span><span class="w"> </span><span class="n">newVal</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">calculateTotals</span><span class="p">());</span>
<span class="w">        </span><span class="n">row</span><span class="p">.</span><span class="na">debitCreditTypeProperty</span><span class="p">().</span><span class="na">addListener</span><span class="p">((</span><span class="n">obs</span><span class="p">,</span><span class="w"> </span><span class="n">oldVal</span><span class="p">,</span><span class="w"> </span><span class="n">newVal</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">calculateTotals</span><span class="p">());</span>

<span class="w">        </span><span class="n">details</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">row</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 明細行を削除</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">removeLine</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">details</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">details</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">details</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="n">index</span><span class="p">);</span>
<span class="w">            </span><span class="c1">// 行番号を振り直し</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">details</span><span class="p">.</span><span class="na">size</span><span class="p">();</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">details</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">i</span><span class="p">).</span><span class="na">setLineNumber</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 合計を計算</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">calculateTotals</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">debit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">details</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">JournalDetailRow</span><span class="p">::</span><span class="n">isDebit</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">row</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">row</span><span class="p">.</span><span class="na">getAmount</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">row</span><span class="p">.</span><span class="na">getAmount</span><span class="p">()</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">reduce</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">,</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">::</span><span class="n">add</span><span class="p">);</span>

<span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">credit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">details</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">JournalDetailRow</span><span class="p">::</span><span class="n">isCredit</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">row</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">row</span><span class="p">.</span><span class="na">getAmount</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">row</span><span class="p">.</span><span class="na">getAmount</span><span class="p">()</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">reduce</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">,</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">::</span><span class="n">add</span><span class="p">);</span>

<span class="w">        </span><span class="n">debitTotal</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">debit</span><span class="p">);</span>
<span class="w">        </span><span class="n">creditTotal</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">credit</span><span class="p">);</span>
<span class="w">        </span><span class="n">difference</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">debit</span><span class="p">.</span><span class="na">subtract</span><span class="p">(</span><span class="n">credit</span><span class="p">).</span><span class="na">abs</span><span class="p">());</span>
<span class="w">        </span><span class="n">balanced</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">debit</span><span class="p">.</span><span class="na">compareTo</span><span class="p">(</span><span class="n">credit</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 勘定科目コードから勘定科目名を取得</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">lookupAccountName</span><span class="p">(</span><span class="n">JournalDetailRow</span><span class="w"> </span><span class="n">row</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">row</span><span class="p">.</span><span class="na">getAccountCode</span><span class="p">();</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">code</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">code</span><span class="p">.</span><span class="na">isBlank</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="kd">var</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">accountUseCase</span><span class="p">.</span><span class="na">findByCode</span><span class="p">(</span><span class="n">code</span><span class="p">);</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">account</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">row</span><span class="p">.</span><span class="na">setAccountName</span><span class="p">(</span><span class="n">account</span><span class="p">.</span><span class="na">getAccountName</span><span class="p">());</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">row</span><span class="p">.</span><span class="na">setAccountName</span><span class="p">(</span><span class="s">&quot;（該当なし）&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 仕訳を登録</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Journal</span><span class="w"> </span><span class="nf">save</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">loading</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">        </span><span class="n">errorMessage</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// バランスチェック</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">balanced</span><span class="p">.</span><span class="na">get</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalStateException</span><span class="p">(</span><span class="s">&quot;借方合計と貸方合計が一致しません&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="c1">// コマンドを構築</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CreateJournalCommand</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">journalDate</span><span class="p">(</span><span class="n">journalDate</span><span class="p">.</span><span class="na">get</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">summary</span><span class="p">(</span><span class="n">summary</span><span class="p">.</span><span class="na">get</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">closingJournal</span><span class="p">(</span><span class="n">closingJournal</span><span class="p">.</span><span class="na">get</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">details</span><span class="p">(</span><span class="n">details</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">d</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="na">getAccountCode</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">d</span><span class="p">.</span><span class="na">getAccountCode</span><span class="p">().</span><span class="na">isBlank</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">d</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">CreateJournalCommand</span><span class="p">.</span><span class="na">DetailCommand</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                        </span><span class="p">.</span><span class="na">lineNumber</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="na">getLineNumber</span><span class="p">())</span>
<span class="w">                        </span><span class="p">.</span><span class="na">debitCreditType</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="na">getDebitCreditType</span><span class="p">())</span>
<span class="w">                        </span><span class="p">.</span><span class="na">accountCode</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="na">getAccountCode</span><span class="p">())</span>
<span class="w">                        </span><span class="p">.</span><span class="na">subAccountCode</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="na">getSubAccountCode</span><span class="p">())</span>
<span class="w">                        </span><span class="p">.</span><span class="na">departmentCode</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="na">getDepartmentCode</span><span class="p">())</span>
<span class="w">                        </span><span class="p">.</span><span class="na">lineSummary</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="na">getLineSummary</span><span class="p">())</span>
<span class="w">                        </span><span class="p">.</span><span class="na">amount</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="na">getAmount</span><span class="p">())</span>
<span class="w">                        </span><span class="p">.</span><span class="na">taxType</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="na">getTaxType</span><span class="p">())</span>
<span class="w">                        </span><span class="p">.</span><span class="na">build</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toList</span><span class="p">()))</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">            </span><span class="n">Journal</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">journalUseCase</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">command</span><span class="p">);</span>
<span class="w">            </span><span class="n">slipNumber</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">created</span><span class="p">.</span><span class="na">getSlipNumber</span><span class="p">());</span>

<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">created</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">errorMessage</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&quot;登録エラー: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="n">e</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">loading</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 入力をクリア</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">clear</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">journalDate</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">());</span>
<span class="w">        </span><span class="n">slipNumber</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">        </span><span class="n">summary</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">        </span><span class="n">closingJournal</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">        </span><span class="n">details</span><span class="p">.</span><span class="na">clear</span><span class="p">();</span>
<span class="w">        </span><span class="n">initializeDetails</span><span class="p">();</span>
<span class="w">        </span><span class="n">errorMessage</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ========== Property アクセサ ==========</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">LocalDate</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">journalDateProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">journalDate</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">slipNumberProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">slipNumber</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">summaryProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">summary</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BooleanProperty</span><span class="w"> </span><span class="nf">closingJournalProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">closingJournal</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ObservableList</span><span class="o">&lt;</span><span class="n">JournalDetailRow</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getDetails</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">details</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">BigDecimal</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">debitTotalProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">debitTotal</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">BigDecimal</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">creditTotalProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">creditTotal</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ObjectProperty</span><span class="o">&lt;</span><span class="n">BigDecimal</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">differenceProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">difference</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BooleanProperty</span><span class="w"> </span><span class="nf">balancedProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">balanced</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BooleanProperty</span><span class="w"> </span><span class="nf">loadingProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">loading</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">StringProperty</span><span class="w"> </span><span class="nf">errorMessageProperty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">errorMessage</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="27">第27章：帳票出力画面の実装<a class="headerlink" href="#27" title="Permanent link">&para;</a></h2>
<h3 id="271">27.1 帳票出力機能の概要<a class="headerlink" href="#271" title="Permanent link">&para;</a></h3>
<p>帳票出力画面では、日計表、合計残高試算表、財務諸表を PDF または Excel で出力します。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjM5M3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NjA2cHg7aGVpZ2h0OjM5M3B4O2JhY2tncm91bmQ6I0ZFRkVGRTsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDYwNiAzOTMiIHdpZHRoPSI2MDZweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjxyZWN0IGZpbGw9IiNGRUZFRkUiIGhlaWdodD0iMzkzIiBzdHlsZT0ic3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNjA2IiB4PSIwIiB5PSIwIi8+PCEtLWNsdXN0ZXIgPz8/Py0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIzIiBpZD0iZW50MDAwMiI+PHBhdGggZD0iTTguNSw3LjI1IEw2NS40OTk4LDcuMjUgQTMuNzUsMy43NSAwIDAgMSA2Ny45OTk4LDkuNzUgTDc0Ljk5OTgsMjkuNTQ2OSBMMjg4LjUsMjkuNTQ2OSBBMi41LDIuNSAwIDAgMSAyOTEsMzIuMDQ2OSBMMjkxLDM4My41NCBBMi41LDIuNSAwIDAgMSAyODguNSwzODYuMDQgTDguNSwzODYuMDQgQTIuNSwyLjUgMCAwIDEgNiwzODMuNTQgTDYsOS43NSBBMi41LDIuNSAwIDAgMSA4LjUsNy4yNSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNiIgeDI9Ijc0Ljk5OTgiIHkxPSIyOS41NDY5IiB5Mj0iMjkuNTQ2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxMCIgeT0iMjIuMjQ1MSI+JiMyNDExNTsmIzMxMDgwOyYjMjA5ODY7JiMyMTE0Nzs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgc2NyZWVuLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi5zY3JlZW4iIGRhdGEtc291cmNlLWxpbmU9IjQiIGlkPSJlbnQwMDAzIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjM2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEwMy45OTk2IiB4PSIxNjQiIHk9IjQyLjI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMTc0IiB5PSI2NS4yNDUxIj4mIzI0MTE1OyYjMzEwODA7JiMyMDk4NjsmIzIxMTQ3OyYjMzAwMTE7JiMzODc1NDs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgZ2VuZXJhdG9yLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi5nZW5lcmF0b3IiIGRhdGEtc291cmNlLWxpbmU9IjciIGlkPSJlbnQwMDA0Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjM2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEzOC4xMzE4IiB4PSIxMzYuOTMiIHk9IjIwMS4zNCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExOC4xMzE4IiB4PSIxNDYuOTMiIHk9IjIyNC4zMzUxIj5SZXBvcnRHZW5lcmF0b3I8L3RleHQ+PC9nPjwhLS1lbnRpdHkgamFzcGVyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi5qYXNwZXIiIGRhdGEtc291cmNlLWxpbmU9IjEwIiBpZD0iZW50MDAwNSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzNi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMTcuNTg5OCIgeD0iMjIuMjEiIHk9IjMzMy43NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3LjU4OTgiIHg9IjMyLjIxIiB5PSIzNTYuNzM1MSI+SmFzcGVyUmVwb3J0czwvdGV4dD48L2c+PCEtLWVudGl0eSBwb2ktLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLnBvaSIgZGF0YS1zb3VyY2UtbGluZT0iMTMiIGlkPSJlbnQwMDA2Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjM2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEwMC4yNjc2IiB4PSIxNzQuODciIHk9IjMzMy43NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgwLjI2NzYiIHg9IjE4NC44NyIgeT0iMzU2LjczNTEiPkFwYWNoZSBQT0k8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkdNTjEwIiBkYXRhLXNvdXJjZS1saW5lPSIyMiIgaWQ9ImVudDAwMTEiPjxwYXRoIGQ9Ik0zMDcuMDksNiBMMzA3LjA5LDU2LjQgTDI2OC4zOSw2MC40IEwzMDcuMDksNjQuNCBMMzA3LjA5LDExNC43OTY5IEEwLDAgMCAwIDAgMzA3LjA5LDExNC43OTY5IEw0MTQuOTEzMywxMTQuNzk2OSBBMCwwIDAgMCAwIDQxNC45MTMzLDExNC43OTY5IEw0MTQuOTEzMywxNiBMNDA0LjkxMzMsNiBMMzA3LjA5LDYgQTAsMCAwIDAgMCAzMDcuMDksNiIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTQwNC45MTMzLDYgTDQwNC45MTMzLDE2IEw0MTQuOTEzMywxNiBMNDA0LjkxMzMsNiIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODYuODIzMyIgeD0iMzEzLjA5IiB5PSIyMy4wNjY5Ij4tICYjMjA5ODY7JiMyMTE0NzsmIzIzNTUwOyYjMzU5Mzc7JiMzNjk4NDsmIzI1MjQ2OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2MC44MjMzIiB4PSIzMTMuMDkiIHk9IjM4LjE5OTciPi0gJiMyNjM5OTsmIzM4MjkxOyYjMjUzNTE7JiMyMzQ1MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODYuODIzMyIgeD0iMzEzLjA5IiB5PSI1My4zMzI1Ij4tICYjMjA5ODY7JiMyMTE0NzsmIzI0NDE4OyYjMjQzMzU7JiMzNjk4NDsmIzI1MjQ2OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzA4LjA5IiB4Mj0iNDEzLjkxMzMiIHkxPSI1Ni4zOTg0IiB5Mj0iNTYuMzk4NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc1LjE0MzYiIHg9IjMxMy4wOSIgeT0iNzIuNDY1MyI+JiMxMjUwMzsmIzEyNTI0OyYjMTI0OTk7JiMxMjUxNzsmIzEyNTQwOygpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYxLjQ3MDciIHg9IjMxMy4wOSIgeT0iODcuNTk4MSI+UERGJiMyMDk4NjsmIzIxMTQ3OygpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcwLjgwODEiIHg9IjMxMy4wOSIgeT0iMTAyLjczMSI+RXhjZWwmIzIwOTg2OyYjMjExNDc7KCk8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkdNTjEzIiBkYXRhLXNvdXJjZS1saW5lPSIzMiIgaWQ9ImVudDAwMTQiPjxwYXRoIGQ9Ik0zMDkuOTQsMTkxLjc5IEwzMDkuOTQsMjE1LjQ5IEwyNzUuMjUsMjE5LjQ5IEwzMDkuOTQsMjIzLjQ5IEwzMDkuOTQsMjQ3LjE4ODQgQTAsMCAwIDAgMCAzMDkuOTQsMjQ3LjE4ODQgTDU0OC4wNTUyLDI0Ny4xODg0IEEwLDAgMCAwIDAgNTQ4LjA1NTIsMjQ3LjE4ODQgTDU0OC4wNTUyLDIwMS43OSBMNTM4LjA1NTIsMTkxLjc5IEwzMDkuOTQsMTkxLjc5IEEwLDAgMCAwIDAgMzA5Ljk0LDE5MS43OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTUzOC4wNTUyLDE5MS43OSBMNTM4LjA1NTIsMjAxLjc5IEw1NDguMDU1MiwyMDEuNzkgTDUzOC4wNTUyLDE5MS43OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTYwLjYzMzgiIHg9IjMxNS45NCIgeT0iMjA4Ljg1NjkiPisgZ2VuZXJhdGVEYWlseVJlcG9ydCgpPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2NC4zODUzIiB4PSIzMTUuOTQiIHk9IjIyMy45ODk3Ij4rIGdlbmVyYXRlVHJpYWxCYWxhbmNlKCk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjE3LjExNTIiIHg9IjMxNS45NCIgeT0iMjM5LjEyMjUiPisgZ2VuZXJhdGVGaW5hbmNpYWxTdGF0ZW1lbnRzKCk8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkdNTjE2IiBkYXRhLXNvdXJjZS1saW5lPSIzOCIgaWQ9ImVudDAwMTciPjxwYXRoIGQ9Ik0zMTAuNDksMzI0LjE5IEwzMTAuNDksMzc5LjU4ODQgTDQzNy41MTUsMzc5LjU4ODQgTDQzNy41MTUsMzM0LjE5IEw0MjcuNTE1LDMyNC4xOSBMMzEwLjQ5LDMyNC4xOSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTQyNy41MTUsMzI0LjE5IEw0MjcuNTE1LDMzNC4xOSBMNDM3LjUxNSwzMzQuMTkgTDQyNy41MTUsMzI0LjE5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODAuMDI1IiB4PSIzMTYuNDkiIHk9IjM0MS4yNTY5Ij4rICYjMTI0Njc7JiMxMjUzMTsmIzEyNDk3OyYjMTI0NTI7JiMxMjUyMzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA2LjAyNSIgeD0iMzE2LjQ5IiB5PSIzNTYuMzg5NyI+KyAmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsmIzIyNDc1OyYjMTI0MTc7JiMzNjc5NjsmIzEyNDE1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2Ni4zNTIxIiB4PSIzMTYuNDkiIHk9IjM3MS41MjI1Ij4rIFBERiYjMjk5ODM7JiMyNTEwNDs8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkdNTjE5IiBkYXRhLXNvdXJjZS1saW5lPSI0NCIgaWQ9ImVudDAwMjAiPjxwYXRoIGQ9Ik00NzIuMywzMjQuMTkgTDQ3Mi4zLDM3OS41ODg0IEw1OTkuNjkzMSwzNzkuNTg4NCBMNTk5LjY5MzEsMzM0LjE5IEw1ODkuNjkzMSwzMjQuMTkgTDQ3Mi4zLDMyNC4xOSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTU4OS42OTMxLDMyNC4xOSBMNTg5LjY5MzEsMzM0LjE5IEw1OTkuNjkzMSwzMzQuMTkgTDU4OS42OTMxLDMyNC4xOSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNi4zOTMxIiB4PSI0NzguMyIgeT0iMzQxLjI1NjkiPisgV29ya2Jvb2smIzIwMzE2OyYjMjUxMDQ7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgwLjAyNSIgeD0iNDc4LjMiIHk9IjM1Ni4zODk3Ij4rICYjMTI0NzE7JiMxMjU0MDsmIzEyNDg4OyYjMjAzMTY7JiMyNTEwNDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTMuMDI1IiB4PSI0NzguMyIgeT0iMzcxLjUyMjUiPisgJiMxMjQ3NTsmIzEyNTIzOyYjMjYzNjA7JiMxMjM2NTsmIzM2Nzk2OyYjMTI0MTU7PC90ZXh0PjwvZz48IS0tbGluayBzY3JlZW4gdG8gZ2VuZXJhdG9yLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDMiIGRhdGEtZW50aXR5LTI9ImVudDAwMDQiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIxNyIgaWQ9ImxuazciPjxwYXRoIGNvZGVMaW5lPSIxNyIgZD0iTTIxNC44OSw3OC44MSBDMjEyLjk3LDEwOS4wMSAyMDkuNDIyLDE2NC43NjIyIDIwNy40OTIsMTk1LjAxMjIiIGZpbGw9Im5vbmUiIGlkPSJzY3JlZW4tdG8tZ2VuZXJhdG9yIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMDcuMTEsMjAxLDIxMS42NzQ5LDE5Mi4yNzMsMjA3LjQyODQsMTk2LjAxMDEsMjAzLjY5MTIsMTkxLjc2MzYsMjA3LjExLDIwMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyLjAwMDEiIHg9IjIxMS40IiB5PSIxNTcuODU2OSI+JiMyOTk4MzsmIzI1MTA0OyYjMjAzODE7JiMzODk3Mjs8L3RleHQ+PC9nPjwhLS1saW5rIGdlbmVyYXRvciB0byBqYXNwZXItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNCIgZGF0YS1lbnRpdHktMj0iZW50MDAwNSIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjE4IiBpZD0ibG5rOCI+PHBhdGggY29kZUxpbmU9IjE4IiBkPSJNMTg5LjE0LDIzOC4wOCBDMTY1LjE1LDI2My4xMSAxMjUuNTgyLDMwNC4zNzg2IDEwMS43NDIsMzI5LjI0ODYiIGZpbGw9Im5vbmUiIGlkPSJnZW5lcmF0b3ItdG8tamFzcGVyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI5Ny41OSwzMzMuNTgsMTA2LjcwNTYsMzI5Ljg1MDksMTAxLjA1LDMyOS45NzA1LDEwMC45MzA0LDMyNC4zMTQ5LDk3LjU5LDMzMy41OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUxLjMyNzIiIHg9IjE1MS45OCIgeT0iMjkwLjI1NjkiPlBERiYjMjk5ODM7JiMyNTEwNDs8L3RleHQ+PC9nPjwhLS1saW5rIGdlbmVyYXRvciB0byBwb2ktLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNCIgZGF0YS1lbnRpdHktMj0iZW50MDAwNiIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjE5IiBpZD0ibG5rOSI+PHBhdGggY29kZUxpbmU9IjE5IiBkPSJNMjA4LjU2LDIzOC4wOCBDMjEyLjIxLDI2My4xMSAyMTcuOTgzNCwzMDIuNzcyOSAyMjEuNjEzNCwzMjcuNjQyOSIgZmlsbD0ibm9uZSIgaWQ9ImdlbmVyYXRvci10by1wb2kiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIyMi40OCwzMzMuNTgsMjI1LjEzODIsMzI0LjA5NjYsMjIxLjc1NzksMzI4LjYzMjQsMjE3LjIyMjEsMzI1LjI1MjEsMjIyLjQ4LDMzMy41OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYwLjY2NDYiIHg9IjIxNy42NCIgeT0iMjkwLjI1NjkiPkV4Y2VsJiMyOTk4MzsmIzI1MTA0OzwvdGV4dD48L2c+PCEtLWxpbmsgamFzcGVyIHRvIEdNTjE2LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDUiIGRhdGEtZW50aXR5LTI9ImVudDAwMTciIGRhdGEtbGluay10eXBlPSJhc3NvY2lhdGlvbiIgZGF0YS1zb3VyY2UtbGluZT0iMzgiIGlkPSJsbmsxOCI+PHBhdGggZD0iTTk5LjQ2LDMzMy40NyBDMTE3LjA0LDMxNy4zNCAxNDUuMTIsMjk1LjA0IDE3NC41LDI4NS42OSBDMjE2LjQzLDI3Mi4zNSAyMzEuMzUsMjczLjA2IDI3My41LDI4NS42OSBDMjk4LjcyLDI5My4yNSAzMjMuNDYsMzA5LjQxIDM0Mi4wOCwzMjMuODYiIGZpbGw9Im5vbmUiIGlkPSJqYXNwZXItR01OMTYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjcsNzsiLz48L2c+PCEtLWxpbmsgcG9pIHRvIEdNTjE5LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDYiIGRhdGEtZW50aXR5LTI9ImVudDAwMjAiIGRhdGEtbGluay10eXBlPSJhc3NvY2lhdGlvbiIgZGF0YS1zb3VyY2UtbGluZT0iNDQiIGlkPSJsbmsyMSI+PHBhdGggZD0iTTI0MS41NywzMzMuNTEgQzI1Ny40MywzMTcuMzkgMjgyLjk3LDI5NS4xMSAzMTAuNSwyODUuNjkgQzM2My45MSwyNjcuNDMgMzgzLjUxLDI2OS4yMyA0MzcuNSwyODUuNjkgQzQ2Mi4zMywyOTMuMjYgNDg2LjU4LDMwOS40MiA1MDQuODEsMzIzLjg3IiBmaWxsPSJub25lIiBpZD0icG9pLUdNTjE5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTo3LDc7Ii8+PC9nPjw/cGxhbnR1bWwtc3JjIFZQM0JJaUQwNThSdHluSDN0MlpJNXQwWFVBbGVIYjcxekhaNzYxamRtWUkyOFl4UU1MSXllQThlVUFpTTJ1QVlZMGtCemw4bXF3SmpNdFlJRDZzakE5ZDVwNy0tU191X25xY1BwMlEyaEVDYmVnU0NtSlZPeVhZdGtDMXpvT2RXR3lZNjBaNGVyaHBZVXh0bXc2S19sUnFoM015WkdOTU5DQ0ZnQVRORmxmZXRVR3FKMXBrd2U5RzFrZUV3d0piZ1MtNUVLYU81U1JhOEtJRC1fUUFkWU1ESjRWS3U4UmlNQWhfMDRLWXdJbDdpcDVIOHNUbUM0TzFRRUhBOXVJd1Y4UXBMcHRCLXhkNmpTakV5QXNjZUttaDBiV2JHaS1GOTJFbjUwV1VlSnNwZ3I4ZTluQlhCaUoyRExIVnBiVE82SzA5N2tfNVVBdXN0LXNRd3dFX1RXa1hWdnZoZGZfdjFyZGt2eDMzYmw1U3dZZmE0S2w5Mm9NU2JKdktpQTVkZzdxMEdBNEJYN2ZndE52R2p1bzEwUnVuc1JaR090LWF1Q1FzalFBdEdzVDROWDRjaUtNOEhmakNWWFFKOUc4RllsMGtsVFNmU3ZuX0JRN19HaFpCbElpOHZLUGE3OVB5MkhNUlhIckljd2tOc0xJUlRnOUhLa1dmd1V6NV8zZU1EMHhWOEhNZzl5cklqVjF0MFdTTDdDNTNrVFliVnVFTFY1TE53aTNLX2RsYUQ/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="272-reportexporterjava">27.2 ReportExporter.java（帳票出力ユーティリティ）<a class="headerlink" href="#272-reportexporterjava" title="Permanent link">&para;</a></h3>
<details>
<summary>ReportExporter.java</summary>

<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.accounting.infrastructure.in.javafx.util</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.application.dto.DailyBalanceDto</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.accounting.application.dto.TrialBalanceDto</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">net.sf.jasperreports.engine.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">net.sf.jasperreports.engine.data.JRBeanCollectionDataSource</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.poi.ss.usermodel.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.poi.ss.util.CellRangeAddress</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.poi.xssf.usermodel.XSSFWorkbook</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.core.io.ClassPathResource</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Component</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.io.File</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.io.FileOutputStream</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.io.InputStream</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.text.NumberFormat</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.format.DateTimeFormatter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.HashMap</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Locale</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 帳票出力ユーティリティ</span>
<span class="cm"> */</span>
<span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ReportExporter</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">NumberFormat</span><span class="w"> </span><span class="n">CURRENCY_FORMAT</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">NumberFormat</span><span class="p">.</span><span class="na">getCurrencyInstance</span><span class="p">(</span><span class="n">Locale</span><span class="p">.</span><span class="na">JAPAN</span><span class="p">);</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">DateTimeFormatter</span><span class="w"> </span><span class="n">DATE_FORMATTER</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">DateTimeFormatter</span><span class="p">.</span><span class="na">ofPattern</span><span class="p">(</span><span class="s">&quot;yyyy年MM月dd日&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// ========== PDF 出力 ==========</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 日計表を PDF 出力</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">exportDailyReportToPdf</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">DailyBalanceDto</span><span class="o">&gt;</span><span class="w"> </span><span class="n">data</span><span class="p">,</span>
<span class="w">                                        </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">targetDate</span><span class="p">,</span>
<span class="w">                                        </span><span class="n">File</span><span class="w"> </span><span class="n">outputFile</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// JasperReports テンプレートをロード</span>
<span class="w">        </span><span class="n">InputStream</span><span class="w"> </span><span class="n">templateStream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ClassPathResource</span><span class="p">(</span>
<span class="w">            </span><span class="s">&quot;reports/daily_report.jrxml&quot;</span>
<span class="w">        </span><span class="p">).</span><span class="na">getInputStream</span><span class="p">();</span>
<span class="w">        </span><span class="n">JasperReport</span><span class="w"> </span><span class="n">report</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JasperCompileManager</span><span class="p">.</span><span class="na">compileReport</span><span class="p">(</span><span class="n">templateStream</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// パラメータ設定</span>
<span class="w">        </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">parameters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">        </span><span class="n">parameters</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;reportDate&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">targetDate</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="n">DATE_FORMATTER</span><span class="p">));</span>
<span class="w">        </span><span class="n">parameters</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;companyName&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;D社&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// データソース作成</span>
<span class="w">        </span><span class="n">JRBeanCollectionDataSource</span><span class="w"> </span><span class="n">dataSource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JRBeanCollectionDataSource</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// レポート生成</span>
<span class="w">        </span><span class="n">JasperPrint</span><span class="w"> </span><span class="n">print</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JasperFillManager</span><span class="p">.</span><span class="na">fillReport</span><span class="p">(</span><span class="n">report</span><span class="p">,</span><span class="w"> </span><span class="n">parameters</span><span class="p">,</span><span class="w"> </span><span class="n">dataSource</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// PDF 出力</span>
<span class="w">        </span><span class="n">JasperExportManager</span><span class="p">.</span><span class="na">exportReportToPdfFile</span><span class="p">(</span><span class="n">print</span><span class="p">,</span><span class="w"> </span><span class="n">outputFile</span><span class="p">.</span><span class="na">getAbsolutePath</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ========== Excel 出力 ==========</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 日計表を Excel 出力</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">exportDailyReportToExcel</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">DailyBalanceDto</span><span class="o">&gt;</span><span class="w"> </span><span class="n">data</span><span class="p">,</span>
<span class="w">                                          </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">targetDate</span><span class="p">,</span>
<span class="w">                                          </span><span class="n">File</span><span class="w"> </span><span class="n">outputFile</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">(</span><span class="n">Workbook</span><span class="w"> </span><span class="n">workbook</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">XSSFWorkbook</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Sheet</span><span class="w"> </span><span class="n">sheet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workbook</span><span class="p">.</span><span class="na">createSheet</span><span class="p">(</span><span class="s">&quot;日計表&quot;</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// スタイル作成</span>
<span class="w">            </span><span class="n">CellStyle</span><span class="w"> </span><span class="n">headerStyle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createHeaderStyle</span><span class="p">(</span><span class="n">workbook</span><span class="p">);</span>
<span class="w">            </span><span class="n">CellStyle</span><span class="w"> </span><span class="n">currencyStyle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createCurrencyStyle</span><span class="p">(</span><span class="n">workbook</span><span class="p">);</span>

<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">rowIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="w">            </span><span class="c1">// タイトル</span>
<span class="w">            </span><span class="n">Row</span><span class="w"> </span><span class="n">titleRow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sheet</span><span class="p">.</span><span class="na">createRow</span><span class="p">(</span><span class="n">rowIndex</span><span class="o">++</span><span class="p">);</span>
<span class="w">            </span><span class="n">Cell</span><span class="w"> </span><span class="n">titleCell</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">titleRow</span><span class="p">.</span><span class="na">createCell</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w">            </span><span class="n">titleCell</span><span class="p">.</span><span class="na">setCellValue</span><span class="p">(</span><span class="s">&quot;日 計 表&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">sheet</span><span class="p">.</span><span class="na">addMergedRegion</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">CellRangeAddress</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">));</span>

<span class="w">            </span><span class="c1">// 日付</span>
<span class="w">            </span><span class="n">Row</span><span class="w"> </span><span class="n">dateRow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sheet</span><span class="p">.</span><span class="na">createRow</span><span class="p">(</span><span class="n">rowIndex</span><span class="o">++</span><span class="p">);</span>
<span class="w">            </span><span class="n">dateRow</span><span class="p">.</span><span class="na">createCell</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="na">setCellValue</span><span class="p">(</span><span class="s">&quot;対象日: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">targetDate</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="n">DATE_FORMATTER</span><span class="p">));</span>

<span class="w">            </span><span class="n">rowIndex</span><span class="o">++</span><span class="p">;</span><span class="w"> </span><span class="c1">// 空行</span>

<span class="w">            </span><span class="c1">// ヘッダー</span>
<span class="w">            </span><span class="n">Row</span><span class="w"> </span><span class="n">headerRow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sheet</span><span class="p">.</span><span class="na">createRow</span><span class="p">(</span><span class="n">rowIndex</span><span class="o">++</span><span class="p">);</span>
<span class="w">            </span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s">&quot;勘定科目コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;勘定科目名&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;前日残高&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;借方金額&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;貸方金額&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;当日残高&quot;</span><span class="p">};</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">headers</span><span class="p">.</span><span class="na">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">Cell</span><span class="w"> </span><span class="n">cell</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">headerRow</span><span class="p">.</span><span class="na">createCell</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="w">                </span><span class="n">cell</span><span class="p">.</span><span class="na">setCellValue</span><span class="p">(</span><span class="n">headers</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">);</span>
<span class="w">                </span><span class="n">cell</span><span class="p">.</span><span class="na">setCellStyle</span><span class="p">(</span><span class="n">headerStyle</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="c1">// データ</span>
<span class="w">            </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">totalDebit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">;</span>
<span class="w">            </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">totalCredit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">;</span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">DailyBalanceDto</span><span class="w"> </span><span class="n">row</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">Row</span><span class="w"> </span><span class="n">dataRow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sheet</span><span class="p">.</span><span class="na">createRow</span><span class="p">(</span><span class="n">rowIndex</span><span class="o">++</span><span class="p">);</span>
<span class="w">                </span><span class="n">dataRow</span><span class="p">.</span><span class="na">createCell</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="na">setCellValue</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="na">getAccountCode</span><span class="p">());</span>
<span class="w">                </span><span class="n">dataRow</span><span class="p">.</span><span class="na">createCell</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="na">setCellValue</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="na">getAccountName</span><span class="p">());</span>

<span class="w">                </span><span class="n">Cell</span><span class="w"> </span><span class="n">prevCell</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dataRow</span><span class="p">.</span><span class="na">createCell</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="w">                </span><span class="n">prevCell</span><span class="p">.</span><span class="na">setCellValue</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="na">getPreviousBalance</span><span class="p">().</span><span class="na">doubleValue</span><span class="p">());</span>
<span class="w">                </span><span class="n">prevCell</span><span class="p">.</span><span class="na">setCellStyle</span><span class="p">(</span><span class="n">currencyStyle</span><span class="p">);</span>

<span class="w">                </span><span class="n">Cell</span><span class="w"> </span><span class="n">debitCell</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dataRow</span><span class="p">.</span><span class="na">createCell</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="w">                </span><span class="n">debitCell</span><span class="p">.</span><span class="na">setCellValue</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="na">getDebitAmount</span><span class="p">().</span><span class="na">doubleValue</span><span class="p">());</span>
<span class="w">                </span><span class="n">debitCell</span><span class="p">.</span><span class="na">setCellStyle</span><span class="p">(</span><span class="n">currencyStyle</span><span class="p">);</span>

<span class="w">                </span><span class="n">Cell</span><span class="w"> </span><span class="n">creditCell</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dataRow</span><span class="p">.</span><span class="na">createCell</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="w">                </span><span class="n">creditCell</span><span class="p">.</span><span class="na">setCellValue</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="na">getCreditAmount</span><span class="p">().</span><span class="na">doubleValue</span><span class="p">());</span>
<span class="w">                </span><span class="n">creditCell</span><span class="p">.</span><span class="na">setCellStyle</span><span class="p">(</span><span class="n">currencyStyle</span><span class="p">);</span>

<span class="w">                </span><span class="n">Cell</span><span class="w"> </span><span class="n">currCell</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dataRow</span><span class="p">.</span><span class="na">createCell</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="w">                </span><span class="n">currCell</span><span class="p">.</span><span class="na">setCellValue</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="na">getCurrentBalance</span><span class="p">().</span><span class="na">doubleValue</span><span class="p">());</span>
<span class="w">                </span><span class="n">currCell</span><span class="p">.</span><span class="na">setCellStyle</span><span class="p">(</span><span class="n">currencyStyle</span><span class="p">);</span>

<span class="w">                </span><span class="n">totalDebit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">totalDebit</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="na">getDebitAmount</span><span class="p">());</span>
<span class="w">                </span><span class="n">totalCredit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">totalCredit</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">row</span><span class="p">.</span><span class="na">getCreditAmount</span><span class="p">());</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="c1">// 合計行</span>
<span class="w">            </span><span class="n">Row</span><span class="w"> </span><span class="n">totalRow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sheet</span><span class="p">.</span><span class="na">createRow</span><span class="p">(</span><span class="n">rowIndex</span><span class="o">++</span><span class="p">);</span>
<span class="w">            </span><span class="n">totalRow</span><span class="p">.</span><span class="na">createCell</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="na">setCellValue</span><span class="p">(</span><span class="s">&quot;合計&quot;</span><span class="p">);</span>

<span class="w">            </span><span class="n">Cell</span><span class="w"> </span><span class="n">totalDebitCell</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">totalRow</span><span class="p">.</span><span class="na">createCell</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="w">            </span><span class="n">totalDebitCell</span><span class="p">.</span><span class="na">setCellValue</span><span class="p">(</span><span class="n">totalDebit</span><span class="p">.</span><span class="na">doubleValue</span><span class="p">());</span>
<span class="w">            </span><span class="n">totalDebitCell</span><span class="p">.</span><span class="na">setCellStyle</span><span class="p">(</span><span class="n">currencyStyle</span><span class="p">);</span>

<span class="w">            </span><span class="n">Cell</span><span class="w"> </span><span class="n">totalCreditCell</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">totalRow</span><span class="p">.</span><span class="na">createCell</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="w">            </span><span class="n">totalCreditCell</span><span class="p">.</span><span class="na">setCellValue</span><span class="p">(</span><span class="n">totalCredit</span><span class="p">.</span><span class="na">doubleValue</span><span class="p">());</span>
<span class="w">            </span><span class="n">totalCreditCell</span><span class="p">.</span><span class="na">setCellStyle</span><span class="p">(</span><span class="n">currencyStyle</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// 列幅調整</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">headers</span><span class="p">.</span><span class="na">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">sheet</span><span class="p">.</span><span class="na">autoSizeColumn</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="c1">// ファイル出力</span>
<span class="w">            </span><span class="k">try</span><span class="w"> </span><span class="p">(</span><span class="n">FileOutputStream</span><span class="w"> </span><span class="n">fos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FileOutputStream</span><span class="p">(</span><span class="n">outputFile</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">workbook</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">fos</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">CellStyle</span><span class="w"> </span><span class="nf">createHeaderStyle</span><span class="p">(</span><span class="n">Workbook</span><span class="w"> </span><span class="n">workbook</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">CellStyle</span><span class="w"> </span><span class="n">style</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workbook</span><span class="p">.</span><span class="na">createCellStyle</span><span class="p">();</span>
<span class="w">        </span><span class="n">style</span><span class="p">.</span><span class="na">setFillForegroundColor</span><span class="p">(</span><span class="n">IndexedColors</span><span class="p">.</span><span class="na">GREY_25_PERCENT</span><span class="p">.</span><span class="na">getIndex</span><span class="p">());</span>
<span class="w">        </span><span class="n">style</span><span class="p">.</span><span class="na">setFillPattern</span><span class="p">(</span><span class="n">FillPatternType</span><span class="p">.</span><span class="na">SOLID_FOREGROUND</span><span class="p">);</span>
<span class="w">        </span><span class="n">style</span><span class="p">.</span><span class="na">setBorderBottom</span><span class="p">(</span><span class="n">BorderStyle</span><span class="p">.</span><span class="na">THIN</span><span class="p">);</span>
<span class="w">        </span><span class="n">style</span><span class="p">.</span><span class="na">setBorderTop</span><span class="p">(</span><span class="n">BorderStyle</span><span class="p">.</span><span class="na">THIN</span><span class="p">);</span>
<span class="w">        </span><span class="n">style</span><span class="p">.</span><span class="na">setBorderLeft</span><span class="p">(</span><span class="n">BorderStyle</span><span class="p">.</span><span class="na">THIN</span><span class="p">);</span>
<span class="w">        </span><span class="n">style</span><span class="p">.</span><span class="na">setBorderRight</span><span class="p">(</span><span class="n">BorderStyle</span><span class="p">.</span><span class="na">THIN</span><span class="p">);</span>

<span class="w">        </span><span class="n">Font</span><span class="w"> </span><span class="n">font</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workbook</span><span class="p">.</span><span class="na">createFont</span><span class="p">();</span>
<span class="w">        </span><span class="n">font</span><span class="p">.</span><span class="na">setBold</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">        </span><span class="n">style</span><span class="p">.</span><span class="na">setFont</span><span class="p">(</span><span class="n">font</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">style</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">CellStyle</span><span class="w"> </span><span class="nf">createCurrencyStyle</span><span class="p">(</span><span class="n">Workbook</span><span class="w"> </span><span class="n">workbook</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">CellStyle</span><span class="w"> </span><span class="n">style</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workbook</span><span class="p">.</span><span class="na">createCellStyle</span><span class="p">();</span>
<span class="w">        </span><span class="n">DataFormat</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workbook</span><span class="p">.</span><span class="na">createDataFormat</span><span class="p">();</span>
<span class="w">        </span><span class="n">style</span><span class="p">.</span><span class="na">setDataFormat</span><span class="p">(</span><span class="n">format</span><span class="p">.</span><span class="na">getFormat</span><span class="p">(</span><span class="s">&quot;#,##0&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="n">style</span><span class="p">.</span><span class="na">setAlignment</span><span class="p">(</span><span class="n">HorizontalAlignment</span><span class="p">.</span><span class="na">RIGHT</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">style</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="28css">第28章：CSS スタイルシート<a class="headerlink" href="#28css" title="Permanent link">&para;</a></h2>
<h3 id="281-applicationcss">28.1 application.css<a class="headerlink" href="#281-applicationcss" title="Permanent link">&para;</a></h3>
<details>
<summary>application.css</summary>

<div class="highlight"><pre><span></span><code><span class="c">/* ========== 基本設定 ========== */</span>
<span class="p">.</span><span class="nc">root</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-font-family</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Yu Gothic UI&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Meiryo&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">sans-serif</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-base</span><span class="p">:</span><span class="w"> </span><span class="mh">#f4f4f4</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-accent</span><span class="p">:</span><span class="w"> </span><span class="mh">#0078d4</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-focus-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#0078d4</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-faint-focus-color</span><span class="p">:</span><span class="w"> </span><span class="kc">transparent</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* ========== メニューバー ========== */</span>
<span class="p">.</span><span class="nc">menu-bar</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#ffffff</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-border-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#e0e0e0</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-border-width</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">menu-bar</span><span class="w"> </span><span class="p">.</span><span class="nc">menu</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="kc">transparent</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">menu-bar</span><span class="w"> </span><span class="p">.</span><span class="nc">menu</span><span class="p">:</span><span class="nd">hover</span><span class="o">,</span>
<span class="p">.</span><span class="nc">menu-bar</span><span class="w"> </span><span class="p">.</span><span class="nc">menu</span><span class="p">:</span><span class="nd">showing</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#e5e5e5</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* ========== ツールバー ========== */</span>
<span class="p">.</span><span class="nc">tool-bar</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#f8f8f8</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-border-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#e0e0e0</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-border-width</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-padding</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">tool-bar</span><span class="w"> </span><span class="p">.</span><span class="nc">button</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="kc">transparent</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-background-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-padding</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">tool-bar</span><span class="w"> </span><span class="p">.</span><span class="nc">button</span><span class="p">:</span><span class="nd">hover</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#e5e5e5</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">tool-bar</span><span class="w"> </span><span class="p">.</span><span class="nc">button</span><span class="p">:</span><span class="nd">pressed</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#d0d0d0</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* ========== ステータスバー ========== */</span>
<span class="p">.</span><span class="nc">status-bar</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#f0f0f0</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-border-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#e0e0e0</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-border-width</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-padding</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* ========== ダッシュボードカード ========== */</span>
<span class="p">.</span><span class="nc">dashboard-card</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#ffffff</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-background-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-border-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#e0e0e0</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-border-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-padding</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-min-width</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-effect</span><span class="p">:</span><span class="w"> </span><span class="nf">dropshadow</span><span class="p">(</span><span class="n">gaussian</span><span class="p">,</span><span class="w"> </span><span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.1</span><span class="p">),</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">dashboard-card</span><span class="p">:</span><span class="nd">hover</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-effect</span><span class="p">:</span><span class="w"> </span><span class="nf">dropshadow</span><span class="p">(</span><span class="n">gaussian</span><span class="p">,</span><span class="w"> </span><span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.15</span><span class="p">),</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">card-title</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-text-fill</span><span class="p">:</span><span class="w"> </span><span class="mh">#666666</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">card-value</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">bold</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-text-fill</span><span class="p">:</span><span class="w"> </span><span class="mh">#0078d4</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* ========== テーブル ========== */</span>
<span class="p">.</span><span class="nc">table-view</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#ffffff</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-border-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#e0e0e0</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">table-view</span><span class="w"> </span><span class="p">.</span><span class="nc">column-header</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#f8f8f8</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-border-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#e0e0e0</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-border-width</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">bold</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">table-view</span><span class="w"> </span><span class="p">.</span><span class="nc">table-row-cell</span><span class="p">:</span><span class="nd">selected</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#cce4f7</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">table-view</span><span class="w"> </span><span class="p">.</span><span class="nc">table-row-cell</span><span class="p">:</span><span class="nd">selected</span><span class="w"> </span><span class="p">.</span><span class="nc">text</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-fill</span><span class="p">:</span><span class="w"> </span><span class="mh">#000000</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* 金額列（右寄せ） */</span>
<span class="p">.</span><span class="nc">amount-column</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-alignment</span><span class="p">:</span><span class="w"> </span><span class="n">CENTER-RIGHT</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* ========== ボタン ========== */</span>
<span class="p">.</span><span class="nc">button</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#ffffff</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-border-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#d0d0d0</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-border-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-background-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-padding</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">16</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">button</span><span class="p">:</span><span class="nd">hover</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#f0f0f0</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">button</span><span class="p">:</span><span class="nd">pressed</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#e0e0e0</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">button</span><span class="p">.</span><span class="nc">primary</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#0078d4</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-text-fill</span><span class="p">:</span><span class="w"> </span><span class="mh">#ffffff</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-border-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#0078d4</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">button</span><span class="p">.</span><span class="nc">primary</span><span class="p">:</span><span class="nd">hover</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#006cbd</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">button</span><span class="p">.</span><span class="nc">primary</span><span class="p">:</span><span class="nd">pressed</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#005ba1</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">button</span><span class="p">.</span><span class="nc">danger</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#d32f2f</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-text-fill</span><span class="p">:</span><span class="w"> </span><span class="mh">#ffffff</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-border-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#d32f2f</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">button</span><span class="p">.</span><span class="nc">danger</span><span class="p">:</span><span class="nd">hover</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#c62828</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* ========== テキストフィールド ========== */</span>
<span class="p">.</span><span class="nc">text-field</span><span class="o">,</span><span class="w"> </span><span class="p">.</span><span class="nc">text-area</span><span class="o">,</span><span class="w"> </span><span class="p">.</span><span class="nc">combo-box</span><span class="o">,</span><span class="w"> </span><span class="p">.</span><span class="nc">date-picker</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#ffffff</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-border-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#d0d0d0</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-border-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-background-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-padding</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">text-field</span><span class="p">:</span><span class="nd">focused</span><span class="o">,</span><span class="w"> </span><span class="p">.</span><span class="nc">text-area</span><span class="p">:</span><span class="nd">focused</span><span class="o">,</span>
<span class="p">.</span><span class="nc">combo-box</span><span class="p">:</span><span class="nd">focused</span><span class="o">,</span><span class="w"> </span><span class="p">.</span><span class="nc">date-picker</span><span class="p">:</span><span class="nd">focused</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-border-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#0078d4</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-border-width</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* ========== 仕訳入力画面 ========== */</span>
<span class="p">.</span><span class="nc">journal-entry-view</span><span class="w"> </span><span class="p">.</span><span class="nc">total-area</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#f8f8f8</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-padding</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-border-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#e0e0e0</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-border-width</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">total-label</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-text-fill</span><span class="p">:</span><span class="w"> </span><span class="mh">#666666</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">total-value</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">bold</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">balance-ok</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-text-fill</span><span class="p">:</span><span class="w"> </span><span class="mh">#28a745</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">bold</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">balance-ng</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-text-fill</span><span class="p">:</span><span class="w"> </span><span class="mh">#dc3545</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">bold</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* ========== フォームラベル ========== */</span>
<span class="p">.</span><span class="nc">form-label</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">bold</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-min-width</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">section-title</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">bold</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* ========== タイトル ========== */</span>
<span class="p">.</span><span class="nc">title</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">bold</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* ========== タブ ========== */</span>
<span class="p">.</span><span class="nc">tab-pane</span><span class="w"> </span><span class="p">.</span><span class="nc">tab-header-area</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#f8f8f8</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">tab-pane</span><span class="w"> </span><span class="p">.</span><span class="nc">tab</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#e8e8e8</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-background-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="nv">-fx-padding</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">16</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">tab-pane</span><span class="w"> </span><span class="p">.</span><span class="nc">tab</span><span class="p">:</span><span class="nd">selected</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#ffffff</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">tab-pane</span><span class="w"> </span><span class="p">.</span><span class="nc">tab</span><span class="p">:</span><span class="nd">hover</span><span class="o">:!</span><span class="nt">selected</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">-fx-background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#d8d8d8</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="_3">まとめ<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<h3 id="_4">学習した内容<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>JavaFX の特徴</strong></li>
<li>FXML による宣言的 UI 定義</li>
<li>Scene Builder によるビジュアル編集</li>
<li>
<p>Property による双方向データバインディング</p>
</li>
<li>
<p><strong>MVVM パターン</strong></p>
</li>
<li>View（FXML + Controller）: UI 表示</li>
<li>ViewModel: 画面状態管理</li>
<li>
<p>Model: ビジネスロジック（既存 UseCase）</p>
</li>
<li>
<p><strong>Spring Boot 統合</strong></p>
</li>
<li>JavaFX アプリケーションと Spring コンテキストの統合</li>
<li>Controller の DI（Dependency Injection）</li>
<li>
<p>StageManager による画面遷移管理</p>
</li>
<li>
<p><strong>ヘキサゴナルアーキテクチャとの統合</strong></p>
</li>
<li>JavaFX Controller/ViewModel を Input Adapter として追加</li>
<li>既存の UseCase, Repository を共有</li>
<li>REST API, Monolith と並行運用可能</li>
</ol>
<h3 id="_5">技術スタック<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>カテゴリ</th>
<th>技術</th>
</tr>
</thead>
<tbody>
<tr>
<td>UI フレームワーク</td>
<td>JavaFX 21</td>
</tr>
<tr>
<td>アイコン</td>
<td>Ikonli (FontAwesome5)</td>
</tr>
<tr>
<td>拡張コントロール</td>
<td>ControlsFX</td>
</tr>
<tr>
<td>帳票（PDF）</td>
<td>JasperReports, OpenPDF</td>
</tr>
<tr>
<td>帳票（Excel）</td>
<td>Apache POI</td>
</tr>
<tr>
<td>テスト</td>
<td>TestFX</td>
</tr>
</tbody>
</table>
<h3 id="_6">ディレクトリ構成<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>infrastructure/in/javafx/
├── controller/     # FXML Controller
├── viewmodel/      # ViewModel（画面状態）
├── view/           # 行モデル（TableView 用）
├── dialog/         # ダイアログ
├── util/           # ユーティリティ（ExcelExporter, ReportExporter）
└── config/         # 設定（StageManager, FxmlView）
</code></pre></div>
<h3 id="api">API サーバー版との比較<a class="headerlink" href="#api" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>観点</th>
<th>REST Controller</th>
<th>JavaFX ViewModel</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>UseCase</strong></td>
<td>共有（同一インスタンス）</td>
<td>共有（同一インスタンス）</td>
</tr>
<tr>
<td><strong>アノテーション</strong></td>
<td><code>@RestController</code></td>
<td><code>@Component</code></td>
</tr>
<tr>
<td><strong>データ形式</strong></td>
<td>JSON</td>
<td>ObservableList</td>
</tr>
<tr>
<td><strong>UI 更新</strong></td>
<td>クライアント責任</td>
<td>自動バインディング</td>
</tr>
<tr>
<td><strong>非同期処理</strong></td>
<td>フレームワーク管理</td>
<td>Platform.runLater</td>
</tr>
<tr>
<td><strong>エラー処理</strong></td>
<td>ResponseEntity</td>
<td>Property + Alert</td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/k2works/practical-database-design" target="_blank" rel="noopener" title="GitHub Repository" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
      
        <script src="../../../docs/assets/js/extra.js"></script>
      
    
  </body>
</html>