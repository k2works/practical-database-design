
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="基幹業務システム（販売管理・財務会計・生産管理）のデータベース設計を体系的に解説">
      
      
        <meta name="author" content="k2works">
      
      
      
        <link rel="prev" href="../chapter23/">
      
      
        <link rel="next" href="../chapter25/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>第24章 生産計画の設計 - 実践データベース設計：基幹業務システム編</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../docs/mkdocs/assets/css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#24" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="実践データベース設計：基幹業務システム編" class="md-header__button md-logo" aria-label="実践データベース設計：基幹業務システム編" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            実践データベース設計：基幹業務システム編
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              第24章 生産計画の設計
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/k2works/practical-database-design" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    practical-database-design
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
  実践データベース設計

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="実践データベース設計：基幹業務システム編" class="md-nav__button md-logo" aria-label="実践データベース設計：基幹業務システム編" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    実践データベース設計：基幹業務システム編
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/k2works/practical-database-design" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    practical-database-design
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    実践データベース設計
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    実践データベース設計
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../techstack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    技術スタック
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    アウトライン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    執筆ワークフロー
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    運用ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6" >
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    デプロイ
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    デプロイ
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-sms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SMS デモデプロイ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-fas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FAS デモデプロイ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7" >
        
          
          <label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第1部 基幹業務システムの全体像
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    第1部 基幹業務システムの全体像
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第1章 基幹業務システムとは
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第2章 基幹業務システムの業務領域
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第3章 業務フローの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_8" >
        
          
          <label class="md-nav__link" for="__nav_1_8" id="__nav_1_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第2部 販売管理システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    第2部 販売管理システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第4章 販売管理システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter05/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第5章 マスタ情報の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter06/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第6章 受注・出荷・売上の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter07/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第7章 債権管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter08/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第8章 調達管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter09/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第9章 在庫管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第10章 債務管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第11章 共通処理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第12章 販売管理データ設計（B社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第13章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_9" >
        
          
          <label class="md-nav__link" for="__nav_1_9" id="__nav_1_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第3部 財務会計システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    第3部 財務会計システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章 財務会計システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章 勘定科目の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章 仕訳の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章 勘定科目残高の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter19/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章 赤黒とログの設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter20/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章 財務会計データ設計（D社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter21/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_10" checked>
        
          
          <label class="md-nav__link" for="__nav_1_10" id="__nav_1_10_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第4部 生産管理システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_10_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    第4部 生産管理システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter22/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第22章 生産管理システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter23/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第23章 マスタ情報の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    第24章 生産計画の設計
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    第24章 生産計画の設計
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#241" class="md-nav__link">
    <span class="md-ellipsis">
      
        24.1 生産計画の特徴
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="24.1 生産計画の特徴">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        計画系と実績系の分離
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="計画系と実績系の分離">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        計画系データの特徴
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        実績系データの特徴
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        計画の階層構造
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="計画の階層構造">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        各計画レベルの概要
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mps" class="md-nav__link">
    <span class="md-ellipsis">
      
        基準生産計画（MPS）の理解
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        計画データのスキーマ設計
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        アーキテクチャ構造
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        ドメインモデル
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typehandler" class="md-nav__link">
    <span class="md-ellipsis">
      
        TypeHandler
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mybatis-mapper" class="md-nav__link">
    <span class="md-ellipsis">
      
        MyBatis Mapper
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        リポジトリ
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#242-mrp" class="md-nav__link">
    <span class="md-ellipsis">
      
        24.2 MRP（所要量展開）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="24.2 MRP（所要量展開）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mrp" class="md-nav__link">
    <span class="md-ellipsis">
      
        MRP の基本概念
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mrp_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        MRP 処理の流れ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
        総所要量・正味所要量の計算
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
        ロットまとめ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mrp_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        MRP サービス
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mrp-er" class="md-nav__link">
    <span class="md-ellipsis">
      
        MRP 処理の ER 図
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#243" class="md-nav__link">
    <span class="md-ellipsis">
      
        24.3 リレーションと楽観ロックの設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="24.3 リレーションと楽観ロックの設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mybatis-resultmap" class="md-nav__link">
    <span class="md-ellipsis">
      
        MyBatis ネストした ResultMap によるリレーション設定
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MyBatis ネストした ResultMap によるリレーション設定">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resultmap" class="md-nav__link">
    <span class="md-ellipsis">
      
        ネストした ResultMap の定義
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
        リレーション設定のポイント
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      
        楽観ロックの実装
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="楽観ロックの実装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flyway" class="md-nav__link">
    <span class="md-ellipsis">
      
        Flyway マイグレーション: バージョンカラム追加
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      
        エンティティへのバージョンフィールド追加
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mybatis-mapper_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        MyBatis Mapper: 楽観ロック対応の更新
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#repository" class="md-nav__link">
    <span class="md-ellipsis">
      
        Repository 実装: 楽観ロック対応
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tdd" class="md-nav__link">
    <span class="md-ellipsis">
      
        TDD: 楽観ロックのテスト
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mrp_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        MRP 処理における楽観ロックの考慮
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MRP 処理における楽観ロックの考慮">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      
        一括処理時の楽観ロック戦略
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      
        楽観ロックのベストプラクティス（生産計画向け）
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#244" class="md-nav__link">
    <span class="md-ellipsis">
      
        24.4 まとめ
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="24.4 まとめ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      
        学んだこと
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      
        設計のポイント
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      
        テーブル定義
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="テーブル定義">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      
        基準生産計画テーブル
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      
        オーダ情報テーブル
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      
        所要情報テーブル
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      
        引当情報テーブル
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter25/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第25章 購買管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter26/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第26章 外注委託管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter27/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第27章 工程管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter28/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第28章 在庫管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第29章 品質管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter30/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第30章 製造原価管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter31/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第31章 生産管理データ設計（E社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter32/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第32章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_11" >
        
          
          <label class="md-nav__link" for="__nav_1_11" id="__nav_1_11_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第5部 エンタープライズインテグレーション
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    第5部 エンタープライズインテグレーション
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter33.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第33章 システム統合の概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter34.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第34章 メッセージングパターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter35.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第35章 システム間連携パターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter36.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第36章 マスタデータ管理（MDM）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter37.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第37章 イベント駆動アーキテクチャ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter38.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第38章 API設計とサービス連携
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter39.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第39章 データ連携の実装パターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_12" >
        
          
          <label class="md-nav__link" for="__nav_1_12" id="__nav_1_12_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 販売管理システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 販売管理システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_13" >
        
          
          <label class="md-nav__link" for="__nav_1_13" id="__nav_1_13_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 財務会計システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 財務会計システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_14" >
        
          
          <label class="md-nav__link" for="__nav_1_14" id="__nav_1_14_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 生産管理システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 生産管理システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_15" >
        
          
          <label class="md-nav__link" for="__nav_1_15" id="__nav_1_15_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 財務会計システムORM実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 財務会計システムORM実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter14-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章 財務会計システムの全体像【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter15-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章 勘定科目の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter16-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章 仕訳の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter17-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter18-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章 勘定科目残高の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter19-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章 赤黒とログの設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter20-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章 財務会計データ設計（D社事例）【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter21-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章 APIサービスの実装【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_16" >
        
          
          <label class="md-nav__link" for="__nav_1_16" id="__nav_1_16_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    付録
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_16">
            <span class="md-nav__icon md-icon"></span>
            
  
    付録
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/er-diagrams.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    A 全体ER図
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/table-definitions.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    B テーブル定義一覧
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/glossary.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C 用語集
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_17" >
        
          
          <label class="md-nav__link" for="__nav_1_17" id="__nav_1_17_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    データベース
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_17">
            <span class="md-nav__icon md-icon"></span>
            
  
    データベース
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../assets/schemaspy-output/sms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SchemaSpy ER図（SMS）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="24">第24章：生産計画の設計<a class="headerlink" href="#24" title="Permanent link">&para;</a></h1>
<p>本章では、生産管理システムの核心部分である「生産計画」を設計します。生産計画は、製造業における意思決定の起点となる重要な機能です。</p>
<hr />
<h2 id="241">24.1 生産計画の特徴<a class="headerlink" href="#241" title="Permanent link">&para;</a></h2>
<p>生産計画は、「いつ」「何を」「どれだけ」生産するかを決定する計画系の中核機能です。</p>
<h3 id="_1">計画系と実績系の分離<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<p>生産管理システムのデータは、大きく「計画系」と「実績系」に分類されます。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9Ijc0MnB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NTA5cHg7aGVpZ2h0Ojc0MnB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDUwOSA3NDIiIHdpZHRoPSI1MDlweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMzUzMzY7JiMzMDAxMTsmIzMxOTk1OyYjMTIzOTI7JiMyMzQ1NTsmIzMyMzE4OyYjMzE5OTU7JiMxMjM5ODsmIzM4MzA2OyYjMjA0MTg7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM5Ljk5OTQiIHg9IjE3Ny43NTA0IiB5PSIyMi45OTUxIj4mIzM1MzM2OyYjMzAwMTE7JiMzMTk5NTsmIzEyMzkyOyYjMjM0NTU7JiMzMjMxODsmIzMxOTk1OyYjMTIzOTg7JiMzODMwNjsmIzIwNDE4OzwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgcGxhbi0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJwbGFuIiBkYXRhLXNvdXJjZS1saW5lPSIzIiBpZD0iZW50MDAwMiI+PHBhdGggZD0iTTguNSw0My4yOTY5IEw5My40OTk2LDQzLjI5NjkgQTMuNzUsMy43NSAwIDAgMSA5NS45OTk2LDQ1Ljc5NjkgTDEwMi45OTk2LDY1LjU5MzggTDI5OC41LDY1LjU5MzggQTIuNSwyLjUgMCAwIDEgMzAxLDY4LjA5MzggTDMwMSw0MTcuMDU2OSBBMi41LDIuNSAwIDAgMSAyOTguNSw0MTkuNTU2OSBMOC41LDQxOS41NTY5IEEyLjUsMi41IDAgMCAxIDYsNDE3LjA1NjkgTDYsNDUuNzk2OSBBMi41LDIuNSAwIDAgMSA4LjUsNDMuMjk2OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNiIgeDI9IjEwMi45OTk2IiB5MT0iNjUuNTkzOCIgeTI9IjY1LjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMTAiIHk9IjU4LjI5MiI+JiMzNTMzNjsmIzMwMDExOyYjMzE5OTU7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7PC90ZXh0PjwvZz48IS0tY2x1c3RlciBhY3R1YWwtLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iYWN0dWFsIiBkYXRhLXNvdXJjZS1saW5lPSIxMCIgaWQ9ImVudDAwMDciPjxwYXRoIGQ9Ik0yMi41LDQ4NC41NTY5IEwxMDcuNDk5Niw0ODQuNTU2OSBBMy43NSwzLjc1IDAgMCAxIDEwOS45OTk2LDQ4Ny4wNTY5IEwxMTYuOTk5Niw1MDYuODUzOCBMMjk1LjUsNTA2Ljg1MzggQTIuNSwyLjUgMCAwIDEgMjk4LDUwOS4zNTM4IEwyOTgsNzMzLjMyNjkgQTIuNSwyLjUgMCAwIDEgMjk1LjUsNzM1LjgyNjkgTDIyLjUsNzM1LjgyNjkgQTIuNSwyLjUgMCAwIDEgMjAsNzMzLjMyNjkgTDIwLDQ4Ny4wNTY5IEEyLjUsMi41IDAgMCAxIDIyLjUsNDg0LjU1NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjIwIiB4Mj0iMTE2Ljk5OTYiIHkxPSI1MDYuODUzOCIgeTI9IjUwNi44NTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjI0IiB5PSI0OTkuNTUyIj4mIzIzNDU1OyYjMzIzMTg7JiMzMTk5NTsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PC9nPjwhLS1jbGFzcyBwcC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9InBsYW4ucHAiIGRhdGEtc291cmNlLWxpbmU9IjQiIGlkPSJlbnQwMDAzIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI4Ny45OTk4IiB4PSI4OCIgeT0iODYuMjk2OSIvPjxlbGxpcHNlIGN4PSIxMDMiIGN5PSIxMDIuMjk2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMTA3LjEwOTQsMTA4LjI5NjkgTDk5LjM5MDYsMTA4LjI5NjkgTDk5LjM5MDYsOTUuOTA2MyBMMTA3LjEwOTQsOTUuOTA2MyBMMTA3LjEwOTQsOTguMDYyNSBMMTAxLjg0MzgsOTguMDYyNSBMMTAxLjg0MzgsMTAwLjczNDQgTDEwNi42MDk0LDEwMC43MzQ0IEwxMDYuNjA5NCwxMDIuODkwNiBMMTAxLjg0MzgsMTAyLjg5MDYgTDEwMS44NDM4LDEwNi4xNDA2IEwxMDcuMTA5NCwxMDYuMTQwNiBMMTA3LjEwOTQsMTA4LjI5NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxMTciIHk9IjEwNy4xNDM2Ij4mIzI5OTgzOyYjMjk5ODc7JiMzNTMzNjsmIzMwMDExOzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI4OSIgeDI9IjE3NC45OTk4IiB5MT0iMTE4LjI5NjkiIHkyPSIxMTguMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9Ijg5IiB4Mj0iMTc0Ljk5OTgiIHkxPSIxMjYuMjk2OSIgeTI9IjEyNi4yOTY5Ii8+PC9nPjwhLS1jbGFzcyBtcnAtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJwbGFuLm1ycCIgZGF0YS1zb3VyY2UtbGluZT0iNSIgaWQ9ImVudDAwMDQiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEwMS45OTk3IiB4PSI4MSIgeT0iMjIyLjU1NjkiLz48ZWxsaXBzZSBjeD0iOTYiIGN5PSIyMzguNTU2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMTAwLjEwOTQsMjQ0LjU1NjkgTDkyLjM5MDYsMjQ0LjU1NjkgTDkyLjM5MDYsMjMyLjE2NjMgTDEwMC4xMDk0LDIzMi4xNjYzIEwxMDAuMTA5NCwyMzQuMzIyNSBMOTQuODQzOCwyMzQuMzIyNSBMOTQuODQzOCwyMzYuOTk0NCBMOTkuNjA5NCwyMzYuOTk0NCBMOTkuNjA5NCwyMzkuMTUwNiBMOTQuODQzOCwyMzkuMTUwNiBMOTQuODQzOCwyNDIuNDAwNiBMMTAwLjEwOTQsMjQyLjQwMDYgTDEwMC4xMDk0LDI0NC41NTY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTEwIiB5PSIyNDMuNDAzNiI+JiMyNTE1MjsmIzM1MjAxOyYjMzczMjc7JiMzNTMzNjsmIzMwMDExOzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI4MiIgeDI9IjE4MS45OTk3IiB5MT0iMjU0LjU1NjkiIHkyPSIyNTQuNTU2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjgyIiB4Mj0iMTgxLjk5OTciIHkxPSIyNjIuNTU2OSIgeTI9IjI2Mi41NTY5Ii8+PC9nPjwhLS1jbGFzcyBwby0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9InBsYW4ucG8iIGRhdGEtc291cmNlLWxpbmU9IjYiIGlkPSJlbnQwMDA1Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDEuOTk5NyIgeD0iMzAiIHk9IjM0Ny41NTY5Ii8+PGVsbGlwc2UgY3g9IjQ1IiBjeT0iMzYzLjU1NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTQ5LjEwOTQsMzY5LjU1NjkgTDQxLjM5MDYsMzY5LjU1NjkgTDQxLjM5MDYsMzU3LjE2NjMgTDQ5LjEwOTQsMzU3LjE2NjMgTDQ5LjEwOTQsMzU5LjMyMjUgTDQzLjg0MzgsMzU5LjMyMjUgTDQzLjg0MzgsMzYxLjk5NDQgTDQ4LjYwOTQsMzYxLjk5NDQgTDQ4LjYwOTQsMzY0LjE1MDYgTDQzLjg0MzgsMzY0LjE1MDYgTDQzLjg0MzgsMzY3LjQwMDYgTDQ5LjEwOTQsMzY3LjQwMDYgTDQ5LjEwOTQsMzY5LjU1NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSI1OSIgeT0iMzY4LjQwMzYiPiYjMzYwOTI7JiMzNjAyMzsmIzEyNDU4OyYjMTI1NDA7JiMxMjQ4MDs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMzEiIHgyPSIxMzAuOTk5NyIgeTE9IjM3OS41NTY5IiB5Mj0iMzc5LjU1NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIzMSIgeDI9IjEzMC45OTk3IiB5MT0iMzg3LjU1NjkiIHkyPSIzODcuNTU2OSIvPjwvZz48IS0tY2xhc3MgbW8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJwbGFuLm1vIiBkYXRhLXNvdXJjZS1saW5lPSI3IiBpZD0iZW50MDAwNiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTAxLjk5OTciIHg9IjE2NyIgeT0iMzQ3LjU1NjkiLz48ZWxsaXBzZSBjeD0iMTgyIiBjeT0iMzYzLjU1NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTE4Ni4xMDk0LDM2OS41NTY5IEwxNzguMzkwNiwzNjkuNTU2OSBMMTc4LjM5MDYsMzU3LjE2NjMgTDE4Ni4xMDk0LDM1Ny4xNjYzIEwxODYuMTA5NCwzNTkuMzIyNSBMMTgwLjg0MzgsMzU5LjMyMjUgTDE4MC44NDM4LDM2MS45OTQ0IEwxODUuNjA5NCwzNjEuOTk0NCBMMTg1LjYwOTQsMzY0LjE1MDYgTDE4MC44NDM4LDM2NC4xNTA2IEwxODAuODQzOCwzNjcuNDAwNiBMMTg2LjEwOTQsMzY3LjQwMDYgTDE4Ni4xMDk0LDM2OS41NTY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTk2IiB5PSIzNjguNDAzNiI+JiMzNTA2OTsmIzM2ODk2OyYjMTI0NTg7JiMxMjU0MDsmIzEyNDgwOzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxNjgiIHgyPSIyNjcuOTk5NyIgeTE9IjM3OS41NTY5IiB5Mj0iMzc5LjU1NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxNjgiIHgyPSIyNjcuOTk5NyIgeTE9IjM4Ny41NTY5IiB5Mj0iMzg3LjU1NjkiLz48L2c+PCEtLWNsYXNzIG9yZC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9ImFjdHVhbC5vcmQiIGRhdGEtc291cmNlLWxpbmU9IjExIiBpZD0iZW50MDAwOCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iODcuOTk5OCIgeD0iNDQiIHk9IjUyNy41NTY5Ii8+PGVsbGlwc2UgY3g9IjU5IiBjeT0iNTQzLjU1NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTYzLjEwOTQsNTQ5LjU1NjkgTDU1LjM5MDYsNTQ5LjU1NjkgTDU1LjM5MDYsNTM3LjE2NjMgTDYzLjEwOTQsNTM3LjE2NjMgTDYzLjEwOTQsNTM5LjMyMjUgTDU3Ljg0MzgsNTM5LjMyMjUgTDU3Ljg0MzgsNTQxLjk5NDQgTDYyLjYwOTQsNTQxLjk5NDQgTDYyLjYwOTQsNTQ0LjE1MDYgTDU3Ljg0MzgsNTQ0LjE1MDYgTDU3Ljg0MzgsNTQ3LjQwMDYgTDYzLjEwOTQsNTQ3LjQwMDYgTDYzLjEwOTQsNTQ5LjU1NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI3MyIgeT0iNTQ4LjQwMzYiPiYjMzAzMzA7JiMyNzg4MDsmIzIzNDU1OyYjMzIzMTg7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjQ1IiB4Mj0iMTMwLjk5OTgiIHkxPSI1NTkuNTU2OSIgeTI9IjU1OS41NTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNDUiIHgyPSIxMzAuOTk5OCIgeTE9IjU2Ny41NTY5IiB5Mj0iNTY3LjU1NjkiLz48L2c+PCEtLWNsYXNzIHJjdi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9ImFjdHVhbC5yY3YiIGRhdGEtc291cmNlLWxpbmU9IjEyIiBpZD0iZW50MDAwOSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iODcuOTk5OCIgeD0iNDQiIHk9IjY2My44MjY5Ii8+PGVsbGlwc2UgY3g9IjU5IiBjeT0iNjc5LjgyNjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTYzLjEwOTQsNjg1LjgyNjkgTDU1LjM5MDYsNjg1LjgyNjkgTDU1LjM5MDYsNjczLjQzNjMgTDYzLjEwOTQsNjczLjQzNjMgTDYzLjEwOTQsNjc1LjU5MjUgTDU3Ljg0MzgsNjc1LjU5MjUgTDU3Ljg0MzgsNjc4LjI2NDQgTDYyLjYwOTQsNjc4LjI2NDQgTDYyLjYwOTQsNjgwLjQyMDYgTDU3Ljg0MzgsNjgwLjQyMDYgTDU3Ljg0MzgsNjgzLjY3MDYgTDYzLjEwOTQsNjgzLjY3MDYgTDYzLjEwOTQsNjg1LjgyNjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI3MyIgeT0iNjg0LjY3MzYiPiYjMjA4Mzc7JiMzMzY1NTsmIzIzNDU1OyYjMzIzMTg7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjQ1IiB4Mj0iMTMwLjk5OTgiIHkxPSI2OTUuODI2OSIgeTI9IjY5NS44MjY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNDUiIHgyPSIxMzAuOTk5OCIgeTE9IjcwMy44MjY5IiB5Mj0iNzAzLjgyNjkiLz48L2c+PCEtLWNsYXNzIG1mZy0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9ImFjdHVhbC5tZmciIGRhdGEtc291cmNlLWxpbmU9IjEzIiBpZD0iZW50MDAxMCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iODcuOTk5OCIgeD0iMTY3IiB5PSI1MjcuNTU2OSIvPjxlbGxpcHNlIGN4PSIxODIiIGN5PSI1NDMuNTU2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMTg2LjEwOTQsNTQ5LjU1NjkgTDE3OC4zOTA2LDU0OS41NTY5IEwxNzguMzkwNiw1MzcuMTY2MyBMMTg2LjEwOTQsNTM3LjE2NjMgTDE4Ni4xMDk0LDUzOS4zMjI1IEwxODAuODQzOCw1MzkuMzIyNSBMMTgwLjg0MzgsNTQxLjk5NDQgTDE4NS42MDk0LDU0MS45OTQ0IEwxODUuNjA5NCw1NDQuMTUwNiBMMTgwLjg0MzgsNTQ0LjE1MDYgTDE4MC44NDM4LDU0Ny40MDA2IEwxODYuMTA5NCw1NDcuNDAwNiBMMTg2LjEwOTQsNTQ5LjU1NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxOTYiIHk9IjU0OC40MDM2Ij4mIzM1MDY5OyYjMzY4OTY7JiMyMzQ1NTsmIzMyMzE4OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxNjgiIHgyPSIyNTMuOTk5OCIgeTE9IjU1OS41NTY5IiB5Mj0iNTU5LjU1NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxNjgiIHgyPSIyNTMuOTk5OCIgeTE9IjU2Ny41NTY5IiB5Mj0iNTY3LjU1NjkiLz48L2c+PCEtLWNsYXNzIGludi0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9ImFjdHVhbC5pbnYiIGRhdGEtc291cmNlLWxpbmU9IjE0IiBpZD0iZW50MDAxMSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iODcuOTk5OCIgeD0iMTY3IiB5PSI2NjMuODI2OSIvPjxlbGxpcHNlIGN4PSIxODIiIGN5PSI2NzkuODI2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMTg2LjEwOTQsNjg1LjgyNjkgTDE3OC4zOTA2LDY4NS44MjY5IEwxNzguMzkwNiw2NzMuNDM2MyBMMTg2LjEwOTQsNjczLjQzNjMgTDE4Ni4xMDk0LDY3NS41OTI1IEwxODAuODQzOCw2NzUuNTkyNSBMMTgwLjg0MzgsNjc4LjI2NDQgTDE4NS42MDk0LDY3OC4yNjQ0IEwxODUuNjA5NCw2ODAuNDIwNiBMMTgwLjg0MzgsNjgwLjQyMDYgTDE4MC44NDM4LDY4My42NzA2IEwxODYuMTA5NCw2ODMuNjcwNiBMMTg2LjEwOTQsNjg1LjgyNjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxOTYiIHk9IjY4NC42NzM2Ij4mIzIyMzEyOyYjMjQyMzU7JiMyMzQ1NTsmIzMyMzE4OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxNjgiIHgyPSIyNTMuOTk5OCIgeTE9IjY5NS44MjY5IiB5Mj0iNjk1LjgyNjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxNjgiIHgyPSIyNTMuOTk5OCIgeTE9IjcwMy44MjY5IiB5Mj0iNzAzLjgyNjkiLz48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iR01OMTkiIGRhdGEtc291cmNlLWxpbmU9IjI3IiBpZD0iZW50MDAyMCI+PHBhdGggZD0iTTMyOC41LDc1LjAyNjkgTDMyOC41LDE0NS41NTgxIEw0NzkuNTAwMiwxNDUuNTU4MSBMNDc5LjUwMDIsODUuMDI2OSBMNDY5LjUwMDIsNzUuMDI2OSBMMzI4LjUsNzUuMDI2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTQ2OS41MDAyLDc1LjAyNjkgTDQ2OS41MDAyLDg1LjAyNjkgTDQ3OS41MDAyLDg1LjAyNjkgTDQ2OS41MDAyLDc1LjAyNjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MS4wMDAxIiB4PSIzMzQuNSIgeT0iOTIuMDkzOCI+JiMzNTMzNjsmIzMwMDExOyYjMzE5OTU7JiMxMjM5ODsmIzI5MzA1OyYjMjQ1MDA7JiM2NTMwNjs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMwLjAwMDIiIHg9IjMzNC41IiB5PSIxMDcuMjI2NiI+JiMxMjUzOTsmIzIwMzA5OyYjMjQyMzA7JiMxMjM5MTsmIzEyNDE4OyYjMjA4Nzc7JiMzNTMzNjsmIzMxNjM5OyYjMjE0ODc7JiMzMzAyMTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEuMDAwMSIgeD0iMzM0LjUiIHk9IjEyMi4zNTk0Ij4mIzEyNTM5OyYjMjM1NTg7JiMyNjQ2OTsmIzEyMzk4OyYjMjAxMDQ7JiMyODIwNDsmIzIwNTE2OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTcuMDAwMSIgeD0iMzM0LjUiIHk9IjEzNy40OTIyIj4mIzEyNTM5OyYjMjI3OTM7JiMyNjM1NjsmIzEyMzY0OyYjMzg5NzE7JiMzMjMyMTsmIzEyMzk1OyYjMzAzMzA7JiMyOTk4Mzs8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkdNTjIyIiBkYXRhLXNvdXJjZS1saW5lPSIzNCIgaWQ9ImVudDAwMjMiPjxwYXRoIGQ9Ik0zMjUuNSw1MTYuMjk2OSBMMzI1LjUsNTg2LjgyODEgTDUwMi41MDAyLDU4Ni44MjgxIEw1MDIuNTAwMiw1MjYuMjk2OSBMNDkyLjUwMDIsNTE2LjI5NjkgTDMyNS41LDUxNi4yOTY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNNDkyLjUwMDIsNTE2LjI5NjkgTDQ5Mi41MDAyLDUyNi4yOTY5IEw1MDIuNTAwMiw1MjYuMjk2OSBMNDkyLjUwMDIsNTE2LjI5NjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MS4wMDAxIiB4PSIzMzEuNSIgeT0iNTMzLjM2MzgiPiYjMjM0NTU7JiMzMjMxODsmIzMxOTk1OyYjMTIzOTg7JiMyOTMwNTsmIzI0NTAwOyYjNjUzMDY7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1Ni4wMDAyIiB4PSIzMzEuNSIgeT0iNTQ4LjQ5NjYiPiYjMTI1Mzk7JiMxOTk2ODsmIzI0MjMwOyYjMzA5MDY7JiMyMzQ1MDsmIzEyMzc1OyYjMTIzODM7JiMxMjQyNTsmIzIyNzkzOyYjMjYzNTY7JiMxOTk4MTsmIzIxNDg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OC4wMDAxIiB4PSIzMzEuNSIgeT0iNTYzLjYyOTQiPiYjMTI1Mzk7JiMzNjk0MjsmIzIxNDM1OyYjMTIzOTg7JiMyMDEwNzsmIzIzNDU1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzAuMDAwMiIgeD0iMzMxLjUiIHk9IjU3OC43NjIyIj4mIzEyNTM5OyYjMzA0MzU7JiMyNjYxOTsmIzM1Mzg4OyYjMzYzMjE7JiMxMjM5MjsmIzEyMzc1OyYjMTIzOTA7JiMyMDQ0NTsmIzIzMzg0OzwvdGV4dD48L2c+PCEtLWxpbmsgcHAgdG8gbXJwLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDMiIGRhdGEtZW50aXR5LTI9ImVudDAwMDQiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIxNyIgaWQ9ImxuazEyIj48cGF0aCBjb2RlTGluZT0iMTciIGQ9Ik0xMzIsMTM0LjY4NjkgQzEzMiwxNTkuMzI2OSAxMzIsMTkxLjg5NjkgMTMyLDIxNi40NDY5IiBmaWxsPSJub25lIiBpZD0icHAtdG8tbXJwIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMzIsMjIyLjQ0NjksMTM2LDIxMy40NDY5LDEzMiwyMTcuNDQ2OSwxMjgsMjEzLjQ0NjksMTMyLDIyMi40NDY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjYiIHg9IjEzMyIgeT0iMTg4LjYyMzgiPiYjMjM2Mzc7JiMzODI4Mzs8L3RleHQ+PC9nPjwhLS1saW5rIG1ycCB0byBwby0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA0IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA1IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMTgiIGlkPSJsbmsxMyI+PHBhdGggY29kZUxpbmU9IjE4IiBkPSJNMTIyLjI5LDI3MC45ODY5IEMxMTMuMjEsMjkyLjg3NjkgMTAyLjAzNzIsMzE5LjgyNDEgOTIuOTc3MiwzNDEuNjg0MSIgZmlsbD0ibm9uZSIgaWQ9Im1ycC10by1wbyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iOTAuNjgsMzQ3LjIyNjksOTcuODIxMSwzNDAuNDQ0Miw5Mi41OTQ0LDM0Mi42MDc5LDkwLjQzMDcsMzM3LjM4MTIsOTAuNjgsMzQ3LjIyNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNiIgeD0iMTEwLjU1IiB5PSIzMTMuNjIzOCI+JiMyOTk4MzsmIzI1MTA0OzwvdGV4dD48L2c+PCEtLWxpbmsgbXJwIHRvIG1vLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDQiIGRhdGEtZW50aXR5LTI9ImVudDAwMDYiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIxOSIgaWQ9ImxuazE0Ij48cGF0aCBjb2RlTGluZT0iMTkiIGQ9Ik0xNDguMzgsMjcwLjk4NjkgQzE2My42OCwyOTIuODc2OSAxODIuOTYyNSwzMjAuNDQ5MiAxOTguMjQyNSwzNDIuMzA5MiIgZmlsbD0ibm9uZSIgaWQ9Im1ycC10by1tbyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjAxLjY4LDM0Ny4yMjY5LDE5OS44MDIzLDMzNy41NTg3LDE5OC44MTU1LDM0My4xMjg4LDE5My4yNDUzLDM0Mi4xNDE5LDIwMS42OCwzNDcuMjI2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI2IiB4PSIxODEuMTUiIHk9IjMxMy42MjM4Ij4mIzI5OTgzOyYjMjUxMDQ7PC90ZXh0PjwvZz48IS0tbGluayBwbyB0byBvcmQtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNSIgZGF0YS1lbnRpdHktMj0iZW50MDAwOCIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjIxIiBpZD0ibG5rMTUiPjxwYXRoIGNvZGVMaW5lPSIyMSIgZD0iTTgxLjkyLDM5NS44MjY5IEM4My4yNiw0MjkuOTQ2OSA4NS41MDQ1LDQ4Ny4xNzE1IDg2Ljg0NDUsNTIxLjI5MTUiIGZpbGw9Im5vbmUiIGlkPSJwby10by1vcmQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjcsNzsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9Ijg3LjA4LDUyNy4yODY5LDkwLjcyMzcsNTE4LjEzNjgsODYuODgzOCw1MjIuMjkwNyw4Mi43Mjk5LDUxOC40NTA4LDg3LjA4LDUyNy4yODY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjYiIHg9Ijg1LjI5IiB5PSI0NTYuNjIzOCI+JiMyMzQ1NTsmIzM0ODkyOzwvdGV4dD48L2c+PCEtLWxpbmsgbW8gdG8gbWZnLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDYiIGRhdGEtZW50aXR5LTI9ImVudDAwMTAiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIyMiIgaWQ9ImxuazE2Ij48cGF0aCBjb2RlTGluZT0iMjIiIGQ9Ik0yMTcuMDgsMzk1LjgyNjkgQzIxNS43NCw0MjkuOTQ2OSAyMTMuNDk1NSw0ODcuMTcxNSAyMTIuMTU1NSw1MjEuMjkxNSIgZmlsbD0ibm9uZSIgaWQ9Im1vLXRvLW1mZyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6Nyw3OyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjExLjkyLDUyNy4yODY5LDIxNi4yNzAxLDUxOC40NTA4LDIxMi4xMTYyLDUyMi4yOTA3LDIwOC4yNzYzLDUxOC4xMzY4LDIxMS45Miw1MjcuMjg2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI2IiB4PSIyMTYuMTMiIHk9IjQ1Ni42MjM4Ij4mIzIzNDU1OyYjMzQ4OTI7PC90ZXh0PjwvZz48IS0tbGluayBvcmQgdG8gcmN2LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDgiIGRhdGEtZW50aXR5LTI9ImVudDAwMDkiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIyMyIgaWQ9ImxuazE3Ij48cGF0aCBjb2RlTGluZT0iMjMiIGQ9Ik04OCw1NzUuOTQ2OSBDODgsNjAwLjU5NjkgODgsNjMzLjE2NjkgODgsNjU3LjcwNjkiIGZpbGw9Im5vbmUiIGlkPSJvcmQtdG8tcmN2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI4OCw2NjMuNzA2OSw5Miw2NTQuNzA2OSw4OCw2NTguNzA2OSw4NCw2NTQuNzA2OSw4OCw2NjMuNzA2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI2IiB4PSI4OSIgeT0iNjI5Ljg5MzgiPiYjMjA4Mzc7JiMzMzY1NTs8L3RleHQ+PC9nPjwhLS1saW5rIG1mZyB0byBpbnYtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAxMCIgZGF0YS1lbnRpdHktMj0iZW50MDAxMSIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjI0IiBpZD0ibG5rMTgiPjxwYXRoIGNvZGVMaW5lPSIyNCIgZD0iTTIxMSw1NzUuOTQ2OSBDMjExLDYwMC41OTY5IDIxMSw2MzMuMTY2OSAyMTEsNjU3LjcwNjkiIGZpbGw9Im5vbmUiIGlkPSJtZmctdG8taW52IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMTEsNjYzLjcwNjksMjE1LDY1NC43MDY5LDIxMSw2NTguNzA2OSwyMDcsNjU0LjcwNjksMjExLDY2My43MDY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjYiIHg9IjIxMiIgeT0iNjI5Ljg5MzgiPiYjMjM0MzY7JiMyNTEwNDs8L3RleHQ+PC9nPjwhLS1saW5rIHBsYW4gdG8gR01OMTktLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMiIgZGF0YS1lbnRpdHktMj0iZW50MDAyMCIgZGF0YS1saW5rLXR5cGU9ImFzc29jaWF0aW9uIiBkYXRhLXNvdXJjZS1saW5lPSIyNyIgaWQ9ImxuazIxIj48cGF0aCBkPSJNMzAxLjA4MzEsMTEwLjI5NjkgQzMwMS40NDc2LDExMC4yOTY5IDMwMS44MTIxLDExMC4yOTY5IDMwMi4xNzY2LDExMC4yOTY5IEMzMDUuMDkyNSwxMTAuMjk2OSAzMDguMDA4NywxMTAuMjk2OSAzMTAuOTI1LDExMC4yOTY5IEMzMTYuNzU3NSwxMTAuMjk2OSAzMjIuNTksMTEwLjI5NjkgMzI4LjQyLDExMC4yOTY5IiBmaWxsPSJub25lIiBpZD0icGxhbi1HTU4xOSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6Nyw3OyIvPjwvZz48IS0tbGluayBhY3R1YWwgdG8gR01OMjItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNyIgZGF0YS1lbnRpdHktMj0iZW50MDAyMyIgZGF0YS1saW5rLXR5cGU9ImFzc29jaWF0aW9uIiBkYXRhLXNvdXJjZS1saW5lPSIzNCIgaWQ9ImxuazI0Ij48cGF0aCBkPSJNMjk4LjA3OTQsNTUxLjU1NjkgQzI5OC40NDEyLDU1MS41NTY5IDI5OC44MDMxLDU1MS41NTY5IDI5OS4xNjUsNTUxLjU1NjkgQzMwMi4wNiw1NTEuNTU2OSAzMDQuOTU1LDU1MS41NTY5IDMwNy44NSw1NTEuNTU2OSBDMzEzLjY0LDU1MS41NTY5IDMxOS40Myw1NTEuNTU2OSAzMjUuMjIsNTUxLjU1NjkiIGZpbGw9Im5vbmUiIGlkPSJhY3R1YWwtR01OMjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjcsNzsiLz48L2c+PD9wbGFudHVtbC1zcmMgTlBCVkppOG01Q1JsLW5HRHpfZTBObFdrMm84STZMam1jWFhaaWN2SDhPOXdXVnlyS3I0YWVsQ0Y5azA2eVoxVHIteEFMeDNqMzJsVVJUX3RkVEZWUU96TGlpZTVvQmVyc1dmZkZ5SWVJdG9GM2hfYmp2LVN0NEtKMW0xSm93emduR0JDUEs1dDN4aVp4NG5vSzVrM1BiY2htMnJHZzVXYlFuRmNRQ2taaE5RUUpOcnB3aUxyY3RMR2lkVWVzN2VyeXJiX24zdTZzN2FJeExxeEJKU29rcHJFeDlqUE1wVjBqaUFPM0ozM2dFTWpUUXNpS2Z1N1NWemxOOWFtZ2FqSmEtbXlpRVAwQ1FsdlpOeUdZZ2FsNXhGQWdvdTlVZWZQZ2NuOEZYRkVwSXNBTVU0MjlFXzdvU2EtNDN6MkQwc2t5TGtCUXFUSkpMU3FtMEZweXVrMksxSng3aGpqMDN0TC1EY1A5V0FZY0RDQUtHdTFINEE4NzRHYzZ4OWJuUjBBaTVlZ2hiWkdNOU9sMjlHcnk2ZHpZdG5fX2VtazA3UjNRN25DV1d2Nlp6WG5vNnZKdkZuSlNsWkF0QjZtb1Rqa1ZGdDBZd0FXNVctVllOcWxyVmp3VkZjOUtJRXYyVWFObWdaN1J2bUZuNnpnMk9oSl9wRWFCbUpLMVBvYjZEZ1NXanU1bkJfMHcxR1ozcGxyejlIZXNFR3U4ZklXMHQ4R0lmUHp0YWI4ekI4VFVvN2haalpXYlktdUJFcjRhc2xvU1pQYi1HSzA/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h4 id="_2">計画系データの特徴<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>特性</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>再計算可能</strong></td>
<td>条件が変わればいつでも再計算できる</td>
</tr>
<tr>
<td><strong>仮の数値</strong></td>
<td>確定前は何度でも変更可能</td>
</tr>
<tr>
<td><strong>将来指向</strong></td>
<td>未来の予定を表す</td>
</tr>
<tr>
<td><strong>柔軟性重視</strong></td>
<td>ビジネス状況に応じて調整される</td>
</tr>
</tbody>
</table>
<h4 id="_3">実績系データの特徴<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>特性</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>不可逆</strong></td>
<td>一度記録したら削除・変更しない</td>
</tr>
<tr>
<td><strong>事実の記録</strong></td>
<td>実際に起きたことを記録</td>
</tr>
<tr>
<td><strong>過去指向</strong></td>
<td>過去の事実を表す</td>
</tr>
<tr>
<td><strong>証跡性重視</strong></td>
<td>監査・トレーサビリティに使用</td>
</tr>
</tbody>
</table>
<h3 id="_4">計画の階層構造<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p>生産計画は、長期から短期へと段階的に詳細化されていきます。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkFDVElWSVRZIiBoZWlnaHQ9IjQ2OXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDMxcHg7aGVpZ2h0OjQ2OXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQzMSA0NjkiIHdpZHRoPSI0MzFweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjk5ODM7JiMyOTk4NzsmIzM1MzM2OyYjMzAwMTE7JiMxMjM5ODsmIzM4NTQyOyYjMjM2NTI7JiMyNzA4MzsmIzM2ODk2OzwvdGl0bGU+PGRlZnMvPjxnPjxnIGNsYXNzPSJ0aXRsZSIgZGF0YS1zb3VyY2UtbGluZT0iMSI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNS45OTk1IiB4PSIxNTEuMTgiIHk9IjMyLjk5NTEiPiYjMjk5ODM7JiMyOTk4NzsmIzM1MzM2OyYjMzAwMTE7JiMxMjM5ODsmIzM4NTQyOyYjMjM2NTI7JiMyNzA4MzsmIzM2ODk2OzwvdGV4dD48L2c+PGVsbGlwc2UgY3g9IjEyOS43NTgzIiBjeT0iNTcuMjk2OSIgZmlsbD0iIzIyMjIyMiIgcng9IjEwIiByeT0iMTAiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMjQ3LjgxOTQsODQuMTQ4NCBMMjQ3LjgxOTQsMTAwLjI4MTMgTDIyNy44MTk0LDEwNC4yODEzIEwyNDcuODE5NCwxMDguMjgxMyBMMjQ3LjgxOTQsMTI0LjQxNDEgQTAsMCAwIDAgMCAyNDcuODE5NCwxMjQuNDE0MSBMMzc2LjM2MTUsMTI0LjQxNDEgQTAsMCAwIDAgMCAzNzYuMzYxNSwxMjQuNDE0MSBMMzc2LjM2MTUsOTQuMTQ4NCBMMzY2LjM2MTUsODQuMTQ4NCBMMjQ3LjgxOTQsODQuMTQ4NCBBMCwwIDAgMCAwIDI0Ny44MTk0LDg0LjE0ODQiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0zNjYuMzYxNSw4NC4xNDg0IEwzNjYuMzYxNSw5NC4xNDg0IEwzNzYuMzYxNSw5NC4xNDg0IEwzNjYuMzYxNSw4NC4xNDg0IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDcuNTQyMSIgeD0iMjUzLjgxOTQiIHk9IjEwMS4yMTUzIj4mIzIzNTUwOyYjMzU5Mzc7JiMyNjM5OTsmIzM4MjkxOyYjNjUzMDY7MyYjMTIzMTY7NSYjMjQxODA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4LjAwMDEiIHg9IjI1My44MTk0IiB5PSIxMTYuMzQ4MSI+JiMzMTY0OTsmIzI5NzAyOyYjMjEzMzY7JiMyMDMwMTsmIzY1MzA2OyYjMjQxODA7PC90ZXh0PjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxOTYuMTIyMyIgeD0iMzEuNjk3MSIgeT0iODcuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE3Ni4xMjIzIiB4PSI0MS42OTcxIiB5PSIxMDguNDM1NSI+JiM5MzEyOyYjMTI0OTk7JiMxMjQ3MjsmIzEyNDkzOyYjMTI0NzM7JiMxMjUwMzsmIzEyNTIxOyYjMTI1MzE7KCYjMjAwMTM7JiMyNjM5OTsmIzMyMDc2OyYjMjE5NDI7JiMzNTMzNjsmIzMwMDExOyk8L3RleHQ+PHBhdGggZD0iTTIwMS4xMzc1LDE0MS4yNjU2IEwyMDEuMTM3NSwxNTcuMzk4NCBMMTgxLjEzNzUsMTYxLjM5ODQgTDIwMS4xMzc1LDE2NS4zOTg0IEwyMDEuMTM3NSwxODEuNTMxMyBBMCwwIDAgMCAwIDIwMS4xMzc1LDE4MS41MzEzIEwzMDguNDA4NSwxODEuNTMxMyBBMCwwIDAgMCAwIDMwOC40MDg1LDE4MS41MzEzIEwzMDguNDA4NSwxNTEuMjY1NiBMMjk4LjQwODUsMTQxLjI2NTYgTDIwMS4xMzc1LDE0MS4yNjU2IEEwLDAgMCAwIDAgMjAxLjEzNzUsMTQxLjI2NTYiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0yOTguNDA4NSwxNDEuMjY1NiBMMjk4LjQwODUsMTUxLjI2NTYgTDMwOC40MDg1LDE1MS4yNjU2IEwyOTguNDA4NSwxNDEuMjY1NiIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODYuMjcxMSIgeD0iMjA3LjEzNzUiIHk9IjE1OC4zMzI1Ij4mIzIzNTUwOyYjMzU5Mzc7JiMyNjM5OTsmIzM4MjkxOyYjNjUzMDY7MSYjMjQxODA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4LjAwMDEiIHg9IjIwNy4xMzc1IiB5PSIxNzMuNDY1MyI+JiMzMTY0OTsmIzI5NzAyOyYjMjEzMzY7JiMyMDMwMTsmIzY1MzA2OyYjMjYzNzY7PC90ZXh0PjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDIuNzU4NCIgeD0iNzguMzc5MSIgeT0iMTQ0LjQxNDEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4Mi43NTg0IiB4PSI4OC4zNzkxIiB5PSIxNjUuNTUyNyI+JiM5MzEzOyYjMjQxODA7JiMzODI5MTsmIzM2MDA5OyYjMjI3NzA7JiMzNTMzNjsmIzMwMDExOzwvdGV4dD48cGF0aCBkPSJNMjE1LjE1OSwxOTguMzgyOCBMMjE1LjE1OSwyMTQuNTE1NiBMMTk1LjE1OSwyMTguNTE1NiBMMjE1LjE1OSwyMjIuNTE1NiBMMjE1LjE1OSwyMzguNjQ4NCBBMCwwIDAgMCAwIDIxNS4xNTksMjM4LjY0ODQgTDM1Ni43MDExLDIzOC42NDg0IEEwLDAgMCAwIDAgMzU2LjcwMTEsMjM4LjY0ODQgTDM1Ni43MDExLDIwOC4zODI4IEwzNDYuNzAxMSwxOTguMzgyOCBMMjE1LjE1OSwxOTguMzgyOCBBMCwwIDAgMCAwIDIxNS4xNTksMTk4LjM4MjgiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0zNDYuNzAxMSwxOTguMzgyOCBMMzQ2LjcwMTEsMjA4LjM4MjggTDM1Ni43MDExLDIwOC4zODI4IEwzNDYuNzAxMSwxOTguMzgyOCIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIwLjU0MjEiIHg9IjIyMS4xNTkiIHk9IjIxNS40NDk3Ij4mIzIzNTUwOyYjMzU5Mzc7JiMyNjM5OTsmIzM4MjkxOyYjNjUzMDY7MSYjMTIzMTY7MyYjMTI1MzQ7JiMyNjM3Njs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzguMDAwMSIgeD0iMjIxLjE1OSIgeT0iMjMwLjU4MjUiPiYjMzE2NDk7JiMyOTcwMjsmIzIxMzM2OyYjMjAzMDE7JiM2NTMwNjsmIzI2Mzc2OzwvdGV4dD48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTMwLjgwMTUiIHg9IjY0LjM1NzUiIHk9IjIwMS41MzEzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTEwLjgwMTUiIHg9Ijc0LjM1NzUiIHk9IjIyMi42Njk5Ij4mIzkzMTQ7JiMyNjM3NjsmIzI3NDI1OyYjMzYwMDk7JiMyMjc3MDsvJiMyOTk4MzsmIzI5OTg3OyYjMzUzMzY7JiMzMDAxMTs8L3RleHQ+PHBhdGggZD0iTTIxOC40MjI2LDI1NS41IEwyMTguNDIyNiwyNzEuNjMyOCBMMTk4LjQyMjYsMjc1LjYzMjggTDIxOC40MjI2LDI3OS42MzI4IEwyMTguNDIyNiwyOTUuNzY1NiBBMCwwIDAgMCAwIDIxOC40MjI2LDI5NS43NjU2IEwzODUuOTY0OCwyOTUuNzY1NiBBMCwwIDAgMCAwIDM4NS45NjQ4LDI5NS43NjU2IEwzODUuOTY0OCwyNjUuNSBMMzc1Ljk2NDgsMjU1LjUgTDIxOC40MjI2LDI1NS41IEEwLDAgMCAwIDAgMjE4LjQyMjYsMjU1LjUiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0zNzUuOTY0OCwyNTUuNSBMMzc1Ljk2NDgsMjY1LjUgTDM4NS45NjQ4LDI2NS41IEwzNzUuOTY0OCwyNTUuNSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ2LjU0MjEiIHg9IjIyNC40MjI2IiB5PSIyNzIuNTY2OSI+JiMyMzU1MDsmIzM1OTM3OyYjMjYzOTk7JiMzODI5MTsmIzY1MzA2OzEmIzM2OTEzOyYjMzgyOTE7JiMxMjMxNjsxJiMxMjUzNDsmIzI2Mzc2OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OC4wMDAxIiB4PSIyMjQuNDIyNiIgeT0iMjg3LjY5OTciPiYjMzE2NDk7JiMyOTcwMjsmIzIxMzM2OyYjMjAzMDE7JiM2NTMwNjsmIzI2MDg1OzwvdGV4dD48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTM3LjMyODciIHg9IjYxLjA5MzkiIHk9IjI1OC42NDg0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE3LjMyODciIHg9IjcxLjA5MzkiIHk9IjI3OS43ODcxIj4mIzkzMTU7JiMyMjUyMjsmIzI4MzEwOyYjMjk5ODM7JiMyOTk4NzsmIzM1MzM2OyYjMzAwMTE7KE1QUyk8L3RleHQ+PHBhdGggZD0iTTI2NC44MTc0LDMxMi42MTcyIEwyNjQuODE3NCwzMjguNzUgTDI0NC44MTc0LDMzMi43NSBMMjY0LjgxNzQsMzM2Ljc1IEwyNjQuODE3NCwzNTIuODgyOCBBMCwwIDAgMCAwIDI2NC44MTc0LDM1Mi44ODI4IEw0MTkuMzU5NSwzNTIuODgyOCBBMCwwIDAgMCAwIDQxOS4zNTk1LDM1Mi44ODI4IEw0MTkuMzU5NSwzMjIuNjE3MiBMNDA5LjM1OTUsMzEyLjYxNzIgTDI2NC44MTc0LDMxMi42MTcyIEEwLDAgMCAwIDAgMjY0LjgxNzQsMzEyLjYxNzIiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik00MDkuMzU5NSwzMTIuNjE3MiBMNDA5LjM1OTUsMzIyLjYxNzIgTDQxOS4zNTk1LDMyMi42MTcyIEw0MDkuMzU5NSwzMTIuNjE3MiIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMzLjU0MjEiIHg9IjI3MC44MTc0IiB5PSIzMjkuNjg0MSI+JiMyMzU1MDsmIzM1OTM3OyYjMjYzOTk7JiMzODI5MTsmIzY1MzA2OzEmIzI2MDg1OyYjMTIzMTY7MSYjMzY5MTM7JiMzODI5MTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI1Ljc1OTkiIHg9IjI3MC44MTc0IiB5PSIzNDQuODE2OSI+JiMzMTY0OTsmIzI5NzAyOyYjMjEzMzY7JiMyMDMwMTsmIzY1MzA2OyYjMjYwODU7LyYjMjYxNzg7JiMzODI5MTsvJiMyMDk5ODs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjIzMC4xMTgyIiB4PSIxNC42OTkyIiB5PSIzMTUuNzY1NiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIxMC4xMTgyIiB4PSIyNC42OTkyIiB5PSIzMzYuOTA0MyI+JiM5MzE2OyYjMjUxNTI7JiMzNTIwMTsmIzM3MzI3OyYjMjM2Mzc7JiMzODI4MzsoTVJQKSAmbHQ7LSZndDsgJiMxMjQ3MzsmIzEyNDY1OyYjMTI0NzI7JiMxMjUxNzsmIzEyNTQwOyYjMTI1MjE7PC90ZXh0PjxyZWN0IGZpbGw9IiM1NTU1NTUiIGhlaWdodD0iNiIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojNTU1NTU1O3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjIzNy41MTY1IiB4PSIxMSIgeT0iMzcyLjg4MjgiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iOTAuNzU4MyIgeD0iMjUiIHk9IjM5OC44ODI4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzAuNzU4MyIgeD0iMzUiIHk9IjQyMC4wMjE1Ij4mIzkzMTc7JiMzNjA5MjsmIzM2MDIzOyYjMTI0NTg7JiMxMjU0MDsmIzEyNDgwOzwvdGV4dD48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iOTAuNzU4MyIgeD0iMTQzLjc1ODMiIHk9IjM5OC44ODI4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzAuNzU4MyIgeD0iMTUzLjc1ODMiIHk9IjQyMC4wMjE1Ij4mIzkzMTg7JiMzNTA2OTsmIzM2ODk2OyYjMTI0NTg7JiMxMjU0MDsmIzEyNDgwOzwvdGV4dD48cmVjdCBmaWxsPSIjNTU1NTU1IiBoZWlnaHQ9IjYiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzU1NTU1NTtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIyMzcuNTE2NSIgeD0iMTEiIHk9IjQ1Mi44NTE2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEyOS43NTgzIiB4Mj0iMTI5Ljc1ODMiIHkxPSI2Ny4yOTY5IiB5Mj0iODcuMjk2OSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTI1Ljc1ODMsNzcuMjk2OSwxMjkuNzU4Myw4Ny4yOTY5LDEzMy43NTgzLDc3LjI5NjksMTI5Ljc1ODMsODEuMjk2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMjkuNzU4MyIgeDI9IjEyOS43NTgzIiB5MT0iMTIxLjI2NTYiIHkyPSIxNDQuNDE0MSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTI1Ljc1ODMsMTM0LjQxNDEsMTI5Ljc1ODMsMTQ0LjQxNDEsMTMzLjc1ODMsMTM0LjQxNDEsMTI5Ljc1ODMsMTM4LjQxNDEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTI5Ljc1ODMiIHgyPSIxMjkuNzU4MyIgeTE9IjE3OC4zODI4IiB5Mj0iMjAxLjUzMTMiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjEyNS43NTgzLDE5MS41MzEzLDEyOS43NTgzLDIwMS41MzEzLDEzMy43NTgzLDE5MS41MzEzLDEyOS43NTgzLDE5NS41MzEzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEyOS43NTgzIiB4Mj0iMTI5Ljc1ODMiIHkxPSIyMzUuNSIgeTI9IjI1OC42NDg0Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMjUuNzU4MywyNDguNjQ4NCwxMjkuNzU4MywyNTguNjQ4NCwxMzMuNzU4MywyNDguNjQ4NCwxMjkuNzU4MywyNTIuNjQ4NCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMjkuNzU4MyIgeDI9IjEyOS43NTgzIiB5MT0iMjkyLjYxNzIiIHkyPSIzMTUuNzY1NiIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTI1Ljc1ODMsMzA1Ljc2NTYsMTI5Ljc1ODMsMzE1Ljc2NTYsMTMzLjc1ODMsMzA1Ljc2NTYsMTI5Ljc1ODMsMzA5Ljc2NTYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNzAuMzc5MSIgeDI9IjcwLjM3OTEiIHkxPSIzNzguODgyOCIgeTI9IjM5OC44ODI4Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI2Ni4zNzkxLDM4OC44ODI4LDcwLjM3OTEsMzk4Ljg4MjgsNzQuMzc5MSwzODguODgyOCw3MC4zNzkxLDM5Mi44ODI4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE4OS4xMzc0IiB4Mj0iMTg5LjEzNzQiIHkxPSIzNzguODgyOCIgeTI9IjM5OC44ODI4Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxODUuMTM3NCwzODguODgyOCwxODkuMTM3NCwzOTguODgyOCwxOTMuMTM3NCwzODguODgyOCwxODkuMTM3NCwzOTIuODgyOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI3MC4zNzkxIiB4Mj0iNzAuMzc5MSIgeTE9IjQzMi44NTE2IiB5Mj0iNDUyLjg1MTYiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjY2LjM3OTEsNDQyLjg1MTYsNzAuMzc5MSw0NTIuODUxNiw3NC4zNzkxLDQ0Mi44NTE2LDcwLjM3OTEsNDQ2Ljg1MTYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTg5LjEzNzQiIHgyPSIxODkuMTM3NCIgeTE9IjQzMi44NTE2IiB5Mj0iNDUyLjg1MTYiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjE4NS4xMzc0LDQ0Mi44NTE2LDE4OS4xMzc0LDQ1Mi44NTE2LDE5My4xMzc0LDQ0Mi44NTE2LDE4OS4xMzc0LDQ0Ni44NTE2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEyOS43NTgzIiB4Mj0iMTI5Ljc1ODMiIHkxPSIzNDkuNzM0NCIgeTI9IjM3Mi44ODI4Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMjUuNzU4MywzNjIuODgyOCwxMjkuNzU4MywzNzIuODgyOCwxMzMuNzU4MywzNjIuODgyOCwxMjkuNzU4MywzNjYuODgyOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjw/cGxhbnR1bWwtc3JjIFhQOURKaTkwNUNWdFN1ZWtPTTQ4OE14NFUwQ0llWVNXNFA1ZThDNFVlN0dJbjIxLTEybkFJQTJNM3A2QUFJVzJXZVRuY0VicXZITHlxc3dBbVJnUmwzVnAtX3JkdGlYZi1KV2ZNVE1jTEpOdUd6NmdWZjN5bUF2VktCRkRVWUxSUUk1cThZVG9Damh3a2N1SE4yN2dYRTBvS1FTNHJtWms0cG1BQjJWRmhENnF0aXdmRGRPSG1JWkFQRU1hYjRrZDNjTDROcHd2Z1NDTU13anlwLWlIZVpHc3dWR0xNR0ZUa1loR3lrcm9LT1F3QTJLcC12OHVZT0hFWG1lU3VTQy1ET09rczh5Uk5pRGFaVThneW51Z3g0YnRjSTdsak50SDQzYjJ5NVpXX1pDT2ozYlpDeXNCM2lKWVV4dkY0aE9MNHJQVzJWelhnTkxNQk1yc2ZsMWt0Wnd6ZkVRRGhQSzJpVHJ1S0RoVXM5NzRRNUpKNkxFN3UzZENvRFNDUEE1cjB3cEhYallUMmZxR0JIT3kyR3dva0lDSGV5RDdTcHZ5OS1nWmVyQVlKYVRBZjFCZlpFWHRrUjYwRl9JeDN3MFY/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h4 id="_5">各計画レベルの概要<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>レベル</th>
<th>計画名</th>
<th>対象期間</th>
<th>管理単位</th>
<th>主な責任者</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>ビジネスプラン</td>
<td>3〜5年</td>
<td>年</td>
<td>経営層</td>
</tr>
<tr>
<td>2</td>
<td>年間販売計画</td>
<td>1年</td>
<td>月</td>
<td>営業部門</td>
</tr>
<tr>
<td>3</td>
<td>月次生産計画</td>
<td>1〜3ヶ月</td>
<td>月</td>
<td>生産管理部門</td>
</tr>
<tr>
<td>4</td>
<td>基準生産計画（MPS）</td>
<td>1週〜1ヶ月</td>
<td>日</td>
<td>生産管理部門</td>
</tr>
<tr>
<td>5</td>
<td>所要量展開（MRP）</td>
<td>1日〜1週間</td>
<td>日/時間</td>
<td>生産管理部門</td>
</tr>
</tbody>
</table>
<h3 id="mps">基準生産計画（MPS）の理解<a class="headerlink" href="#mps" title="Permanent link">&para;</a></h3>
<p>基準生産計画（Master Production Schedule）は、最終製品の生産計画です。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjQ1MXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NjA1cHg7aGVpZ2h0OjQ1MXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDYwNSA0NTEiIHdpZHRoPSI2MDVweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjI1MjI7JiMyODMxMDsmIzI5OTgzOyYjMjk5ODc7JiMzNTMzNjsmIzMwMDExOyYjNjUyODg7TVBTJiM2NTI4OTsmIzEyMzk4OyYjMjAzMDE7JiMzMjYyMjsmIzEyMzg5OyYjMTIzNjk7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjE2LjI3NDYiIHg9IjE4Ny4zNjI3IiB5PSIyMi45OTUxIj4mIzIyNTIyOyYjMjgzMTA7JiMyOTk4MzsmIzI5OTg3OyYjMzUzMzY7JiMzMDAxMTsmIzY1Mjg4O01QUyYjNjUyODk7JiMxMjM5ODsmIzIwMzAxOyYjMzI2MjI7JiMxMjM4OTsmIzEyMzY5OzwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgZGVtYW5kLS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9ImRlbWFuZCIgZGF0YS1zb3VyY2UtbGluZT0iMyIgaWQ9ImVudDAwMDIiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMTcxLjU5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iMjU0IiB4PSI1MCIgeT0iNDQuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxNDkuMDAwMSIgeT0iNTkuMjkyIj4mIzM4NjU2OyYjMzUyMDE7JiMyNDc3MzsmIzIyNTc3OzwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgc3VwcGx5LS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9InN1cHBseSIgZGF0YS1zb3VyY2UtbGluZT0iOSIgaWQ9ImVudDAwMDYiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMTcxLjU5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iMjU0IiB4PSIzNDUiIHk9IjQ0LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iNDQ0LjAwMDEiIHk9IjU5LjI5MiI+JiMyMDM3OTsmIzMyMTAyOyYjMjQ3NzM7JiMyMjU3Nzs8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIG1wcy0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJtcHMiIGRhdGEtc291cmNlLWxpbmU9IjE1IiBpZD0iZW50MDAxMCI+PHJlY3QgZmlsbD0iI0ZGRkYwMCIgaGVpZ2h0PSIxODkuNDUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI0MTciIHg9IjciIHk9IjI1NS44ODY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0Ni4yNzQ5IiB4PSIxNDIuMzYyNSIgeT0iMjcwLjg4MiI+TVBTJiM2NTI4ODsmIzIyNTIyOyYjMjgzMTA7JiMyOTk4MzsmIzI5OTg3OyYjMzUzMzY7JiMzMDAxMTsmIzY1Mjg5OzwvdGV4dD48L2c+PCEtLWVudGl0eSBvcmRlci0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9ImRlbWFuZC5vcmRlciIgZGF0YS1zb3VyY2UtbGluZT0iNCIgaWQ9ImVudDAwMDMiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjIuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNzUuOTk5OCIgeD0iNzQiIHk9Ijg3LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI4NCIgeT0iMTAzLjI5MiI+JiMyMTQ2MzsmIzI3ODgwOyYjMjQ3NzM7JiMyMjU3Nzs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgZm9yZWNhc3QtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJkZW1hbmQuZm9yZWNhc3QiIGRhdGEtc291cmNlLWxpbmU9IjUiIGlkPSJlbnQwMDA0Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIyLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9Ijc1Ljk5OTgiIHg9IjE4NSIgeT0iODcuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjE5NSIgeT0iMTAzLjI5MiI+JiMzODY1NjsmIzM1MjAxOyYjMjAxMDQ7JiMyODIwNDs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgc2FmZXR5LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iZGVtYW5kLnNhZmV0eSIgZGF0YS1zb3VyY2UtbGluZT0iNiIgaWQ9ImVudDAwMDUiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjIuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNzUuOTk5OCIgeD0iNzQiIHk9IjE2OS41OTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iODQiIHk9IjE4NS41OTIiPiYjMjM0MzM7JiMyMDg0MDsmIzIyMzEyOyYjMjQyMzU7PC90ZXh0PjwvZz48IS0tZW50aXR5IGludmVudG9yeS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9InN1cHBseS5pbnZlbnRvcnkiIGRhdGEtc291cmNlLWxpbmU9IjEwIiBpZD0iZW50MDAwNyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyMi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI3NS45OTk4IiB4PSIzNjkiIHk9Ijg3LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIzNzkiIHk9IjEwMy4yOTIiPiYjMjIzMTI7JiMyNDIzNTsmIzI0NzczOyYjMjI1Nzc7PC90ZXh0PjwvZz48IS0tZW50aXR5IHdpcC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9InN1cHBseS53aXAiIGRhdGEtc291cmNlLWxpbmU9IjExIiBpZD0iZW50MDAwOCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyMi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI3NS45OTk4IiB4PSI0ODAiIHk9Ijg3LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI0OTAiIHk9IjEwMy4yOTIiPiYjMjAxODE7JiMyNTQ5OTsmIzI0NzczOyYjMjI1Nzc7PC90ZXh0PjwvZz48IS0tZW50aXR5IHBvLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0ic3VwcGx5LnBvIiBkYXRhLXNvdXJjZS1saW5lPSIxMiIgaWQ9ImVudDAwMDkiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjIuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNjEuOTk5OCIgeD0iMzc2IiB5PSIxNjkuNTk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjk5OTgiIHg9IjM4NiIgeT0iMTg1LjU5MiI+JiMzMDMzMDsmIzI3ODgwOyYjMjc1MzE7PC90ZXh0PjwvZz48IS0tZW50aXR5IG1wczEtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJtcHMubXBzMSIgZGF0YS1zb3VyY2UtbGluZT0iMTYiIGlkPSJlbnQwMDExIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIyLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE2MS44MDQ1IiB4PSIzMS4xIiB5PSIyOTguODg2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0MS44MDQ1IiB4PSI0MS4xIiB5PSIzMTQuODgyIj4mIzM1MDY5OyYjMjE2OTc7QTogMTAwJiMyMDQ5MTsgQCAxLzE1PC90ZXh0PjwvZz48IS0tZW50aXR5IG1wczItLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJtcHMubXBzMiIgZGF0YS1zb3VyY2UtbGluZT0iMTciIGlkPSJlbnQwMDEyIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIyLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1Mi45MjQ2IiB4PSIyMjcuNTQiIHk9IjI5OC44ODY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMyLjkyNDYiIHg9IjIzNy41NCIgeT0iMzE0Ljg4MiI+JiMzNTA2OTsmIzIxNjk3O0I6IDUwJiMyMDQ5MTsgQCAxLzIwPC90ZXh0PjwvZz48IS0tZW50aXR5IG1wczMtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJtcHMubXBzMyIgZGF0YS1zb3VyY2UtbGluZT0iMTgiIGlkPSJlbnQwMDEzIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIyLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE2Mi4wMDI3IiB4PSIzMSIgeT0iMzk5LjAzNjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDIuMDAyNyIgeD0iNDEiIHk9IjQxNS4wMzIiPiYjMzUwNjk7JiMyMTY5NztDOiAyMDAmIzIwNDkxOyBAIDEvMjU8L3RleHQ+PC9nPjwhLS1lbnRpdHkgTVJQPz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJNUlAuLiIgZGF0YS1zb3VyY2UtbGluZT0iMjMiIGlkPSJlbnQwMDE2Ij48ZWxsaXBzZSBjeD0iNDg1IiBjeT0iNDEwLjE4NjkiIGZpbGw9IiNGMUYxRjEiIHJ4PSI4IiByeT0iOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTguMjQ4OSIgeD0iNDU1Ljg3NTUiIHk9IjQ0MC4xODIiPk1SUCYjMjM2Mzc7JiMzODI4Mzs8L3RleHQ+PC9nPjwhLS1saW5rIGRlbWFuZCB0byBtcHMtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMiIgZGF0YS1lbnRpdHktMj0iZW50MDAxMCIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjIxIiBpZD0ibG5rMTQiPjxwYXRoIGQ9Ik0zMDQuMTYyNywxNDQuOTMxNyBDMzA0LjIxNzYsMTQ1LjE0MiAzMDQuMjczLDE0NS4zNTI1IDMwNC4zMjg3LDE0NS41NjM1IEMzMDQuNDQsMTQ1Ljk4NTQgMzA0LjU1MjgsMTQ2LjQwODcgMzA0LjY2NzEsMTQ2LjgzMzQgQzMwNS4xMjQsMTQ4LjUzMjIgMzA1LjYwMzgsMTUwLjI1MzEgMzA2LjEwNzUsMTUxLjk5MTkgQzMxNC4xNjc1LDE3OS44MTE5IDMyOC4zNiwyMTIuMjAxOSAzNTMsMjMxLjg4NjkgQzM2OC4xOSwyNDQuMDI2OSAzODEuNiwyMjYuODM2OSAzOTYsMjM5Ljg4NjkgQzM5OC44NywyNDIuNDg5NCA0MDEuMzM4MSwyNDUuNDc1NiA0MDMuNDU5NiwyNDguNzE0NSBDNDA0LjUyMDQsMjUwLjMzNCA0MDUuNDk0NSwyNTIuMDE2NiA0MDYuMzg4OCwyNTMuNzQ2IEM0MDYuNjEyNCwyNTQuMTc4MyA0MDYuODMxLDI1NC42MTM2IDQwNy4wNDQ3LDI1NS4wNTE2IEM0MDcuMTUxNiwyNTUuMjcwNSA0MDQuNjg2NywyNTAuMDY4NyA0MDQuNzkxMiwyNTAuMjg5IiBmaWxsPSJub25lIiBpZD0iZGVtYW5kLXRvLW1wcyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNDA3LjM2MTcsMjU1LjcxMDQsNDA3LjEyMDIsMjQ1Ljg2NDUsNDA1LjIxOTYsMjUxLjE5MjUsMzk5Ljg5MTYsMjQ5LjI5MTksNDA3LjM2MTcsMjU1LjcxMDQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgc3VwcGx5IHRvIG1wcy0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA2IiBkYXRhLWVudGl0eS0yPSJlbnQwMDEwIiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMjIiIGlkPSJsbmsxNSI+PHBhdGggZD0iTTU4MS4wMDk2LDIxNi40ODEzIEM1ODAuODE0MiwyMTYuODk4IDU4MC42MTYyLDIxNy4zMTMyIDU4MC40MTU2LDIxNy43MjY5IEM1NzkuNjEzMSwyMTkuMzgxOCA1NzguNzY4MywyMjEuMDEzIDU3Ny44Nzk0LDIyMi42MTcgQzU3Ni4xMDE1LDIyNS44MjUxIDU3NC4xNDY5LDIyOC45MjQ0IDU3MiwyMzEuODg2OSBDNTQ5LjY2NSwyNjIuNzE2OSA1MTEuNTI1LDI4MS44ODk0IDQ3OC41NDg4LDI5My40MTA2IEM0NjIuMDYwNiwyOTkuMTcxMyA0NDYuODYzNCwzMDMuMDE5MSA0MzUuNTc4MywzMDUuNDU0OCBDNDMyLjc1NywzMDYuMDYzOCA0MzAuMTgwMiwzMDYuNTg0NSA0MjcuODg4OSwzMDcuMDI0NyBDNDI2Ljc0MzIsMzA3LjI0NDkgNDI1LjY2ODksMzA3LjQ0NDkgNDI0LjY3MTEsMzA3LjYyNTggQzQyNC41NDY0LDMwNy42NDg0IDQzMC4zMjgsMzA2LjYwNzkgNDMwLjIwNTYsMzA2LjYyOTkiIGZpbGw9Im5vbmUiIGlkPSJzdXBwbHktdG8tbXBzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0MjQuMzAwNSwzMDcuNjkyNyw0MzMuODY2NywzMTAuMDM1Myw0MjkuMjIxNCwzMDYuODA3MSw0MzIuNDQ5NywzMDIuMTYxOCw0MjQuMzAwNSwzMDcuNjkyNyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBtcHMgdG8gTVJQPz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAxMCIgZGF0YS1lbnRpdHktMj0iZW50MDAxNiIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjIzIiBpZD0ibG5rMTciPjxwYXRoIGQ9Ik00MjQuMjE3MSwzMjIuNzI0OSBDNDI0LjI5MSwzMjIuODMgNDI0LjM2NTMsMzIyLjkzNTcgNDI0LjQ0LDMyMy4wNDE5IEM0MjkuMjE5NCwzMjkuODQgNDM1LjU5NzUsMzM4LjkxMTkgNDQyLjQyMjUsMzQ4LjYxOTQgQzQ1Ni4wNzI1LDM2OC4wMzQ0IDQ2OC4wNTk1LDM4NS4wODMzIDQ3Ni4wNjk1LDM5Ni40NzgzIiBmaWxsPSJub25lIiBpZD0ibXBzLXRvLU1SUCYjMjM2Mzc7JiMzODI4MzsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjQ3OS41Miw0MDEuMzg2OSw0NzcuNjE2NywzOTEuNzIzNyw0NzYuNjQ0NiwzOTcuMjk2NCw0NzEuMDcxOSwzOTYuMzI0Myw0NzkuNTIsNDAxLjM4NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PD9wbGFudHVtbC1zcmMgQXlhaW9LYkxVM2ZfcnhEVHF2dkZjVnp5b2s4TkFwZ1VKemR6VmEtN1JxM20tcHNUWm5sTkZUZFItdHBsa2lVRElueXRKa0pZQWFmREJhZENJbVZnS2RldmYtNzVpaVBkcFFyRjVzbktLYVdpTGFYOXBLdENJcjZldmFmRUI0ZkhLN2hRRl90UHZYTDh5bGI1QVFiNUs0Yzh2WVV4RWZ4ak0wRU1KQ2k3NmZyT04wQkpsQXhwUVVrQWZ0RE1GRHNyNlluVmQ5WU1NYkI5TE9sWVgyVnhQWl9Wa1dwOVlrQklXZUFTSWVHSm1GZ0h2M0Zwb2JCcElsQUJBZzRBZGtvVS1nbmxEZkEyeWltMmdESnBjUmowcGJfTjNIT2xvNFVwNlhtLTdUWTJoWEVpOFJVV000NHZDWktkOXh5U3hmbU5ZX1MtZFRwZVFBTFdRNjNtakE1Um1LNzFLRF9HNUFSUzQ0TUxhdk0yQUxvSGFHNUNhSDZBOGNTaDFJRTRLS1BtZXVuMVplTDZYd3drN0tZODJuZXFDMng4Vkkyc1JyMzBxdXJKTnF4aDFXMDA/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_6">計画データのスキーマ設計<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<details>
<summary>DDL（生産計画関連テーブル）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">-- V008__create_planning_tables.sql</span>

<span class="c1">-- 計画ステータス</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TYPE</span><span class="w"> </span><span class="err">計画ステータス</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ENUM</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;草案&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;確定&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;展開済&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;取消&#39;</span><span class="p">);</span>

<span class="c1">-- オーダ種別</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TYPE</span><span class="w"> </span><span class="err">オーダ種別</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ENUM</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;購買&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;製造&#39;</span><span class="p">);</span>

<span class="c1">-- 引当区分</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TYPE</span><span class="w"> </span><span class="err">引当区分</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ENUM</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;在庫&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;発注残&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;製造残&#39;</span><span class="p">);</span>

<span class="c1">-- 基準生産計画</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;基準生産計画&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ID&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;MPS番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;計画日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;品目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;計画数量&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;納期&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;ステータス&quot;</span><span class="w"> </span><span class="err">計画ステータス</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;草案&#39;</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;場所コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;備考&quot;</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_基準生産計画_品目&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;品目マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- オーダ情報（購買・製造共通）</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;オーダ情報&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ID&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;オーダNO&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;オーダ種別&quot;</span><span class="w"> </span><span class="err">オーダ種別</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;品目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;着手予定日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;納期&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;有効期限&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;計画数量&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;場所コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;ステータス&quot;</span><span class="w"> </span><span class="err">計画ステータス</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;草案&#39;</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;MPS_ID&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;親オーダID&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_オーダ情報_品目&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;品目マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_オーダ情報_MPS&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;MPS_ID&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;基準生産計画&quot;</span><span class="p">(</span><span class="ss">&quot;ID&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_オーダ情報_親オーダ&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;親オーダID&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;オーダ情報&quot;</span><span class="p">(</span><span class="ss">&quot;ID&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- 所要情報</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;所要情報&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ID&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;所要NO&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;オーダID&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;品目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;納期&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;必要数量&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;引当済数量&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;不足数量&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;場所コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_所要情報_オーダ&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;オーダID&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;オーダ情報&quot;</span><span class="p">(</span><span class="ss">&quot;ID&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_所要情報_品目&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;品目マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- 引当情報</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;引当情報&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ID&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;所要ID&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;引当区分&quot;</span><span class="w"> </span><span class="err">引当区分</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;オーダID&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;引当日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;引当数量&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;場所コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_引当情報_所要&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;所要ID&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;所要情報&quot;</span><span class="p">(</span><span class="ss">&quot;ID&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_引当情報_オーダ&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;オーダID&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;オーダ情報&quot;</span><span class="p">(</span><span class="ss">&quot;ID&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- インデックス</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_基準生産計画_品目コード&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;基準生産計画&quot;</span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_基準生産計画_納期&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;基準生産計画&quot;</span><span class="p">(</span><span class="ss">&quot;納期&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_オーダ情報_品目コード&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;オーダ情報&quot;</span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_オーダ情報_納期&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;オーダ情報&quot;</span><span class="p">(</span><span class="ss">&quot;納期&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_オーダ情報_MPS_ID&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;オーダ情報&quot;</span><span class="p">(</span><span class="ss">&quot;MPS_ID&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_所要情報_オーダID&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;所要情報&quot;</span><span class="p">(</span><span class="ss">&quot;オーダID&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_所要情報_品目コード&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;所要情報&quot;</span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_引当情報_所要ID&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;引当情報&quot;</span><span class="p">(</span><span class="ss">&quot;所要ID&quot;</span><span class="p">);</span>
</code></pre></div>

</details>

<h3 id="_7">アーキテクチャ構造<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<p>生産計画でも、ヘキサゴナルアーキテクチャ（ポート＆アダプター）を採用します。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjM2N3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MjYxOHB4O2hlaWdodDozNjdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAyNjE4IDM2NyIgd2lkdGg9IjI2MThweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjwhLS1jbHVzdGVyIGRvbWFpbi5tb2RlbC5wbGFuLS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9ImRvbWFpbi5tb2RlbC5wbGFuIiBkYXRhLXNvdXJjZS1saW5lPSIzIiBpZD0iZW50MDAwMiI+PHBhdGggZD0iTTguNSw0OSBMMTYxLjMzMyw0OSBBMy43NSwzLjc1IDAgMCAxIDE2My44MzMsNTEuNSBMMTcwLjgzMyw3MS4yOTY5IEw0ODQuNSw3MS4yOTY5IEEyLjUsMi41IDAgMCAxIDQ4Nyw3My43OTY5IEw0ODcsMzU3LjY5IEEyLjUsMi41IDAgMCAxIDQ4NC41LDM2MC4xOSBMOC41LDM2MC4xOSBBMi41LDIuNSAwIDAgMSA2LDM1Ny42OSBMNiw1MS41IEEyLjUsMi41IDAgMCAxIDguNSw0OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNiIgeDI9IjE3MC44MzMiIHkxPSI3MS4yOTY5IiB5Mj0iNzEuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTEuODMzIiB4PSIxMCIgeT0iNjMuOTk1MSI+ZG9tYWluLm1vZGVsLnBsYW48L3RleHQ+PC9nPjwhLS1jbHVzdGVyIGFwcGxpY2F0aW9uLnBvcnQub3V0LS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9ImFwcGxpY2F0aW9uLnBvcnQub3V0IiBkYXRhLXNvdXJjZS1saW5lPSIxMyIgaWQ9ImVudDAwMTAiPjxwYXRoIGQ9Ik0xODY3LjUsMTYwLjMgTDIwMjYuNTYwNSwxNjAuMyBBMy43NSwzLjc1IDAgMCAxIDIwMjkuMDYwNSwxNjIuOCBMMjAzNi4wNjA1LDE4Mi41OTY5IEwyNjA4LjUsMTgyLjU5NjkgQTIuNSwyLjUgMCAwIDEgMjYxMSwxODUuMDk2OSBMMjYxMSwyNjEuMzkgQTIuNSwyLjUgMCAwIDEgMjYwOC41LDI2My44OSBMMTg2Ny41LDI2My44OSBBMi41LDIuNSAwIDAgMSAxODY1LDI2MS4zOSBMMTg2NSwxNjIuOCBBMi41LDIuNSAwIDAgMSAxODY3LjUsMTYwLjMiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjE4NjUiIHgyPSIyMDM2LjA2MDUiIHkxPSIxODIuNTk2OSIgeTI9IjE4Mi41OTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1OC4wNjA1IiB4PSIxODY5IiB5PSIxNzUuMjk1MSI+YXBwbGljYXRpb24ucG9ydC5vdXQ8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIGFwcGxpY2F0aW9uLnNlcnZpY2UtLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iYXBwbGljYXRpb24uc2VydmljZSIgZGF0YS1zb3VyY2UtbGluZT0iMjAiIGlkPSJlbnQwMDE1Ij48cGF0aCBkPSJNMjEyNS41LDQ5IEwyMjc2LjE3OTcsNDkgQTMuNzUsMy43NSAwIDAgMSAyMjc4LjY3OTcsNTEuNSBMMjI4NS42Nzk3LDcxLjI5NjkgTDIyODUuNSw3MS4yOTY5IEEyLjUsMi41IDAgMCAxIDIyODgsNzMuNzk2OSBMMjI4OCwxMzMuOCBBMi41LDIuNSAwIDAgMSAyMjg1LjUsMTM2LjMgTDIxMjUuNSwxMzYuMyBBMi41LDIuNSAwIDAgMSAyMTIzLDEzMy44IEwyMTIzLDUxLjUgQTIuNSwyLjUgMCAwIDEgMjEyNS41LDQ5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIyMTIzIiB4Mj0iMjI4NS42Nzk3IiB5MT0iNzEuMjk2OSIgeTI9IjcxLjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ5LjY3OTciIHg9IjIxMjciIHk9IjYzLjk5NTEiPmFwcGxpY2F0aW9uLnNlcnZpY2U8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIGluZnJhc3RydWN0dXJlLnBlcnNpc3RlbmNlLS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9ImluZnJhc3RydWN0dXJlLnBlcnNpc3RlbmNlIiBkYXRhLXNvdXJjZS1saW5lPSIyNCIgaWQ9ImVudDAwMTciPjxwYXRoIGQ9Ik01MTMuNSw2IEw3MjIuMTE0Myw2IEEzLjc1LDMuNzUgMCAwIDEgNzI0LjYxNDMsOC41IEw3MzEuNjE0MywyOC4yOTY5IEwxODM4LjUsMjguMjk2OSBBMi41LDIuNSAwIDAgMSAxODQxLDMwLjc5NjkgTDE4NDEsMjc3LjI0IEEyLjUsMi41IDAgMCAxIDE4MzguNSwyNzkuNzQgTDUxMy41LDI3OS43NCBBMi41LDIuNSAwIDAgMSA1MTEsMjc3LjI0IEw1MTEsOC41IEEyLjUsMi41IDAgMCAxIDUxMy41LDYiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjUxMSIgeDI9IjczMS42MTQzIiB5MT0iMjguMjk2OSIgeTI9IjI4LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjA3LjYxNDMiIHg9IjUxNSIgeT0iMjAuOTk1MSI+aW5mcmFzdHJ1Y3R1cmUucGVyc2lzdGVuY2U8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIG1hcHBlci0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJpbmZyYXN0cnVjdHVyZS5wZXJzaXN0ZW5jZS5tYXBwZXIiIGRhdGEtc291cmNlLWxpbmU9IjI1IiBpZD0iZW50MDAxOCI+PHBhdGggZD0iTTkxMS41LDE2OC40NSBMOTcyLjk3NzUsMTY4LjQ1IEEzLjc1LDMuNzUgMCAwIDEgOTc1LjQ3NzUsMTcwLjk1IEw5ODIuNDc3NSwxOTAuNzQ2OSBMMTcyMS41LDE5MC43NDY5IEEyLjUsMi41IDAgMCAxIDE3MjQsMTkzLjI0NjkgTDE3MjQsMjUzLjI0IEEyLjUsMi41IDAgMCAxIDE3MjEuNSwyNTUuNzQgTDkxMS41LDI1NS43NCBBMi41LDIuNSAwIDAgMSA5MDksMjUzLjI0IEw5MDksMTcwLjk1IEEyLjUsMi41IDAgMCAxIDkxMS41LDE2OC40NSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iOTA5IiB4Mj0iOTgyLjQ3NzUiIHkxPSIxOTAuNzQ2OSIgeTI9IjE5MC43NDY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYwLjQ3NzUiIHg9IjkxMyIgeT0iMTgzLjQ0NTEiPm1hcHBlcjwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgcmVwb3NpdG9yeS0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJpbmZyYXN0cnVjdHVyZS5wZXJzaXN0ZW5jZS5yZXBvc2l0b3J5IiBkYXRhLXNvdXJjZS1saW5lPSIzMSIgaWQ9ImVudDAwMjMiPjxwYXRoIGQ9Ik05NTEuNSw0OSBMMTAzNC4wMTE3LDQ5IEEzLjc1LDMuNzUgMCAwIDEgMTAzNi41MTE3LDUxLjUgTDEwNDMuNTExNyw3MS4yOTY5IEwxODE0LjUsNzEuMjk2OSBBMi41LDIuNSAwIDAgMSAxODE3LDczLjc5NjkgTDE4MTcsMTMzLjggQTIuNSwyLjUgMCAwIDEgMTgxNC41LDEzNi4zIEw5NTEuNSwxMzYuMyBBMi41LDIuNSAwIDAgMSA5NDksMTMzLjggTDk0OSw1MS41IEEyLjUsMi41IDAgMCAxIDk1MS41LDQ5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI5NDkiIHgyPSIxMDQzLjUxMTciIHkxPSI3MS4yOTY5IiB5Mj0iNzEuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4MS41MTE3IiB4PSI5NTMiIHk9IjYzLjk5NTEiPnJlcG9zaXRvcnk8L3RleHQ+PC9nPjwhLS1lbnRpdHkgUGxhblN0YXR1cy0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9ImRvbWFpbi5tb2RlbC5wbGFuLlBsYW5TdGF0dXMiIGRhdGEtc291cmNlLWxpbmU9IjQiIGlkPSJlbnQwMDAzIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjM2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9Ijk0LjM5NTUiIHg9Ijc4LjgiIHk9Ijg0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzQuMzk1NSIgeD0iODguOCIgeT0iMTA2Ljk5NTEiPlBsYW5TdGF0dXM8L3RleHQ+PC9nPjwhLS1lbnRpdHkgT3JkZXJUeXBlLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iZG9tYWluLm1vZGVsLnBsYW4uT3JkZXJUeXBlIiBkYXRhLXNvdXJjZS1saW5lPSI1IiBpZD0iZW50MDAwNCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzNi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI5NC4zNjgyIiB4PSIyMDcuODIiIHk9Ijg0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzQuMzY4MiIgeD0iMjE3LjgyIiB5PSIxMDYuOTk1MSI+T3JkZXJUeXBlPC90ZXh0PjwvZz48IS0tZW50aXR5IEFsbG9jYXRpb25UeXBlLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iZG9tYWluLm1vZGVsLnBsYW4uQWxsb2NhdGlvblR5cGUiIGRhdGEtc291cmNlLWxpbmU9IjYiIGlkPSJlbnQwMDA1Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjM2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyMy4zNTI1IiB4PSIzMzcuMzIiIHk9Ijg0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTAzLjM1MjUiIHg9IjM0Ny4zMiIgeT0iMTA2Ljk5NTEiPkFsbG9jYXRpb25UeXBlPC90ZXh0PjwvZz48IS0tZW50aXR5IE1hc3RlclByb2R1Y3Rpb25TY2hlZHVsZS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9ImRvbWFpbi5tb2RlbC5wbGFuLk1hc3RlclByb2R1Y3Rpb25TY2hlZHVsZSIgZGF0YS1zb3VyY2UtbGluZT0iNyIgaWQ9ImVudDAwMDYiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMjA3LjE4MTYiIHg9IjIyLjQxIiB5PSIyMDMuNDUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxODcuMTgxNiIgeD0iMzIuNDEiIHk9IjIyNi40NDUxIj5NYXN0ZXJQcm9kdWN0aW9uU2NoZWR1bGU8L3RleHQ+PC9nPjwhLS1lbnRpdHkgT3JkZXItLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJkb21haW4ubW9kZWwucGxhbi5PcmRlciIgZGF0YS1zb3VyY2UtbGluZT0iOCIgaWQ9ImVudDAwMDciPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNjAuMDMxMyIgeD0iMjY0Ljk4IiB5PSIyMDMuNDUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MC4wMzEzIiB4PSIyNzQuOTgiIHk9IjIyNi40NDUxIj5PcmRlcjwvdGV4dD48L2c+PCEtLWVudGl0eSBSZXF1aXJlbWVudC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9ImRvbWFpbi5tb2RlbC5wbGFuLlJlcXVpcmVtZW50IiBkYXRhLXNvdXJjZS1saW5lPSI5IiBpZD0iZW50MDAwOCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzNi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMTAuOTcyNyIgeD0iMzYwLjUxIiB5PSIyMDMuNDUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MC45NzI3IiB4PSIzNzAuNTEiIHk9IjIyNi40NDUxIj5SZXF1aXJlbWVudDwvdGV4dD48L2c+PCEtLWVudGl0eSBBbGxvY2F0aW9uLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iZG9tYWluLm1vZGVsLnBsYW4uQWxsb2NhdGlvbiIgZGF0YS1zb3VyY2UtbGluZT0iMTAiIGlkPSJlbnQwMDA5Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjM2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9Ijg5LjAxNTYiIHg9IjgxLjQ5IiB5PSIzMDcuODkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS4wMTU2IiB4PSI5MS40OSIgeT0iMzMwLjg4NTEiPkFsbG9jYXRpb248L3RleHQ+PC9nPjwhLS1lbnRpdHkgTXBzUmVwb3NpdG9yeS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9ImFwcGxpY2F0aW9uLnBvcnQub3V0Lk1wc1JlcG9zaXRvcnkiIGRhdGEtc291cmNlLWxpbmU9IjE0IiBpZD0iZW50MDAxMSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI1Mi41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjMuMzMyIiB4PSIxODgxLjMzIiB5PSIxOTUuMyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzkuNTcwMyIgeD0iMTkwMy4yMTA5IiB5PSIyMTguMjk1MSI+JiMxNzE7aW50ZXJmYWNlJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMy4zMzIiIHg9IjE4OTEuMzMiIHk9IjIzNC41OTIiPk1wc1JlcG9zaXRvcnk8L3RleHQ+PC9nPjwhLS1lbnRpdHkgT3JkZXJSZXBvc2l0b3J5LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iYXBwbGljYXRpb24ucG9ydC5vdXQuT3JkZXJSZXBvc2l0b3J5IiBkYXRhLXNvdXJjZS1saW5lPSIxNSIgaWQ9ImVudDAwMTIiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNTIuNTkzOCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTM1LjEwMzUiIHg9IjIwMzkuNDUiIHk9IjE5NS4zIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OS41NzAzIiB4PSIyMDY3LjIxNjYiIHk9IjIxOC4yOTUxIj4mIzE3MTtpbnRlcmZhY2UmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE1LjEwMzUiIHg9IjIwNDkuNDUiIHk9IjIzNC41OTIiPk9yZGVyUmVwb3NpdG9yeTwvdGV4dD48L2c+PCEtLWVudGl0eSBSZXF1aXJlbWVudFJlcG9zaXRvcnktLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJhcHBsaWNhdGlvbi5wb3J0Lm91dC5SZXF1aXJlbWVudFJlcG9zaXRvcnkiIGRhdGEtc291cmNlLWxpbmU9IjE2IiBpZD0iZW50MDAxMyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI1Mi41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxODYuMDQ0OSIgeD0iMjIwOS45OCIgeT0iMTk1LjMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc5LjU3MDMiIHg9IjIyNjMuMjE3MyIgeT0iMjE4LjI5NTEiPiYjMTcxO2ludGVyZmFjZSYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjYuMDQ0OSIgeD0iMjIxOS45OCIgeT0iMjM0LjU5MiI+UmVxdWlyZW1lbnRSZXBvc2l0b3J5PC90ZXh0PjwvZz48IS0tZW50aXR5IEFsbG9jYXRpb25SZXBvc2l0b3J5LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iYXBwbGljYXRpb24ucG9ydC5vdXQuQWxsb2NhdGlvblJlcG9zaXRvcnkiIGRhdGEtc291cmNlLWxpbmU9IjE3IiBpZD0iZW50MDAxNCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI1Mi41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNjQuMDg3OSIgeD0iMjQzMC45NiIgeT0iMTk1LjMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc5LjU3MDMiIHg9IjI0NzMuMjE4OCIgeT0iMjE4LjI5NTEiPiYjMTcxO2ludGVyZmFjZSYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDQuMDg3OSIgeD0iMjQ0MC45NiIgeT0iMjM0LjU5MiI+QWxsb2NhdGlvblJlcG9zaXRvcnk8L3RleHQ+PC9nPjwhLS1lbnRpdHkgTXJwU2VydmljZS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9ImFwcGxpY2F0aW9uLnNlcnZpY2UuTXJwU2VydmljZSIgZGF0YS1zb3VyY2UtbGluZT0iMjEiIGlkPSJlbnQwMDE2Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjM2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9Ijk4LjQ2MjkiIHg9IjIxNTUuNzciIHk9Ijg0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzguNDYyOSIgeD0iMjE2NS43NyIgeT0iMTA2Ljk5NTEiPk1ycFNlcnZpY2U8L3RleHQ+PC9nPjwhLS1lbnRpdHkgUGxhblN0YXR1c1R5cGVIYW5kbGVyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iaW5mcmFzdHJ1Y3R1cmUucGVyc2lzdGVuY2UuUGxhblN0YXR1c1R5cGVIYW5kbGVyIiBkYXRhLXNvdXJjZS1saW5lPSIzNyIgaWQ9ImVudDAwMjgiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTgzLjg1NzQiIHg9IjUyNy4wNyIgeT0iODQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjMuODU3NCIgeD0iNTM3LjA3IiB5PSIxMDYuOTk1MSI+UGxhblN0YXR1c1R5cGVIYW5kbGVyPC90ZXh0PjwvZz48IS0tZW50aXR5IE9yZGVyVHlwZVR5cGVIYW5kbGVyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iaW5mcmFzdHJ1Y3R1cmUucGVyc2lzdGVuY2UuT3JkZXJUeXBlVHlwZUhhbmRsZXIiIGRhdGEtc291cmNlLWxpbmU9IjM4IiBpZD0iZW50MDAyOSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzNi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxODMuODMwMSIgeD0iNzQ2LjA4IiB5PSI4NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2My44MzAxIiB4PSI3NTYuMDgiIHk9IjEwNi45OTUxIj5PcmRlclR5cGVUeXBlSGFuZGxlcjwvdGV4dD48L2c+PCEtLWVudGl0eSBBbGxvY2F0aW9uVHlwZVR5cGVIYW5kbGVyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iaW5mcmFzdHJ1Y3R1cmUucGVyc2lzdGVuY2UuQWxsb2NhdGlvblR5cGVUeXBlSGFuZGxlciIgZGF0YS1zb3VyY2UtbGluZT0iMzkiIGlkPSJlbnQwMDMwIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjM2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjIxMi44MTQ1IiB4PSI1MjYuNTkiIHk9IjIwMy40NSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5Mi44MTQ1IiB4PSI1MzYuNTkiIHk9IjIyNi40NDUxIj5BbGxvY2F0aW9uVHlwZVR5cGVIYW5kbGVyPC90ZXh0PjwvZz48IS0tZW50aXR5IE1hc3RlclByb2R1Y3Rpb25TY2hlZHVsZU1hcHBlci0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9ImluZnJhc3RydWN0dXJlLnBlcnNpc3RlbmNlLm1hcHBlci5NYXN0ZXJQcm9kdWN0aW9uU2NoZWR1bGVNYXBwZXIiIGRhdGEtc291cmNlLWxpbmU9IjI2IiBpZD0iZW50MDAxOSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzNi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyNTkuOTgyNCIgeD0iOTI1LjAxIiB5PSIyMDMuNDUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMzkuOTgyNCIgeD0iOTM1LjAxIiB5PSIyMjYuNDQ1MSI+TWFzdGVyUHJvZHVjdGlvblNjaGVkdWxlTWFwcGVyPC90ZXh0PjwvZz48IS0tZW50aXR5IE9yZGVyTWFwcGVyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iaW5mcmFzdHJ1Y3R1cmUucGVyc2lzdGVuY2UubWFwcGVyLk9yZGVyTWFwcGVyIiBkYXRhLXNvdXJjZS1saW5lPSIyNyIgaWQ9ImVudDAwMjAiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTEyLjgzMiIgeD0iMTIxOS41OCIgeT0iMjAzLjQ1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTIuODMyIiB4PSIxMjI5LjU4IiB5PSIyMjYuNDQ1MSI+T3JkZXJNYXBwZXI8L3RleHQ+PC9nPjwhLS1lbnRpdHkgUmVxdWlyZW1lbnRNYXBwZXItLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJpbmZyYXN0cnVjdHVyZS5wZXJzaXN0ZW5jZS5tYXBwZXIuUmVxdWlyZW1lbnRNYXBwZXIiIGRhdGEtc291cmNlLWxpbmU9IjI4IiBpZD0iZW50MDAyMSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzNi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNjMuNzczNCIgeD0iMTM2Ny4xMSIgeT0iMjAzLjQ1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQzLjc3MzQiIHg9IjEzNzcuMTEiIHk9IjIyNi40NDUxIj5SZXF1aXJlbWVudE1hcHBlcjwvdGV4dD48L2c+PCEtLWVudGl0eSBBbGxvY2F0aW9uTWFwcGVyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iaW5mcmFzdHJ1Y3R1cmUucGVyc2lzdGVuY2UubWFwcGVyLkFsbG9jYXRpb25NYXBwZXIiIGRhdGEtc291cmNlLWxpbmU9IjI5IiBpZD0iZW50MDAyMiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzNi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNDEuODE2NCIgeD0iMTU2Ni4wOSIgeT0iMjAzLjQ1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIxLjgxNjQiIHg9IjE1NzYuMDkiIHk9IjIyNi40NDUxIj5BbGxvY2F0aW9uTWFwcGVyPC90ZXh0PjwvZz48IS0tZW50aXR5IE1wc1JlcG9zaXRvcnlJbXBsLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iaW5mcmFzdHJ1Y3R1cmUucGVyc2lzdGVuY2UucmVwb3NpdG9yeS5NcHNSZXBvc2l0b3J5SW1wbCIgZGF0YS1zb3VyY2UtbGluZT0iMzIiIGlkPSJlbnQwMDI0Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjM2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1My44NzUiIHg9Ijk2NS4wNiIgeT0iODQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzMuODc1IiB4PSI5NzUuMDYiIHk9IjEwNi45OTUxIj5NcHNSZXBvc2l0b3J5SW1wbDwvdGV4dD48L2c+PCEtLWVudGl0eSBPcmRlclJlcG9zaXRvcnlJbXBsLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iaW5mcmFzdHJ1Y3R1cmUucGVyc2lzdGVuY2UucmVwb3NpdG9yeS5PcmRlclJlcG9zaXRvcnlJbXBsIiBkYXRhLXNvdXJjZS1saW5lPSIzMyIgaWQ9ImVudDAwMjUiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTY1LjY0NjUiIHg9IjExNTQuMTgiIHk9Ijg0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ1LjY0NjUiIHg9IjExNjQuMTgiIHk9IjEwNi45OTUxIj5PcmRlclJlcG9zaXRvcnlJbXBsPC90ZXh0PjwvZz48IS0tZW50aXR5IFJlcXVpcmVtZW50UmVwb3NpdG9yeUltcGwtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJpbmZyYXN0cnVjdHVyZS5wZXJzaXN0ZW5jZS5yZXBvc2l0b3J5LlJlcXVpcmVtZW50UmVwb3NpdG9yeUltcGwiIGRhdGEtc291cmNlLWxpbmU9IjM0IiBpZD0iZW50MDAyNiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzNi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyMTYuNTg3OSIgeD0iMTM1NC43MSIgeT0iODQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTYuNTg3OSIgeD0iMTM2NC43MSIgeT0iMTA2Ljk5NTEiPlJlcXVpcmVtZW50UmVwb3NpdG9yeUltcGw8L3RleHQ+PC9nPjwhLS1lbnRpdHkgQWxsb2NhdGlvblJlcG9zaXRvcnlJbXBsLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iaW5mcmFzdHJ1Y3R1cmUucGVyc2lzdGVuY2UucmVwb3NpdG9yeS5BbGxvY2F0aW9uUmVwb3NpdG9yeUltcGwiIGRhdGEtc291cmNlLWxpbmU9IjM1IiBpZD0iZW50MDAyNyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzNi4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxOTQuNjMwOSIgeD0iMTYwNi42OCIgeT0iODQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNzQuNjMwOSIgeD0iMTYxNi42OCIgeT0iMTA2Ljk5NTEiPkFsbG9jYXRpb25SZXBvc2l0b3J5SW1wbDwvdGV4dD48L2c+PCEtLWxpbmsgTXJwU2VydmljZSB0byBNcHNSZXBvc2l0b3J5LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMTYiIGRhdGEtZW50aXR5LTI9ImVudDAwMTEiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI0MiIgaWQ9ImxuazMxIj48cGF0aCBkPSJNMjE1NS4zOSwxMTAuMjUgQzIxMTcuMjUsMTE3LjE1IDIwNjQuMTQsMTI5Ljk1IDIwMjIsMTUyLjMgQzIwMDEuMzQsMTYzLjI2IDE5ODUuNzE2MSwxNzYuMzAxIDE5NzEuMDU2MSwxOTAuNzMxIiBmaWxsPSJub25lIiBpZD0iTXJwU2VydmljZS10by1NcHNSZXBvc2l0b3J5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxOTY2Ljc4LDE5NC45NCwxOTc2LjAwMDEsMTkxLjQ3NzMsMTk3MC4zNDM0LDE5MS40MzI1LDE5NzAuMzg4MSwxODUuNzc1OSwxOTY2Ljc4LDE5NC45NCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBNcnBTZXJ2aWNlIHRvIE9yZGVyUmVwb3NpdG9yeS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDE2IiBkYXRhLWVudGl0eS0yPSJlbnQwMDEyIiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iNDMiIGlkPSJsbmszMiI+PHBhdGggZD0iTTIxOTAuMzMsMTIwLjczIEMyMTczLjg4LDE0MC40NCAyMTUwLjkxNDMsMTY3Ljk3MzQgMjEzMi4xNTQzLDE5MC40NTM0IiBmaWxsPSJub25lIiBpZD0iTXJwU2VydmljZS10by1PcmRlclJlcG9zaXRvcnkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIxMjguMzEsMTk1LjA2LDIxMzcuMTQ3NiwxOTAuNzEyOSwyMTMxLjUxMzYsMTkxLjIyMTEsMjEzMS4wMDU0LDE4NS41ODcyLDIxMjguMzEsMTk1LjA2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIE1ycFNlcnZpY2UgdG8gUmVxdWlyZW1lbnRSZXBvc2l0b3J5LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMTYiIGRhdGEtZW50aXR5LTI9ImVudDAwMTMiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI0NCIgaWQ9ImxuazMzIj48cGF0aCBkPSJNMjIxOS42NywxMjAuNzMgQzIyMzYuMTIsMTQwLjQ0IDIyNTkuMDg1NywxNjcuOTczNCAyMjc3Ljg0NTcsMTkwLjQ1MzQiIGZpbGw9Im5vbmUiIGlkPSJNcnBTZXJ2aWNlLXRvLVJlcXVpcmVtZW50UmVwb3NpdG9yeSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjI4MS42OSwxOTUuMDYsMjI3OC45OTQ2LDE4NS41ODcyLDIyNzguNDg2NCwxOTEuMjIxMSwyMjcyLjg1MjQsMTkwLjcxMjksMjI4MS42OSwxOTUuMDYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgTXJwU2VydmljZSB0byBBbGxvY2F0aW9uUmVwb3NpdG9yeS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDE2IiBkYXRhLWVudGl0eS0yPSJlbnQwMDE0IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iNDUiIGlkPSJsbmszNCI+PHBhdGggZD0iTTIyNTQuMzgsMTA5LjQ2IEMyMjk3LjgyLDExNi4yMiAyMzYyLjA0LDEyOS4yNSAyNDE0LDE1Mi4zIEMyNDM4LjYyLDE2My4yMiAyNDU4LjgyMDgsMTc2LjgxMzMgMjQ3Ny41MTA4LDE5MS4yNDMzIiBmaWxsPSJub25lIiBpZD0iTXJwU2VydmljZS10by1BbGxvY2F0aW9uUmVwb3NpdG9yeSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjQ4Mi4yNiwxOTQuOTEsMjQ3Ny41ODA3LDE4Ni4yNDM4LDI0NzguMzAyMywxOTEuODU0NCwyNDcyLjY5MTcsMTkyLjU3NiwyNDgyLjI2LDE5NC45MSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBNcHNSZXBvc2l0b3J5SW1wbCB0byBNcHNSZXBvc2l0b3J5LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMjQiIGRhdGEtZW50aXR5LTI9ImVudDAwMTEiIGRhdGEtbGluay10eXBlPSJleHRlbnNpb24iIGRhdGEtc291cmNlLWxpbmU9IjQ3IiBpZD0ibG5rMzUiPjxwYXRoIGQ9Ik0xMDczLjkxLDEyMC43NSBDMTA5MS44NywxMjkuNjcgMTExNS4wMywxMzkuNTkgMTEzNywxNDQuMyBDMTIwMC43OCwxNTcuOTcgMTY1OS41OCwxNDIuMDQgMTcyNCwxNTIuMyBDMTc3OC4yOCwxNjAuOTUgMTgyMC43NzgsMTczLjkyOTQgMTg2My45OTgsMTg5Ljc1OTQiIGZpbGw9Im5vbmUiIGlkPSJNcHNSZXBvc2l0b3J5SW1wbC10by1NcHNSZXBvc2l0b3J5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTo3LDc7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSIxODgwLjksMTk1Ljk1LDE4NjYuMDYxNiwxODQuMTI1NCwxODYxLjkzNDUsMTk1LjM5MzQsMTg4MC45LDE5NS45NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBPcmRlclJlcG9zaXRvcnlJbXBsIHRvIE9yZGVyUmVwb3NpdG9yeS0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDI1IiBkYXRhLWVudGl0eS0yPSJlbnQwMDEyIiBkYXRhLWxpbmstdHlwZT0iZXh0ZW5zaW9uIiBkYXRhLXNvdXJjZS1saW5lPSI0OCIgaWQ9ImxuazM2Ij48cGF0aCBkPSJNMTI3MC42OSwxMjAuNzcgQzEyODkuNjIsMTI5LjY5IDEzMTQuMDEsMTM5LjYxIDEzMzcsMTQ0LjMgQzEzNzQuMjksMTUxLjkgMTk4Ni4xOCwxMzkuNDUgMjAyMiwxNTIuMyBDMjA0Ni4wNiwxNjAuOTIgMjA1NS41OTEyLDE2Ni43ODMyIDIwNzEuMzIxMiwxODIuMzYzMiIgZmlsbD0ibm9uZSIgaWQ9Ik9yZGVyUmVwb3NpdG9yeUltcGwtdG8tT3JkZXJSZXBvc2l0b3J5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTo3LDc7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSIyMDg0LjExLDE5NS4wMywyMDc1LjU0MzUsMTc4LjEwMDMsMjA2Ny4wOTksMTg2LjYyNjEsMjA4NC4xMSwxOTUuMDMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgUmVxdWlyZW1lbnRSZXBvc2l0b3J5SW1wbCB0byBSZXF1aXJlbWVudFJlcG9zaXRvcnktLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAyNiIgZGF0YS1lbnRpdHktMj0iZW50MDAxMyIgZGF0YS1saW5rLXR5cGU9ImV4dGVuc2lvbiIgZGF0YS1zb3VyY2UtbGluZT0iNDkiIGlkPSJsbmszNyI+PHBhdGggZD0iTTE1MDUuOTIsMTIwLjc1IEMxNTI5LjkyLDEyOS42NyAxNTYwLjYyLDEzOS41OSAxNTg5LDE0NC4zIEMxNjU1LjEsMTU1LjI3IDIxMjcuNjUsMTMzLjYzIDIxOTIsMTUyLjMgQzIyMjEuMzQsMTYwLjgxIDIyMzYuMTI3MSwxNjguNjM3OSAyMjU3LjIzNzEsMTg0LjI0NzkiIGZpbGw9Im5vbmUiIGlkPSJSZXF1aXJlbWVudFJlcG9zaXRvcnlJbXBsLXRvLVJlcXVpcmVtZW50UmVwb3NpdG9yeSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6Nyw3OyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMjI3MS43MSwxOTQuOTUsMjI2MC44MDQ1LDE3OS40MjM2LDIyNTMuNjY5NywxODkuMDcyMiwyMjcxLjcxLDE5NC45NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBBbGxvY2F0aW9uUmVwb3NpdG9yeUltcGwgdG8gQWxsb2NhdGlvblJlcG9zaXRvcnktLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAyNyIgZGF0YS1lbnRpdHktMj0iZW50MDAxNCIgZGF0YS1saW5rLXR5cGU9ImV4dGVuc2lvbiIgZGF0YS1zb3VyY2UtbGluZT0iNTAiIGlkPSJsbmszOCI+PHBhdGggZD0iTTE4MDEuNjksMTE0LjIgQzE4ODkuOTYsMTIzLjc1IDIwMjMuNTEsMTM3LjExIDIxNDAsMTQ0LjMgQzIxNzAuNCwxNDYuMTggMjM4NS4wNiwxNDIuODIgMjQxNCwxNTIuMyBDMjQ0MC43OSwxNjEuMDcgMjQ1My4wMTg0LDE2OC4wNzExIDI0NzEuNjc4NCwxODMuNjExMSIgZmlsbD0ibm9uZSIgaWQ9IkFsbG9jYXRpb25SZXBvc2l0b3J5SW1wbC10by1BbGxvY2F0aW9uUmVwb3NpdG9yeSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6Nyw3OyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMjQ4NS41MSwxOTUuMTMsMjQ3NS41MTgsMTc5LjAwMDUsMjQ2Ny44Mzg3LDE4OC4yMjE2LDI0ODUuNTEsMTk1LjEzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIE1wc1JlcG9zaXRvcnlJbXBsIHRvIE1hc3RlclByb2R1Y3Rpb25TY2hlZHVsZU1hcHBlci0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDI0IiBkYXRhLWVudGl0eS0yPSJlbnQwMDE5IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iNTIiIGlkPSJsbmszOSI+PHBhdGggZD0iTTEwNDMuOTUsMTIwLjczIEMxMDQ2LjQxLDE0MyAxMDQ5Ljk3MDQsMTc1LjE2NjQgMTA1Mi40MjA0LDE5Ny4zMTY0IiBmaWxsPSJub25lIiBpZD0iTXBzUmVwb3NpdG9yeUltcGwtdG8tTWFzdGVyUHJvZHVjdGlvblNjaGVkdWxlTWFwcGVyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMDUzLjA4LDIwMy4yOCwxMDU2LjA2NjMsMTkzLjg5NDgsMTA1Mi41MzAzLDE5OC4zMTAzLDEwNDguMTE0OCwxOTQuNzc0MywxMDUzLjA4LDIwMy4yOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBPcmRlclJlcG9zaXRvcnlJbXBsIHRvIE9yZGVyTWFwcGVyLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMjUiIGRhdGEtZW50aXR5LTI9ImVudDAwMjAiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSI1MyIgaWQ9ImxuazQwIj48cGF0aCBkPSJNMTI0Mi44NCwxMjAuNzMgQzEyNTAuMjMsMTQzIDEyNjEuMDEwMywxNzUuNDM1MyAxMjY4LjM2MDMsMTk3LjU4NTMiIGZpbGw9Im5vbmUiIGlkPSJPcmRlclJlcG9zaXRvcnlJbXBsLXRvLU9yZGVyTWFwcGVyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMjcwLjI1LDIwMy4yOCwxMjcxLjIxMiwxOTMuNDc4MiwxMjY4LjY3NTMsMTk4LjUzNDQsMTI2My42MTkxLDE5NS45OTc4LDEyNzAuMjUsMjAzLjI4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIFJlcXVpcmVtZW50UmVwb3NpdG9yeUltcGwgdG8gUmVxdWlyZW1lbnRNYXBwZXItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAyNiIgZGF0YS1lbnRpdHktMj0iZW50MDAyMSIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjU0IiBpZD0ibG5rNDEiPjxwYXRoIGQ9Ik0xNDYwLjksMTIwLjczIEMxNDU4LjI1LDE0MyAxNDU0LjQxMDEsMTc1LjE3MjIgMTQ1MS43NzAxLDE5Ny4zMjIyIiBmaWxsPSJub25lIiBpZD0iUmVxdWlyZW1lbnRSZXBvc2l0b3J5SW1wbC10by1SZXF1aXJlbWVudE1hcHBlciIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTQ1MS4wNiwyMDMuMjgsMTQ1Ni4wOTcsMTk0LjgxNjcsMTQ1MS42NTE3LDE5OC4zMTUxLDE0NDguMTUzMywxOTMuODY5OSwxNDUxLjA2LDIwMy4yOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBBbGxvY2F0aW9uUmVwb3NpdG9yeUltcGwgdG8gQWxsb2NhdGlvbk1hcHBlci0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDI3IiBkYXRhLWVudGl0eS0yPSJlbnQwMDIyIiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iNTUiIGlkPSJsbms0MiI+PHBhdGggZD0iTTE2OTMuOTcsMTIwLjczIEMxNjgxLjI3LDE0MyAxNjYyLjQ4MiwxNzUuOTE3OCAxNjQ5Ljg1MiwxOTguMDY3OCIgZmlsbD0ibm9uZSIgaWQ9IkFsbG9jYXRpb25SZXBvc2l0b3J5SW1wbC10by1BbGxvY2F0aW9uTWFwcGVyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNjQ2Ljg4LDIwMy4yOCwxNjU0LjgxMjgsMTk3LjQ0MywxNjQ5LjM1NjcsMTk4LjkzNjUsMTY0Ny44NjMyLDE5My40ODAzLDE2NDYuODgsMjAzLjI4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjw/cGxhbnR1bWwtc3JjIGJMQkJSaThtNEJwZEF3cFV5SFNXZkR4UTBvZVlsUTRTQjZVWDVkdnJ4TEgyQlZ6VVdxcVVuNFJqQVZSaWg3VHNDa3VlajZOODVFNTZNUUQxLXpnVjkxMDR4ZmEtSUFXZ29fWUg3TzB5aktPbmVRYW9CS1hnOVRERnZCbFFSU0FYemludGhnYnNSelcybGZ5aVhGRXBiOE9wQnVuRW05ZXYzeFgxcXRSeTBqVnkwemZFbWdxbFZCVm1zR2E0NU5IQ05jWWd5cVc4aXJRQU1BM01lQVVjeXJTalEta3NPOHFKdGsyZjhTa2JxNjdZZGQ1T2hUQUcxX05IeTBVaUdMSVBMMUJoMEJ5NFh3V0xSSHNscS1NNHRjQ20yZUQ3N0dBclc0dTR0dEhpd3NhZ2wwaU9Ob2h1a2h2SVJreHNqejZRRkpPaVRPRkVtb1ppenZvUl9BZ2lSNlJNOVpIaFFBaGJSOG9ieXBYSmItWXlDRHRBT1A0QkQ4TWRJUGxLV2hEWmZ5YllpSTl0Q1NhR3hmRUllVUozYVk1Y3lyQmJSMklLX2NKS3ZSbkRyQmRFaWtNZmZRSXgtM3pJdHBfTVkxeF9BUEpQcmM5U2ktcDdTU3dzcERCLTJtMDA/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_8">ドメインモデル<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<details>
<summary>計画ステータス Enum（PlanStatus.java）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/plan/PlanStatus.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.plan</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Getter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>

<span class="nd">@Getter</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">PlanStatus</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">DRAFT</span><span class="p">(</span><span class="s">&quot;草案&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">CONFIRMED</span><span class="p">(</span><span class="s">&quot;確定&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">EXPANDED</span><span class="p">(</span><span class="s">&quot;展開済&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">CANCELLED</span><span class="p">(</span><span class="s">&quot;取消&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">PlanStatus</span><span class="w"> </span><span class="nf">fromDisplayName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">PlanStatus</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">values</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="p">.</span><span class="na">displayName</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">displayName</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;Unknown plan status: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">displayName</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>オーダ種別 Enum（OrderType.java）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/plan/OrderType.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.plan</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Getter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>

<span class="nd">@Getter</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">OrderType</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">PURCHASE</span><span class="p">(</span><span class="s">&quot;購買&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">MANUFACTURING</span><span class="p">(</span><span class="s">&quot;製造&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">OrderType</span><span class="w"> </span><span class="nf">fromDisplayName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">OrderType</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">values</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">type</span><span class="p">.</span><span class="na">displayName</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">displayName</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">type</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;Unknown order type: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">displayName</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>引当区分 Enum（AllocationType.java）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/plan/AllocationType.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.plan</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Getter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>

<span class="nd">@Getter</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">AllocationType</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">INVENTORY</span><span class="p">(</span><span class="s">&quot;在庫&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">PURCHASE_ORDER</span><span class="p">(</span><span class="s">&quot;発注残&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">MANUFACTURING_ORDER</span><span class="p">(</span><span class="s">&quot;製造残&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">AllocationType</span><span class="w"> </span><span class="nf">fromDisplayName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">AllocationType</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">values</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">type</span><span class="p">.</span><span class="na">displayName</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">displayName</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">type</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;Unknown allocation type: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">displayName</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>基準生産計画エンティティ（MasterProductionSchedule.java）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/plan/MasterProductionSchedule.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.plan</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.item.Item</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MasterProductionSchedule</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">mpsNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">planDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">planQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">dueDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">PlanStatus</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">locationCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">remarks</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">createdBy</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">updatedBy</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// リレーション</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Item</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>オーダ情報エンティティ（Order.java）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/plan/Order.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.plan</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.item.Item</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Order</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">orderNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">OrderType</span><span class="w"> </span><span class="n">orderType</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">startDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">dueDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">expirationDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">planQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">locationCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">PlanStatus</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">mpsId</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">parentOrderId</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">createdBy</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">updatedBy</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// リレーション</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Item</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">MasterProductionSchedule</span><span class="w"> </span><span class="n">mps</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Order</span><span class="w"> </span><span class="n">parentOrder</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Order</span><span class="o">&gt;</span><span class="w"> </span><span class="n">childOrders</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Requirement</span><span class="o">&gt;</span><span class="w"> </span><span class="n">requirements</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>所要情報エンティティ（Requirement.java）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/plan/Requirement.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.plan</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.item.Item</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Requirement</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">requirementNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">orderId</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">dueDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">requiredQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">allocatedQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">shortageQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">locationCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// リレーション</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Order</span><span class="w"> </span><span class="n">order</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Item</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Allocation</span><span class="o">&gt;</span><span class="w"> </span><span class="n">allocations</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>引当情報エンティティ（Allocation.java）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/plan/Allocation.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.plan</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Allocation</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">requirementId</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">AllocationType</span><span class="w"> </span><span class="n">allocationType</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">orderId</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">allocationDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">allocatedQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">locationCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// リレーション</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Requirement</span><span class="w"> </span><span class="n">requirement</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Order</span><span class="w"> </span><span class="n">order</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="typehandler">TypeHandler<a class="headerlink" href="#typehandler" title="Permanent link">&para;</a></h3>
<details>
<summary>PlanStatusTypeHandler</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/infrastructure/persistence/PlanStatusTypeHandler.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.persistence</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.plan.PlanStatus</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.ibatis.type.BaseTypeHandler</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.ibatis.type.JdbcType</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.ibatis.type.MappedTypes</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.sql.CallableStatement</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.sql.PreparedStatement</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.sql.ResultSet</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.sql.SQLException</span><span class="p">;</span>

<span class="nd">@MappedTypes</span><span class="p">(</span><span class="n">PlanStatus</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">PlanStatusTypeHandler</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">BaseTypeHandler</span><span class="o">&lt;</span><span class="n">PlanStatus</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setNonNullParameter</span><span class="p">(</span><span class="n">PreparedStatement</span><span class="w"> </span><span class="n">ps</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">PlanStatus</span><span class="w"> </span><span class="n">parameter</span><span class="p">,</span><span class="w"> </span><span class="n">JdbcType</span><span class="w"> </span><span class="n">jdbcType</span><span class="p">)</span>
<span class="w">            </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ps</span><span class="p">.</span><span class="na">setString</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">parameter</span><span class="p">.</span><span class="na">getDisplayName</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">PlanStatus</span><span class="w"> </span><span class="nf">getNullableResult</span><span class="p">(</span><span class="n">ResultSet</span><span class="w"> </span><span class="n">rs</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">columnName</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rs</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="n">columnName</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">PlanStatus</span><span class="p">.</span><span class="na">fromDisplayName</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">PlanStatus</span><span class="w"> </span><span class="nf">getNullableResult</span><span class="p">(</span><span class="n">ResultSet</span><span class="w"> </span><span class="n">rs</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">columnIndex</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rs</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="n">columnIndex</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">PlanStatus</span><span class="p">.</span><span class="na">fromDisplayName</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">PlanStatus</span><span class="w"> </span><span class="nf">getNullableResult</span><span class="p">(</span><span class="n">CallableStatement</span><span class="w"> </span><span class="n">cs</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">columnIndex</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cs</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="n">columnIndex</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">PlanStatus</span><span class="p">.</span><span class="na">fromDisplayName</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>OrderTypeTypeHandler</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/infrastructure/persistence/OrderTypeTypeHandler.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.persistence</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.plan.OrderType</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.ibatis.type.BaseTypeHandler</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.ibatis.type.JdbcType</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.ibatis.type.MappedTypes</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.sql.CallableStatement</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.sql.PreparedStatement</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.sql.ResultSet</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.sql.SQLException</span><span class="p">;</span>

<span class="nd">@MappedTypes</span><span class="p">(</span><span class="n">OrderType</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OrderTypeTypeHandler</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">BaseTypeHandler</span><span class="o">&lt;</span><span class="n">OrderType</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setNonNullParameter</span><span class="p">(</span><span class="n">PreparedStatement</span><span class="w"> </span><span class="n">ps</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">OrderType</span><span class="w"> </span><span class="n">parameter</span><span class="p">,</span><span class="w"> </span><span class="n">JdbcType</span><span class="w"> </span><span class="n">jdbcType</span><span class="p">)</span>
<span class="w">            </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ps</span><span class="p">.</span><span class="na">setString</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">parameter</span><span class="p">.</span><span class="na">getDisplayName</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">OrderType</span><span class="w"> </span><span class="nf">getNullableResult</span><span class="p">(</span><span class="n">ResultSet</span><span class="w"> </span><span class="n">rs</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">columnName</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rs</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="n">columnName</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">OrderType</span><span class="p">.</span><span class="na">fromDisplayName</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">OrderType</span><span class="w"> </span><span class="nf">getNullableResult</span><span class="p">(</span><span class="n">ResultSet</span><span class="w"> </span><span class="n">rs</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">columnIndex</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rs</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="n">columnIndex</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">OrderType</span><span class="p">.</span><span class="na">fromDisplayName</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">OrderType</span><span class="w"> </span><span class="nf">getNullableResult</span><span class="p">(</span><span class="n">CallableStatement</span><span class="w"> </span><span class="n">cs</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">columnIndex</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cs</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="n">columnIndex</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">OrderType</span><span class="p">.</span><span class="na">fromDisplayName</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>AllocationTypeTypeHandler</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/infrastructure/persistence/AllocationTypeTypeHandler.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.persistence</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.plan.AllocationType</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.ibatis.type.BaseTypeHandler</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.ibatis.type.JdbcType</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.ibatis.type.MappedTypes</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.sql.CallableStatement</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.sql.PreparedStatement</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.sql.ResultSet</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.sql.SQLException</span><span class="p">;</span>

<span class="nd">@MappedTypes</span><span class="p">(</span><span class="n">AllocationType</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AllocationTypeTypeHandler</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">BaseTypeHandler</span><span class="o">&lt;</span><span class="n">AllocationType</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setNonNullParameter</span><span class="p">(</span><span class="n">PreparedStatement</span><span class="w"> </span><span class="n">ps</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">AllocationType</span><span class="w"> </span><span class="n">parameter</span><span class="p">,</span><span class="w"> </span><span class="n">JdbcType</span><span class="w"> </span><span class="n">jdbcType</span><span class="p">)</span>
<span class="w">            </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ps</span><span class="p">.</span><span class="na">setString</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">parameter</span><span class="p">.</span><span class="na">getDisplayName</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">AllocationType</span><span class="w"> </span><span class="nf">getNullableResult</span><span class="p">(</span><span class="n">ResultSet</span><span class="w"> </span><span class="n">rs</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">columnName</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rs</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="n">columnName</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">AllocationType</span><span class="p">.</span><span class="na">fromDisplayName</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">AllocationType</span><span class="w"> </span><span class="nf">getNullableResult</span><span class="p">(</span><span class="n">ResultSet</span><span class="w"> </span><span class="n">rs</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">columnIndex</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rs</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="n">columnIndex</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">AllocationType</span><span class="p">.</span><span class="na">fromDisplayName</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">AllocationType</span><span class="w"> </span><span class="nf">getNullableResult</span><span class="p">(</span><span class="n">CallableStatement</span><span class="w"> </span><span class="n">cs</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">columnIndex</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cs</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="n">columnIndex</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">AllocationType</span><span class="p">.</span><span class="na">fromDisplayName</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="mybatis-mapper">MyBatis Mapper<a class="headerlink" href="#mybatis-mapper" title="Permanent link">&para;</a></h3>
<details>
<summary>MasterProductionScheduleMapper.xml</summary>

<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
<span class="cp">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span>
<span class="nt">&lt;mapper</span><span class="w"> </span><span class="na">namespace=</span><span class="s">&quot;com.example.production.infrastructure.persistence.mapper.MasterProductionScheduleMapper&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="nt">&lt;resultMap</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;MasterProductionScheduleResultMap&quot;</span>
<span class="w">               </span><span class="na">type=</span><span class="s">&quot;com.example.production.domain.model.plan.MasterProductionSchedule&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;id</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;ID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;mpsNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;MPS番号&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;planDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;計画日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;itemCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;品目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;planQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;計画数量&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;dueDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;納期&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;status&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;ステータス&quot;</span>
<span class="w">                </span><span class="na">typeHandler=</span><span class="s">&quot;com.example.production.infrastructure.persistence.PlanStatusTypeHandler&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;locationCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;場所コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;remarks&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;備考&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;createdAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作成日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;createdBy&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作成者&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;updatedAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;更新日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;updatedBy&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;更新者&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/resultMap&gt;</span>

<span class="w">    </span><span class="nt">&lt;insert</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;insert&quot;</span><span class="w"> </span><span class="na">useGeneratedKeys=</span><span class="s">&quot;true&quot;</span><span class="w"> </span><span class="na">keyProperty=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">keyColumn=</span><span class="s">&quot;ID&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>INSERT<span class="w"> </span>INTO<span class="w"> </span>&quot;基準生産計画&quot;<span class="w"> </span>(
<span class="w">            </span>&quot;MPS番号&quot;,<span class="w"> </span>&quot;計画日&quot;,<span class="w"> </span>&quot;品目コード&quot;,<span class="w"> </span>&quot;計画数量&quot;,<span class="w"> </span>&quot;納期&quot;,
<span class="w">            </span>&quot;ステータス&quot;,<span class="w"> </span>&quot;場所コード&quot;,<span class="w"> </span>&quot;備考&quot;,<span class="w"> </span>&quot;作成者&quot;
<span class="w">        </span>)<span class="w"> </span>VALUES<span class="w"> </span>(
<span class="w">            </span>#{mpsNumber},
<span class="w">            </span>#{planDate},
<span class="w">            </span>#{itemCode},
<span class="w">            </span>#{planQuantity},
<span class="w">            </span>#{dueDate},
<span class="w">            </span>#{status,<span class="w"> </span>typeHandler=com.example.production.infrastructure.persistence.PlanStatusTypeHandler}::計画ステータス,
<span class="w">            </span>#{locationCode},
<span class="w">            </span>#{remarks},
<span class="w">            </span>#{createdBy}
<span class="w">        </span>)
<span class="w">    </span><span class="nt">&lt;/insert&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findById&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;MasterProductionScheduleResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;基準生産計画&quot;<span class="w"> </span>WHERE<span class="w"> </span>&quot;ID&quot;<span class="w"> </span>=<span class="w"> </span>#{id}
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findByMpsNumber&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;MasterProductionScheduleResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;基準生産計画&quot;<span class="w"> </span>WHERE<span class="w"> </span>&quot;MPS番号&quot;<span class="w"> </span>=<span class="w"> </span>#{mpsNumber}
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findByStatus&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;MasterProductionScheduleResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;基準生産計画&quot;
<span class="w">        </span>WHERE<span class="w"> </span>&quot;ステータス&quot;<span class="w"> </span>=<span class="w"> </span>#{status,<span class="w"> </span>typeHandler=com.example.production.infrastructure.persistence.PlanStatusTypeHandler}::計画ステータス
<span class="w">        </span>ORDER<span class="w"> </span>BY<span class="w"> </span>&quot;納期&quot;
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;update</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;updateStatus&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>UPDATE<span class="w"> </span>&quot;基準生産計画&quot;
<span class="w">        </span>SET<span class="w"> </span>&quot;ステータス&quot;<span class="w"> </span>=<span class="w"> </span>#{status,<span class="w"> </span>typeHandler=com.example.production.infrastructure.persistence.PlanStatusTypeHandler}::計画ステータス,
<span class="w">            </span>&quot;更新日時&quot;<span class="w"> </span>=<span class="w"> </span>CURRENT_TIMESTAMP
<span class="w">        </span>WHERE<span class="w"> </span>&quot;ID&quot;<span class="w"> </span>=<span class="w"> </span>#{id}
<span class="w">    </span><span class="nt">&lt;/update&gt;</span>

<span class="w">    </span><span class="nt">&lt;delete</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;deleteAll&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>DELETE<span class="w"> </span>FROM<span class="w"> </span>&quot;基準生産計画&quot;
<span class="w">    </span><span class="nt">&lt;/delete&gt;</span>
<span class="nt">&lt;/mapper&gt;</span>
</code></pre></div>

</details>

<details>
<summary>OrderMapper.xml</summary>

<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
<span class="cp">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span>
<span class="nt">&lt;mapper</span><span class="w"> </span><span class="na">namespace=</span><span class="s">&quot;com.example.production.infrastructure.persistence.mapper.OrderMapper&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="nt">&lt;resultMap</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;OrderResultMap&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;com.example.production.domain.model.plan.Order&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;id</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;ID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;orderNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;オーダNO&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;orderType&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;オーダ種別&quot;</span>
<span class="w">                </span><span class="na">typeHandler=</span><span class="s">&quot;com.example.production.infrastructure.persistence.OrderTypeTypeHandler&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;itemCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;品目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;startDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;着手予定日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;dueDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;納期&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;expirationDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;有効期限&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;planQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;計画数量&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;locationCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;場所コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;status&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;ステータス&quot;</span>
<span class="w">                </span><span class="na">typeHandler=</span><span class="s">&quot;com.example.production.infrastructure.persistence.PlanStatusTypeHandler&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;mpsId&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;MPS_ID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;parentOrderId&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;親オーダID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;createdAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作成日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;createdBy&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作成者&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;updatedAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;更新日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;updatedBy&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;更新者&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/resultMap&gt;</span>

<span class="w">    </span><span class="nt">&lt;insert</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;insert&quot;</span><span class="w"> </span><span class="na">useGeneratedKeys=</span><span class="s">&quot;true&quot;</span><span class="w"> </span><span class="na">keyProperty=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">keyColumn=</span><span class="s">&quot;ID&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>INSERT<span class="w"> </span>INTO<span class="w"> </span>&quot;オーダ情報&quot;<span class="w"> </span>(
<span class="w">            </span>&quot;オーダNO&quot;,<span class="w"> </span>&quot;オーダ種別&quot;,<span class="w"> </span>&quot;品目コード&quot;,<span class="w"> </span>&quot;着手予定日&quot;,<span class="w"> </span>&quot;納期&quot;,
<span class="w">            </span>&quot;有効期限&quot;,<span class="w"> </span>&quot;計画数量&quot;,<span class="w"> </span>&quot;場所コード&quot;,<span class="w"> </span>&quot;ステータス&quot;,<span class="w"> </span>&quot;MPS_ID&quot;,<span class="w"> </span>&quot;親オーダID&quot;,<span class="w"> </span>&quot;作成者&quot;
<span class="w">        </span>)<span class="w"> </span>VALUES<span class="w"> </span>(
<span class="w">            </span>#{orderNumber},
<span class="w">            </span>#{orderType,<span class="w"> </span>typeHandler=com.example.production.infrastructure.persistence.OrderTypeTypeHandler}::オーダ種別,
<span class="w">            </span>#{itemCode},
<span class="w">            </span>#{startDate},
<span class="w">            </span>#{dueDate},
<span class="w">            </span>#{expirationDate},
<span class="w">            </span>#{planQuantity},
<span class="w">            </span>#{locationCode},
<span class="w">            </span>#{status,<span class="w"> </span>typeHandler=com.example.production.infrastructure.persistence.PlanStatusTypeHandler}::計画ステータス,
<span class="w">            </span>#{mpsId},
<span class="w">            </span>#{parentOrderId},
<span class="w">            </span>#{createdBy}
<span class="w">        </span>)
<span class="w">    </span><span class="nt">&lt;/insert&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findById&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;OrderResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;オーダ情報&quot;<span class="w"> </span>WHERE<span class="w"> </span>&quot;ID&quot;<span class="w"> </span>=<span class="w"> </span>#{id}
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findByOrderNumber&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;OrderResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;オーダ情報&quot;<span class="w"> </span>WHERE<span class="w"> </span>&quot;オーダNO&quot;<span class="w"> </span>=<span class="w"> </span>#{orderNumber}
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findByMpsId&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;OrderResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;オーダ情報&quot;<span class="w"> </span>WHERE<span class="w"> </span>&quot;MPS_ID&quot;<span class="w"> </span>=<span class="w"> </span>#{mpsId}
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findByParentOrderId&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;OrderResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;オーダ情報&quot;<span class="w"> </span>WHERE<span class="w"> </span>&quot;親オーダID&quot;<span class="w"> </span>=<span class="w"> </span>#{parentOrderId}
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;update</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;updateParentOrderId&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>UPDATE<span class="w"> </span>&quot;オーダ情報&quot;
<span class="w">        </span>SET<span class="w"> </span>&quot;親オーダID&quot;<span class="w"> </span>=<span class="w"> </span>#{parentOrderId},<span class="w"> </span>&quot;更新日時&quot;<span class="w"> </span>=<span class="w"> </span>CURRENT_TIMESTAMP
<span class="w">        </span>WHERE<span class="w"> </span>&quot;ID&quot;<span class="w"> </span>=<span class="w"> </span>#{id}
<span class="w">    </span><span class="nt">&lt;/update&gt;</span>

<span class="w">    </span><span class="nt">&lt;update</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;updateStatus&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>UPDATE<span class="w"> </span>&quot;オーダ情報&quot;
<span class="w">        </span>SET<span class="w"> </span>&quot;ステータス&quot;<span class="w"> </span>=<span class="w"> </span>#{status,<span class="w"> </span>typeHandler=com.example.production.infrastructure.persistence.PlanStatusTypeHandler}::計画ステータス,
<span class="w">            </span>&quot;更新日時&quot;<span class="w"> </span>=<span class="w"> </span>CURRENT_TIMESTAMP
<span class="w">        </span>WHERE<span class="w"> </span>&quot;ID&quot;<span class="w"> </span>=<span class="w"> </span>#{id}
<span class="w">    </span><span class="nt">&lt;/update&gt;</span>

<span class="w">    </span><span class="nt">&lt;delete</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;deleteAll&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>DELETE<span class="w"> </span>FROM<span class="w"> </span>&quot;オーダ情報&quot;
<span class="w">    </span><span class="nt">&lt;/delete&gt;</span>
<span class="nt">&lt;/mapper&gt;</span>
</code></pre></div>

</details>

<details>
<summary>RequirementMapper.xml</summary>

<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
<span class="cp">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span>
<span class="nt">&lt;mapper</span><span class="w"> </span><span class="na">namespace=</span><span class="s">&quot;com.example.production.infrastructure.persistence.mapper.RequirementMapper&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="nt">&lt;resultMap</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;RequirementResultMap&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;com.example.production.domain.model.plan.Requirement&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;id</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;ID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;requirementNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;所要NO&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;orderId&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;オーダID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;itemCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;品目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;dueDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;納期&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;requiredQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;必要数量&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;allocatedQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;引当済数量&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;shortageQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;不足数量&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;locationCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;場所コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;createdAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作成日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;updatedAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;更新日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/resultMap&gt;</span>

<span class="w">    </span><span class="nt">&lt;insert</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;insert&quot;</span><span class="w"> </span><span class="na">useGeneratedKeys=</span><span class="s">&quot;true&quot;</span><span class="w"> </span><span class="na">keyProperty=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">keyColumn=</span><span class="s">&quot;ID&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>INSERT<span class="w"> </span>INTO<span class="w"> </span>&quot;所要情報&quot;<span class="w"> </span>(
<span class="w">            </span>&quot;所要NO&quot;,<span class="w"> </span>&quot;オーダID&quot;,<span class="w"> </span>&quot;品目コード&quot;,<span class="w"> </span>&quot;納期&quot;,<span class="w"> </span>&quot;必要数量&quot;,
<span class="w">            </span>&quot;引当済数量&quot;,<span class="w"> </span>&quot;不足数量&quot;,<span class="w"> </span>&quot;場所コード&quot;
<span class="w">        </span>)<span class="w"> </span>VALUES<span class="w"> </span>(
<span class="w">            </span>#{requirementNumber},
<span class="w">            </span>#{orderId},
<span class="w">            </span>#{itemCode},
<span class="w">            </span>#{dueDate},
<span class="w">            </span>#{requiredQuantity},
<span class="w">            </span>#{allocatedQuantity},
<span class="w">            </span>#{shortageQuantity},
<span class="w">            </span>#{locationCode}
<span class="w">        </span>)
<span class="w">    </span><span class="nt">&lt;/insert&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findById&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;RequirementResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;所要情報&quot;<span class="w"> </span>WHERE<span class="w"> </span>&quot;ID&quot;<span class="w"> </span>=<span class="w"> </span>#{id}
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findByOrderId&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;RequirementResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;所要情報&quot;<span class="w"> </span>WHERE<span class="w"> </span>&quot;オーダID&quot;<span class="w"> </span>=<span class="w"> </span>#{orderId}
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;update</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;updateAllocation&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>UPDATE<span class="w"> </span>&quot;所要情報&quot;
<span class="w">        </span>SET<span class="w"> </span>&quot;引当済数量&quot;<span class="w"> </span>=<span class="w"> </span>#{allocatedQuantity},
<span class="w">            </span>&quot;不足数量&quot;<span class="w"> </span>=<span class="w"> </span>#{shortageQuantity},
<span class="w">            </span>&quot;更新日時&quot;<span class="w"> </span>=<span class="w"> </span>CURRENT_TIMESTAMP
<span class="w">        </span>WHERE<span class="w"> </span>&quot;ID&quot;<span class="w"> </span>=<span class="w"> </span>#{id}
<span class="w">    </span><span class="nt">&lt;/update&gt;</span>

<span class="w">    </span><span class="nt">&lt;delete</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;deleteAll&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>DELETE<span class="w"> </span>FROM<span class="w"> </span>&quot;所要情報&quot;
<span class="w">    </span><span class="nt">&lt;/delete&gt;</span>
<span class="nt">&lt;/mapper&gt;</span>
</code></pre></div>

</details>

<details>
<summary>AllocationMapper.xml</summary>

<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
<span class="cp">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span>
<span class="nt">&lt;mapper</span><span class="w"> </span><span class="na">namespace=</span><span class="s">&quot;com.example.production.infrastructure.persistence.mapper.AllocationMapper&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="nt">&lt;resultMap</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;AllocationResultMap&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;com.example.production.domain.model.plan.Allocation&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;id</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;ID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;requirementId&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;所要ID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;allocationType&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;引当区分&quot;</span>
<span class="w">                </span><span class="na">typeHandler=</span><span class="s">&quot;com.example.production.infrastructure.persistence.AllocationTypeTypeHandler&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;orderId&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;オーダID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;allocationDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;引当日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;allocatedQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;引当数量&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;locationCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;場所コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;createdAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作成日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;updatedAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;更新日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/resultMap&gt;</span>

<span class="w">    </span><span class="nt">&lt;insert</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;insert&quot;</span><span class="w"> </span><span class="na">useGeneratedKeys=</span><span class="s">&quot;true&quot;</span><span class="w"> </span><span class="na">keyProperty=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">keyColumn=</span><span class="s">&quot;ID&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>INSERT<span class="w"> </span>INTO<span class="w"> </span>&quot;引当情報&quot;<span class="w"> </span>(
<span class="w">            </span>&quot;所要ID&quot;,<span class="w"> </span>&quot;引当区分&quot;,<span class="w"> </span>&quot;オーダID&quot;,<span class="w"> </span>&quot;引当日&quot;,<span class="w"> </span>&quot;引当数量&quot;,<span class="w"> </span>&quot;場所コード&quot;
<span class="w">        </span>)<span class="w"> </span>VALUES<span class="w"> </span>(
<span class="w">            </span>#{requirementId},
<span class="w">            </span>#{allocationType,<span class="w"> </span>typeHandler=com.example.production.infrastructure.persistence.AllocationTypeTypeHandler}::引当区分,
<span class="w">            </span>#{orderId},
<span class="w">            </span>#{allocationDate},
<span class="w">            </span>#{allocatedQuantity},
<span class="w">            </span>#{locationCode}
<span class="w">        </span>)
<span class="w">    </span><span class="nt">&lt;/insert&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findByRequirementId&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;AllocationResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;引当情報&quot;<span class="w"> </span>WHERE<span class="w"> </span>&quot;所要ID&quot;<span class="w"> </span>=<span class="w"> </span>#{requirementId}
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;delete</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;deleteAll&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>DELETE<span class="w"> </span>FROM<span class="w"> </span>&quot;引当情報&quot;
<span class="w">    </span><span class="nt">&lt;/delete&gt;</span>
<span class="nt">&lt;/mapper&gt;</span>
</code></pre></div>

</details>

<h3 id="_9">リポジトリ<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<details>
<summary>MpsRepository インターフェース</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/application/port/out/MpsRepository.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.application.port.out</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.plan.MasterProductionSchedule</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.plan.PlanStatus</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Optional</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 基準生産計画リポジトリ（Output Port）</span>
<span class="cm"> */</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">MpsRepository</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">save</span><span class="p">(</span><span class="n">MasterProductionSchedule</span><span class="w"> </span><span class="n">mps</span><span class="p">);</span>
<span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">MasterProductionSchedule</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findById</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>
<span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">MasterProductionSchedule</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByMpsNumber</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">mpsNumber</span><span class="p">);</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">MasterProductionSchedule</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByStatus</span><span class="p">(</span><span class="n">PlanStatus</span><span class="w"> </span><span class="n">status</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">updateStatus</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">PlanStatus</span><span class="w"> </span><span class="n">status</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">deleteAll</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>MpsRepositoryImpl 実装</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/infrastructure/persistence/repository/MpsRepositoryImpl.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.persistence.repository</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.application.port.out.MpsRepository</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.plan.MasterProductionSchedule</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.plan.PlanStatus</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.persistence.mapper.MasterProductionScheduleMapper</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Repository</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Optional</span><span class="p">;</span>

<span class="nd">@Repository</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MpsRepositoryImpl</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">MpsRepository</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">MasterProductionScheduleMapper</span><span class="w"> </span><span class="n">mpsMapper</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">MpsRepositoryImpl</span><span class="p">(</span><span class="n">MasterProductionScheduleMapper</span><span class="w"> </span><span class="n">mpsMapper</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">mpsMapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mpsMapper</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">save</span><span class="p">(</span><span class="n">MasterProductionSchedule</span><span class="w"> </span><span class="n">mps</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">mpsMapper</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">mps</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">MasterProductionSchedule</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findById</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Optional</span><span class="p">.</span><span class="na">ofNullable</span><span class="p">(</span><span class="n">mpsMapper</span><span class="p">.</span><span class="na">findById</span><span class="p">(</span><span class="n">id</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">MasterProductionSchedule</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByMpsNumber</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">mpsNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Optional</span><span class="p">.</span><span class="na">ofNullable</span><span class="p">(</span><span class="n">mpsMapper</span><span class="p">.</span><span class="na">findByMpsNumber</span><span class="p">(</span><span class="n">mpsNumber</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">MasterProductionSchedule</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByStatus</span><span class="p">(</span><span class="n">PlanStatus</span><span class="w"> </span><span class="n">status</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">mpsMapper</span><span class="p">.</span><span class="na">findByStatus</span><span class="p">(</span><span class="n">status</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">updateStatus</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">PlanStatus</span><span class="w"> </span><span class="n">status</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">mpsMapper</span><span class="p">.</span><span class="na">updateStatus</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">status</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">deleteAll</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">mpsMapper</span><span class="p">.</span><span class="na">deleteAll</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="242-mrp">24.2 MRP（所要量展開）<a class="headerlink" href="#242-mrp" title="Permanent link">&para;</a></h2>
<p>所要量展開（Material Requirements Planning）は、基準生産計画（MPS）を起点として、必要な部品・材料の所要量を計算し、購買オーダや製造オーダを生成する処理です。</p>
<h3 id="mrp">MRP の基本概念<a class="headerlink" href="#mrp" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9Ijg4NHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDY5cHg7aGVpZ2h0Ojg4NHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQ2OSA4ODQiIHdpZHRoPSI0NjlweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjUxNTI7JiMzNTIwMTsmIzM3MzI3OyYjMjM2Mzc7JiMzODI4MzsmIzY1Mjg4O01SUCYjNjUyODk7JiMxMjM5ODsmIzI3MDEwOyYjMzUyMDE7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTc0Ljk3MiIgeD0iMTQwLjUxMzgiIHk9IjIyLjk5NTEiPiYjMjUxNTI7JiMzNTIwMTsmIzM3MzI3OyYjMjM2Mzc7JiMzODI4MzsmIzY1Mjg4O01SUCYjNjUyODk7JiMxMjM5ODsmIzI3MDEwOyYjMzUyMDE7PC90ZXh0PjwvZz48IS0tY2xhc3MgPz8/Pz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMyIgaWQ9ImVudDAwMDIiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTYyLjA3ODEiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEwOS45OTk2IiB4PSIyMjAiIHk9IjE0NC41NjY5Ii8+PGVsbGlwc2UgY3g9IjIzOC41OTk5IiBjeT0iMTYwLjU2NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTI0Mi43MDkzLDE2Ni41NjY5IEwyMzQuOTkwNiwxNjYuNTY2OSBMMjM0Ljk5MDYsMTU0LjE3NjIgTDI0Mi43MDkzLDE1NC4xNzYyIEwyNDIuNzA5MywxNTYuMzMyNSBMMjM3LjQ0MzcsMTU2LjMzMjUgTDIzNy40NDM3LDE1OS4wMDQ0IEwyNDIuMjA5MywxNTkuMDA0NCBMMjQyLjIwOTMsMTYxLjE2MDYgTDIzNy40NDM3LDE2MS4xNjA2IEwyMzcuNDQzNywxNjQuNDEwNiBMMjQyLjcwOTMsMTY0LjQxMDYgTDI0Mi43MDkzLDE2Ni41NjY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMjUzLjM5OTkiIHk9IjE2NS40MTM2Ij4mIzEyNDU4OyYjMTI1NDA7JiMxMjQ4MDsmIzI0NzczOyYjMjI1Nzc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjIyMSIgeDI9IjMyOC45OTk2IiB5MT0iMTc2LjU2NjkiIHkyPSIxNzYuNTY2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYzLjQ5MiIgeD0iMjI2IiB5PSIxOTMuNTYyIj4mIzEyNDU4OyYjMTI1NDA7JiMxMjQ4MDtOTzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjIxIiB4Mj0iMzI4Ljk5OTYiIHkxPSIyMDAuODYzNyIgeTI9IjIwMC44NjM3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMjI2IiB5PSIyMTcuODU4OSI+JiMyMTY5NzsmIzMwNDQ2OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyMjYiIHk9IjIzNC4xNTU3Ij4mIzMwNTI4OyYjMjUxNjM7JiMyMDEwNDsmIzIzNDUwOyYjMjYwODU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjIyNiIgeT0iMjUwLjQ1MjYiPiYjMjAzNTE7JiMyOTk5MjsmIzIxNDg3OyYjMzMwMjE7JiMyMDEwNDsmIzIzNDUwOyYjMjYwODU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjIyNiIgeT0iMjY2Ljc0OTUiPiYjMjYzNzc7JiMyMTE3NzsmIzI2Mzk5OyYjMzg0ODA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjIyNiIgeT0iMjgzLjA0NjQiPiYjMzUzMzY7JiMzMDAxMTsmIzI1OTY4OyYjMzczMjc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjIyNiIgeT0iMjk5LjM0MzIiPiYjMjI1ODA7JiMyNTE1MjsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTs8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkdNTjMiIGRhdGEtc291cmNlLWxpbmU9IjEzIiBpZD0iZW50MDAwNCI+PHBhdGggZD0iTTE3My41LDQzLjI5NjkgTDE3My41LDgzLjU2MjUgQTAsMCAwIDAgMCAxNzMuNSw4My41NjI1IEwyNzEsODMuNTYyNSBMMjc1LDE0NC4wOTY5IEwyNzksODMuNTYyNSBMMzc2LjUwMDIsODMuNTYyNSBBMCwwIDAgMCAwIDM3Ni41MDAyLDgzLjU2MjUgTDM3Ni41MDAyLDUzLjI5NjkgTDM2Ni41MDAyLDQzLjI5NjkgTDE3My41LDQzLjI5NjkgQTAsMCAwIDAgMCAxNzMuNSw0My4yOTY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMzY2LjUwMDIsNDMuMjk2OSBMMzY2LjUwMDIsNTMuMjk2OSBMMzc2LjUwMDIsNTMuMjk2OSBMMzY2LjUwMDIsNDMuMjk2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgyLjAwMDIiIHg9IjE3OS41IiB5PSI2MC4zNjM4Ij4mIzE5OTgxOyYjMzYyNzU7JiMyMDk5ODsmIzEyMzk1OyYjMTIzODg7JiMxMjM1NjsmIzEyMzkwOyYjMjYwMzI7JiMzNTIxNTsmIzEyNDU4OyYjMTI1NDA7JiMxMjQ4MDsmIzIwMzE2OyYjMjUxMDQ7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2OS4wMDAyIiB4PSIxNzkuNSIgeT0iNzUuNDk2NiI+JiMzNTMzNjsmIzMwMDExOyYjMjU5Njg7JiMzNzMyNzsmIzEyMzk5OyYjMTI1MjU7JiMxMjQ4MzsmIzEyNDg4OyYjMTI0Njk7JiMxMjQ1MjsmIzEyNDc0OyYjMzI3NzE7JiMyNDk0Mjs8L3RleHQ+PC9nPjwhLS1jbGFzcyA/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMTUiIGlkPSJlbnQwMDA2Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjE0NS43ODEzIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI4Ny45OTk4IiB4PSIyMzEiIHk9IjYwNi40MjY5Ii8+PGVsbGlwc2UgY3g9IjI0NiIgY3k9IjYyMi40MjY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0yNTAuMTA5NCw2MjguNDI2OSBMMjQyLjM5MDYsNjI4LjQyNjkgTDI0Mi4zOTA2LDYxNi4wMzYzIEwyNTAuMTA5NCw2MTYuMDM2MyBMMjUwLjEwOTQsNjE4LjE5MjUgTDI0NC44NDM4LDYxOC4xOTI1IEwyNDQuODQzOCw2MjAuODY0NCBMMjQ5LjYwOTQsNjIwLjg2NDQgTDI0OS42MDk0LDYyMy4wMjA2IEwyNDQuODQzOCw2MjMuMDIwNiBMMjQ0Ljg0MzgsNjI2LjI3MDYgTDI1MC4xMDk0LDYyNi4yNzA2IEwyNTAuMTA5NCw2MjguNDI2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjI2MCIgeT0iNjI3LjI3MzYiPiYjMjQzNDE7JiMyNDQwMzsmIzI0NzczOyYjMjI1Nzc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjIzMiIgeDI9IjMxNy45OTk4IiB5MT0iNjM4LjQyNjkiIHkyPSI2MzguNDI2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ5LjQ5MjEiIHg9IjIzNyIgeT0iNjU1LjQyMiI+JiMyNTE1MjsmIzM1MjAxO05PPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjIzNyIgeT0iNjcxLjcxODkiPiYjMjQzNDE7JiMyNDQwMzsmIzIxMzA2OyYjMjA5OTg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYzLjQ5MiIgeD0iMjM3IiB5PSI2ODguMDE1NyI+JiMxMjQ1ODsmIzEyNTQwOyYjMTI0ODA7Tk88L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMjM3IiB5PSI3MDQuMzEyNiI+JiMyNDM0MTsmIzI0NDAzOyYjMjAxMDQ7JiMyMzQ1MDsmIzI2MDg1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIyMzciIHk9IjcyMC42MDk1Ij4mIzI0MzQxOyYjMjQ0MDM7JiMyNTk2ODsmIzM3MzI3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyMzciIHk9IjczNi45MDY0Ij4mIzIyNTgwOyYjMjUxNTI7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjIzMiIgeDI9IjMxNy45OTk4IiB5MT0iNzQ0LjIwODEiIHkyPSI3NDQuMjA4MSIvPjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJHTU43IiBkYXRhLXNvdXJjZS1saW5lPSIyMyIgaWQ9ImVudDAwMDgiPjxwYXRoIGQ9Ik02LDY2Ni43NDY5IEw2LDY5MS44Nzk3IEEwLDAgMCAwIDAgNiw2OTEuODc5NyBMMTk2LjAwMDIsNjkxLjg3OTcgQTAsMCAwIDAgMCAxOTYuMDAwMiw2OTEuODc5NyBMMTk2LjAwMDIsNjg0Ljc0NjkgTDIzMC41NCw2NzkuMzE2OSBMMTk2LjAwMDIsNjc2Ljc0NjkgTDE5Ni4wMDAyLDY3Ni43NDY5IEwxODYuMDAwMiw2NjYuNzQ2OSBMNiw2NjYuNzQ2OSBBMCwwIDAgMCAwIDYsNjY2Ljc0NjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik0xODYuMDAwMiw2NjYuNzQ2OSBMMTg2LjAwMDIsNjc2Ljc0NjkgTDE5Ni4wMDAyLDY3Ni43NDY5IEwxODYuMDAwMiw2NjYuNzQ2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY5LjAwMDIiIHg9IjEyIiB5PSI2ODMuODEzOCI+JiMyNTE1MjsmIzM1MjAxOyYjMTIzOTU7JiMyMzU1MDsmIzEyMzc3OyYjMTI0Mjc7JiMyNDM0MTsmIzI0NDAzOyYjMjQ3NzM7JiMyMjU3NzsmIzEyNDM0OyYjMzE2NDk7JiMyOTcwMjs8L3RleHQ+PC9nPjwhLS1jbGFzcyA/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMjUiIGlkPSJlbnQwMDEwIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjE0NS43ODEzIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI4Ny45OTk4IiB4PSIyODkiIHk9IjM4My42NDY5Ii8+PGVsbGlwc2UgY3g9IjMwNCIgY3k9IjM5OS42NDY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0zMDguMTA5NCw0MDUuNjQ2OSBMMzAwLjM5MDYsNDA1LjY0NjkgTDMwMC4zOTA2LDM5My4yNTYyIEwzMDguMTA5NCwzOTMuMjU2MiBMMzA4LjEwOTQsMzk1LjQxMjUgTDMwMi44NDM4LDM5NS40MTI1IEwzMDIuODQzOCwzOTguMDg0NCBMMzA3LjYwOTQsMzk4LjA4NDQgTDMwNy42MDk0LDQwMC4yNDA2IEwzMDIuODQzOCw0MDAuMjQwNiBMMzAyLjg0MzgsNDAzLjQ5MDYgTDMwOC4xMDk0LDQwMy40OTA2IEwzMDguMTA5NCw0MDUuNjQ2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjMxOCIgeT0iNDA0LjQ5MzYiPiYjMjUxNTI7JiMzNTIwMTsmIzI0NzczOyYjMjI1Nzc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI5MCIgeDI9IjM3NS45OTk4IiB5MT0iNDE1LjY0NjkiIHkyPSI0MTUuNjQ2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ5LjQ5MjEiIHg9IjI5NSIgeT0iNDMyLjY0MiI+JiMyNTE1MjsmIzM1MjAxO05PPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyOTAiIHgyPSIzNzUuOTk5OCIgeTE9IjQzOS45NDM3IiB5Mj0iNDM5Ljk0MzciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2My40OTIiIHg9IjI5NSIgeT0iNDU2LjkzODkiPiYjMTI0NTg7JiMxMjU0MDsmIzEyNDgwO05PPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjI5NSIgeT0iNDczLjIzNTciPiYjMjE2OTc7JiMzMDQ0NjsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjcuOTk5OSIgeD0iMjk1IiB5PSI0ODkuNTMyNiI+JiMzMjAxMzsmIzI2Mzk5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIyOTUiIHk9IjUwNS44Mjk1Ij4mIzI0NTE3OyYjMzUyMDE7JiMyNTk2ODsmIzM3MzI3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyOTUiIHk9IjUyMi4xMjY0Ij4mIzIyNTgwOyYjMjUxNTI7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7PC90ZXh0PjwvZz48IS0tY2xhc3MgQk9NPz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJCT00uLiIgZGF0YS1zb3VyY2UtbGluZT0iMzUiIGlkPSJlbnQwMDExIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI5Mi43MDMiIHg9IjY0LjY1IiB5PSIyMDEuNjA2OSIvPjxlbGxpcHNlIGN4PSI3OS42NSIgY3k9IjIxNy42MDY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik04Mi42MTg4LDIyMy4yNDc1IFE4Mi4wNDA2LDIyMy41NDQ0IDgxLjQsMjIzLjY4NSBRODAuNzU5NCwyMjMuODQxMiA4MC4wNTYzLDIyMy44NDEyIFE3Ny41NTYzLDIyMy44NDEyIDc2LjIyODEsMjIyLjIwMDYgUTc0LjkxNTYsMjIwLjU0NDQgNzQuOTE1NiwyMTcuNDE5NCBRNzQuOTE1NiwyMTQuMjk0NCA3Ni4yMjgxLDIxMi42MzgxIFE3Ny41NTYzLDIxMC45ODE5IDgwLjA1NjMsMjEwLjk4MTkgUTgwLjc1OTQsMjEwLjk4MTkgODEuNCwyMTEuMTM4MSBRODIuMDU2MywyMTEuMjk0NCA4Mi42MTg4LDIxMS41OTEyIEw4Mi42MTg4LDIxNC4zMSBRODEuOTkzOCwyMTMuNzMxOSA4MS40LDIxMy40NjYyIFE4MC44MDYzLDIxMy4xODUgODAuMTgxMywyMTMuMTg1IFE3OC44Mzc1LDIxMy4xODUgNzguMTUsMjE0LjI2MzEgUTc3LjQ2MjUsMjE1LjMyNTYgNzcuNDYyNSwyMTcuNDE5NCBRNzcuNDYyNSwyMTkuNTEzMSA3OC4xNSwyMjAuNTkxMiBRNzguODM3NSwyMjEuNjUzNyA4MC4xODEzLDIyMS42NTM3IFE4MC44MDYzLDIyMS42NTM3IDgxLjQsMjIxLjM4ODEgUTgxLjk5MzgsMjIxLjEwNjkgODIuNjE4OCwyMjAuNTI4NyBMODIuNjE4OCwyMjMuMjQ3NSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYwLjcwMyIgeD0iOTMuNjUiIHk9IjIyMi40NTM2Ij5CT00mIzI0NzczOyYjMjI1Nzc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjY1LjY1IiB4Mj0iMTU2LjM1MyIgeTE9IjIzMy42MDY5IiB5Mj0iMjMzLjYwNjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI2NS42NSIgeDI9IjE1Ni4zNTMiIHkxPSIyNDEuNjA2OSIgeTI9IjI0MS42MDY5Ii8+PC9nPjwhLS1jbGFzcyA/Pz8/Pz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjM3IiBpZD0iZW50MDAxNCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTE1Ljk5OTYiIHg9IjczIiB5PSI4MjkuMjA2OSIvPjxlbGxpcHNlIGN4PSI4OCIgY3k9Ijg0NS4yMDY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik05MC45Njg4LDg1MC44NDc1IFE5MC4zOTA2LDg1MS4xNDQ0IDg5Ljc1LDg1MS4yODUgUTg5LjEwOTQsODUxLjQ0MTMgODguNDA2Myw4NTEuNDQxMyBRODUuOTA2Myw4NTEuNDQxMyA4NC41NzgxLDg0OS44MDA2IFE4My4yNjU2LDg0OC4xNDQ0IDgzLjI2NTYsODQ1LjAxOTQgUTgzLjI2NTYsODQxLjg5NDQgODQuNTc4MSw4NDAuMjM4MSBRODUuOTA2Myw4MzguNTgxOSA4OC40MDYzLDgzOC41ODE5IFE4OS4xMDk0LDgzOC41ODE5IDg5Ljc1LDgzOC43MzgxIFE5MC40MDYzLDgzOC44OTQ0IDkwLjk2ODgsODM5LjE5MTMgTDkwLjk2ODgsODQxLjkxIFE5MC4zNDM4LDg0MS4zMzE5IDg5Ljc1LDg0MS4wNjYzIFE4OS4xNTYzLDg0MC43ODUgODguNTMxMyw4NDAuNzg1IFE4Ny4xODc1LDg0MC43ODUgODYuNSw4NDEuODYzMSBRODUuODEyNSw4NDIuOTI1NiA4NS44MTI1LDg0NS4wMTk0IFE4NS44MTI1LDg0Ny4xMTMxIDg2LjUsODQ4LjE5MTMgUTg3LjE4NzUsODQ5LjI1MzggODguNTMxMyw4NDkuMjUzOCBRODkuMTU2Myw4NDkuMjUzOCA4OS43NSw4NDguOTg4MSBROTAuMzQzOCw4NDguNzA2OSA5MC45Njg4LDg0OC4xMjg4IEw5MC45Njg4LDg1MC44NDc1IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMTAyIiB5PSI4NTAuMDUzNiI+JiMyMjMxMjsmIzI0MjM1OyYjMjU1MTI7JiMzMTIyNzsmIzI0NzczOyYjMjI1Nzc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9Ijc0IiB4Mj0iMTg3Ljk5OTYiIHkxPSI4NjEuMjA2OSIgeTI9Ijg2MS4yMDY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNzQiIHgyPSIxODcuOTk5NiIgeTE9Ijg2OS4yMDY5IiB5Mj0iODY5LjIwNjkiLz48L2c+PCEtLWNsYXNzID8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjM4IiBpZD0iZW50MDAxNiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTAxLjk5OTciIHg9IjIyNCIgeT0iODI5LjIwNjkiLz48ZWxsaXBzZSBjeD0iMjM5IiBjeT0iODQ1LjIwNjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTI0MS45Njg4LDg1MC44NDc1IFEyNDEuMzkwNiw4NTEuMTQ0NCAyNDAuNzUsODUxLjI4NSBRMjQwLjEwOTQsODUxLjQ0MTMgMjM5LjQwNjMsODUxLjQ0MTMgUTIzNi45MDYzLDg1MS40NDEzIDIzNS41NzgxLDg0OS44MDA2IFEyMzQuMjY1Niw4NDguMTQ0NCAyMzQuMjY1Niw4NDUuMDE5NCBRMjM0LjI2NTYsODQxLjg5NDQgMjM1LjU3ODEsODQwLjIzODEgUTIzNi45MDYzLDgzOC41ODE5IDIzOS40MDYzLDgzOC41ODE5IFEyNDAuMTA5NCw4MzguNTgxOSAyNDAuNzUsODM4LjczODEgUTI0MS40MDYzLDgzOC44OTQ0IDI0MS45Njg4LDgzOS4xOTEzIEwyNDEuOTY4OCw4NDEuOTEgUTI0MS4zNDM4LDg0MS4zMzE5IDI0MC43NSw4NDEuMDY2MyBRMjQwLjE1NjMsODQwLjc4NSAyMzkuNTMxMyw4NDAuNzg1IFEyMzguMTg3NSw4NDAuNzg1IDIzNy41LDg0MS44NjMxIFEyMzYuODEyNSw4NDIuOTI1NiAyMzYuODEyNSw4NDUuMDE5NCBRMjM2LjgxMjUsODQ3LjExMzEgMjM3LjUsODQ4LjE5MTMgUTIzOC4xODc1LDg0OS4yNTM4IDIzOS41MzEzLDg0OS4yNTM4IFEyNDAuMTU2Myw4NDkuMjUzOCAyNDAuNzUsODQ4Ljk4ODEgUTI0MS4zNDM4LDg0OC43MDY5IDI0MS45Njg4LDg0OC4xMjg4IEwyNDEuOTY4OCw4NTAuODQ3NSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjI1MyIgeT0iODUwLjA1MzYiPiYjMzAzMzA7JiMyNzg4MDsmIzI0NzczOyYjMjI1Nzc7JiMyNzUzMTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjI1IiB4Mj0iMzI0Ljk5OTciIHkxPSI4NjEuMjA2OSIgeTI9Ijg2MS4yMDY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjI1IiB4Mj0iMzI0Ljk5OTciIHkxPSI4NjkuMjA2OSIgeTI9Ijg2OS4yMDY5Ii8+PC9nPjwhLS1jbGFzcyA/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIzOSIgaWQ9ImVudDAwMTgiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEwMS45OTk3IiB4PSIzNjEiIHk9IjgyOS4yMDY5Ii8+PGVsbGlwc2UgY3g9IjM3NiIgY3k9Ijg0NS4yMDY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0zNzguOTY4OCw4NTAuODQ3NSBRMzc4LjM5MDYsODUxLjE0NDQgMzc3Ljc1LDg1MS4yODUgUTM3Ny4xMDk0LDg1MS40NDEzIDM3Ni40MDYzLDg1MS40NDEzIFEzNzMuOTA2Myw4NTEuNDQxMyAzNzIuNTc4MSw4NDkuODAwNiBRMzcxLjI2NTYsODQ4LjE0NDQgMzcxLjI2NTYsODQ1LjAxOTQgUTM3MS4yNjU2LDg0MS44OTQ0IDM3Mi41NzgxLDg0MC4yMzgxIFEzNzMuOTA2Myw4MzguNTgxOSAzNzYuNDA2Myw4MzguNTgxOSBRMzc3LjEwOTQsODM4LjU4MTkgMzc3Ljc1LDgzOC43MzgxIFEzNzguNDA2Myw4MzguODk0NCAzNzguOTY4OCw4MzkuMTkxMyBMMzc4Ljk2ODgsODQxLjkxIFEzNzguMzQzOCw4NDEuMzMxOSAzNzcuNzUsODQxLjA2NjMgUTM3Ny4xNTYzLDg0MC43ODUgMzc2LjUzMTMsODQwLjc4NSBRMzc1LjE4NzUsODQwLjc4NSAzNzQuNSw4NDEuODYzMSBRMzczLjgxMjUsODQyLjkyNTYgMzczLjgxMjUsODQ1LjAxOTQgUTM3My44MTI1LDg0Ny4xMTMxIDM3NC41LDg0OC4xOTEzIFEzNzUuMTg3NSw4NDkuMjUzOCAzNzYuNTMxMyw4NDkuMjUzOCBRMzc3LjE1NjMsODQ5LjI1MzggMzc3Ljc1LDg0OC45ODgxIFEzNzguMzQzOCw4NDguNzA2OSAzNzguOTY4OCw4NDguMTI4OCBMMzc4Ljk2ODgsODUwLjg0NzUgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIzOTAiIHk9Ijg1MC4wNTM2Ij4mIzM1MDY5OyYjMzY4OTY7JiMyNzUzMTsmIzI0NzczOyYjMjI1Nzc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjM2MiIgeDI9IjQ2MS45OTk3IiB5MT0iODYxLjIwNjkiIHkyPSI4NjEuMjA2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjM2MiIgeDI9IjQ2MS45OTk3IiB5MT0iODY5LjIwNjkiIHkyPSI4NjkuMjA2OSIvPjwvZz48IS0tbGluayBCT00/PyB0byA/Pz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDExIiBkYXRhLWVudGl0eS0yPSJlbnQwMDAyIiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMzUiIGlkPSJsbmsxMiI+PHBhdGggY29kZUxpbmU9IjM1IiBkPSJNMTU3LjU2LDIyNS42MDY5IEMxNzYuODgsMjI1LjYwNjkgMTkzLjQ0LDIyNS42MDY5IDIxMy42MSwyMjUuNjA2OSIgZmlsbD0ibm9uZSIgaWQ9IkJPTSYjMjQ3NzM7JiMyMjU3NzstdG8tJiMxMjQ1ODsmIzEyNTQwOyYjMTI0ODA7JiMyNDc3MzsmIzIyNTc3OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6Nyw3OyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjE5LjYxLDIyNS42MDY5LDIxMC42MSwyMjEuNjA2OSwyMTQuNjEsMjI1LjYwNjksMjEwLjYxLDIyOS42MDY5LDIxOS42MSwyMjUuNjA2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI2IiB4PSIxNzUuNjgiIHk9IjIxOC42NzM4Ij4mIzIzNjM3OyYjMzgyODM7PC90ZXh0PjwvZz48IS0tcmV2ZXJzZSBsaW5rID8/Pz8/IHRvID8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMiIgZGF0YS1lbnRpdHktMj0iZW50MDAwNiIgZGF0YS1saW5rLXR5cGU9ImNyb3dmb290IiBkYXRhLXNvdXJjZS1saW5lPSIzNiIgaWQ9ImxuazEzIj48cGF0aCBjb2RlTGluZT0iMzYiIGQ9Ik0yNzIuODE5MSwzMjQuODkzNSBDMjcyLjMzOTEsMzQ5LjUxMzUgMjcyLjI0LDM1OC42OTY5IDI3MiwzODMuNjQ2OSBDMjcxLjM4LDQ0OC40MzY5IDI3MS4zNSw0NjQuNjM2OSAyNzIsNTI5LjQyNjkgQzI3Mi4yNSw1NTQuMzc2OSAyNzIuNzQsNTgxLjY2NjkgMjczLjI1LDYwNS45OTY5IiBmaWxsPSJub25lIiBpZD0iJiMxMjQ1ODsmIzEyNTQwOyYjMTI0ODA7JiMyNDc3MzsmIzIyNTc3Oy1iYWNrdG8tJiMyNDM0MTsmIzI0NDAzOyYjMjQ3NzM7JiMyMjU3NzsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjczLjAxNDEiIHgyPSIyNjcuMTcxMSIgeTE9IjMxNC44OTU0IiB5Mj0iMzA2Ljc3OTkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjczLjAxNDEiIHgyPSIyNzkuMTY4OSIgeTE9IjMxNC44OTU0IiB5Mj0iMzA3LjAxMzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjczLjAxNDEiIHgyPSIyNzMuMTciIHkxPSIzMTQuODk1NCIgeTI9IjMwNi44OTY5Ii8+PGVsbGlwc2UgY3g9IjI3Mi44OTcxIiBjeT0iMzIwLjg5NDIiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tcmV2ZXJzZSBsaW5rID8/Pz8gdG8gPz8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDYiIGRhdGEtZW50aXR5LTI9ImVudDAwMTQiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIzNyIgaWQ9ImxuazE1Ij48cGF0aCBjb2RlTGluZT0iMzciIGQ9Ik0yMjYuNzY4LDczNy44ODcxIEMxOTkuOTk4LDc2OS44NTcxIDE3MS4wNiw4MDQuMzg2OSAxNTAuNiw4MjguODA2OSIgZmlsbD0ibm9uZSIgaWQ9IiYjMjQzNDE7JiMyNDQwMzsmIzI0NzczOyYjMjI1Nzc7LWJhY2t0by0mIzIyMzEyOyYjMjQyMzU7JiMyNTUxMjsmIzMxMjI3OyYjMjQ3NzM7JiMyMjU3NzsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjcsNzsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIzMC42Miw3MzMuMjg2OSwyMjEuNzc1Miw3MzcuNjE5MiwyMjcuNDEsNzM3LjEyMDQsMjI3LjkwODgsNzQyLjc1NTIsMjMwLjYyLDczMy4yODY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzkiIHg9IjE4Ni44NyIgeT0iNzk1LjI3MzgiPiYjMjQzNDE7JiMyNDQwMzsmIzIwODAzOzwvdGV4dD48L2c+PCEtLXJldmVyc2UgbGluayA/Pz8/IHRvID8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDYiIGRhdGEtZW50aXR5LTI9ImVudDAwMTYiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIzOCIgaWQ9ImxuazE3Ij48cGF0aCBjb2RlTGluZT0iMzgiIGQ9Ik0yNzUsNzU4LjIxNjkgQzI3NSw3ODUuNjM2OSAyNzUsODA5LjAwNjkgMjc1LDgyOC43NzY5IiBmaWxsPSJub25lIiBpZD0iJiMyNDM0MTsmIzI0NDAzOyYjMjQ3NzM7JiMyMjU3NzstYmFja3RvLSYjMzAzMzA7JiMyNzg4MDsmIzI0NzczOyYjMjI1Nzc7JiMyNzUzMTsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjcsNzsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI3NSw3NTIuMjE2OSwyNzEsNzYxLjIxNjksMjc1LDc1Ny4yMTY5LDI3OSw3NjEuMjE2OSwyNzUsNzUyLjIxNjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzOSIgeD0iMjc2IiB5PSI3OTUuMjczOCI+JiMyNDM0MTsmIzI0NDAzOyYjMjA4MDM7PC90ZXh0PjwvZz48IS0tcmV2ZXJzZSBsaW5rID8/Pz8gdG8gPz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNiIgZGF0YS1lbnRpdHktMj0iZW50MDAxOCIgZGF0YS1saW5rLXR5cGU9ImRlcGVuZGVuY3kiIGRhdGEtc291cmNlLWxpbmU9IjM5IiBpZD0ibG5rMTkiPjxwYXRoIGNvZGVMaW5lPSIzOSIgZD0iTTMyMy4yMTk0LDc0MC44MTkxIEMzNDguMjE5NCw3NzIuMTg5MSAzNzQuMzcsODA0Ljk5NjkgMzkzLjI3LDgyOC43MDY5IiBmaWxsPSJub25lIiBpZD0iJiMyNDM0MTsmIzI0NDAzOyYjMjQ3NzM7JiMyMjU3NzstYmFja3RvLSYjMzUwNjk7JiMzNjg5NjsmIzI3NTMxOyYjMjQ3NzM7JiMyMjU3NzsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjcsNzsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMxOS40OCw3MzYuMTI2OSwzMjEuOTYxLDc0NS42NTgxLDMyMi41OTYyLDc0MC4wMzcsMzI4LjIxNzMsNzQwLjY3MjMsMzE5LjQ4LDczNi4xMjY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzkiIHg9IjM2OC42OSIgeT0iNzk1LjI3MzgiPiYjMjQzNDE7JiMyNDQwMzsmIzIwODAzOzwvdGV4dD48L2c+PCEtLWxpbmsgPz8/Pz8gdG8gPz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAyIiBkYXRhLWVudGl0eS0yPSJlbnQwMDEwIiBkYXRhLWxpbmstdHlwZT0iY3Jvd2Zvb3QiIGRhdGEtc291cmNlLWxpbmU9IjQwIiBpZD0ibG5rMjAiPjxwYXRoIGNvZGVMaW5lPSI0MCIgZD0iTTI5NS4zNywzMDYuOTk2OSBDMzAxLjY3LDMzMS44NTY5IDMwNC4xMzg2LDM0MS42Mzg0IDMxMC4yODg2LDM2NS45MDg0IiBmaWxsPSJub25lIiBpZD0iJiMxMjQ1ODsmIzEyNTQwOyYjMTI0ODA7JiMyNDc3MzsmIzIyNTc3Oy10by0mIzI1MTUyOyYjMzUyMDE7JiMyNDc3MzsmIzIyNTc3OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMTIuNzQ0OSIgeDI9IjMyMC41MjYyIiB5MT0iMzc1LjYwMiIgeTI9IjM4MS44ODMxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMxMi43NDQ5IiB4Mj0iMzA4Ljg5MzgiIHkxPSIzNzUuNjAyIiB5Mj0iMzg0LjgzMDciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzEyLjc0NDkiIHgyPSIzMTQuNzEiIHkxPSIzNzUuNjAyIiB5Mj0iMzgzLjM1NjkiLz48ZWxsaXBzZSBjeD0iMzExLjI3MTEiIGN5PSIzNjkuNzg1OCIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjYiIHg9IjMwNi43NCIgeT0iMzQ5LjcxMzgiPiYjMjk5ODM7JiMyNTEwNDs8L3RleHQ+PC9nPjwhLS1saW5rID8/Pz8gdG8gPz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDEwIiBkYXRhLWVudGl0eS0yPSJlbnQwMDA2IiBkYXRhLWxpbmstdHlwZT0iY3Jvd2Zvb3QiIGRhdGEtc291cmNlLWxpbmU9IjQxIiBpZD0ibG5rMjEiPjxwYXRoIGNvZGVMaW5lPSI0MSIgZD0iTTMxNC4wMSw1MjkuODI2OSBDMzA3LjU3LDU1NC4zNDY5IDMwNC45MzkzLDU2NC4zMjY1IDI5OC41MDkzLDU4OC44MjY1IiBmaWxsPSJub25lIiBpZD0iJiMyNTE1MjsmIzM1MjAxOyYjMjQ3NzM7JiMyMjU3NzstdG8tJiMyNDM0MTsmIzI0NDAzOyYjMjQ3NzM7JiMyMjU3NzsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjk1Ljk3MDgiIHgyPSIyOTkuNzQzNSIgeTE9IjU5OC40OTg5IiB5Mj0iNjA3Ljc2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI5NS45NzA4IiB4Mj0iMjg4LjEzNjUiIHkxPSI1OTguNDk4OSIgeTI9IjYwNC43MTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI5NS45NzA4IiB4Mj0iMjkzLjk0IiB5MT0iNTk4LjQ5ODkiIHkyPSI2MDYuMjM2OSIvPjxlbGxpcHNlIGN4PSIyOTcuNDkzOSIgY3k9IjU5Mi42OTU1IiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNiIgeD0iMzA2Ljc0IiB5PSI1NzIuNDkzOCI+JiMyNDM0MTsmIzI0NDAzOzwvdGV4dD48L2c+PD9wbGFudHVtbC1zcmMgVkxCMUppOTA1QnBsTF9HN29XU0d1eTR4UVpueEJPYTllSHZ3Q1NRYXN4Tk9ZV1dIcUEwT0NJZXM0ZWk2RExmUV9QWk50SXFkVnk3NWFjOTFGTlJVVER4Q2N6S3NqODhZQ0xrRmtkWXFMd01GcFQ1bi1URXRTY2toZHh1RHM2TFRHdW1HS2VoUVhoT2JXTjQ3bjBVWUNzQklwZ0VxWkg5YVVHTjlDZzlycEN6U0MwUlZlOHR1a1N4aVNrWFByM3JiOXBTZTMzdnVtdzdMVmFJMkFTaFFEanJfTy1zQktRazY4aVZZWkk1aEZXWDNZN1FVWEJrZnRXdWdnZmVZUVVnY2ZFUmR4NklieUJLSWxHb2VMR0JTMHRtRFUxVG1ibnFfSERyZ0dXdzNEaERnd3lNVlltM3RXVG0zOEswaUM5eDFrMFIzWXRKMkozUzlKX3FjM1VmOXlsWGc4ZFFDcW1ERmg0dFQ4bnZDT3F1NF9hck1LRkJRRTVmZ01OUElhR1g1LS0tME1zMktWbkIwRUVCazlRLUw0Z3luVnp3aGcyWmJTQlFrZnVmZTBUNEZTX3B0TnFSSHFhZms4ZnJQX0FNNC0xY1hzUzZFQWlrZk4yV0xTWTZKYU1aUmVMd0Y3Smh5VFpZTFktemhhZGEtUnRiaXVDRzBTeWxfYXdFaE9BSHQxRXFOdkxjbGlnbmtmdS1PYk5aWkdobVJiNEFfVUpEVG5QelY/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="mrp_1">MRP 処理の流れ<a class="headerlink" href="#mrp_1" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkFDVElWSVRZIiBoZWlnaHQ9IjU0OHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDczcHg7aGVpZ2h0OjU0OHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQ3MyA1NDgiIHdpZHRoPSI0NzNweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPk1SUCYjMjA5NjY7JiMyOTcwMjsmIzEyNTAxOyYjMTI1MjU7JiMxMjU0MDs8L3RpdGxlPjxkZWZzLz48Zz48ZyBjbGFzcz0idGl0bGUiIGRhdGEtc291cmNlLWxpbmU9IjEiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDQuOTcyNCIgeD0iMTgyLjUyMiIgeT0iMzIuOTk1MSI+TVJQJiMyMDk2NjsmIzI5NzAyOyYjMTI1MDE7JiMxMjUyNTsmIzEyNTQwOzwvdGV4dD48L2c+PGVsbGlwc2UgY3g9IjI2MC41MTY2IiBjeT0iNTcuMjk2OSIgZmlsbD0iIzIyMjIyMiIgcng9IjEwIiByeT0iMTAiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTY1LjIwNzkiIHg9IjE3Ny45MTI2IiB5PSI4Ny4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ1LjIwNzkiIHg9IjE4Ny45MTI2IiB5PSIxMDguNDM1NSI+TVBTJiMxMjM2MzsmIzEyNDI1OyYjMzUwNjk7JiMyMTY5NzsmIzEyNDU4OyYjMTI1NDA7JiMxMjQ4MDsmIzEyNDM0OyYjMjE0NjI7JiMyNDQ3MTs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE3Ni4wMDEyIiB4PSIxNzIuNTE2IiB5PSIxODUuMjY1NiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1Ni4wMDEyIiB4PSIxODIuNTE2IiB5PSIyMDYuNDA0MyI+JiMxMjQ1ODsmIzEyNTQwOyYjMTI0ODA7JiMxMjM5NTsmIzIzNTUwOyYjMTIzNzU7JiMxMjM5MDsmIzI1MTUyOyYjMzUyMDE7JiMzNzMyNzsmIzEyNDM0OyYjMzUzMzY7JiMzMTYzOTs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE4OC4wMDEzIiB4PSIxNjYuNTE2IiB5PSIyMzkuMjM0NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2OC4wMDEzIiB4PSIxNzYuNTE2IiB5PSIyNjAuMzczIj4mIzIyMzEyOyYjMjQyMzU7JiMxMjUzOTsmIzMwMzMwOyYjMjc4ODA7JiMyNzUzMTsmIzEyNTM5OyYjMzUwNjk7JiMzNjg5NjsmIzI3NTMxOyYjMTIzNjM7JiMxMjQyNTsmIzI0MzQxOyYjMjQ0MDM7PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNGMUYxRjEiIHBvaW50cz0iMjI3LjUxNjgsMjkzLjIwMzEsMjkzLjUxNjQsMjkzLjIwMzEsMzA1LjUxNjQsMzA1LjIwMzEsMjkzLjUxNjQsMzE3LjIwMzEsMjI3LjUxNjgsMzE3LjIwMzEsMjE1LjUxNjgsMzA1LjIwMzEsMjI3LjUxNjgsMjkzLjIwMzEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY1Ljk5OTUiIHg9IjIyNy41MTY4IiB5PSIzMDkuMDExMiI+JiMxOTk4MTsmIzM2Mjc1OyYjMTIzNjQ7JiMxMjM1NDsmIzEyNDI3OyYjNjUzMTE7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIxLjk5OTgiIHg9IjE5My41MTciIHk9IjMwMi42MDg5Ij4mIzEyMzk5OyYjMTIzNTY7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMyLjk5OTgiIHg9IjMwNS41MTY0IiB5PSIzMDIuNjA4OSI+JiMxMjM1NjsmIzEyMzU2OyYjMTIzNjA7PC90ZXh0PjxwYXRoIGQ9Ik0xOTcuMDE2NiwzMjcuMjAzMSBMMTk3LjAxNjYsMzQzLjMzNTkgTDE3Ny4wMTY2LDM0Ny4zMzU5IEwxOTcuMDE2NiwzNTEuMzM1OSBMMTk3LjAxNjYsMzY3LjQ2ODggQTAsMCAwIDAgMCAxOTcuMDE2NiwzNjcuNDY4OCBMMzQ4LjAxNjgsMzY3LjQ2ODggQTAsMCAwIDAgMCAzNDguMDE2OCwzNjcuNDY4OCBMMzQ4LjAxNjgsMzM3LjIwMzEgTDMzOC4wMTY4LDMyNy4yMDMxIEwxOTcuMDE2NiwzMjcuMjAzMSBBMCwwIDAgMCAwIDE5Ny4wMTY2LDMyNy4yMDMxIiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMzM4LjAxNjgsMzI3LjIwMzEgTDMzOC4wMTY4LDMzNy4yMDMxIEwzNDguMDE2OCwzMzcuMjAzMSBMMzM4LjAxNjgsMzI3LjIwMzEiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMC4wMDAyIiB4PSIyMDMuMDE2NiIgeT0iMzQ0LjI3Ij4mIzEyNTM5OyYjMTI1MjU7JiMxMjQ4MzsmIzEyNDg4OyYjMTI0Njk7JiMxMjQ1MjsmIzEyNDc0OyYjMTI0MzQ7JiMzMjc3MTsmIzI0OTQyOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzAuMDAwMiIgeD0iMjAzLjAxNjYiIHk9IjM1OS40MDI4Ij4mIzEyNTM5OyYjMTI1MjI7JiMxMjU0MDsmIzEyNDg5OyYjMTI0Nzk7JiMxMjQ1MjsmIzEyNTEyOyYjMTI0MzQ7JiMzMjc3MTsmIzI0OTQyOzwvdGV4dD48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTE2LjAwMDciIHg9IjYxLjAxNTkiIHk9IjMzMC4zNTE2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTYuMDAwNyIgeD0iNzEuMDE1OSIgeT0iMzUxLjQ5MDIiPiYjMjYwMzI7JiMzNTIxNTsmIzEyNDU4OyYjMTI1NDA7JiMxMjQ4MDsmIzEyNDM0OyYjMjAzMTY7JiMyNTEwNDs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjIxNi4wMzI1IiB4PSIxMSIgeT0iMzg3LjQ2ODgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTYuMDMyNSIgeD0iMjEiIHk9IjQwOC42MDc0Ij5CT00mIzEyNDM0OyYjMjM2Mzc7JiMzODI4MzsmIzEyMzc1OyYjMTIzOTA7JiMyMzM3NjsmIzIxNjk3OyYjMzA0NDY7JiMxMjM5ODsmIzI1MTUyOyYjMzUyMDE7JiMxMjQzNDsmIzI5OTgzOyYjMjUxMDQ7PC90ZXh0PjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI2OC4wMDA0IiB4PSIzNjUuMDE2IiB5PSIzMjcuMjAzMSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ4LjAwMDQiIHg9IjM3NS4wMTYiIHk9IjM0OC4zNDE4Ij4mIzIwOTY2OyYjMjk3MDI7JiMyMzQzNjsmIzIwMTAyOzwvdGV4dD48cG9seWdvbiBmaWxsPSIjRjFGMUYxIiBwb2ludHM9IjI2MC41MTY2LDQyNy40Mzc1LDI3Mi41MTY2LDQzOS40Mzc1LDI2MC41MTY2LDQ1MS40Mzc1LDI0OC41MTY2LDQzOS40Mzc1LDI2MC41MTY2LDQyNy40Mzc1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cG9seWdvbiBmaWxsPSIjRjFGMUYxIiBwb2ludHM9IjI2MC41MTY2LDE0MS4yNjU2LDI3Mi41MTY2LDE1My4yNjU2LDI2MC41MTY2LDE2NS4yNjU2LDI0OC41MTY2LDE1My4yNjU2LDI2MC41MTY2LDE0MS4yNjU2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cG9seWdvbiBmaWxsPSIjRjFGMUYxIiBwb2ludHM9IjIwMC4wMTcsNDcxLjQzNzUsMzIxLjAxNjIsNDcxLjQzNzUsMzMzLjAxNjIsNDgzLjQzNzUsMzIxLjAxNjIsNDk1LjQzNzUsMjAwLjAxNyw0OTUuNDM3NSwxODguMDE3LDQ4My40Mzc1LDIwMC4wMTcsNDcxLjQzNzUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMC45OTkyIiB4PSIyMDAuMDE3IiB5PSI0ODcuMjQ1NiI+JiMyNjQxMDsmIzIwOTY2OyYjMjk3MDI7JiMxMjM5ODsmIzEyNDU4OyYjMTI1NDA7JiMxMjQ4MDsmIzEyMzY0OyYjMTIzNTQ7JiMxMjQyNzsmIzY1MzExOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMS45OTk4IiB4PSIzMzMuMDE2MiIgeT0iNDgwLjg0MzMiPiYjMTIzOTk7JiMxMjM1Njs8L3RleHQ+PGVsbGlwc2UgY3g9IjI2MC41MTY2IiBjeT0iNTI2LjQzNzUiIGZpbGw9Im5vbmUiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMyMjIyMjI7c3Ryb2tlLXdpZHRoOjE7Ii8+PGVsbGlwc2UgY3g9IjI2MC41MTY2IiBjeT0iNTI2LjQzNzUiIGZpbGw9IiMyMjIyMjIiIHJ4PSI2IiByeT0iNiIgc3R5bGU9InN0cm9rZTojMjIyMjIyO3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNjAuNTE2NiIgeDI9IjI2MC41MTY2IiB5MT0iNjcuMjk2OSIgeTI9Ijg3LjI5NjkiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI1Ni41MTY2LDc3LjI5NjksMjYwLjUxNjYsODcuMjk2OSwyNjQuNTE2Niw3Ny4yOTY5LDI2MC41MTY2LDgxLjI5NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjYwLjUxNjYiIHgyPSIyNjAuNTE2NiIgeTE9IjIxOS4yMzQ0IiB5Mj0iMjM5LjIzNDQiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI1Ni41MTY2LDIyOS4yMzQ0LDI2MC41MTY2LDIzOS4yMzQ0LDI2NC41MTY2LDIyOS4yMzQ0LDI2MC41MTY2LDIzMy4yMzQ0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjExOS4wMTYzIiB4Mj0iMTE5LjAxNjMiIHkxPSIzNjQuMzIwMyIgeTI9IjM4Ny40Njg4Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMTUuMDE2MywzNzcuNDY4OCwxMTkuMDE2MywzODcuNDY4OCwxMjMuMDE2MywzNzcuNDY4OCwxMTkuMDE2MywzODEuNDY4OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMTUuNTE2OCIgeDI9IjExOS4wMTYzIiB5MT0iMzA1LjIwMzEiIHkyPSIzMDUuMjAzMSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMTkuMDE2MyIgeDI9IjExOS4wMTYzIiB5MT0iMzA1LjIwMzEiIHkyPSIzMzAuMzUxNiIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTE1LjAxNjMsMzIwLjM1MTYsMTE5LjAxNjMsMzMwLjM1MTYsMTIzLjAxNjMsMzIwLjM1MTYsMTE5LjAxNjMsMzI0LjM1MTYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzA1LjUxNjQiIHgyPSIzOTkuMDE2MiIgeTE9IjMwNS4yMDMxIiB5Mj0iMzA1LjIwMzEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzk5LjAxNjIiIHgyPSIzOTkuMDE2MiIgeTE9IjMwNS4yMDMxIiB5Mj0iMzI3LjIwMzEiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM5NS4wMTYyLDMxNy4yMDMxLDM5OS4wMTYyLDMyNy4yMDMxLDQwMy4wMTYyLDMxNy4yMDMxLDM5OS4wMTYyLDMyMS4yMDMxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjExOS4wMTYzIiB4Mj0iMTE5LjAxNjMiIHkxPSI0MjEuNDM3NSIgeTI9IjQzOS40Mzc1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjExOS4wMTYzIiB4Mj0iMjQ4LjUxNjYiIHkxPSI0MzkuNDM3NSIgeTI9IjQzOS40Mzc1Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMzguNTE2Niw0MzUuNDM3NSwyNDguNTE2Niw0MzkuNDM3NSwyMzguNTE2Niw0NDMuNDM3NSwyNDIuNTE2Niw0MzkuNDM3NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzOTkuMDE2MiIgeDI9IjM5OS4wMTYyIiB5MT0iMzYxLjE3MTkiIHkyPSI0MzkuNDM3NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzOTkuMDE2MiIgeDI9IjI3Mi41MTY2IiB5MT0iNDM5LjQzNzUiIHkyPSI0MzkuNDM3NSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjgyLjUxNjYsNDM1LjQzNzUsMjcyLjUxNjYsNDM5LjQzNzUsMjgyLjUxNjYsNDQzLjQzNzUsMjc4LjUxNjYsNDM5LjQzNzUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjYwLjUxNjYiIHgyPSIyNjAuNTE2NiIgeTE9IjI3My4yMDMxIiB5Mj0iMjkzLjIwMzEiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI1Ni41MTY2LDI4My4yMDMxLDI2MC41MTY2LDI5My4yMDMxLDI2NC41MTY2LDI4My4yMDMxLDI2MC41MTY2LDI4Ny4yMDMxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI2MC41MTY2IiB4Mj0iMjYwLjUxNjYiIHkxPSIxNjUuMjY1NiIgeTI9IjE4NS4yNjU2Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNTYuNTE2NiwxNzUuMjY1NiwyNjAuNTE2NiwxODUuMjY1NiwyNjQuNTE2NiwxNzUuMjY1NiwyNjAuNTE2NiwxNzkuMjY1NiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMzMuMDE2MiIgeDI9IjQ0Ny4wMTY0IiB5MT0iNDgzLjQzNzUiIHkyPSI0ODMuNDM3NSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNDQzLjAxNjQsMzIwLjg1MTYsNDQ3LjAxNjQsMzEwLjg1MTYsNDUxLjAxNjQsMzIwLjg1MTYsNDQ3LjAxNjQsMzE2Ljg1MTYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDQ3LjAxNjQiIHgyPSI0NDcuMDE2NCIgeTE9IjE1My4yNjU2IiB5Mj0iNDgzLjQzNzUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDQ3LjAxNjQiIHgyPSIyNzIuNTE2NiIgeTE9IjE1My4yNjU2IiB5Mj0iMTUzLjI2NTYiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI4Mi41MTY2LDE0OS4yNjU2LDI3Mi41MTY2LDE1My4yNjU2LDI4Mi41MTY2LDE1Ny4yNjU2LDI3OC41MTY2LDE1My4yNjU2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI2MC41MTY2IiB4Mj0iMjYwLjUxNjYiIHkxPSI0NTEuNDM3NSIgeTI9IjQ3MS40Mzc1Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNTYuNTE2Niw0NjEuNDM3NSwyNjAuNTE2Niw0NzEuNDM3NSwyNjQuNTE2Niw0NjEuNDM3NSwyNjAuNTE2Niw0NjUuNDM3NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNjAuNTE2NiIgeDI9IjI2MC41MTY2IiB5MT0iMTIxLjI2NTYiIHkyPSIxNDEuMjY1NiIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjU2LjUxNjYsMTMxLjI2NTYsMjYwLjUxNjYsMTQxLjI2NTYsMjY0LjUxNjYsMTMxLjI2NTYsMjYwLjUxNjYsMTM1LjI2NTYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjYwLjUxNjYiIHgyPSIyNjAuNTE2NiIgeTE9IjQ5NS40Mzc1IiB5Mj0iNTE1LjQzNzUiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI1Ni41MTY2LDUwNS40Mzc1LDI2MC41MTY2LDUxNS40Mzc1LDI2NC41MTY2LDUwNS40Mzc1LDI2MC41MTY2LDUwOS40Mzc1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PD9wbGFudHVtbC1zcmMgSlA3VklXOTE1Q1Jsdm9kY0tielhsVWpVYWRlMmVKNE5INEs3a2pzUENMclBHeWJLOGE2WE00SG5CUUk4SlVyWFpoRXhObEtBcFVtTTJkQ255OXFfdF9TeHJBR2JXaENORVRib21ydUpuMDM0NGlHNmVKaERyb1gySFpQdDJTbTF0ZXdVanhCRldDLUwzQzgyVlkteEd4YVJQSDJnYUloOUtzR1NIUlFHZ25zbTRKMHRRNWtIb213amhrZzhQZFJld0d2M1pjVklOdTN1Mlhfek8zcUJGNFZ6ck9nM0RUTl9VQUZTM0VJc2h3aEQwYXhqRi0tWVpwTW0zWjBFdEZkUEpEQU81YWFQZnUyalczTklvMFk2aHY3UkZOTXV0dXUza3ZUMXZHZWJrNlBVNW9iSVEtQTgwZUdEXzF0dTJ0MVZNeEQ0U0VpYlNaQVczVm5Sb3M5d2I0ZHYya2pYQWk3UFVMT3BVMWlTWGF3SUwydnhZYjN1djA3cGFqSWc4N29PbjFQOGdLd3FycVJ5UjZLdEdJd3pwanZsUGxIYWlfMkY0anlLSk5NTkwzMlVfbnM2VUlUbUpuY096SUMxVFJIQXpIUzA/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_10">総所要量・正味所要量の計算<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<p>MRP では以下の計算を行います：</p>
<table>
<thead>
<tr>
<th>項目</th>
<th>計算式</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>総所要量</strong></td>
<td>親オーダ数量 × (必要数量 / 基準数量) × (1 + 不良率)</td>
</tr>
<tr>
<td><strong>引当可能量</strong></td>
<td>在庫残 + 発注残 + 製造残</td>
</tr>
<tr>
<td><strong>正味所要量</strong></td>
<td>総所要量 - 引当可能量</td>
</tr>
<tr>
<td><strong>オーダ数量</strong></td>
<td>ロットサイズを考慮した発注・製造数量</td>
</tr>
</tbody>
</table>
<h3 id="_11">ロットまとめ<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<p>ロットサイズの計算ロジック：</p>
<ol>
<li><strong>最小ロット数</strong>: 必要数量が最小ロット数未満の場合、最小ロット数を採用</li>
<li><strong>刻みロット数</strong>: 最小ロット数を超える場合、刻みロット数で切り上げ</li>
<li><strong>最大ロット数</strong>: 計算結果が最大ロット数を超える場合、最大ロット数で制限</li>
</ol>
<h3 id="mrp_2">MRP サービス<a class="headerlink" href="#mrp_2" title="Permanent link">&para;</a></h3>
<details>
<summary>MrpService.java</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/application/service/MrpService.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.application.service</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.application.port.out.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.bom.Bom</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.item.Item</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.item.ItemCategory</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.plan.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Service</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.transaction.annotation.Transactional</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.RoundingMode</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="nd">@Service</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MrpService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ItemRepository</span><span class="w"> </span><span class="n">itemRepository</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">BomRepository</span><span class="w"> </span><span class="n">bomRepository</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">OrderRepository</span><span class="w"> </span><span class="n">orderRepository</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">RequirementRepository</span><span class="w"> </span><span class="n">requirementRepository</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">AllocationRepository</span><span class="w"> </span><span class="n">allocationRepository</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * オーダから所要量を展開する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Requirement</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">explodeRequirements</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">orderId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orderRepository</span><span class="p">.</span><span class="na">findById</span><span class="p">(</span><span class="n">orderId</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">orElseThrow</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;Order not found: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">orderId</span><span class="p">));</span>

<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">bomList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bomRepository</span><span class="p">.</span><span class="na">findByParentItemCodeEffective</span><span class="p">(</span>
<span class="w">                </span><span class="n">order</span><span class="p">.</span><span class="na">getItemCode</span><span class="p">(),</span>
<span class="w">                </span><span class="n">order</span><span class="p">.</span><span class="na">getDueDate</span><span class="p">()</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Requirement</span><span class="o">&gt;</span><span class="w"> </span><span class="n">requirements</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="n">bom</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">bomList</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">childItem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">itemRepository</span><span class="p">.</span><span class="na">findByItemCodeAndDate</span><span class="p">(</span>
<span class="w">                    </span><span class="n">bom</span><span class="p">.</span><span class="na">getChildItemCode</span><span class="p">(),</span>
<span class="w">                    </span><span class="n">order</span><span class="p">.</span><span class="na">getDueDate</span><span class="p">()</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">childItem</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="k">continue</span><span class="p">;</span>

<span class="w">            </span><span class="c1">// 所要量 = 親オーダ数量 × (必要数量 / 基準数量) × (1 + 不良率)</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">requiredQuantity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">order</span><span class="p">.</span><span class="na">getPlanQuantity</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">multiply</span><span class="p">(</span><span class="n">bom</span><span class="p">.</span><span class="na">getRequiredQuantity</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">divide</span><span class="p">(</span><span class="n">bom</span><span class="p">.</span><span class="na">getBaseQuantity</span><span class="p">(),</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">RoundingMode</span><span class="p">.</span><span class="na">HALF_UP</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">multiply</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ONE</span><span class="p">.</span><span class="na">add</span><span class="p">(</span>
<span class="w">                            </span><span class="n">bom</span><span class="p">.</span><span class="na">getDefectRate</span><span class="p">().</span><span class="na">divide</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;100&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">RoundingMode</span><span class="p">.</span><span class="na">HALF_UP</span><span class="p">)</span>
<span class="w">                    </span><span class="p">));</span>

<span class="w">            </span><span class="c1">// 子品目のリードタイムを考慮した納期</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">childItem</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">leadTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="na">getLeadTime</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="na">getLeadTime</span><span class="p">()</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">safetyLeadTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="na">getSafetyLeadTime</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="na">getSafetyLeadTime</span><span class="p">()</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">childDueDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculateStartDate</span><span class="p">(</span><span class="n">order</span><span class="p">.</span><span class="na">getStartDate</span><span class="p">(),</span><span class="w"> </span><span class="n">leadTime</span><span class="p">,</span><span class="w"> </span><span class="n">safetyLeadTime</span><span class="p">);</span>

<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">requirement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Requirement</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">requirementNumber</span><span class="p">(</span><span class="s">&quot;REQ-&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;-&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">bom</span><span class="p">.</span><span class="na">getChildItemCode</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">orderId</span><span class="p">(</span><span class="n">order</span><span class="p">.</span><span class="na">getId</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">itemCode</span><span class="p">(</span><span class="n">bom</span><span class="p">.</span><span class="na">getChildItemCode</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">dueDate</span><span class="p">(</span><span class="n">childDueDate</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">requiredQuantity</span><span class="p">(</span><span class="n">requiredQuantity</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">allocatedQuantity</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">shortageQuantity</span><span class="p">(</span><span class="n">requiredQuantity</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">locationCode</span><span class="p">(</span><span class="n">order</span><span class="p">.</span><span class="na">getLocationCode</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">            </span><span class="n">requirementRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">requirement</span><span class="p">);</span>

<span class="w">            </span><span class="n">requirements</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">requirement</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">requirements</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 在庫から引当を行う</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Allocation</span><span class="w"> </span><span class="nf">allocateFromInventory</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">requirementId</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">inventoryQuantity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">requirement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">requirementRepository</span><span class="p">.</span><span class="na">findById</span><span class="p">(</span><span class="n">requirementId</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">orElseThrow</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;Requirement not found: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">requirementId</span><span class="p">));</span>

<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">requiredQuantity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">requirement</span><span class="p">.</span><span class="na">getRequiredQuantity</span><span class="p">();</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">allocatedQuantity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">requiredQuantity</span><span class="p">.</span><span class="na">min</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="n">inventoryQuantity</span><span class="p">));</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">shortageQuantity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">requiredQuantity</span><span class="p">.</span><span class="na">subtract</span><span class="p">(</span><span class="n">allocatedQuantity</span><span class="p">);</span>

<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">allocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Allocation</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">requirementId</span><span class="p">(</span><span class="n">requirementId</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">allocationType</span><span class="p">(</span><span class="n">AllocationType</span><span class="p">.</span><span class="na">INVENTORY</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">allocationDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">allocatedQuantity</span><span class="p">(</span><span class="n">allocatedQuantity</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">locationCode</span><span class="p">(</span><span class="n">requirement</span><span class="p">.</span><span class="na">getLocationCode</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">        </span><span class="n">allocationRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">allocation</span><span class="p">);</span>

<span class="w">        </span><span class="n">requirementRepository</span><span class="p">.</span><span class="na">updateAllocation</span><span class="p">(</span><span class="n">requirementId</span><span class="p">,</span><span class="w"> </span><span class="n">allocatedQuantity</span><span class="p">,</span><span class="w"> </span><span class="n">shortageQuantity</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">allocation</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * ロットサイズを考慮したオーダ数量を計算する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="nf">calculateOrderQuantity</span><span class="p">(</span>
<span class="w">            </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">requiredQuantity</span><span class="p">,</span>
<span class="w">            </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">minimumLotSize</span><span class="p">,</span>
<span class="w">            </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">incrementLotSize</span><span class="p">,</span>
<span class="w">            </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">maximumLotSize</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">minimumLotSize</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="n">minimumLotSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ONE</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">incrementLotSize</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="n">incrementLotSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ONE</span><span class="p">;</span>

<span class="w">        </span><span class="c1">// 最小ロットに満たない場合</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">requiredQuantity</span><span class="p">.</span><span class="na">compareTo</span><span class="p">(</span><span class="n">minimumLotSize</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">maximumLotSize</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">minimumLotSize</span><span class="p">.</span><span class="na">compareTo</span><span class="p">(</span><span class="n">maximumLotSize</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">maximumLotSize</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">minimumLotSize</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// 刻みロットで切り上げ</span>
<span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">difference</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">requiredQuantity</span><span class="p">.</span><span class="na">subtract</span><span class="p">(</span><span class="n">minimumLotSize</span><span class="p">);</span>
<span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">lots</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">difference</span><span class="p">.</span><span class="na">divide</span><span class="p">(</span><span class="n">incrementLotSize</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">RoundingMode</span><span class="p">.</span><span class="na">CEILING</span><span class="p">);</span>
<span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">orderQuantity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">minimumLotSize</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">lots</span><span class="p">.</span><span class="na">multiply</span><span class="p">(</span><span class="n">incrementLotSize</span><span class="p">));</span>

<span class="w">        </span><span class="c1">// 最大ロットを超える場合は制限</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">maximumLotSize</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">orderQuantity</span><span class="p">.</span><span class="na">compareTo</span><span class="p">(</span><span class="n">maximumLotSize</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">maximumLotSize</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">orderQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * リードタイムから着手日を計算する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="nf">calculateStartDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="w"> </span><span class="n">dueDate</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">leadTime</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">safetyLeadTime</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">dueDate</span><span class="p">.</span><span class="na">minusDays</span><span class="p">(</span><span class="n">leadTime</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">safetyLeadTime</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 不足分に対して新規オーダを生成する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Order</span><span class="w"> </span><span class="nf">createShortageOrder</span><span class="p">(</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="p">,</span>
<span class="w">            </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">shortageQuantity</span><span class="p">,</span>
<span class="w">            </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">dueDate</span><span class="p">,</span>
<span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">locationCode</span><span class="p">,</span>
<span class="w">            </span><span class="n">OrderType</span><span class="w"> </span><span class="n">orderType</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">itemRepository</span><span class="p">.</span><span class="na">findByItemCodeAndDate</span><span class="p">(</span><span class="n">itemCode</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">orElseThrow</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;Item not found: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">itemCode</span><span class="p">));</span>

<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">orderQuantity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculateOrderQuantity</span><span class="p">(</span>
<span class="w">                </span><span class="n">shortageQuantity</span><span class="p">,</span>
<span class="w">                </span><span class="n">item</span><span class="p">.</span><span class="na">getMinLotSize</span><span class="p">(),</span>
<span class="w">                </span><span class="n">item</span><span class="p">.</span><span class="na">getLotIncrement</span><span class="p">(),</span>
<span class="w">                </span><span class="n">item</span><span class="p">.</span><span class="na">getMaxLotSize</span><span class="p">()</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">leadTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="na">getLeadTime</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="na">getLeadTime</span><span class="p">()</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">safetyLeadTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="na">getSafetyLeadTime</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="na">getSafetyLeadTime</span><span class="p">()</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">startDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculateStartDate</span><span class="p">(</span><span class="n">dueDate</span><span class="p">,</span><span class="w"> </span><span class="n">leadTime</span><span class="p">,</span><span class="w"> </span><span class="n">safetyLeadTime</span><span class="p">);</span>

<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Order</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">orderNumber</span><span class="p">((</span><span class="n">orderType</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">OrderType</span><span class="p">.</span><span class="na">PURCHASE</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;PO&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;MO&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;-&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">orderType</span><span class="p">(</span><span class="n">orderType</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">itemCode</span><span class="p">(</span><span class="n">itemCode</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">startDate</span><span class="p">(</span><span class="n">startDate</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">dueDate</span><span class="p">(</span><span class="n">dueDate</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">planQuantity</span><span class="p">(</span><span class="n">orderQuantity</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">locationCode</span><span class="p">(</span><span class="n">locationCode</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">status</span><span class="p">(</span><span class="n">PlanStatus</span><span class="p">.</span><span class="na">DRAFT</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">        </span><span class="n">orderRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">order</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">order</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * MRP の完全実行</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">executeMrp</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">mpsId</span><span class="p">,</span><span class="w"> </span><span class="n">MpsRepository</span><span class="w"> </span><span class="n">mpsRepository</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">mps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mpsRepository</span><span class="p">.</span><span class="na">findById</span><span class="p">(</span><span class="n">mpsId</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">orElseThrow</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;MPS not found: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">mpsId</span><span class="p">));</span>

<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">orders</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orderRepository</span><span class="p">.</span><span class="na">findByMpsId</span><span class="p">(</span><span class="n">mpsId</span><span class="p">);</span>

<span class="w">        </span><span class="n">Order</span><span class="w"> </span><span class="n">productOrder</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">orders</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">productOrder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Order</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">orderNumber</span><span class="p">(</span><span class="s">&quot;MO-&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">orderType</span><span class="p">(</span><span class="n">OrderType</span><span class="p">.</span><span class="na">MANUFACTURING</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">itemCode</span><span class="p">(</span><span class="n">mps</span><span class="p">.</span><span class="na">getItemCode</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">startDate</span><span class="p">(</span><span class="n">calculateStartDate</span><span class="p">(</span><span class="n">mps</span><span class="p">.</span><span class="na">getDueDate</span><span class="p">(),</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">dueDate</span><span class="p">(</span><span class="n">mps</span><span class="p">.</span><span class="na">getDueDate</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">planQuantity</span><span class="p">(</span><span class="n">mps</span><span class="p">.</span><span class="na">getPlanQuantity</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">locationCode</span><span class="p">(</span><span class="n">mps</span><span class="p">.</span><span class="na">getLocationCode</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">mps</span><span class="p">.</span><span class="na">getLocationCode</span><span class="p">()</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;WH-001&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">status</span><span class="p">(</span><span class="n">PlanStatus</span><span class="p">.</span><span class="na">CONFIRMED</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">mpsId</span><span class="p">(</span><span class="n">mpsId</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">            </span><span class="n">orderRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">productOrder</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">productOrder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orders</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">recursiveMrpExplosion</span><span class="p">(</span><span class="n">productOrder</span><span class="p">.</span><span class="na">getId</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 再帰的な所要量展開</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">recursiveMrpExplosion</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">orderId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">requirements</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">explodeRequirements</span><span class="p">(</span><span class="n">orderId</span><span class="p">);</span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="n">requirement</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">requirements</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">itemOpt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">itemRepository</span><span class="p">.</span><span class="na">findByItemCodeAndDate</span><span class="p">(</span><span class="n">requirement</span><span class="p">.</span><span class="na">getItemCode</span><span class="p">(),</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">());</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">itemOpt</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="k">continue</span><span class="p">;</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">itemOpt</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>

<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">orderType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">item</span><span class="p">.</span><span class="na">getItemCategory</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">ItemCategory</span><span class="p">.</span><span class="na">MATERIAL</span><span class="w"> </span><span class="o">||</span>
<span class="w">                    </span><span class="n">item</span><span class="p">.</span><span class="na">getItemCategory</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">ItemCategory</span><span class="p">.</span><span class="na">RAW_MATERIAL</span><span class="p">)</span>
<span class="w">                    </span><span class="o">?</span><span class="w"> </span><span class="n">OrderType</span><span class="p">.</span><span class="na">PURCHASE</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">OrderType</span><span class="p">.</span><span class="na">MANUFACTURING</span><span class="p">;</span>

<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">newOrder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createShortageOrder</span><span class="p">(</span>
<span class="w">                    </span><span class="n">requirement</span><span class="p">.</span><span class="na">getItemCode</span><span class="p">(),</span>
<span class="w">                    </span><span class="n">requirement</span><span class="p">.</span><span class="na">getShortageQuantity</span><span class="p">(),</span>
<span class="w">                    </span><span class="n">requirement</span><span class="p">.</span><span class="na">getDueDate</span><span class="p">(),</span>
<span class="w">                    </span><span class="n">requirement</span><span class="p">.</span><span class="na">getLocationCode</span><span class="p">(),</span>
<span class="w">                    </span><span class="n">orderType</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">            </span><span class="n">orderRepository</span><span class="p">.</span><span class="na">updateParentOrderId</span><span class="p">(</span><span class="n">newOrder</span><span class="p">.</span><span class="na">getId</span><span class="p">(),</span><span class="w"> </span><span class="n">orderId</span><span class="p">);</span>

<span class="w">            </span><span class="n">recursiveMrpExplosion</span><span class="p">(</span><span class="n">newOrder</span><span class="p">.</span><span class="na">getId</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 歩留率と不良率を考慮した所要量計算</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="nf">calculateRequiredQuantity</span><span class="p">(</span>
<span class="w">            </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">parentQuantity</span><span class="p">,</span>
<span class="w">            </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">baseQuantity</span><span class="p">,</span>
<span class="w">            </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">requiredQuantity</span><span class="p">,</span>
<span class="w">            </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">defectRate</span><span class="p">,</span>
<span class="w">            </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">yieldRate</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 基本所要量</span>
<span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">basicQuantity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parentQuantity</span><span class="p">.</span><span class="na">multiply</span><span class="p">(</span><span class="n">requiredQuantity</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">divide</span><span class="p">(</span><span class="n">baseQuantity</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">RoundingMode</span><span class="p">.</span><span class="na">HALF_UP</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// 不良率を考慮</span>
<span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">afterDefect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">basicQuantity</span><span class="p">.</span><span class="na">multiply</span><span class="p">(</span>
<span class="w">                </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ONE</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">defectRate</span><span class="p">.</span><span class="na">divide</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;100&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">RoundingMode</span><span class="p">.</span><span class="na">HALF_UP</span><span class="p">))</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="c1">// 歩留率を考慮</span>
<span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">afterYield</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">afterDefect</span><span class="p">.</span><span class="na">divide</span><span class="p">(</span>
<span class="w">                </span><span class="n">yieldRate</span><span class="p">.</span><span class="na">divide</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;100&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">RoundingMode</span><span class="p">.</span><span class="na">HALF_UP</span><span class="p">),</span>
<span class="w">                </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="n">RoundingMode</span><span class="p">.</span><span class="na">CEILING</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">afterYield</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="mrp-er">MRP 処理の ER 図<a class="headerlink" href="#mrp-er" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjEwMjhweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjQxNHB4O2hlaWdodDoxMDI4cHg7YmFja2dyb3VuZDojRkZGRkZGOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNDE0IDEwMjgiIHdpZHRoPSI0MTRweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPk1SUCYjMzgzMDY7JiMzNjg5OTsmIzEyNDU2OyYjMTI1MzE7JiMxMjQ4NjsmIzEyNDUxOyYjMTI0ODY7JiMxMjQ1MTsmIzEyMzk4O0VSJiMyMjI1OTs8L3RpdGxlPjxkZWZzLz48Zz48ZyBjbGFzcz0idGl0bGUiIGRhdGEtc291cmNlLWxpbmU9IjEiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTUuMzE1OCIgeD0iMTAyLjU1MTIiIHk9IjIyLjk5NTEiPk1SUCYjMzgzMDY7JiMzNjg5OTsmIzEyNDU2OyYjMTI1MzE7JiMxMjQ4NjsmIzEyNDUxOyYjMTI0ODY7JiMxMjQ1MTsmIzEyMzk4O0VSJiMyMjI1OTs8L3RleHQ+PC9nPjwhLS1jbGFzcyA/Pz8/Pz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjMiIGlkPSJlbnQwMDAyIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjE2Mi4wNzgxIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjAuODE0MSIgeD0iNjMiIHk9IjQ0LjI5NjkiLz48ZWxsaXBzZSBjeD0iODAuMTY2NSIgY3k9IjYwLjI5NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTg0LjI3NTksNjYuMjk2OSBMNzYuNTU3Miw2Ni4yOTY5IEw3Ni41NTcyLDUzLjkwNjMgTDg0LjI3NTksNTMuOTA2MyBMODQuMjc1OSw1Ni4wNjI1IEw3OS4wMTAzLDU2LjA2MjUgTDc5LjAxMDMsNTguNzM0NCBMODMuNzc1OSw1OC43MzQ0IEw4My43NzU5LDYwLjg5MDYgTDc5LjAxMDMsNjAuODkwNiBMNzkuMDEwMyw2NC4xNDA2IEw4NC4yNzU5LDY0LjE0MDYgTDg0LjI3NTksNjYuMjk2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9Ijk0LjY0OCIgeT0iNjUuMTQzNiI+JiMyMjUyMjsmIzI4MzEwOyYjMjk5ODM7JiMyOTk4NzsmIzM1MzM2OyYjMzAwMTE7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjY0IiB4Mj0iMTgyLjgxNDEiIHkxPSI3Ni4yOTY5IiB5Mj0iNzYuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk2LjYxMjIiIHg9IjY5IiB5PSI5My4yOTIiPk1QUyYjMzAwNTg7JiMyMTQ5NTsgJiMxNzE7UEsmIzE4Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjY0IiB4Mj0iMTgyLjgxNDEiIHkxPSIxMDAuNTkzOCIgeTI9IjEwMC41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iNjkiIHk9IjExNy41ODg5Ij4mIzM1MzM2OyYjMzAwMTE7JiMyNjA4NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA4LjgxNDEiIHg9IjY5IiB5PSIxMzMuODg1NyI+JiMyMTY5NzsmIzMwNDQ2OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyAmIzE3MTtGSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI2OSIgeT0iMTUwLjE4MjYiPiYjMzUzMzY7JiMzMDAxMTsmIzI1OTY4OyYjMzczMjc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ljk5OTkiIHg9IjY5IiB5PSIxNjYuNDc5NSI+JiMzMjAxMzsmIzI2Mzk5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSI2OSIgeT0iMTgyLjc3NjQiPiYjMTI0NzM7JiMxMjQ4NjsmIzEyNTQwOyYjMTI0Nzk7JiMxMjQ3Mzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iNjkiIHk9IjE5OS4wNzMyIj4mIzIyNTgwOyYjMjUxNTI7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7PC90ZXh0PjwvZz48IS0tY2xhc3MgPz8/Pz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMTQiIGlkPSJlbnQwMDAzIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIxMC45Njg4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjEuNzIzNCIgeD0iNjIuNTUiIHk9IjI4My4zNjY5Ii8+PGVsbGlwc2UgY3g9Ijg2LjQyNTciIGN5PSIyOTkuMzY2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNOTAuNTM1LDMwNS4zNjY5IEw4Mi44MTYzLDMwNS4zNjY5IEw4Mi44MTYzLDI5Mi45NzYzIEw5MC41MzUsMjkyLjk3NjMgTDkwLjUzNSwyOTUuMTMyNSBMODUuMjY5NCwyOTUuMTMyNSBMODUuMjY5NCwyOTcuODA0NCBMOTAuMDM1LDI5Ny44MDQ0IEw5MC4wMzUsMjk5Ljk2MDYgTDg1LjI2OTQsMjk5Ljk2MDYgTDg1LjI2OTQsMzAzLjIxMDYgTDkwLjUzNSwzMDMuMjEwNiBMOTAuNTM1LDMwNS4zNjY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTAyLjM5OCIgeT0iMzA0LjIxMzYiPiYjMTI0NTg7JiMxMjU0MDsmIzEyNDgwOyYjMjQ3NzM7JiMyMjU3Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNjMuNTUiIHgyPSIxODMuMjczNCIgeTE9IjMxNS4zNjY5IiB5Mj0iMzE1LjM2NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDIuNjk2MSIgeD0iNjguNTUiIHk9IjMzMi4zNjIiPiYjMTI0NTg7JiMxMjU0MDsmIzEyNDgwO05PICYjMTcxO1BLJiMxODc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI2My41NSIgeDI9IjE4My4yNzM0IiB5MT0iMzM5LjY2MzgiIHkyPSIzMzkuNjYzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjY4LjU1IiB5PSIzNTYuNjU4OSI+JiMxMjQ1ODsmIzEyNTQwOyYjMTI0ODA7JiMzMTI3ODsmIzIxMDI5OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDguODE0MSIgeD0iNjguNTUiIHk9IjM3Mi45NTU3Ij4mIzIxNjk3OyYjMzA0NDY7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7ICYjMTcxO0ZLJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjY4LjU1IiB5PSIzODkuMjUyNiI+JiMzMDUyODsmIzI1MTYzOyYjMjAxMDQ7JiMyMzQ1MDsmIzI2MDg1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSI2OC41NSIgeT0iNDA1LjU0OTUiPiYjMzIwMTM7JiMyNjM5OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iNjguNTUiIHk9IjQyMS44NDY0Ij4mIzM1MzM2OyYjMzAwMTE7JiMyNTk2ODsmIzM3MzI3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSI2OC41NSIgeT0iNDM4LjE0MzIiPiYjMjI1ODA7JiMyNTE1MjsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iNjguNTUiIHk9IjQ1NC40NDAxIj4mIzEyNDczOyYjMTI0ODY7JiMxMjU0MDsmIzEyNDc5OyYjMTI0NzM7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkwLjEzMTgiIHg9IjY4LjU1IiB5PSI0NzAuNzM3Ij5NUFNfSUQgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA5LjcyMzQiIHg9IjY4LjU1IiB5PSI0ODcuMDMzOSI+JiMzNTI0MjsmIzEyNDU4OyYjMTI1NDA7JiMxMjQ4MDtJRCAmIzE3MTtGSyYjMTg3OzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIyOCIgaWQ9ImVudDAwMDQiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTc4LjM3NSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTIwLjgxNDEiIHg9IjciIHk9IjU3MS4zMzY5Ii8+PGVsbGlwc2UgY3g9IjM2Ljc2NjUiIGN5PSI1ODcuMzM2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNNDAuODc1OSw1OTMuMzM2OSBMMzMuMTU3MSw1OTMuMzM2OSBMMzMuMTU3MSw1ODAuOTQ2MyBMNDAuODc1OSw1ODAuOTQ2MyBMNDAuODc1OSw1ODMuMTAyNSBMMzUuNjEwMiw1ODMuMTAyNSBMMzUuNjEwMiw1ODUuNzc0NCBMNDAuMzc1OSw1ODUuNzc0NCBMNDAuMzc1OSw1ODcuOTMwNiBMMzUuNjEwMiw1ODcuOTMwNiBMMzUuNjEwMiw1OTEuMTgwNiBMNDAuODc1OSw1OTEuMTgwNiBMNDAuODc1OSw1OTMuMzM2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjU0LjA0NzkiIHk9IjU5Mi4xODM2Ij4mIzI1MTUyOyYjMzUyMDE7JiMyNDc3MzsmIzIyNTc3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI4IiB4Mj0iMTI2LjgxNDEiIHkxPSI2MDMuMzM2OSIgeTI9IjYwMy4zMzY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODguNjk2MiIgeD0iMTMiIHk9IjYyMC4zMzIiPiYjMjUxNTI7JiMzNTIwMTtOTyAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iOCIgeDI9IjEyNi44MTQxIiB5MT0iNjI3LjYzMzgiIHkyPSI2MjcuNjMzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMi4zMDY1IiB4PSIxMyIgeT0iNjQ0LjYyODkiPiYjMTI0NTg7JiMxMjU0MDsmIzEyNDgwO05PICYjMTcxO0ZLJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOC44MTQxIiB4PSIxMyIgeT0iNjYwLjkyNTciPiYjMjE2OTc7JiMzMDQ0NjsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjcuOTk5OSIgeD0iMTMiIHk9IjY3Ny4yMjI2Ij4mIzMyMDEzOyYjMjYzOTk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjEzIiB5PSI2OTMuNTE5NSI+JiMyNDUxNzsmIzM1MjAxOyYjMjU5Njg7JiMzNzMyNzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTMiIHk9IjcwOS44MTY0Ij4mIzI0MzQxOyYjMjQ0MDM7JiMyODE2ODsmIzI1OTY4OyYjMzczMjc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjEzIiB5PSI3MjYuMTEzMiI+JiMxOTk4MTsmIzM2Mjc1OyYjMjU5Njg7JiMzNzMyNzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTMiIHk9Ijc0Mi40MTAxIj4mIzIyNTgwOyYjMjUxNTI7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7PC90ZXh0PjwvZz48IS0tY2xhc3MgPz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjQwIiBpZD0iZW50MDAwNSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxNjIuMDc4MSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTE0LjMwNjUiIHg9IjEwLjI1IiB5PSI4NDMuMDE2OSIvPjxlbGxpcHNlIGN4PSIzNy4wODgiIGN5PSI4NTkuMDE2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNNDEuMTk3NCw4NjUuMDE2OSBMMzMuNDc4Niw4NjUuMDE2OSBMMzMuNDc4Niw4NTIuNjI2MyBMNDEuMTk3NCw4NTIuNjI2MyBMNDEuMTk3NCw4NTQuNzgyNSBMMzUuOTMxOCw4NTQuNzgyNSBMMzUuOTMxOCw4NTcuNDU0NCBMNDAuNjk3NCw4NTcuNDU0NCBMNDAuNjk3NCw4NTkuNjEwNiBMMzUuOTMxOCw4NTkuNjEwNiBMMzUuOTMxOCw4NjIuODYwNiBMNDEuMTk3NCw4NjIuODYwNiBMNDEuMTk3NCw4NjUuMDE2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjUzLjcxODciIHk9Ijg2My44NjM2Ij4mIzI0MzQxOyYjMjQ0MDM7JiMyNDc3MzsmIzIyNTc3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxMS4yNSIgeDI9IjEyMy41NTY1IiB5MT0iODc1LjAxNjkiIHkyPSI4NzUuMDE2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgyLjExMzIiIHg9IjE2LjI1IiB5PSI4OTIuMDEyIj4mIzI0MzQxOyYjMjQ0MDM7SUQgJiMxNzE7UEsmIzE4Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjExLjI1IiB4Mj0iMTIzLjU1NjUiIHkxPSI4OTkuMzEzOCIgeTI9Ijg5OS4zMTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODguMzA2NSIgeD0iMTYuMjUiIHk9IjkxNi4zMDg5Ij4mIzI1MTUyOyYjMzUyMDE7Tk8gJiMxNzE7RksmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTYuMjUiIHk9IjkzMi42MDU3Ij4mIzI0MzQxOyYjMjQ0MDM7JiMyMTMwNjsmIzIwOTk4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDIuMzA2NSIgeD0iMTYuMjUiIHk9Ijk0OC45MDI2Ij4mIzEyNDU4OyYjMTI1NDA7JiMxMjQ4MDtOTyAmIzE3MTtGSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIxNi4yNSIgeT0iOTY1LjE5OTUiPiYjMjQzNDE7JiMyNDQwMzsmIzI2MDg1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxNi4yNSIgeT0iOTgxLjQ5NjQiPiYjMjQzNDE7JiMyNDQwMzsmIzI1OTY4OyYjMzczMjc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjE2LjI1IiB5PSI5OTcuNzkzMiI+JiMyMjU4MDsmIzI1MTUyOyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjUxIiBpZD0iZW50MDAwNiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxOTQuNjcxOSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTIzLjk5OTUiIHg9IjE2OC40MSIgeT0iODI2LjcxNjkiLz48ZWxsaXBzZSBjeD0iMTkzLjMwOTkiIGN5PSI4NDIuNzE2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMTk3LjQxOTMsODQ4LjcxNjkgTDE4OS43MDA1LDg0OC43MTY5IEwxODkuNzAwNSw4MzYuMzI2MyBMMTk3LjQxOTMsODM2LjMyNjMgTDE5Ny40MTkzLDgzOC40ODI1IEwxOTIuMTUzNyw4MzguNDgyNSBMMTkyLjE1MzcsODQxLjE1NDQgTDE5Ni45MTkzLDg0MS4xNTQ0IEwxOTYuOTE5Myw4NDMuMzEwNiBMMTkyLjE1MzcsODQzLjMxMDYgTDE5Mi4xNTM3LDg0Ni41NjA2IEwxOTcuNDE5Myw4NDYuNTYwNiBMMTk3LjQxOTMsODQ4LjcxNjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyMDkuNTA5OSIgeT0iODQ3LjU2MzYiPiYjMjE2OTc7JiMzMDQ0NjsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTY5LjQxIiB4Mj0iMjkxLjQwOTUiIHkxPSI4NTguNzE2OSIgeTI9Ijg1OC43MTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA5LjIwMzgiIHg9IjE3NC40MSIgeT0iODc1LjcxMiI+JiMyMTY5NzsmIzMwNDQ2OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyAmIzE3MTtQSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDkuMjAzOCIgeD0iMTc0LjQxIiB5PSI4OTIuMDA4OSI+JiMzNjk2OTsmIzI5OTkyOyYjMzgyODM7JiMyMjk4NzsmIzI2MDg1OyAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTY5LjQxIiB4Mj0iMjkxLjQwOTUiIHkxPSI4OTkuMzEwNiIgeTI9Ijg5OS4zMTA2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjcuOTk5OSIgeD0iMTc0LjQxIiB5PSI5MTYuMzA1NyI+JiMyMTY5NzsmIzIxNTE3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxNzQuNDEiIHk9IjkzMi42MDI2Ij4mIzIxNjk3OyYjMzA0NDY7JiMyMTMwNjsmIzIwOTk4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSIxNzQuNDEiIHk9Ijk0OC44OTk1Ij4mIzEyNTIyOyYjMTI1NDA7JiMxMjQ4OTsmIzEyNDc5OyYjMTI0NTI7JiMxMjUxMjs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTExLjk5OTUiIHg9IjE3NC40MSIgeT0iOTY1LjE5NjQiPiYjMjM0MzM7JiMyMDg0MDsmIzEyNTIyOyYjMTI1NDA7JiMxMjQ4OTsmIzEyNDc5OyYjMTI0NTI7JiMxMjUxMjs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMTc0LjQxIiB5PSI5ODEuNDkzMiI+JiMyNjM2ODsmIzIzNTY3OyYjMTI1MjU7JiMxMjQ4MzsmIzEyNDg4OyYjMjU5Njg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjE3NC40MSIgeT0iOTk3Ljc5MDEiPiYjMjEwNTE7JiMxMjQxNTsmIzEyNTI1OyYjMTI0ODM7JiMxMjQ4ODsmIzI1OTY4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSIxNzQuNDEiIHk9IjEwMTQuMDg3Ij4mIzI2MzY4OyYjMjI4MjM7JiMxMjUyNTsmIzEyNDgzOyYjMTI0ODg7JiMyNTk2ODs8L3RleHQ+PC9nPjwhLS1jbGFzcyBCT00tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJCT00iIGRhdGEtc291cmNlLWxpbmU9IjY0IiBpZD0iZW50MDAwNyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxNDUuNzgxMyIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTc0LjAxODIiIHg9IjIzMy40IiB5PSI1ODcuNjM2OSIvPjxlbGxpcHNlIGN4PSIyOTkuODA3NSIgY3k9IjYwMy42MzY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0zMDMuOTE2OSw2MDkuNjM2OSBMMjk2LjE5ODIsNjA5LjYzNjkgTDI5Ni4xOTgyLDU5Ny4yNDYzIEwzMDMuOTE2OSw1OTcuMjQ2MyBMMzAzLjkxNjksNTk5LjQwMjUgTDI5OC42NTEzLDU5OS40MDI1IEwyOTguNjUxMyw2MDIuMDc0NCBMMzAzLjQxNjksNjAyLjA3NDQgTDMwMy40MTY5LDYwNC4yMzA2IEwyOTguNjUxMyw2MDQuMjMwNiBMMjk4LjY1MTMsNjA3LjQ4MDYgTDMwMy45MTY5LDYwNy40ODA2IEwzMDMuOTE2OSw2MDkuNjM2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMyLjcwMzEiIHg9IjMyMC4zMDc1IiB5PSI2MDguNDgzNiI+Qk9NPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjIzNC40IiB4Mj0iNDA2LjQxODIiIHkxPSI2MTkuNjM2OSIgeTI9IjYxOS42MzY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTYyLjAxODIiIHg9IjIzOS40IiB5PSI2MzYuNjMyIj4mIzM1MjQyOyYjMjE2OTc7JiMzMDQ0NjsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7UEsmIzE4NzsgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTYyLjAxODIiIHg9IjIzOS40IiB5PSI2NTIuOTI4OSI+JiMyMzM3NjsmIzIxNjk3OyYjMzA0NDY7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7ICYjMTcxO1BLJiMxODc7ICYjMTcxO0ZLJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOS4yMDM4IiB4PSIyMzkuNCIgeT0iNjY5LjIyNTciPiYjMzY5Njk7JiMyOTk5MjsmIzM4MjgzOyYjMjI5ODc7JiMyNjA4NTsgJiMxNzE7UEsmIzE4Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIzNC40IiB4Mj0iNDA2LjQxODIiIHkxPSI2NzYuNTI3NSIgeTI9IjY3Ni41Mjc1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjM5LjQiIHk9IjY5My41MjI2Ij4mIzIyNTIyOyYjMjgzMTA7JiMyNTk2ODsmIzM3MzI3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIyMzkuNCIgeT0iNzA5LjgxOTUiPiYjMjQ1MTc7JiMzNTIwMTsmIzI1OTY4OyYjMzczMjc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjk5OTgiIHg9IjIzOS40IiB5PSI3MjYuMTE2NCI+JiMxOTk4MTsmIzMzMzkxOyYjMjk1NzU7PC90ZXh0PjwvZz48IS0tbGluayA/Pz8/Pz8gdG8gPz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMiIgZGF0YS1lbnRpdHktMj0iZW50MDAwMyIgZGF0YS1saW5rLXR5cGU9ImNyb3dmb290IiBkYXRhLXNvdXJjZS1saW5lPSI3NCIgaWQ9ImxuazgiPjxwYXRoIGNvZGVMaW5lPSI3NCIgZD0iTTEyMy40MSwyMTQuNTc2OSBDMTIzLjQxLDIzOC43NDY5IDEyMy40MSwyMzkuNjQ2OSAxMjMuNDEsMjY1LjE1NjkiIGZpbGw9Im5vbmUiIGlkPSImIzIyNTIyOyYjMjgzMTA7JiMyOTk4MzsmIzI5OTg3OyYjMzUzMzY7JiMzMDAxMTstJiMxMjQ1ODsmIzEyNTQwOyYjMTI0ODA7JiMyNDc3MzsmIzIyNTc3OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMTkuNDEiIHgyPSIxMjcuNDEiIHkxPSIyMTAuNTc2OSIgeTI9IjIxMC41NzY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjExOS40MSIgeDI9IjEyNy40MSIgeTE9IjIxMy41NzY5IiB5Mj0iMjEzLjU3NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTIzLjQxIiB4Mj0iMTIzLjQxIiB5MT0iMjE0LjU3NjkiIHkyPSIyMDYuNTc2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMjMuNDEiIHgyPSIxMjkuNDEiIHkxPSIyNzUuMTU2OSIgeTI9IjI4My4xNTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEyMy40MSIgeDI9IjExNy40MSIgeTE9IjI3NS4xNTY5IiB5Mj0iMjgzLjE1NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTIzLjQxIiB4Mj0iMTIzLjQxIiB5MT0iMjc1LjE1NjkiIHkyPSIyODMuMTU2OSIvPjxlbGxpcHNlIGN4PSIxMjMuNDEiIGN5PSIyNjkuMTU2OSIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjYiIHg9IjEyNC40MSIgeT0iMjQ5LjQzMzgiPiYjMjM2Mzc7JiMzODI4Mzs8L3RleHQ+PC9nPjwhLS1saW5rID8/Pz8/IHRvID8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMyIgZGF0YS1lbnRpdHktMj0iZW50MDAwNCIgZGF0YS1saW5rLXR5cGU9ImNyb3dmb290IiBkYXRhLXNvdXJjZS1saW5lPSI3NSIgaWQ9ImxuazkiPjxwYXRoIGNvZGVMaW5lPSI3NSIgZD0iTTEwMC4wNTIyLDUwMi4zMzk1IEM5NC43OTIyLDUyNy42NDk1IDk0LjUwNzQsNTI5LjAxMjQgODkuNDI3NCw1NTMuNDkyNCIgZmlsbD0ibm9uZSIgaWQ9IiYjMTI0NTg7JiMxMjU0MDsmIzEyNDgwOyYjMjQ3NzM7JiMyMjU3NzstJiMyNTE1MjsmIzM1MjAxOyYjMjQ3NzM7JiMyMjU3NzsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iOTYuOTQ5OCIgeDI9IjEwNC43ODI0IiB5MT0iNDk3LjYwOTMiIHkyPSI0OTkuMjM3MSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI5Ni4zMzk0IiB4Mj0iMTA0LjE3MiIgeTE9IjUwMC41NDY1IiB5Mj0iNTAyLjE3NDMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTAwLjA1MjIiIHgyPSIxMDEuNjgiIHkxPSI1MDIuMzM5NSIgeTI9IjQ5NC41MDY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijg3LjM5NTUiIHgyPSI5MS42NDQ4IiB5MT0iNTYzLjI4MzgiIHkyPSI1NzIuMzM2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijg3LjM5NTUiIHgyPSI3OS44OTUyIiB5MT0iNTYzLjI4MzgiIHkyPSI1NjkuODk3NyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI4Ny4zOTU1IiB4Mj0iODUuNzciIHkxPSI1NjMuMjgzOCIgeTI9IjU3MS4xMTY5Ii8+PGVsbGlwc2UgY3g9Ijg4LjYxNDYiIGN5PSI1NTcuNDA4OSIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjYiIHg9Ijk2LjQxIiB5PSI1MzcuNDAzOCI+JiMyOTk4MzsmIzI1MTA0OzwvdGV4dD48L2c+PCEtLWxpbmsgPz8/Pz8gdG8gPz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMyIgZGF0YS1lbnRpdHktMj0iZW50MDAwMyIgZGF0YS1saW5rLXR5cGU9ImNyb3dmb290IiBkYXRhLXNvdXJjZS1saW5lPSI3NiIgaWQ9ImxuazEwIj48cGF0aCBjb2RlTGluZT0iNzYiIGQ9Ik0xOTIuNzE4MiwzNjIuMDQ2NyBDMjEyLjAyODIsMzYyLjQ1NjcgMjE5LjI3LDM3MS4yNzY5IDIxOS4yNywzODguODU2OSBDMjE5LjI3LDQwNi40MjY5IDIyMi4wMjU5LDQxNS4wNDQ4IDIwMi43MTU5LDQxNS40NTQ4IiBmaWxsPSJub25lIiBpZD0iJiMxMjQ1ODsmIzEyNTQwOyYjMTI0ODA7JiMyNDc3MzsmIzIyNTc3Oy0mIzEyNDU4OyYjMTI1NDA7JiMxMjQ4MDsmIzI0NzczOyYjMjI1Nzc7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE4OC42MzQyIiB4Mj0iMTg4LjgwNCIgeTE9IjM2NS45NjA5IiB5Mj0iMzU3Ljk2MjciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTkxLjYzMzUiIHgyPSIxOTEuODAzMyIgeTE9IjM2Ni4wMjQ2IiB5Mj0iMzU4LjAyNjQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTkyLjcxODIiIHgyPSIxODQuNzIiIHkxPSIzNjIuMDQ2NyIgeTI9IjM2MS44NzY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE5Mi43MTgyIiB4Mj0iMTg0Ljg0NzQiIHkxPSI0MTUuNjY3MSIgeTI9IjQyMS44MzU1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE5Mi43MTgyIiB4Mj0iMTg0LjU5MjYiIHkxPSI0MTUuNjY3MSIgeTI9IjQwOS44MzgyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE5Mi43MTgyIiB4Mj0iMTg0LjcyIiB5MT0iNDE1LjY2NzEiIHkyPSI0MTUuODM2OSIvPjxlbGxpcHNlIGN4PSIxOTguNzE2OCIgY3k9IjQxNS41Mzk3IiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1Mi4wMDAxIiB4PSIyMjUuMjciIHk9IjM5My40MjM4Ij4mIzM1MjQyOyYjMjMzNzY7JiMzODMwNjsmIzIwNDE4OzwvdGV4dD48L2c+PCEtLWxpbmsgPz8/PyB0byA/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDQiIGRhdGEtZW50aXR5LTI9ImVudDAwMDUiIGRhdGEtbGluay10eXBlPSJjcm93Zm9vdCIgZGF0YS1zb3VyY2UtbGluZT0iNzciIGlkPSJsbmsxMSI+PHBhdGggY29kZUxpbmU9Ijc3IiBkPSJNNjcuNDEsNzU4LjA2NjkgQzY3LjQxLDc4Ny45OTY5IDY3LjQxLDc5NS4yMzY5IDY3LjQxLDgyNC41MTY5IiBmaWxsPSJub25lIiBpZD0iJiMyNTE1MjsmIzM1MjAxOyYjMjQ3NzM7JiMyMjU3NzstJiMyNDM0MTsmIzI0NDAzOyYjMjQ3NzM7JiMyMjU3NzsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjMuNDEiIHgyPSI3MS40MSIgeTE9Ijc1NC4wNjY5IiB5Mj0iNzU0LjA2NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjMuNDEiIHgyPSI3MS40MSIgeTE9Ijc1Ny4wNjY5IiB5Mj0iNzU3LjA2NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjcuNDEiIHgyPSI2Ny40MSIgeTE9Ijc1OC4wNjY5IiB5Mj0iNzUwLjA2NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjcuNDEiIHgyPSI3My40MSIgeTE9IjgzNC41MTY5IiB5Mj0iODQyLjUxNjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjcuNDEiIHgyPSI2MS40MSIgeTE9IjgzNC41MTY5IiB5Mj0iODQyLjUxNjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjcuNDEiIHgyPSI2Ny40MSIgeTE9IjgzNC41MTY5IiB5Mj0iODQyLjUxNjkiLz48ZWxsaXBzZSBjeD0iNjcuNDEiIGN5PSI4MjguNTE2OSIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjYiIHg9IjY4LjQxIiB5PSI3OTIuNzgzOCI+JiMyNDM0MTsmIzI0NDAzOzwvdGV4dD48L2c+PCEtLWxpbmsgPz8/Pz8gdG8gPz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMyIgZGF0YS1lbnRpdHktMj0iZW50MDAwNiIgZGF0YS1saW5rLXR5cGU9ImNyb3dmb290IiBkYXRhLXNvdXJjZS1saW5lPSI3OCIgaWQ9ImxuazEyIj48cGF0aCBjb2RlTGluZT0iNzgiIGQ9Ik0xNDcuOTYwNiw1MTIuMjA1MiBDMTY3LjMxMDYsNjA4LjY1NTIgMTkwLjY4NjYsNzI1LjA5MzEgMjA5LjQ4NjYsODE4LjgxMzEiIGZpbGw9Im5vbmUiIGlkPSImIzEyNDU4OyYjMTI1NDA7JiMxMjQ4MDsmIzI0NzczOyYjMjI1Nzc7LSYjMjE2OTc7JiMzMDQ0NjsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTQ1Ljk5MzYiIHgyPSIxMzguNTM3MiIgeTE9IjUwMi40MDA2IiB5Mj0iNDk1LjczNzEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTQ1Ljk5MzYiIHgyPSIxNTAuMzAyOCIgeTE9IjUwMi40MDA2IiB5Mj0iNDkzLjM3NjciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTQ1Ljk5MzYiIHgyPSIxNDQuNDIiIHkxPSI1MDIuNDAwNiIgeTI9IjQ5NC41NTY5Ii8+PGVsbGlwc2UgY3g9IjE0Ny4xNzM4IiBjeT0iNTA4LjI4MzQiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMTQuMTk1MiIgeDI9IjIwNi4zNTE0IiB5MT0iODIxLjk0ODMiIHkyPSI4MjMuNTIxNyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMTMuNjA1MSIgeDI9IjIwNS43NjE0IiB5MT0iODE5LjAwNjkiIHkyPSI4MjAuNTgwMyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMDkuNDg2NiIgeDI9IjIxMS4wNiIgeTE9IjgxOC44MTMxIiB5Mj0iODI2LjY1NjkiLz48L2c+PCEtLWxpbmsgPz8/PyB0byA/Pz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA0IiBkYXRhLWVudGl0eS0yPSJlbnQwMDA2IiBkYXRhLWxpbmstdHlwZT0iY3Jvd2Zvb3QiIGRhdGEtc291cmNlLWxpbmU9Ijc5IiBpZD0ibG5rMTMiPjxwYXRoIGNvZGVMaW5lPSI3OSIgZD0iTTEzMi4xMDk5LDc2NS4zNDM0IEMxNDcuNDM5OSw3ODkuOTQzNCAxNTAuNDE4NSw3OTQuNzA3NiAxNjYuMDE4NSw4MTkuNzM3NiIgZmlsbD0ibm9uZSIgaWQ9IiYjMjUxNTI7JiMzNTIwMTsmIzI0NzczOyYjMjI1Nzc7LSYjMjE2OTc7JiMzMDQ0NjsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTI2LjgyMTEiIHgyPSIxMTcuNDk3OCIgeTE9Ijc1Ni44NTY0IiB5Mj0iNzUzLjI0MDIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTI2LjgyMTEiIHgyPSIxMjcuNjgyMiIgeTE9Ijc1Ni44NTY0IiB5Mj0iNzQ2Ljg5MzYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTI2LjgyMTEiIHgyPSIxMjIuNTkiIHkxPSI3NTYuODU2NCIgeTI9Ijc1MC4wNjY5Ii8+PGVsbGlwc2UgY3g9IjEyOS45OTQzIiBjeT0iNzYxLjk0ODYiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNzEuNTI4OSIgeDI9IjE2NC43Mzk2IiB5MT0iODIxLjAxNjUiIHkyPSI4MjUuMjQ3OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNjkuOTQyMSIgeDI9IjE2My4xNTI4IiB5MT0iODE4LjQ3MDUiIHkyPSI4MjIuNzAyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE2Ni4wMTg1IiB4Mj0iMTcwLjI1IiB5MT0iODE5LjczNzYiIHkyPSI4MjYuNTI2OSIvPjwvZz48IS0tbGluayBCT00gdG8gPz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNyIgZGF0YS1lbnRpdHktMj0iZW50MDAwNiIgZGF0YS1saW5rLXR5cGU9ImNyb3dmb290IiBkYXRhLXNvdXJjZS1saW5lPSI4MCIgaWQ9ImxuazE0Ij48cGF0aCBjb2RlTGluZT0iODAiIGQ9Ik0yNDguNzUwMyw3NDguODcyNCBDMjM5LjM3MDMsNzYzLjI4MjQgMjQwLjg0LDc2My44MDY5IDIzNS40MSw3NzkuNzE2OSBDMjMwLjM4LDc5NC40MzY5IDIyOC4yMzE1LDgwMi41NTA0IDIyNi43NzE1LDgxOC40NTA0IiBmaWxsPSJub25lIiBpZD0iQk9NLSYjMjE2OTc7JiMzMDQ0NjsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjU0LjIwNTciIHgyPSIyNTMuNTQxNSIgeTE9Ijc0MC40OTE2IiB5Mj0iNzMwLjUxMzYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjU0LjIwNTciIHgyPSIyNjMuNTk4NSIgeTE9Ijc0MC40OTE2IiB5Mj0iNzM3LjA2MDEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjU0LjIwNTciIHgyPSIyNTguNTciIHkxPSI3NDAuNDkxNiIgeTI9IjczMy43ODY5Ii8+PGVsbGlwc2UgY3g9IjI1MC45MzI0IiBjeT0iNzQ1LjUyMDEiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMzAuMzg5IiB4Mj0iMjIyLjQyMjUiIHkxPSI4MjIuNzk5NCIgeTI9IjgyMi4wNjc5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIzMC42NjMzIiB4Mj0iMjIyLjY5NjgiIHkxPSI4MTkuODEyIiB5Mj0iODE5LjA4MDQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjI2Ljc3MTUiIHgyPSIyMjYuMDQiIHkxPSI4MTguNDUwNCIgeTI9IjgyNi40MTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzkiIHg9IjIzNi40MSIgeT0iNzkyLjc4MzgiPiYjMzUyNDI7JiMyMTY5NzsmIzMwNDQ2OzwvdGV4dD48L2c+PCEtLWxpbmsgQk9NIHRvID8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDciIGRhdGEtZW50aXR5LTI9ImVudDAwMDYiIGRhdGEtbGluay10eXBlPSJjcm93Zm9vdCIgZGF0YS1zb3VyY2UtbGluZT0iODEiIGlkPSJsbmsxNSI+PHBhdGggY29kZUxpbmU9IjgxIiBkPSJNMjk1LjIxOTEsNzUxLjA4MiBDMjg5LjE4OTEsNzcxLjUzMiAyODcuMzksNzc2LjQ2NjkgMjgwLjQxLDc5Ni43MTY5IEMyNzcuMDYsODA2LjQxNjkgMjc2LjIyNTYsODA4Ljk3ODcgMjcyLjQ2NTYsODE4Ljk3ODciIGZpbGw9Im5vbmUiIGlkPSJCT00tJiMyMTY5NzsmIzMwNDQ2OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5Oy0xIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI5OC4wNDc0IiB4Mj0iMjk0LjU1NSIgeTE9Ijc0MS40OTAyIiB5Mj0iNzMyLjExOTkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjk4LjA0NzQiIHgyPSIzMDYuMDY1IiB5MT0iNzQxLjQ5MDIiIHkyPSI3MzUuNTEzOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyOTguMDQ3NCIgeDI9IjMwMC4zMSIgeTE9Ijc0MS40OTAyIiB5Mj0iNzMzLjgxNjkiLz48ZWxsaXBzZSBjeD0iMjk2LjM1MDQiIGN5PSI3NDcuMjQ1MyIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI3NC44MDE5IiB4Mj0iMjY3LjMxMzciIHkxPSI4MjQuMTMwNiIgeTI9IjgyMS4zMTUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjc1Ljg1NzciIHgyPSIyNjguMzY5NSIgeTE9IjgyMS4zMjI1IiB5Mj0iODE4LjUwNyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNzIuNDY1NiIgeDI9IjI2OS42NSIgeTE9IjgxOC45Nzg3IiB5Mj0iODI2LjQ2NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzOSIgeD0iMjg2LjI5IiB5PSI3OTIuNzgzOCI+JiMyMzM3NjsmIzIxNjk3OyYjMzA0NDY7PC90ZXh0PjwvZz48P3BsYW50dW1sLXNyYyBYUEpEUmpmMDRDVmwtbkgtMFJ5MFlkQWVxYWZMSE9FSTF5V2ZYcVhMUy01SVhLWXNMb0lzQTBLZkdBS2NCUVlhWU9rNGN1V2U3b0lMN3NRUE5WbU10SXlNMzNRejhFX2lWX3h4Y3piUG9XVmIzX2pNU1FVS1Q3dWNKZnp1OFM0WldhLThyelVfUmxIdzF5djcyRXJfQjEtS0ZyZEc3VERuWHhNd2hETVZYWnZoRkxqN2c1WlFQVXExRDF3aVpPdElreXJEUERqOFJUQWxsbjJTa1VteThYdXRWWTR1dTlldEdnQzV4UGxhajg3T05QclVUMTduZGlJdk5FVjVfMWoxeHV1NlphYjVudVEzVTBDUFNvWWtHay1NR3ZaOC0tcTUzMURiT0dILUJXcHh4ajJXRFhkeDQ3cUpwOWVkblJXQ2ltcEJreDN0VGlrS1RwS21QeS1aeW1BdXJWSkFEVkhnY09xa2VwOHpacnhIR2JtTGJmaHNmR3JfcC1ZWmh6VUpuX2hxVmZISm9YbkJmeXNtcjVCb3B4ME1JMU1KYkMzZENWV2RjU3BBS0dvMi1sZWxXWWVJX24wRHpjOTFpTEFzWDRkU3R3bUw5ZnFRTkRVdV9tOFpKdTFjTlVWRHFCMTIyLUhyTkhCU0duMDVLMHFwRGtZNTBwU0RXZVM0T3U5NTJuN3VweUlES282WGtobkVYVVBMbERla1NkOC0xVGRtZlpsM3ZkaDFjWUJiS3ZvclNfN2tuTHE3VnpZTkt5Nkp5TThoNVRpLUY1ZnZHbUtCUmpseTlCSXllVk1mYUlyT3Q5QndwSnBuZ2hkZW5SMzlfc2FjaU9USU5aZWJETmk1bExwbkZwd3F4S2ZiVUtoSVhaYVFTSVZQTW5mRjFqVkJwOE56MG0wMD8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<hr />
<h2 id="243">24.3 リレーションと楽観ロックの設計<a class="headerlink" href="#243" title="Permanent link">&para;</a></h2>
<h3 id="mybatis-resultmap">MyBatis ネストした ResultMap によるリレーション設定<a class="headerlink" href="#mybatis-resultmap" title="Permanent link">&para;</a></h3>
<p>生産計画データは、MPS → オーダ → 所要 → 引当 という階層構造と、オーダ間の親子関係（自己参照）を持ちます。MyBatis でこれらの複雑なリレーションを効率的に取得するための設定を実装します。</p>
<h4 id="resultmap">ネストした ResultMap の定義<a class="headerlink" href="#resultmap" title="Permanent link">&para;</a></h4>
<details>
<summary>OrderMapper.xml（リレーション設定）</summary>

<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
<span class="cp">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span>

<span class="cm">&lt;!-- src/main/resources/mapper/OrderMapper.xml --&gt;</span>
<span class="nt">&lt;mapper</span><span class="w"> </span><span class="na">namespace=</span><span class="s">&quot;com.example.production.infrastructure.persistence.mapper.OrderMapper&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- オーダ情報 ResultMap（親オーダ・MPS・子オーダ込み） --&gt;</span>
<span class="w">    </span><span class="nt">&lt;resultMap</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;orderWithRelationsResultMap&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;com.example.production.domain.model.plan.Order&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;id</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;o_ID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;orderNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;o_オーダNO&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;orderType&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;o_オーダ種別&quot;</span>
<span class="w">                </span><span class="na">typeHandler=</span><span class="s">&quot;com.example.production.infrastructure.persistence.OrderTypeTypeHandler&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;itemCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;o_品目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;startDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;o_着手予定日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;dueDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;o_納期&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;expirationDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;o_有効期限&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;planQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;o_計画数量&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;locationCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;o_場所コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;status&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;o_ステータス&quot;</span>
<span class="w">                </span><span class="na">typeHandler=</span><span class="s">&quot;com.example.production.infrastructure.persistence.PlanStatusTypeHandler&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;mpsId&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;o_MPS_ID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;parentOrderId&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;o_親オーダID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;version&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;o_バージョン&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;createdAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;o_作成日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;createdBy&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;o_作成者&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;updatedAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;o_更新日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;updatedBy&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;o_更新者&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="cm">&lt;!-- MPS との N:1 関連 --&gt;</span>
<span class="w">        </span><span class="nt">&lt;association</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;mps&quot;</span><span class="w"> </span><span class="na">javaType=</span><span class="s">&quot;com.example.production.domain.model.plan.MasterProductionSchedule&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;id</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;m_ID&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;mpsNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;m_MPS番号&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;planDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;m_計画日&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;itemCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;m_品目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;planQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;m_計画数量&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;dueDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;m_納期&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;status&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;m_ステータス&quot;</span>
<span class="w">                    </span><span class="na">typeHandler=</span><span class="s">&quot;com.example.production.infrastructure.persistence.PlanStatusTypeHandler&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;/association&gt;</span>
<span class="w">        </span><span class="cm">&lt;!-- 親オーダとの自己参照 N:1 関連 --&gt;</span>
<span class="w">        </span><span class="nt">&lt;association</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;parentOrder&quot;</span><span class="w"> </span><span class="na">javaType=</span><span class="s">&quot;com.example.production.domain.model.plan.Order&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;id</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;p_ID&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;orderNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;p_オーダNO&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;orderType&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;p_オーダ種別&quot;</span>
<span class="w">                    </span><span class="na">typeHandler=</span><span class="s">&quot;com.example.production.infrastructure.persistence.OrderTypeTypeHandler&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;itemCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;p_品目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;planQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;p_計画数量&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;/association&gt;</span>
<span class="w">        </span><span class="cm">&lt;!-- 子オーダとの 1:N 関連 --&gt;</span>
<span class="w">        </span><span class="nt">&lt;collection</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;childOrders&quot;</span><span class="w"> </span><span class="na">ofType=</span><span class="s">&quot;com.example.production.domain.model.plan.Order&quot;</span>
<span class="w">                    </span><span class="na">resultMap=</span><span class="s">&quot;childOrderResultMap&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="cm">&lt;!-- 所要情報との 1:N 関連 --&gt;</span>
<span class="w">        </span><span class="nt">&lt;collection</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;requirements&quot;</span><span class="w"> </span><span class="na">ofType=</span><span class="s">&quot;com.example.production.domain.model.plan.Requirement&quot;</span>
<span class="w">                    </span><span class="na">resultMap=</span><span class="s">&quot;requirementNestedResultMap&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/resultMap&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- 子オーダの ResultMap --&gt;</span>
<span class="w">    </span><span class="nt">&lt;resultMap</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;childOrderResultMap&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;com.example.production.domain.model.plan.Order&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;id</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;c_ID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;orderNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;c_オーダNO&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;orderType&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;c_オーダ種別&quot;</span>
<span class="w">                </span><span class="na">typeHandler=</span><span class="s">&quot;com.example.production.infrastructure.persistence.OrderTypeTypeHandler&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;itemCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;c_品目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;startDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;c_着手予定日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;dueDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;c_納期&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;planQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;c_計画数量&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;status&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;c_ステータス&quot;</span>
<span class="w">                </span><span class="na">typeHandler=</span><span class="s">&quot;com.example.production.infrastructure.persistence.PlanStatusTypeHandler&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/resultMap&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- 所要情報のネスト ResultMap --&gt;</span>
<span class="w">    </span><span class="nt">&lt;resultMap</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;requirementNestedResultMap&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;com.example.production.domain.model.plan.Requirement&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;id</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;r_ID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;requirementNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;r_所要NO&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;orderId&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;r_オーダID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;itemCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;r_品目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;dueDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;r_納期&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;requiredQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;r_必要数量&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;allocatedQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;r_引当済数量&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;shortageQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;r_不足数量&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;locationCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;r_場所コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;version&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;r_バージョン&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="cm">&lt;!-- 引当情報との 1:N 関連 --&gt;</span>
<span class="w">        </span><span class="nt">&lt;collection</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;allocations&quot;</span><span class="w"> </span><span class="na">ofType=</span><span class="s">&quot;com.example.production.domain.model.plan.Allocation&quot;</span>
<span class="w">                    </span><span class="na">resultMap=</span><span class="s">&quot;allocationNestedResultMap&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/resultMap&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- 引当情報のネスト ResultMap --&gt;</span>
<span class="w">    </span><span class="nt">&lt;resultMap</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;allocationNestedResultMap&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;com.example.production.domain.model.plan.Allocation&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;id</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;a_ID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;requirementId&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;a_所要ID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;allocationType&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;a_引当区分&quot;</span>
<span class="w">                </span><span class="na">typeHandler=</span><span class="s">&quot;com.example.production.infrastructure.persistence.AllocationTypeTypeHandler&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;orderId&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;a_オーダID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;allocationDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;a_引当日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;allocatedQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;a_引当数量&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;locationCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;a_場所コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/resultMap&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- JOIN による一括取得クエリ --&gt;</span>
<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findWithRelationsByOrderNumber&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;orderWithRelationsResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT
<span class="w">            </span>--<span class="w"> </span>オーダ情報
<span class="w">            </span>o.&quot;ID&quot;<span class="w"> </span>AS<span class="w"> </span>o_ID,
<span class="w">            </span>o.&quot;オーダNO&quot;<span class="w"> </span>AS<span class="w"> </span>o_オーダNO,
<span class="w">            </span>o.&quot;オーダ種別&quot;<span class="w"> </span>AS<span class="w"> </span>o_オーダ種別,
<span class="w">            </span>o.&quot;品目コード&quot;<span class="w"> </span>AS<span class="w"> </span>o_品目コード,
<span class="w">            </span>o.&quot;着手予定日&quot;<span class="w"> </span>AS<span class="w"> </span>o_着手予定日,
<span class="w">            </span>o.&quot;納期&quot;<span class="w"> </span>AS<span class="w"> </span>o_納期,
<span class="w">            </span>o.&quot;有効期限&quot;<span class="w"> </span>AS<span class="w"> </span>o_有効期限,
<span class="w">            </span>o.&quot;計画数量&quot;<span class="w"> </span>AS<span class="w"> </span>o_計画数量,
<span class="w">            </span>o.&quot;場所コード&quot;<span class="w"> </span>AS<span class="w"> </span>o_場所コード,
<span class="w">            </span>o.&quot;ステータス&quot;<span class="w"> </span>AS<span class="w"> </span>o_ステータス,
<span class="w">            </span>o.&quot;MPS_ID&quot;<span class="w"> </span>AS<span class="w"> </span>o_MPS_ID,
<span class="w">            </span>o.&quot;親オーダID&quot;<span class="w"> </span>AS<span class="w"> </span>o_親オーダID,
<span class="w">            </span>o.&quot;バージョン&quot;<span class="w"> </span>AS<span class="w"> </span>o_バージョン,
<span class="w">            </span>o.&quot;作成日時&quot;<span class="w"> </span>AS<span class="w"> </span>o_作成日時,
<span class="w">            </span>o.&quot;作成者&quot;<span class="w"> </span>AS<span class="w"> </span>o_作成者,
<span class="w">            </span>o.&quot;更新日時&quot;<span class="w"> </span>AS<span class="w"> </span>o_更新日時,
<span class="w">            </span>o.&quot;更新者&quot;<span class="w"> </span>AS<span class="w"> </span>o_更新者,
<span class="w">            </span>--<span class="w"> </span>MPS情報
<span class="w">            </span>m.&quot;ID&quot;<span class="w"> </span>AS<span class="w"> </span>m_ID,
<span class="w">            </span>m.&quot;MPS番号&quot;<span class="w"> </span>AS<span class="w"> </span>m_MPS番号,
<span class="w">            </span>m.&quot;計画日&quot;<span class="w"> </span>AS<span class="w"> </span>m_計画日,
<span class="w">            </span>m.&quot;品目コード&quot;<span class="w"> </span>AS<span class="w"> </span>m_品目コード,
<span class="w">            </span>m.&quot;計画数量&quot;<span class="w"> </span>AS<span class="w"> </span>m_計画数量,
<span class="w">            </span>m.&quot;納期&quot;<span class="w"> </span>AS<span class="w"> </span>m_納期,
<span class="w">            </span>m.&quot;ステータス&quot;<span class="w"> </span>AS<span class="w"> </span>m_ステータス,
<span class="w">            </span>--<span class="w"> </span>親オーダ情報
<span class="w">            </span>p.&quot;ID&quot;<span class="w"> </span>AS<span class="w"> </span>p_ID,
<span class="w">            </span>p.&quot;オーダNO&quot;<span class="w"> </span>AS<span class="w"> </span>p_オーダNO,
<span class="w">            </span>p.&quot;オーダ種別&quot;<span class="w"> </span>AS<span class="w"> </span>p_オーダ種別,
<span class="w">            </span>p.&quot;品目コード&quot;<span class="w"> </span>AS<span class="w"> </span>p_品目コード,
<span class="w">            </span>p.&quot;計画数量&quot;<span class="w"> </span>AS<span class="w"> </span>p_計画数量,
<span class="w">            </span>--<span class="w"> </span>子オーダ情報
<span class="w">            </span>c.&quot;ID&quot;<span class="w"> </span>AS<span class="w"> </span>c_ID,
<span class="w">            </span>c.&quot;オーダNO&quot;<span class="w"> </span>AS<span class="w"> </span>c_オーダNO,
<span class="w">            </span>c.&quot;オーダ種別&quot;<span class="w"> </span>AS<span class="w"> </span>c_オーダ種別,
<span class="w">            </span>c.&quot;品目コード&quot;<span class="w"> </span>AS<span class="w"> </span>c_品目コード,
<span class="w">            </span>c.&quot;着手予定日&quot;<span class="w"> </span>AS<span class="w"> </span>c_着手予定日,
<span class="w">            </span>c.&quot;納期&quot;<span class="w"> </span>AS<span class="w"> </span>c_納期,
<span class="w">            </span>c.&quot;計画数量&quot;<span class="w"> </span>AS<span class="w"> </span>c_計画数量,
<span class="w">            </span>c.&quot;ステータス&quot;<span class="w"> </span>AS<span class="w"> </span>c_ステータス,
<span class="w">            </span>--<span class="w"> </span>所要情報
<span class="w">            </span>r.&quot;ID&quot;<span class="w"> </span>AS<span class="w"> </span>r_ID,
<span class="w">            </span>r.&quot;所要NO&quot;<span class="w"> </span>AS<span class="w"> </span>r_所要NO,
<span class="w">            </span>r.&quot;オーダID&quot;<span class="w"> </span>AS<span class="w"> </span>r_オーダID,
<span class="w">            </span>r.&quot;品目コード&quot;<span class="w"> </span>AS<span class="w"> </span>r_品目コード,
<span class="w">            </span>r.&quot;納期&quot;<span class="w"> </span>AS<span class="w"> </span>r_納期,
<span class="w">            </span>r.&quot;必要数量&quot;<span class="w"> </span>AS<span class="w"> </span>r_必要数量,
<span class="w">            </span>r.&quot;引当済数量&quot;<span class="w"> </span>AS<span class="w"> </span>r_引当済数量,
<span class="w">            </span>r.&quot;不足数量&quot;<span class="w"> </span>AS<span class="w"> </span>r_不足数量,
<span class="w">            </span>r.&quot;場所コード&quot;<span class="w"> </span>AS<span class="w"> </span>r_場所コード,
<span class="w">            </span>r.&quot;バージョン&quot;<span class="w"> </span>AS<span class="w"> </span>r_バージョン,
<span class="w">            </span>--<span class="w"> </span>引当情報
<span class="w">            </span>a.&quot;ID&quot;<span class="w"> </span>AS<span class="w"> </span>a_ID,
<span class="w">            </span>a.&quot;所要ID&quot;<span class="w"> </span>AS<span class="w"> </span>a_所要ID,
<span class="w">            </span>a.&quot;引当区分&quot;<span class="w"> </span>AS<span class="w"> </span>a_引当区分,
<span class="w">            </span>a.&quot;オーダID&quot;<span class="w"> </span>AS<span class="w"> </span>a_オーダID,
<span class="w">            </span>a.&quot;引当日&quot;<span class="w"> </span>AS<span class="w"> </span>a_引当日,
<span class="w">            </span>a.&quot;引当数量&quot;<span class="w"> </span>AS<span class="w"> </span>a_引当数量,
<span class="w">            </span>a.&quot;場所コード&quot;<span class="w"> </span>AS<span class="w"> </span>a_場所コード
<span class="w">        </span>FROM<span class="w"> </span>&quot;オーダ情報&quot;<span class="w"> </span>o
<span class="w">        </span>LEFT<span class="w"> </span>JOIN<span class="w"> </span>&quot;基準生産計画&quot;<span class="w"> </span>m<span class="w"> </span>ON<span class="w"> </span>o.&quot;MPS_ID&quot;<span class="w"> </span>=<span class="w"> </span>m.&quot;ID&quot;
<span class="w">        </span>LEFT<span class="w"> </span>JOIN<span class="w"> </span>&quot;オーダ情報&quot;<span class="w"> </span>p<span class="w"> </span>ON<span class="w"> </span>o.&quot;親オーダID&quot;<span class="w"> </span>=<span class="w"> </span>p.&quot;ID&quot;
<span class="w">        </span>LEFT<span class="w"> </span>JOIN<span class="w"> </span>&quot;オーダ情報&quot;<span class="w"> </span>c<span class="w"> </span>ON<span class="w"> </span>o.&quot;ID&quot;<span class="w"> </span>=<span class="w"> </span>c.&quot;親オーダID&quot;
<span class="w">        </span>LEFT<span class="w"> </span>JOIN<span class="w"> </span>&quot;所要情報&quot;<span class="w"> </span>r<span class="w"> </span>ON<span class="w"> </span>o.&quot;ID&quot;<span class="w"> </span>=<span class="w"> </span>r.&quot;オーダID&quot;
<span class="w">        </span>LEFT<span class="w"> </span>JOIN<span class="w"> </span>&quot;引当情報&quot;<span class="w"> </span>a<span class="w"> </span>ON<span class="w"> </span>r.&quot;ID&quot;<span class="w"> </span>=<span class="w"> </span>a.&quot;所要ID&quot;
<span class="w">        </span>WHERE<span class="w"> </span>o.&quot;オーダNO&quot;<span class="w"> </span>=<span class="w"> </span>#{orderNumber}
<span class="w">        </span>ORDER<span class="w"> </span>BY<span class="w"> </span>c.&quot;ID&quot;,<span class="w"> </span>r.&quot;ID&quot;,<span class="w"> </span>a.&quot;ID&quot;
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="nt">&lt;/mapper&gt;</span>
</code></pre></div>

</details>

<h4 id="_12">リレーション設定のポイント<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>設定項目</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;association&gt;</code></td>
<td>N:1 関連のマッピング（MPS、親オーダ）</td>
</tr>
<tr>
<td><code>&lt;collection&gt;</code></td>
<td>1:N 関連のマッピング（子オーダ、所要、引当）</td>
</tr>
<tr>
<td>自己参照</td>
<td>オーダの親子関係を同一テーブルで管理</td>
</tr>
<tr>
<td>エイリアス</td>
<td><code>o_</code>（オーダ）、<code>m_</code>（MPS）、<code>p_</code>（親）、<code>c_</code>（子）、<code>r_</code>（所要）、<code>a_</code>（引当）</td>
</tr>
<tr>
<td>複数 LEFT JOIN</td>
<td>階層構造を一度のクエリで取得</td>
</tr>
</tbody>
</table>
<h3 id="_13">楽観ロックの実装<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<p>MRP 処理や計画変更時に複数ユーザーが同時に編集する可能性があるため、楽観ロックを実装します。</p>
<h4 id="flyway">Flyway マイグレーション: バージョンカラム追加<a class="headerlink" href="#flyway" title="Permanent link">&para;</a></h4>
<details>
<summary>V009__add_planning_version_columns.sql</summary>

<div class="highlight"><pre><span></span><code><span class="c1">-- src/main/resources/db/migration/V009__add_planning_version_columns.sql</span>

<span class="c1">-- 基準生産計画テーブルにバージョンカラムを追加</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;基準生産計画&quot;</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>

<span class="c1">-- オーダ情報テーブルにバージョンカラムを追加</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;オーダ情報&quot;</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>

<span class="c1">-- 所要情報テーブルにバージョンカラムを追加</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;所要情報&quot;</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>

<span class="c1">-- 引当情報テーブルにバージョンカラムを追加</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;引当情報&quot;</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>

<span class="c1">-- コメント追加</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;基準生産計画&quot;</span><span class="p">.</span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;楽観ロック用バージョン番号&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;オーダ情報&quot;</span><span class="p">.</span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;楽観ロック用バージョン番号&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;所要情報&quot;</span><span class="p">.</span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;楽観ロック用バージョン番号&#39;</span><span class="p">;</span>
<span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="ss">&quot;引当情報&quot;</span><span class="p">.</span><span class="ss">&quot;バージョン&quot;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;楽観ロック用バージョン番号&#39;</span><span class="p">;</span>
</code></pre></div>

</details>

<h4 id="_14">エンティティへのバージョンフィールド追加<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h4>
<details>
<summary>Order.java（バージョンフィールド追加）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/plan/Order.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.plan</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.item.Item</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Order</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">orderNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">OrderType</span><span class="w"> </span><span class="n">orderType</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">startDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">dueDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">expirationDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">planQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">locationCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">PlanStatus</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">mpsId</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">parentOrderId</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">createdBy</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">updatedBy</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// 楽観ロック用バージョン</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// リレーション</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Item</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">MasterProductionSchedule</span><span class="w"> </span><span class="n">mps</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Order</span><span class="w"> </span><span class="n">parentOrder</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Order</span><span class="o">&gt;</span><span class="w"> </span><span class="n">childOrders</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Requirement</span><span class="o">&gt;</span><span class="w"> </span><span class="n">requirements</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>Requirement.java（バージョンフィールド追加）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/plan/Requirement.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.plan</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.item.Item</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Requirement</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">requirementNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">orderId</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">dueDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">requiredQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">allocatedQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">shortageQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">locationCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// 楽観ロック用バージョン</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// リレーション</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Order</span><span class="w"> </span><span class="n">order</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Item</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Allocation</span><span class="o">&gt;</span><span class="w"> </span><span class="n">allocations</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="mybatis-mapper_1">MyBatis Mapper: 楽観ロック対応の更新<a class="headerlink" href="#mybatis-mapper_1" title="Permanent link">&para;</a></h4>
<details>
<summary>OrderMapper.xml（楽観ロック対応 UPDATE）</summary>

<div class="highlight"><pre><span></span><code><span class="cm">&lt;!-- 楽観ロック対応の更新（バージョンチェック付き） --&gt;</span>
<span class="nt">&lt;update</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;updateWithOptimisticLock&quot;</span><span class="w"> </span><span class="na">parameterType=</span><span class="s">&quot;com.example.production.domain.model.plan.Order&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span>UPDATE<span class="w"> </span>&quot;オーダ情報&quot;
<span class="w">    </span>SET
<span class="w">        </span>&quot;オーダ種別&quot;<span class="w"> </span>=<span class="w"> </span>#{orderType,<span class="w"> </span>typeHandler=com.example.production.infrastructure.persistence.OrderTypeTypeHandler}::オーダ種別,
<span class="w">        </span>&quot;品目コード&quot;<span class="w"> </span>=<span class="w"> </span>#{itemCode},
<span class="w">        </span>&quot;着手予定日&quot;<span class="w"> </span>=<span class="w"> </span>#{startDate},
<span class="w">        </span>&quot;納期&quot;<span class="w"> </span>=<span class="w"> </span>#{dueDate},
<span class="w">        </span>&quot;有効期限&quot;<span class="w"> </span>=<span class="w"> </span>#{expirationDate},
<span class="w">        </span>&quot;計画数量&quot;<span class="w"> </span>=<span class="w"> </span>#{planQuantity},
<span class="w">        </span>&quot;場所コード&quot;<span class="w"> </span>=<span class="w"> </span>#{locationCode},
<span class="w">        </span>&quot;ステータス&quot;<span class="w"> </span>=<span class="w"> </span>#{status,<span class="w"> </span>typeHandler=com.example.production.infrastructure.persistence.PlanStatusTypeHandler}::計画ステータス,
<span class="w">        </span>&quot;MPS_ID&quot;<span class="w"> </span>=<span class="w"> </span>#{mpsId},
<span class="w">        </span>&quot;親オーダID&quot;<span class="w"> </span>=<span class="w"> </span>#{parentOrderId},
<span class="w">        </span>&quot;更新日時&quot;<span class="w"> </span>=<span class="w"> </span>CURRENT_TIMESTAMP,
<span class="w">        </span>&quot;更新者&quot;<span class="w"> </span>=<span class="w"> </span>#{updatedBy},
<span class="w">        </span>&quot;バージョン&quot;<span class="w"> </span>=<span class="w"> </span>&quot;バージョン&quot;<span class="w"> </span>+<span class="w"> </span>1
<span class="w">    </span>WHERE<span class="w"> </span>&quot;ID&quot;<span class="w"> </span>=<span class="w"> </span>#{id}
<span class="w">    </span>AND<span class="w"> </span>&quot;バージョン&quot;<span class="w"> </span>=<span class="w"> </span>#{version}
<span class="nt">&lt;/update&gt;</span>

<span class="cm">&lt;!-- ステータス更新（楽観ロック対応） --&gt;</span>
<span class="nt">&lt;update</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;updateStatusWithOptimisticLock&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span>UPDATE<span class="w"> </span>&quot;オーダ情報&quot;
<span class="w">    </span>SET
<span class="w">        </span>&quot;ステータス&quot;<span class="w"> </span>=<span class="w"> </span>#{status,<span class="w"> </span>typeHandler=com.example.production.infrastructure.persistence.PlanStatusTypeHandler}::計画ステータス,
<span class="w">        </span>&quot;更新日時&quot;<span class="w"> </span>=<span class="w"> </span>CURRENT_TIMESTAMP,
<span class="w">        </span>&quot;バージョン&quot;<span class="w"> </span>=<span class="w"> </span>&quot;バージョン&quot;<span class="w"> </span>+<span class="w"> </span>1
<span class="w">    </span>WHERE<span class="w"> </span>&quot;ID&quot;<span class="w"> </span>=<span class="w"> </span>#{id}
<span class="w">    </span>AND<span class="w"> </span>&quot;バージョン&quot;<span class="w"> </span>=<span class="w"> </span>#{version}
<span class="nt">&lt;/update&gt;</span>

<span class="cm">&lt;!-- 現在のバージョン取得 --&gt;</span>
<span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findVersionById&quot;</span><span class="w"> </span><span class="na">resultType=</span><span class="s">&quot;java.lang.Integer&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span>SELECT<span class="w"> </span>&quot;バージョン&quot;<span class="w"> </span>FROM<span class="w"> </span>&quot;オーダ情報&quot;<span class="w"> </span>WHERE<span class="w"> </span>&quot;ID&quot;<span class="w"> </span>=<span class="w"> </span>#{id}
<span class="nt">&lt;/select&gt;</span>
</code></pre></div>

</details>

<details>
<summary>RequirementMapper.xml（楽観ロック対応 UPDATE）</summary>

<div class="highlight"><pre><span></span><code><span class="cm">&lt;!-- 引当更新（楽観ロック対応） --&gt;</span>
<span class="nt">&lt;update</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;updateAllocationWithOptimisticLock&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span>UPDATE<span class="w"> </span>&quot;所要情報&quot;
<span class="w">    </span>SET
<span class="w">        </span>&quot;引当済数量&quot;<span class="w"> </span>=<span class="w"> </span>#{allocatedQuantity},
<span class="w">        </span>&quot;不足数量&quot;<span class="w"> </span>=<span class="w"> </span>#{shortageQuantity},
<span class="w">        </span>&quot;更新日時&quot;<span class="w"> </span>=<span class="w"> </span>CURRENT_TIMESTAMP,
<span class="w">        </span>&quot;バージョン&quot;<span class="w"> </span>=<span class="w"> </span>&quot;バージョン&quot;<span class="w"> </span>+<span class="w"> </span>1
<span class="w">    </span>WHERE<span class="w"> </span>&quot;ID&quot;<span class="w"> </span>=<span class="w"> </span>#{id}
<span class="w">    </span>AND<span class="w"> </span>&quot;バージョン&quot;<span class="w"> </span>=<span class="w"> </span>#{version}
<span class="nt">&lt;/update&gt;</span>

<span class="cm">&lt;!-- 現在のバージョン取得 --&gt;</span>
<span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findVersionById&quot;</span><span class="w"> </span><span class="na">resultType=</span><span class="s">&quot;java.lang.Integer&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span>SELECT<span class="w"> </span>&quot;バージョン&quot;<span class="w"> </span>FROM<span class="w"> </span>&quot;所要情報&quot;<span class="w"> </span>WHERE<span class="w"> </span>&quot;ID&quot;<span class="w"> </span>=<span class="w"> </span>#{id}
<span class="nt">&lt;/select&gt;</span>
</code></pre></div>

</details>

<h4 id="repository">Repository 実装: 楽観ロック対応<a class="headerlink" href="#repository" title="Permanent link">&para;</a></h4>
<details>
<summary>OrderRepositoryImpl.java（楽観ロック対応）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/infrastructure/persistence/repository/OrderRepositoryImpl.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.persistence.repository</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.application.port.out.OrderRepository</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.exception.OptimisticLockException</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.plan.Order</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.plan.PlanStatus</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.persistence.mapper.OrderMapper</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Repository</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.transaction.annotation.Transactional</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Optional</span><span class="p">;</span>

<span class="nd">@Repository</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OrderRepositoryImpl</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">OrderRepository</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">OrderMapper</span><span class="w"> </span><span class="n">mapper</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="n">Order</span><span class="w"> </span><span class="n">order</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">updatedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mapper</span><span class="p">.</span><span class="na">updateWithOptimisticLock</span><span class="p">(</span><span class="n">order</span><span class="p">);</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">updatedCount</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// バージョン不一致または削除済み</span>
<span class="w">            </span><span class="n">Integer</span><span class="w"> </span><span class="n">currentVersion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mapper</span><span class="p">.</span><span class="na">findVersionById</span><span class="p">(</span><span class="n">order</span><span class="p">.</span><span class="na">getId</span><span class="p">());</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">currentVersion</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OptimisticLockException</span><span class="p">(</span><span class="s">&quot;オーダ&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">order</span><span class="p">.</span><span class="na">getId</span><span class="p">());</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OptimisticLockException</span><span class="p">(</span><span class="s">&quot;オーダ&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">order</span><span class="p">.</span><span class="na">getId</span><span class="p">(),</span>
<span class="w">                        </span><span class="n">order</span><span class="p">.</span><span class="na">getVersion</span><span class="p">(),</span><span class="w"> </span><span class="n">currentVersion</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">updateStatus</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">PlanStatus</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">version</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">updatedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mapper</span><span class="p">.</span><span class="na">updateStatusWithOptimisticLock</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="n">version</span><span class="p">);</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">updatedCount</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Integer</span><span class="w"> </span><span class="n">currentVersion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mapper</span><span class="p">.</span><span class="na">findVersionById</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">currentVersion</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OptimisticLockException</span><span class="p">(</span><span class="s">&quot;オーダ&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OptimisticLockException</span><span class="p">(</span><span class="s">&quot;オーダ&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">version</span><span class="p">,</span><span class="w"> </span><span class="n">currentVersion</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">Order</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findWithRelationsByOrderNumber</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">orderNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Optional</span><span class="p">.</span><span class="na">ofNullable</span><span class="p">(</span><span class="n">mapper</span><span class="p">.</span><span class="na">findWithRelationsByOrderNumber</span><span class="p">(</span><span class="n">orderNumber</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// その他のメソッド...</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="tdd">TDD: 楽観ロックのテスト<a class="headerlink" href="#tdd" title="Permanent link">&para;</a></h4>
<details>
<summary>OrderRepositoryOptimisticLockTest.java</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/test/java/com/example/production/infrastructure/persistence/repository/OrderRepositoryOptimisticLockTest.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.persistence.repository</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.application.port.out.OrderRepository</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.exception.OptimisticLockException</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.plan.Order</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.plan.OrderType</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.plan.PlanStatus</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.testsetup.BaseIntegrationTest</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>

<span class="kn">import static</span><span class="w"> </span><span class="nn">org.assertj.core.api.Assertions.*</span><span class="p">;</span>

<span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;オーダリポジトリ - 楽観ロック&quot;</span><span class="p">)</span>
<span class="kd">class</span> <span class="nc">OrderRepositoryOptimisticLockTest</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">BaseIntegrationTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">OrderRepository</span><span class="w"> </span><span class="n">orderRepository</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@BeforeEach</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">setUp</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">orderRepository</span><span class="p">.</span><span class="na">deleteAll</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Nested</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;楽観ロック&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">class</span> <span class="nc">OptimisticLocking</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;同じバージョンで更新できる&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">canUpdateWithSameVersion</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Arrange</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Order</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">orderNumber</span><span class="p">(</span><span class="s">&quot;MO-2025-0001&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">orderType</span><span class="p">(</span><span class="n">OrderType</span><span class="p">.</span><span class="na">MANUFACTURING</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">itemCode</span><span class="p">(</span><span class="s">&quot;PROD-001&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">startDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">dueDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">planQuantity</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;100&quot;</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">locationCode</span><span class="p">(</span><span class="s">&quot;WH-001&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">status</span><span class="p">(</span><span class="n">PlanStatus</span><span class="p">.</span><span class="na">DRAFT</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">            </span><span class="n">orderRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">order</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Act</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">fetched</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orderRepository</span><span class="p">.</span><span class="na">findByOrderNumber</span><span class="p">(</span><span class="s">&quot;MO-2025-0001&quot;</span><span class="p">).</span><span class="na">get</span><span class="p">();</span>
<span class="w">            </span><span class="n">fetched</span><span class="p">.</span><span class="na">setPlanQuantity</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;150&quot;</span><span class="p">));</span>
<span class="w">            </span><span class="n">orderRepository</span><span class="p">.</span><span class="na">update</span><span class="p">(</span><span class="n">fetched</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Assert</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orderRepository</span><span class="p">.</span><span class="na">findByOrderNumber</span><span class="p">(</span><span class="s">&quot;MO-2025-0001&quot;</span><span class="p">).</span><span class="na">get</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">updated</span><span class="p">.</span><span class="na">getPlanQuantity</span><span class="p">()).</span><span class="na">isEqualByComparingTo</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;150&quot;</span><span class="p">));</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">updated</span><span class="p">.</span><span class="na">getVersion</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// バージョンがインクリメント</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;異なるバージョンで更新すると楽観ロック例外が発生する&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">throwsExceptionWhenVersionMismatch</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Arrange</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Order</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">orderNumber</span><span class="p">(</span><span class="s">&quot;MO-2025-0002&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">orderType</span><span class="p">(</span><span class="n">OrderType</span><span class="p">.</span><span class="na">MANUFACTURING</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">itemCode</span><span class="p">(</span><span class="s">&quot;PROD-001&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">startDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">dueDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">planQuantity</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;100&quot;</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">locationCode</span><span class="p">(</span><span class="s">&quot;WH-001&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">status</span><span class="p">(</span><span class="n">PlanStatus</span><span class="p">.</span><span class="na">DRAFT</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">            </span><span class="n">orderRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">order</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// ユーザーAが取得</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">orderA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orderRepository</span><span class="p">.</span><span class="na">findByOrderNumber</span><span class="p">(</span><span class="s">&quot;MO-2025-0002&quot;</span><span class="p">).</span><span class="na">get</span><span class="p">();</span>
<span class="w">            </span><span class="c1">// ユーザーBが取得</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">orderB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orderRepository</span><span class="p">.</span><span class="na">findByOrderNumber</span><span class="p">(</span><span class="s">&quot;MO-2025-0002&quot;</span><span class="p">).</span><span class="na">get</span><span class="p">();</span>

<span class="w">            </span><span class="c1">// ユーザーAが更新（成功）</span>
<span class="w">            </span><span class="n">orderA</span><span class="p">.</span><span class="na">setPlanQuantity</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;150&quot;</span><span class="p">));</span>
<span class="w">            </span><span class="n">orderRepository</span><span class="p">.</span><span class="na">update</span><span class="p">(</span><span class="n">orderA</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Act &amp; Assert: ユーザーBが古いバージョンで更新（失敗）</span>
<span class="w">            </span><span class="n">orderB</span><span class="p">.</span><span class="na">setPlanQuantity</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;200&quot;</span><span class="p">));</span>
<span class="w">            </span><span class="n">assertThatThrownBy</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">orderRepository</span><span class="p">.</span><span class="na">update</span><span class="p">(</span><span class="n">orderB</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">isInstanceOf</span><span class="p">(</span><span class="n">OptimisticLockException</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">hasMessageContaining</span><span class="p">(</span><span class="s">&quot;他のユーザーによって更新されています&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;ステータス更新も楽観ロックが適用される&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">statusUpdateWithOptimisticLock</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Arrange</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Order</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">orderNumber</span><span class="p">(</span><span class="s">&quot;MO-2025-0003&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">orderType</span><span class="p">(</span><span class="n">OrderType</span><span class="p">.</span><span class="na">MANUFACTURING</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">itemCode</span><span class="p">(</span><span class="s">&quot;PROD-001&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">startDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">dueDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">planQuantity</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;100&quot;</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">locationCode</span><span class="p">(</span><span class="s">&quot;WH-001&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">status</span><span class="p">(</span><span class="n">PlanStatus</span><span class="p">.</span><span class="na">DRAFT</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">            </span><span class="n">orderRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="n">order</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// ユーザーAとBが同時に取得</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">orderA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orderRepository</span><span class="p">.</span><span class="na">findByOrderNumber</span><span class="p">(</span><span class="s">&quot;MO-2025-0003&quot;</span><span class="p">).</span><span class="na">get</span><span class="p">();</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">orderB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orderRepository</span><span class="p">.</span><span class="na">findByOrderNumber</span><span class="p">(</span><span class="s">&quot;MO-2025-0003&quot;</span><span class="p">).</span><span class="na">get</span><span class="p">();</span>

<span class="w">            </span><span class="c1">// ユーザーAがステータス確定（成功）</span>
<span class="w">            </span><span class="n">orderRepository</span><span class="p">.</span><span class="na">updateStatus</span><span class="p">(</span><span class="n">orderA</span><span class="p">.</span><span class="na">getId</span><span class="p">(),</span><span class="w"> </span><span class="n">PlanStatus</span><span class="p">.</span><span class="na">CONFIRMED</span><span class="p">,</span><span class="w"> </span><span class="n">orderA</span><span class="p">.</span><span class="na">getVersion</span><span class="p">());</span>

<span class="w">            </span><span class="c1">// Act &amp; Assert: ユーザーBが古いバージョンでステータス更新（失敗）</span>
<span class="w">            </span><span class="n">assertThatThrownBy</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">                    </span><span class="n">orderRepository</span><span class="p">.</span><span class="na">updateStatus</span><span class="p">(</span><span class="n">orderB</span><span class="p">.</span><span class="na">getId</span><span class="p">(),</span><span class="w"> </span><span class="n">PlanStatus</span><span class="p">.</span><span class="na">CANCELLED</span><span class="p">,</span><span class="w"> </span><span class="n">orderB</span><span class="p">.</span><span class="na">getVersion</span><span class="p">()))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">isInstanceOf</span><span class="p">(</span><span class="n">OptimisticLockException</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="mrp_3">MRP 処理における楽観ロックの考慮<a class="headerlink" href="#mrp_3" title="Permanent link">&para;</a></h3>
<p>MRP 処理は複数のオーダや所要を一括で更新するため、楽観ロックの扱いに注意が必要です。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNFUVVFTkNFIiBoZWlnaHQ9IjcwMHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NzEwcHg7aGVpZ2h0OjcwMHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDcxMCA3MDAiIHdpZHRoPSI3MTBweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPk1SUCYjMjA5NjY7JiMyOTcwMjsmIzEyMzkyOyYjMjcwMDU7JiMzNTI1MTsmIzEyNTI1OyYjMTI0ODM7JiMxMjQ2Mzs8L3RpdGxlPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ2Ljk3MjIiIHg9IjI4My4yNDUzIiB5PSIyNy45OTUxIj5NUlAmIzIwOTY2OyYjMjk3MDI7JiMxMjM5MjsmIzI3MDA1OyYjMzUyNTE7JiMxMjUyNTsmIzEyNDgzOyYjMTI0NjM7PC90ZXh0PjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMzY3LjM5ODQiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjY5NC40NjI4IiB4PSIxMCIgeT0iMjM4LjEyNSIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMTkwLjYwMTYiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjY3NC40NjI4IiB4PSIyMCIgeT0iNDA3LjkyMTkiLz48ZyBjbGFzcz0icGFydGljaXBhbnQtbGlmZWxpbmUiIGRhdGEtZW50aXR5LXVpZD0icGFydDEiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ik1SUCIgaWQ9InBhcnQxLWxpZmVsaW5lIj48Zz48dGl0bGU+TVJQLi4uLjwvdGl0bGU+PHJlY3QgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBoZWlnaHQ9IjUxNy45Mjk3IiB3aWR0aD0iOCIgeD0iNzYuMTI0NCIgeT0iMTA0LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSI4MCIgeDI9IjgwIiB5MT0iMTA0LjU5MzgiIHkyPSI2MjIuNTIzNCIvPjwvZz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50LWxpZmVsaW5lIiBkYXRhLWVudGl0eS11aWQ9InBhcnQyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJPcmRlclJlcG8iIGlkPSJwYXJ0Mi1saWZlbGluZSI+PGc+PHRpdGxlPi4uLi4uLi4uPC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iNTE3LjkyOTciIHdpZHRoPSI4IiB4PSIzNDUuMzE1MyIgeT0iMTA0LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSIzNDguMzE1NiIgeDI9IjM0OC4zMTU2IiB5MT0iMTA0LjU5MzgiIHkyPSI2MjIuNTIzNCIvPjwvZz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50LWxpZmVsaW5lIiBkYXRhLWVudGl0eS11aWQ9InBhcnQzIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJSZXFSZXBvIiBpZD0icGFydDMtbGlmZWxpbmUiPjxnPjx0aXRsZT4uLi4uLi4uPC90aXRsZT48cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjAuMDAwMDAiIGhlaWdodD0iNTE3LjkyOTciIHdpZHRoPSI4IiB4PSI0NzQuMzE0OCIgeT0iMTA0LjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUsNTsiIHgxPSI0NzcuMzE1MSIgeDI9IjQ3Ny4zMTUxIiB5MT0iMTA0LjU5MzgiIHkyPSI2MjIuNTIzNCIvPjwvZz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50LWxpZmVsaW5lIiBkYXRhLWVudGl0eS11aWQ9InBhcnQ0IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJEQiIgaWQ9InBhcnQ0LWxpZmVsaW5lIj48Zz48dGl0bGU+REI8L3RpdGxlPjxyZWN0IGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMC4wMDAwMCIgaGVpZ2h0PSI1MTcuOTI5NyIgd2lkdGg9IjgiIHg9IjY2Mi40NjI4IiB5PSIxMDQuNTkzOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NSw1OyIgeDE9IjY2Ni40NjI4IiB4Mj0iNjY2LjQ2MjgiIHkxPSIxMDQuNTkzOCIgeTI9IjYyMi41MjM0Ii8+PC9nPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0MSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iTVJQIiBpZD0icGFydDEtaGVhZCI+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDAuMjQ4OCIgeD0iMzAiIHk9IjczLjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4Ni4yNDg4IiB4PSIzNyIgeT0iOTMuMjkyIj5NUlAmIzEyNDY5OyYjMTI1NDA7JiMxMjQ5OTsmIzEyNDczOzwvdGV4dD48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LXRhaWwiIGRhdGEtZW50aXR5LXVpZD0icGFydDEiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ik1SUCIgaWQ9InBhcnQxLXRhaWwiPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTAwLjI0ODgiIHg9IjMwIiB5PSI2MjEuNTIzNCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg2LjI0ODgiIHg9IjM3IiB5PSI2NDEuNTE4NiI+TVJQJiMxMjQ2OTsmIzEyNTQwOyYjMTI0OTk7JiMxMjQ3Mzs8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC1oZWFkIiBkYXRhLWVudGl0eS11aWQ9InBhcnQyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJPcmRlclJlcG8iIGlkPSJwYXJ0Mi1oZWFkIj48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyNS45OTk1IiB4PSIyODYuMzE1NiIgeT0iNzMuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMS45OTk1IiB4PSIyOTMuMzE1NiIgeT0iOTMuMjkyIj4mIzEyNDU4OyYjMTI1NDA7JiMxMjQ4MDsmIzEyNTIyOyYjMTI1MDk7JiMxMjQ3MjsmIzEyNDg4OyYjMTI1MjI7PC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0MiIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iT3JkZXJSZXBvIiBpZD0icGFydDItdGFpbCI+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIzMC4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjUuOTk5NSIgeD0iMjg2LjMxNTYiIHk9IjYyMS41MjM0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTExLjk5OTUiIHg9IjI5My4zMTU2IiB5PSI2NDEuNTE4NiI+JiMxMjQ1ODsmIzEyNTQwOyYjMTI0ODA7JiMxMjUyMjsmIzEyNTA5OyYjMTI0NzI7JiMxMjQ4ODsmIzEyNTIyOzwvdGV4dD48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtZW50aXR5LXVpZD0icGFydDMiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IlJlcVJlcG8iIGlkPSJwYXJ0My1oZWFkIj48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjMwLjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExMS45OTk2IiB4PSI0MjIuMzE1MSIgeT0iNzMuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjQyOS4zMTUxIiB5PSI5My4yOTIiPiYjMjUxNTI7JiMzNTIwMTsmIzEyNTIyOyYjMTI1MDk7JiMxMjQ3MjsmIzEyNDg4OyYjMTI1MjI7PC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0MyIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iUmVxUmVwbyIgaWQ9InBhcnQzLXRhaWwiPjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMzAuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTExLjk5OTYiIHg9IjQyMi4zMTUxIiB5PSI2MjEuNTIzNCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjQyOS4zMTUxIiB5PSI2NDEuNTE4NiI+JiMyNTE1MjsmIzM1MjAxOyYjMTI1MjI7JiMxMjUwOTsmIzEyNDcyOyYjMTI0ODg7JiMxMjUyMjs8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC1oZWFkIiBkYXRhLWVudGl0eS11aWQ9InBhcnQ0IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJEQiIgaWQ9InBhcnQ0LWhlYWQiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIwLjM4NDgiIHg9IjY1My4yNzA0IiB5PSIxMDEuMjkyIj5EQjwvdGV4dD48cGF0aCBkPSJNNjQ4LjQ2MjgsNTIuMjk2OSBDNjQ4LjQ2MjgsNDIuMjk2OSA2NjYuNDYyOCw0Mi4yOTY5IDY2Ni40NjI4LDQyLjI5NjkgQzY2Ni40NjI4LDQyLjI5NjkgNjg0LjQ2MjgsNDIuMjk2OSA2ODQuNDYyOCw1Mi4yOTY5IEw2ODQuNDYyOCw3OC4yOTY5IEM2ODQuNDYyOCw4OC4yOTY5IDY2Ni40NjI4LDg4LjI5NjkgNjY2LjQ2MjgsODguMjk2OSBDNjY2LjQ2MjgsODguMjk2OSA2NDguNDYyOCw4OC4yOTY5IDY0OC40NjI4LDc4LjI5NjkgTDY0OC40NjI4LDUyLjI5NjkiIGZpbGw9IiNFMkUyRjAiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik02NDguNDYyOCw1Mi4yOTY5IEM2NDguNDYyOCw2Mi4yOTY5IDY2Ni40NjI4LDYyLjI5NjkgNjY2LjQ2MjgsNjIuMjk2OSBDNjY2LjQ2MjgsNjIuMjk2OSA2ODQuNDYyOCw2Mi4yOTY5IDY4NC40NjI4LDUyLjI5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1lbnRpdHktdWlkPSJwYXJ0NCIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iREIiIGlkPSJwYXJ0NC10YWlsIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMC4zODQ4IiB4PSI2NTMuMjcwNCIgeT0iNjM0LjUxODYiPkRCPC90ZXh0PjxwYXRoIGQ9Ik02NDguNDYyOCw2NDcuODIwMyBDNjQ4LjQ2MjgsNjM3LjgyMDMgNjY2LjQ2MjgsNjM3LjgyMDMgNjY2LjQ2MjgsNjM3LjgyMDMgQzY2Ni40NjI4LDYzNy44MjAzIDY4NC40NjI4LDYzNy44MjAzIDY4NC40NjI4LDY0Ny44MjAzIEw2ODQuNDYyOCw2NzMuODIwMyBDNjg0LjQ2MjgsNjgzLjgyMDMgNjY2LjQ2MjgsNjgzLjgyMDMgNjY2LjQ2MjgsNjgzLjgyMDMgQzY2Ni40NjI4LDY4My44MjAzIDY0OC40NjI4LDY4My44MjAzIDY0OC40NjI4LDY3My44MjAzIEw2NDguNDYyOCw2NDcuODIwMyIgZmlsbD0iI0UyRTJGMCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTY0OC40NjI4LDY0Ny44MjAzIEM2NDguNDYyOCw2NTcuODIwMyA2NjYuNDYyOCw2NTcuODIwMyA2NjYuNDYyOCw2NTcuODIwMyBDNjY2LjQ2MjgsNjU3LjgyMDMgNjg0LjQ2MjgsNjU3LjgyMDMgNjg0LjQ2MjgsNjQ3LjgyMDMiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDEiIGRhdGEtZW50aXR5LTI9InBhcnQyIiBpZD0ibXNnMSI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzMzcuMzE1MywxMzEuNzI2NiwzNDcuMzE1MywxMzUuNzI2NiwzMzcuMzE1MywxMzkuNzI2NiwzNDEuMzE1MywxMzUuNzI2NiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI4MC4xMjQ0IiB4Mj0iMzQzLjMxNTMiIHkxPSIxMzUuNzI2NiIgeTI9IjEzNS43MjY2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI5LjUzNjYiIHg9Ijg3LjEyNDQiIHk9IjEzMC42NjA2Ij5maW5kQnlNcHNJZChtcHNJZCk8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MiIgZGF0YS1lbnRpdHktMj0icGFydDQiIGlkPSJtc2cyIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjY1NC40NjI4LDE2MC44NTk0LDY2NC40NjI4LDE2NC44NTk0LDY1NC40NjI4LDE2OC44NTk0LDY1OC40NjI4LDE2NC44NTk0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjM0OS4zMTUzIiB4Mj0iNjYwLjQ2MjgiIHkxPSIxNjQuODU5NCIgeTI9IjE2NC44NTk0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTk1LjUzMzIiIHg9IjM1Ni4zMTUzIiB5PSIxNTkuNzkzNSI+U0VMRUNUIC4uLiBXSEVSRSBNUFNfSUQgPSA/PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDQiIGRhdGEtZW50aXR5LTI9InBhcnQyIiBpZD0ibXNnMyI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzNjAuMzE1MywxODkuOTkyMiwzNTAuMzE1MywxOTMuOTkyMiwzNjAuMzE1MywxOTcuOTkyMiwzNTYuMzE1MywxOTMuOTkyMiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjIsMjsiIHgxPSIzNTQuMzE1MyIgeDI9IjY2NS40NjI4IiB5MT0iMTkzLjk5MjIiIHkyPSIxOTMuOTkyMiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4Mi4wMDAyIiB4PSIzNjYuMzE1MyIgeT0iMTg4LjkyNjMiPiYjMTI0NTg7JiMxMjU0MDsmIzEyNDgwOyYjMTk5Njg7JiMzNTIzOTsmIzY1Mjg4OyYjMTI0OTY7JiMxMjU0MDsmIzEyNDcyOyYjMTI1MTk7JiMxMjUzMTsmIzM2Nzk2OyYjMTI0MTU7JiM2NTI4OTs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MiIgZGF0YS1lbnRpdHktMj0icGFydDEiIGlkPSJtc2c0Ij48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjkxLjEyNDQsMjE5LjEyNSw4MS4xMjQ0LDIyMy4xMjUsOTEuMTI0NCwyMjcuMTI1LDg3LjEyNDQsMjIzLjEyNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjIsMjsiIHgxPSI4NS4xMjQ0IiB4Mj0iMzQ4LjMxNTMiIHkxPSIyMjMuMTI1IiB5Mj0iMjIzLjEyNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgxLjY4MTYiIHg9Ijk3LjEyNDQiIHk9IjIxOC4wNTkxIj5MaXN0Jmx0O09yZGVyJmd0OzwvdGV4dD48L2c+PHBhdGggZD0iTTEwLDIzOC4xMjUgTDg2LjYyNCwyMzguMTI1IEw4Ni42MjQsMjQ1LjI1NzggTDc2LjYyNCwyNTUuMjU3OCBMMTAsMjU1LjI1NzggTDEwLDIzOC4xMjUiIGZpbGw9IiNFRUVFRUUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMzY3LjM5ODQiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjY5NC40NjI4IiB4PSIxMCIgeT0iMjM4LjEyNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMS42MjQiIHg9IjI1IiB5PSIyNTEuMTkxOSI+bG9vcDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTguMDU0MSIgeD0iMTAxLjYyNCIgeT0iMjUwLjMzNTQiPlsmIzIxNTA4OyYjMTI0NTg7JiMxMjU0MDsmIzEyNDgwOyYjMTIzOTU7JiMyMzU1MDsmIzEyMzc1OyYjMTIzOTA7XTwvdGV4dD48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDEiIGRhdGEtZW50aXR5LTI9InBhcnQzIiBpZD0ibXNnNSI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0NjYuMzE0OCwyNzIuMzkwNiw0NzYuMzE0OCwyNzYuMzkwNiw0NjYuMzE0OCwyODAuMzkwNiw0NzAuMzE0OCwyNzYuMzkwNiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI4MC4xMjQ0IiB4Mj0iNDcyLjMxNDgiIHkxPSIyNzYuMzkwNiIgeTI9IjI3Ni4zOTA2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjAwLjEyODkiIHg9Ijg3LjEyNDQiIHk9IjI3MS4zMjQ3Ij5leHBsb2RlUmVxdWlyZW1lbnRzKG9yZGVySWQpPC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDMiIGRhdGEtZW50aXR5LTI9InBhcnQ0IiBpZD0ibXNnNiI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI2NTQuNDYyOCwzMDEuNTIzNCw2NjQuNDYyOCwzMDUuNTIzNCw2NTQuNDYyOCwzMDkuNTIzNCw2NTguNDYyOCwzMDUuNTIzNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI0NzguMzE0OCIgeDI9IjY2MC40NjI4IiB5MT0iMzA1LjUyMzQiIHkyPSIzMDUuNTIzNCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzOC45OTQ3IiB4PSI0ODUuMzE0OCIgeT0iMzAwLjQ1NzUiPklOU0VSVCBJTlRPICYjMjUxNTI7JiMzNTIwMTsmIzI0NzczOyYjMjI1Nzc7PC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDQiIGRhdGEtZW50aXR5LTI9InBhcnQzIiBpZD0ibXNnNyI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0ODkuMzE0OCwzMzAuNjU2Myw0NzkuMzE0OCwzMzQuNjU2Myw0ODkuMzE0OCwzMzguNjU2Myw0ODUuMzE0OCwzMzQuNjU2MyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjIsMjsiIHgxPSI0ODMuMzE0OCIgeDI9IjY2NS40NjI4IiB5MT0iMzM0LjY1NjMiIHkyPSIzMzQuNjU2MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4Ljc1NzMiIHg9IjQ5NS4zMTQ4IiB5PSIzMjkuNTkwMyI+T0s8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MSIgZGF0YS1lbnRpdHktMj0icGFydDIiIGlkPSJtc2c4Ij48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMzNy4zMTUzLDM1OS43ODkxLDM0Ny4zMTUzLDM2My43ODkxLDMzNy4zMTUzLDM2Ny43ODkxLDM0MS4zMTUzLDM2My43ODkxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjgwLjEyNDQiIHgyPSIzNDMuMzE1MyIgeTE9IjM2My43ODkxIiB5Mj0iMzYzLjc4OTEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNDUuMTkwOSIgeD0iODcuMTI0NCIgeT0iMzU4LjcyMzEiPnVwZGF0ZVN0YXR1cyhpZCwgRVhQQU5ERUQsIHZlcnNpb24pPC90ZXh0PjwvZz48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDIiIGRhdGEtZW50aXR5LTI9InBhcnQ0IiBpZD0ibXNnOSI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI2NTQuNDYyOCwzODguOTIxOSw2NjQuNDYyOCwzOTIuOTIxOSw2NTQuNDYyOCwzOTYuOTIxOSw2NTguNDYyOCwzOTIuOTIxOSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzNDkuMzE1MyIgeDI9IjY2MC40NjI4IiB5MT0iMzkyLjkyMTkiIHkyPSIzOTIuOTIxOSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI5My4xNDc1IiB4PSIzNTYuMzE1MyIgeT0iMzg3Ljg1NiI+VVBEQVRFIC4uLiBXSEVSRSBJRCA9ID8gQU5EICYjMTI0OTY7JiMxMjU0MDsmIzEyNDcyOyYjMTI1MTk7JiMxMjUzMTsgPSA/PC90ZXh0PjwvZz48cGF0aCBkPSJNMjAsNDA3LjkyMTkgTDg0LjQ0MjksNDA3LjkyMTkgTDg0LjQ0MjksNDE1LjA1NDcgTDc0LjQ0MjksNDI1LjA1NDcgTDIwLDQyNS4wNTQ3IEwyMCw0MDcuOTIxOSIgZmlsbD0iI0VFRUVFRSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIxOTAuNjAxNiIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNjc0LjQ2MjgiIHg9IjIwIiB5PSI0MDcuOTIxOSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOS40NDI5IiB4PSIzNSIgeT0iNDIwLjk4ODgiPmFsdDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODcuMDU0MiIgeD0iOTkuNDQyOSIgeT0iNDIwLjEzMjMiPlsmIzEyNDk2OyYjMTI1NDA7JiMxMjQ3MjsmIzEyNTE5OyYjMTI1MzE7JiMxOTk2ODsmIzMzMjY4O108L3RleHQ+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtZW50aXR5LTE9InBhcnQ0IiBkYXRhLWVudGl0eS0yPSJwYXJ0MiIgaWQ9Im1zZzEwIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM2MC4zMTUzLDQ0Mi4xODc1LDM1MC4zMTUzLDQ0Ni4xODc1LDM2MC4zMTUzLDQ1MC4xODc1LDM1Ni4zMTUzLDQ0Ni4xODc1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6MiwyOyIgeDE9IjM1NC4zMTUzIiB4Mj0iNjY1LjQ2MjgiIHkxPSI0NDYuMTg3NSIgeTI9IjQ0Ni4xODc1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTkuMjcxMSIgeD0iMzY2LjMxNTMiIHk9IjQ0MS4xMjE2Ij4mIzI2MzU2OyYjMjYwMzI7JiMyNTEwNDsmIzIxMTUxOyYjNjUyODg7MSYjMjAyMTQ7JiM2NTI4OTs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MiIgZGF0YS1lbnRpdHktMj0icGFydDEiIGlkPSJtc2cxMSI+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI5MS4xMjQ0LDQ3MS4zMjAzLDgxLjEyNDQsNDc1LjMyMDMsOTEuMTI0NCw0NzkuMzIwMyw4Ny4xMjQ0LDQ3NS4zMjAzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxO3N0cm9rZS1kYXNoYXJyYXk6MiwyOyIgeDE9Ijg1LjEyNDQiIHgyPSIzNDguMzE1MyIgeTE9IjQ3NS4zMjAzIiB5Mj0iNDc1LjMyMDMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOC43NTczIiB4PSI5Ny4xMjQ0IiB5PSI0NzAuMjU0NCI+T0s8L3RleHQ+PC9nPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjIsMjsiIHgxPSIyMCIgeDI9IjY5NC40NjI4IiB5MT0iNDg0LjMyMDMiIHkyPSI0ODQuMzIwMyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5OC4wNTQxIiB4PSIyNSIgeT0iNDk0LjUzMDgiPlsmIzEyNDk2OyYjMTI1NDA7JiMxMjQ3MjsmIzEyNTE5OyYjMTI1MzE7JiMxOTk4MTsmIzE5OTY4OyYjMzMyNjg7XTwvdGV4dD48ZyBjbGFzcz0ibWVzc2FnZSIgZGF0YS1lbnRpdHktMT0icGFydDQiIGRhdGEtZW50aXR5LTI9InBhcnQyIiBpZD0ibXNnMTIiPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzYwLjMxNTMsNTE1LjI1NzgsMzUwLjMxNTMsNTE5LjI1NzgsMzYwLjMxNTMsNTIzLjI1NzgsMzU2LjMxNTMsNTE5LjI1NzgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheToyLDI7IiB4MT0iMzU0LjMxNTMiIHgyPSI2NjUuNDYyOCIgeTE9IjUxOS4yNTc4IiB5Mj0iNTE5LjI1NzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5OS4yNzExIiB4PSIzNjYuMzE1MyIgeT0iNTE0LjE5MTkiPiYjMjYzNTY7JiMyNjAzMjsmIzIyODMzOyYjMjU5NDM7JiM2NTI4ODswJiMyMDIxNDsmIzY1Mjg5OzwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtZW50aXR5LTE9InBhcnQyIiBkYXRhLWVudGl0eS0yPSJwYXJ0MSIgaWQ9Im1zZzEzIj48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjkxLjEyNDQsNTQ0LjM5MDYsODEuMTI0NCw1NDguMzkwNiw5MS4xMjQ0LDU1Mi4zOTA2LDg3LjEyNDQsNTQ4LjM5MDYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheToyLDI7IiB4MT0iODUuMTI0NCIgeDI9IjM0OC4zMTUzIiB5MT0iNTQ4LjM5MDYiIHkyPSI1NDguMzkwNiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2MC4xNzY4IiB4PSI5Ny4xMjQ0IiB5PSI1NDMuMzI0NyI+T3B0aW1pc3RpY0xvY2tFeGNlcHRpb248L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLWVudGl0eS0xPSJwYXJ0MSIgZGF0YS1lbnRpdHktMj0icGFydDEiIGlkPSJtc2cxNCI+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjgwLjEyNDQiIHgyPSIxMjIuMTI0NCIgeTE9IjU3Ny41MjM0IiB5Mj0iNTc3LjUyMzQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTIyLjEyNDQiIHgyPSIxMjIuMTI0NCIgeTE9IjU3Ny41MjM0IiB5Mj0iNTkwLjUyMzQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iODEuMTI0NCIgeDI9IjEyMi4xMjQ0IiB5MT0iNTkwLjUyMzQiIHkyPSI1OTAuNTIzNCIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iOTEuMTI0NCw1ODYuNTIzNCw4MS4xMjQ0LDU5MC41MjM0LDkxLjEyNDQsNTk0LjUyMzQsODcuMTI0NCw1OTAuNTIzNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2OS4wMDAyIiB4PSI4Ny4xMjQ0IiB5PSI1NzIuNDU3NSI+JiMxMjUyNTsmIzEyNTQwOyYjMTI1MjM7JiMxMjQ5NjsmIzEyNDgzOyYjMTI0NjM7JiMxMjUzOTsmIzEyNTIyOyYjMTI0ODg7JiMxMjUyMTsmIzEyNDUyOyYjMjEwMjg7JiMyMzQ1MDs8L3RleHQ+PC9nPjw/cGxhbnR1bWwtc3JjIFhQRDFSekNtNUNWbC1ISEZGSExmZy0xUW1UMTI4YjdIaGJMUW42dWVENFFvSTlFR2s2WlNiWFhPWHVIS1FPOTk4MEk3cVc0Slo2YTMzUXNDMy1DYnpCUWxtQkV0VGtpZVM0WllGRl9WdC1felIzRkFOMDhMZ3ZRa3o3enJkdVp1VlZSa254Ml84X1dkbVJiOGpaR2ppNEQ2Y3BJbUZHT3ZMOGhhZy0wM21UVDR5WnE3VFlJcDlxS1ktUVdLb3VCWnVCTDh6V0psdTVZZmd3NTNHZWk0X2NIRWpoZXl4Q1ZKNFlub055YVRjemJ0eDhYMHBqM0xYQTVoNmd1RGl0RWRmYU11SXByN1ZyVzllZkFKUnlkdDFNcXlBd002TmVJd01KUWxEUTFHQUMyand3UGJHZ0xNbHJxb3UwZlNyR21UUFlTVG4tcVN4YzZENnFTM0JBcWg4eEJDM1M1dFhXUzM0Vnl5NmdvVU5HYXppQldZYjZkNEJnbHVkQVF2bFh6MHNkcnFJWVpVSkJTRUhCbWt1bHdlY1BFNllxMk0walR0MkZ3dFFLWFFuNkRIdGZURWlnYUpyUVlicWFCVGoxaHVRTEpYYzZONjd3VGxqcVZ6WjRzaER3UEhRbVU4YnpJUHBUZkhkWmVwTzJ4TXZYU0NxdlkxMW9JQ2dFekRtTllwUGltdHAzQ09abjQyOWk4dkgwZ2p4UkJwU09icVBOU0F6RXBMUmxSWUl6UmZmYV9WOEY1QlhfbFZfVzhPNm84azdlaV9kOV96bnBwalJNVkZyejd5dVpfQzBxUFJrOEVxTVZRUnp5b2I5aTYweHVxOEFlc3dBeFlQY3dlMlVNYTR0clNkNkdfQTF2N3FxYXVsX1ZuSTh2dVpkenkwPz48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h4 id="_15">一括処理時の楽観ロック戦略<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h4>
<details>
<summary>MrpService.java（楽観ロック対応の改善版）</summary>

<div class="highlight"><pre><span></span><code><span class="cm">/**</span>
<span class="cm"> * MRP の完全実行（楽観ロック対応）</span>
<span class="cm"> */</span>
<span class="nd">@Transactional</span>
<span class="kd">public</span><span class="w"> </span><span class="n">MrpExecutionResult</span><span class="w"> </span><span class="nf">executeMrpWithOptimisticLock</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">mpsId</span><span class="p">,</span><span class="w"> </span><span class="n">MpsRepository</span><span class="w"> </span><span class="n">mpsRepository</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="n">mps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mpsRepository</span><span class="p">.</span><span class="na">findById</span><span class="p">(</span><span class="n">mpsId</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">orElseThrow</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;MPS not found: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">mpsId</span><span class="p">));</span>

<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">warnings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">processedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">skippedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="n">orders</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orderRepository</span><span class="p">.</span><span class="na">findByMpsId</span><span class="p">(</span><span class="n">mpsId</span><span class="p">);</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">orders</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// 個別オーダの処理</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">requirements</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">explodeRequirements</span><span class="p">(</span><span class="n">order</span><span class="p">.</span><span class="na">getId</span><span class="p">());</span>

<span class="w">            </span><span class="c1">// ステータス更新（楽観ロック付き）</span>
<span class="w">            </span><span class="n">orderRepository</span><span class="p">.</span><span class="na">updateStatus</span><span class="p">(</span>
<span class="w">                    </span><span class="n">order</span><span class="p">.</span><span class="na">getId</span><span class="p">(),</span>
<span class="w">                    </span><span class="n">PlanStatus</span><span class="p">.</span><span class="na">EXPANDED</span><span class="p">,</span>
<span class="w">                    </span><span class="n">order</span><span class="p">.</span><span class="na">getVersion</span><span class="p">()</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">            </span><span class="n">processedCount</span><span class="o">++</span><span class="p">;</span>

<span class="w">            </span><span class="c1">// 子オーダの再帰処理</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="n">requirement</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">requirements</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">processChildOrder</span><span class="p">(</span><span class="n">requirement</span><span class="p">,</span><span class="w"> </span><span class="n">warnings</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">OptimisticLockException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// 楽観ロック競合時はスキップして続行</span>
<span class="w">            </span><span class="n">warnings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span>
<span class="w">                    </span><span class="s">&quot;オーダ %s は他のユーザーによって更新されたためスキップしました&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="n">order</span><span class="p">.</span><span class="na">getOrderNumber</span><span class="p">()</span>
<span class="w">            </span><span class="p">));</span>
<span class="w">            </span><span class="n">skippedCount</span><span class="o">++</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">MrpExecutionResult</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="na">processedCount</span><span class="p">(</span><span class="n">processedCount</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">skippedCount</span><span class="p">(</span><span class="n">skippedCount</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">warnings</span><span class="p">(</span><span class="n">warnings</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="p">}</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MrpExecutionResult</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">processedCount</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">skippedCount</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">warnings</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="_16">楽観ロックのベストプラクティス（生産計画向け）<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>ポイント</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>一括処理時の例外処理</strong></td>
<td>個別レコードの競合でバッチ全体を止めない</td>
</tr>
<tr>
<td><strong>リトライ戦略</strong></td>
<td>競合時は最新データを再取得して再試行</td>
</tr>
<tr>
<td><strong>警告ログ</strong></td>
<td>スキップしたレコードを明示的に記録</td>
</tr>
<tr>
<td><strong>ステータス遷移</strong></td>
<td>草案→確定→展開済の順序を厳守</td>
</tr>
<tr>
<td><strong>親子整合性</strong></td>
<td>親オーダ更新時に子オーダも整合性チェック</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="244">24.4 まとめ<a class="headerlink" href="#244" title="Permanent link">&para;</a></h2>
<h3 id="_17">学んだこと<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>計画系と実績系の分離</strong></li>
<li>計画データは再計算可能、実績データは不可逆</li>
<li>
<p>両者を明確に分離することで保守性が向上</p>
</li>
<li>
<p><strong>計画の階層構造</strong></p>
</li>
<li>長期計画から短期計画へ段階的に詳細化</li>
<li>
<p>MPS が MRP の入力となる</p>
</li>
<li>
<p><strong>MRP の基本処理</strong></p>
</li>
<li>BOM 展開による所要量計算</li>
<li>在庫・発注残・製造残からの引当</li>
<li>ロットサイズとリードタイムの考慮</li>
<li>
<p>不足分に対する新規オーダ生成</p>
</li>
<li>
<p><strong>日本語DB ↔ 英語Javaのマッピング</strong></p>
</li>
<li>MyBatis の resultMap を使用して日本語カラム名を英語プロパティにマッピング</li>
<li>TypeHandler を使用して日本語 ENUM 値を英語 Enum にマッピング</li>
</ol>
<h3 id="_18">設計のポイント<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>ポイント</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>オーダの親子関係</strong></td>
<td>製品オーダから部品オーダへの階層構造を管理</td>
</tr>
<tr>
<td><strong>所要-引当の関係</strong></td>
<td>多対多の関係を中間テーブルで管理</td>
</tr>
<tr>
<td><strong>ロットサイズ計算</strong></td>
<td>最小・刻み・最大の3パラメータで柔軟に対応</td>
</tr>
<tr>
<td><strong>リードタイム逆算</strong></td>
<td>納期から着手日を自動計算</td>
</tr>
</tbody>
</table>
<h3 id="_19">テーブル定義<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<h4 id="_20">基準生産計画テーブル<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>カラム名</th>
<th>データ型</th>
<th>NULL</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>ID</td>
<td>SERIAL</td>
<td>NO</td>
<td>主キー</td>
</tr>
<tr>
<td>MPS番号</td>
<td>VARCHAR(20)</td>
<td>NO</td>
<td>MPS番号（ユニーク）</td>
</tr>
<tr>
<td>計画日</td>
<td>DATE</td>
<td>NO</td>
<td>計画日</td>
</tr>
<tr>
<td>品目コード</td>
<td>VARCHAR(20)</td>
<td>NO</td>
<td>品目コード</td>
</tr>
<tr>
<td>計画数量</td>
<td>DECIMAL(15,2)</td>
<td>NO</td>
<td>計画数量</td>
</tr>
<tr>
<td>納期</td>
<td>DATE</td>
<td>NO</td>
<td>納期</td>
</tr>
<tr>
<td>ステータス</td>
<td>計画ステータス</td>
<td>NO</td>
<td>ステータス</td>
</tr>
<tr>
<td>場所コード</td>
<td>VARCHAR(20)</td>
<td>YES</td>
<td>場所コード</td>
</tr>
<tr>
<td>備考</td>
<td>TEXT</td>
<td>YES</td>
<td>備考</td>
</tr>
</tbody>
</table>
<h4 id="_21">オーダ情報テーブル<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>カラム名</th>
<th>データ型</th>
<th>NULL</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>ID</td>
<td>SERIAL</td>
<td>NO</td>
<td>主キー</td>
</tr>
<tr>
<td>オーダNO</td>
<td>VARCHAR(20)</td>
<td>NO</td>
<td>オーダ番号（ユニーク）</td>
</tr>
<tr>
<td>オーダ種別</td>
<td>オーダ種別</td>
<td>NO</td>
<td>オーダ種別</td>
</tr>
<tr>
<td>品目コード</td>
<td>VARCHAR(20)</td>
<td>NO</td>
<td>品目コード</td>
</tr>
<tr>
<td>着手予定日</td>
<td>DATE</td>
<td>NO</td>
<td>着手予定日</td>
</tr>
<tr>
<td>納期</td>
<td>DATE</td>
<td>NO</td>
<td>納期</td>
</tr>
<tr>
<td>有効期限</td>
<td>DATE</td>
<td>YES</td>
<td>有効期限</td>
</tr>
<tr>
<td>計画数量</td>
<td>DECIMAL(15,2)</td>
<td>NO</td>
<td>計画数量</td>
</tr>
<tr>
<td>場所コード</td>
<td>VARCHAR(20)</td>
<td>NO</td>
<td>場所コード</td>
</tr>
<tr>
<td>ステータス</td>
<td>計画ステータス</td>
<td>NO</td>
<td>ステータス</td>
</tr>
<tr>
<td>MPS_ID</td>
<td>INTEGER</td>
<td>YES</td>
<td>MPS ID（外部キー）</td>
</tr>
<tr>
<td>親オーダID</td>
<td>INTEGER</td>
<td>YES</td>
<td>親オーダID（自己参照）</td>
</tr>
</tbody>
</table>
<h4 id="_22">所要情報テーブル<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>カラム名</th>
<th>データ型</th>
<th>NULL</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>ID</td>
<td>SERIAL</td>
<td>NO</td>
<td>主キー</td>
</tr>
<tr>
<td>所要NO</td>
<td>VARCHAR(20)</td>
<td>NO</td>
<td>所要番号（ユニーク）</td>
</tr>
<tr>
<td>オーダID</td>
<td>INTEGER</td>
<td>NO</td>
<td>オーダID（外部キー）</td>
</tr>
<tr>
<td>品目コード</td>
<td>VARCHAR(20)</td>
<td>NO</td>
<td>品目コード</td>
</tr>
<tr>
<td>納期</td>
<td>DATE</td>
<td>NO</td>
<td>納期</td>
</tr>
<tr>
<td>必要数量</td>
<td>DECIMAL(15,2)</td>
<td>NO</td>
<td>必要数量</td>
</tr>
<tr>
<td>引当済数量</td>
<td>DECIMAL(15,2)</td>
<td>NO</td>
<td>引当済数量</td>
</tr>
<tr>
<td>不足数量</td>
<td>DECIMAL(15,2)</td>
<td>NO</td>
<td>不足数量</td>
</tr>
<tr>
<td>場所コード</td>
<td>VARCHAR(20)</td>
<td>NO</td>
<td>場所コード</td>
</tr>
</tbody>
</table>
<h4 id="_23">引当情報テーブル<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>カラム名</th>
<th>データ型</th>
<th>NULL</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>ID</td>
<td>SERIAL</td>
<td>NO</td>
<td>主キー</td>
</tr>
<tr>
<td>所要ID</td>
<td>INTEGER</td>
<td>NO</td>
<td>所要ID（外部キー）</td>
</tr>
<tr>
<td>引当区分</td>
<td>引当区分</td>
<td>NO</td>
<td>引当区分</td>
</tr>
<tr>
<td>オーダID</td>
<td>INTEGER</td>
<td>YES</td>
<td>オーダID（外部キー）</td>
</tr>
<tr>
<td>引当日</td>
<td>DATE</td>
<td>NO</td>
<td>引当日</td>
</tr>
<tr>
<td>引当数量</td>
<td>DECIMAL(15,2)</td>
<td>NO</td>
<td>引当数量</td>
</tr>
<tr>
<td>場所コード</td>
<td>VARCHAR(20)</td>
<td>NO</td>
<td>場所コード</td>
</tr>
</tbody>
</table>
<hr />
<p><a href="../chapter23/">← 第23章：マスタ情報の設計</a> | <a href="../chapter25/">第25章：購買管理の設計 →</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/k2works/practical-database-design" target="_blank" rel="noopener" title="GitHub Repository" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
      
        <script src="../../../docs/assets/js/extra.js"></script>
      
    
  </body>
</html>