
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="基幹業務システム（販売管理・財務会計・生産管理）のデータベース設計を体系的に解説">
      
      
        <meta name="author" content="k2works">
      
      
      
        <link rel="prev" href="../chapter26/">
      
      
        <link rel="next" href="../chapter28/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>第27章 工程管理の設計 - 実践データベース設計：基幹業務システム編</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../docs/mkdocs/assets/css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#27" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="実践データベース設計：基幹業務システム編" class="md-header__button md-logo" aria-label="実践データベース設計：基幹業務システム編" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            実践データベース設計：基幹業務システム編
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              第27章 工程管理の設計
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/k2works/practical-database-design" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    practical-database-design
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
  実践データベース設計

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="実践データベース設計：基幹業務システム編" class="md-nav__button md-logo" aria-label="実践データベース設計：基幹業務システム編" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    実践データベース設計：基幹業務システム編
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/k2works/practical-database-design" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    practical-database-design
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    実践データベース設計
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    実践データベース設計
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../techstack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    技術スタック
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    アウトライン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    執筆ワークフロー
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第1部 基幹業務システムの全体像
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    第1部 基幹業務システムの全体像
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第1章 基幹業務システムとは
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第2章 基幹業務システムの業務領域
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第3章 業務フローの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6" >
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第2部 販売管理システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    第2部 販売管理システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第4章 販売管理システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter05/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第5章 マスタ情報の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter06/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第6章 受注・出荷・売上の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter07/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第7章 債権管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter08/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第8章 調達管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter09/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第9章 在庫管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第10章 債務管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第11章 共通処理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第12章 販売管理データ設計（B社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第13章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7" >
        
          
          <label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第3部 財務会計システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    第3部 財務会計システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章 財務会計システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章 勘定科目の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章 仕訳の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章 勘定科目残高の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter19/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章 赤黒とログの設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter20/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章 財務会計データ設計（D社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter21/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_8" checked>
        
          
          <label class="md-nav__link" for="__nav_1_8" id="__nav_1_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第4部 生産管理システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    第4部 生産管理システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter22/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第22章 生産管理システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter23/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第23章 マスタ情報の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter24/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第24章 生産計画の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter25/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第25章 購買管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter26/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第26章 外注委託管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    第27章 工程管理の設計
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    第27章 工程管理の設計
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        概要
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#271-db" class="md-nav__link">
    <span class="md-ellipsis">
      
        27.1 製造指示の DB 設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="27.1 製造指示の DB 設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        工程管理業務の流れ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        工程マスタ・工程表のスキーマ設計
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        作業指示のスキーマ設計
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#java" class="md-nav__link">
    <span class="md-ellipsis">
      
        Java エンティティの定義
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Java エンティティの定義">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        工程マスタ・工程表エンティティ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enum" class="md-nav__link">
    <span class="md-ellipsis">
      
        作業指示ステータス Enum
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        作業指示エンティティ
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typehandler" class="md-nav__link">
    <span class="md-ellipsis">
      
        TypeHandler の実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mybatis-mapper" class="md-nav__link">
    <span class="md-ellipsis">
      
        MyBatis Mapper
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mapper インターフェース
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        作業指示サービスの実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tdd" class="md-nav__link">
    <span class="md-ellipsis">
      
        TDD: 作業指示のテスト
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#272-db" class="md-nav__link">
    <span class="md-ellipsis">
      
        27.2 製造実績の DB 設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="27.2 製造実績の DB 設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        完成実績データの構造
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#java_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Java エンティティの定義（完成実績）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mybatis-mapper_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        MyBatis Mapper（完成実績）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        完成実績サービスの実装
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
        工数実績データの構造
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#java_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Java エンティティの定義（工数実績）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mybatis-mapper_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        MyBatis Mapper（工数実績）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
        工数実績サービスの実装
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#273" class="md-nav__link">
    <span class="md-ellipsis">
      
        27.3 進捗管理
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="27.3 進捗管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
        工程別進捗の管理
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dto" class="md-nav__link">
    <span class="md-ellipsis">
      
        進捗状況DTO
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      
        進捗管理サービス
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      
        遅延アラートの設計
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      
        進捗状況の可視化
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      
        まとめ
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="まとめ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      
        学んだこと
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#27_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        テーブル一覧（第27章）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enum-27" class="md-nav__link">
    <span class="md-ellipsis">
      
        ENUM 一覧（第27章）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      
        命名規則のパターン
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter28/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第28章 在庫管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第29章 品質管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter30/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第30章 製造原価管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter31/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第31章 生産管理データ設計（E社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter32/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第32章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_9" >
        
          
          <label class="md-nav__link" for="__nav_1_9" id="__nav_1_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第5部 エンタープライズインテグレーション
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    第5部 エンタープライズインテグレーション
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter33.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第33章 システム統合の概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter34.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第34章 メッセージングパターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter35.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第35章 システム間連携パターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter36.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第36章 マスタデータ管理（MDM）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter37.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第37章 イベント駆動アーキテクチャ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter38.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第38章 API設計とサービス連携
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter39.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第39章 データ連携の実装パターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_10" >
        
          
          <label class="md-nav__link" for="__nav_1_10" id="__nav_1_10_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 販売管理システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 販売管理システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_11" >
        
          
          <label class="md-nav__link" for="__nav_1_11" id="__nav_1_11_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 財務会計システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 財務会計システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_12" >
        
          
          <label class="md-nav__link" for="__nav_1_12" id="__nav_1_12_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 生産管理システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 生産管理システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_13" >
        
          
          <label class="md-nav__link" for="__nav_1_13" id="__nav_1_13_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 財務会計システムORM実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 財務会計システムORM実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter14-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章 財務会計システムの全体像【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter15-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章 勘定科目の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter16-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章 仕訳の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter17-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter18-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章 勘定科目残高の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter19-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章 赤黒とログの設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter20-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章 財務会計データ設計（D社事例）【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter21-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章 APIサービスの実装【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_14" >
        
          
          <label class="md-nav__link" for="__nav_1_14" id="__nav_1_14_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    付録
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    付録
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/er-diagrams.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    A 全体ER図
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/table-definitions.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    B テーブル定義一覧
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/glossary.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C 用語集
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_15" >
        
          
          <label class="md-nav__link" for="__nav_1_15" id="__nav_1_15_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    データベース
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    データベース
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../assets/schemaspy-output/sms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SchemaSpy ER図（SMS）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="27">第27章：工程管理の設計<a class="headerlink" href="#27" title="Permanent link">&para;</a></h1>
<h2 id="_1">概要<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>本章では、生産管理システムにおける工程管理の設計を解説します。製造オーダから作業指示を生成し、完成実績・工数実績を記録する仕組みを構築します。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjY5NXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6ODM4cHg7aGVpZ2h0OjY5NXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDgzOCA2OTUiIHdpZHRoPSI4MzhweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjQwMzc7JiMzMTI0MzsmIzMxNjQ5OyYjMjk3MDI7JiMxMjM5ODsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTsmIzI3MDgzOyYjMzY4OTY7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM5Ljk5OTQiIHg9IjM0Mi4wMDAzIiB5PSIyMi45OTUxIj4mIzI0MDM3OyYjMzEyNDM7JiMzMTY0OTsmIzI5NzAyOyYjMTIzOTg7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7JiMyNzA4MzsmIzM2ODk2OzwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgPz8/Py0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLWVudGl0eT0iLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMyIgZGF0YS11aWQ9ImVudDAwMDIiIGlkPSJjbHVzdGVyXy4uLi4iPjxwYXRoIGQ9Ik0xNTkuNSwxOTEuMjk2OSBMMjE2LjQ5OTgsMTkxLjI5NjkgQTMuNzUsMy43NSAwIDAgMSAyMTguOTk5OCwxOTMuNzk2OSBMMjI1Ljk5OTgsMjEzLjU5MzggTDM0NC41LDIxMy41OTM4IEEyLjUsMi41IDAgMCAxIDM0NywyMTYuMDkzOCBMMzQ3LDQxMi43OTY5IEEyLjUsMi41IDAgMCAxIDM0NC41LDQxNS4yOTY5IEwxNTkuNSw0MTUuMjk2OSBBMi41LDIuNSAwIDAgMSAxNTcsNDEyLjc5NjkgTDE1NywxOTMuNzk2OSBBMi41LDIuNSAwIDAgMSAxNTkuNSwxOTEuMjk2OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMTU3IiB4Mj0iMjI1Ljk5OTgiIHkxPSIyMTMuNTkzOCIgeTI9IjIxMy41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjE2MSIgeT0iMjA2LjI5MiI+JiMzNTA2OTsmIzM2ODk2OyYjMjUzNTE7JiMzMTAzNDs8L3RleHQ+PC9nPjwhLS1jbHVzdGVyID8/Pz8tLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1lbnRpdHk9Ii4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjgiIGRhdGEtdWlkPSJlbnQwMDA1IiBpZD0iY2x1c3Rlcl8uLi4uIj48cGF0aCBkPSJNOC41LDQ2NC4yOTY5IEw2NS40OTk4LDQ2NC4yOTY5IEEzLjc1LDMuNzUgMCAwIDEgNjcuOTk5OCw0NjYuNzk2OSBMNzQuOTk5OCw0ODYuNTkzOCBMMzMwLjUsNDg2LjU5MzggQTIuNSwyLjUgMCAwIDEgMzMzLDQ4OS4wOTM4IEwzMzMsNjg1Ljc5NjkgQTIuNSwyLjUgMCAwIDEgMzMwLjUsNjg4LjI5NjkgTDguNSw2ODguMjk2OSBBMi41LDIuNSAwIDAgMSA2LDY4NS43OTY5IEw2LDQ2Ni43OTY5IEEyLjUsMi41IDAgMCAxIDguNSw0NjQuMjk2OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNiIgeDI9Ijc0Ljk5OTgiIHkxPSI0ODYuNTkzOCIgeTI9IjQ4Ni41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjEwIiB5PSI0NzkuMjkyIj4mIzM1MDY5OyYjMzY4OTY7JiMyMzQ1NTsmIzMyMzE4OzwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgPz8/LS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtZW50aXR5PSIuLi4iIGRhdGEtc291cmNlLWxpbmU9IjE0IiBkYXRhLXVpZD0iZW50MDAwOSIgaWQ9ImNsdXN0ZXJfLi4uIj48cGF0aCBkPSJNMjguNSw0My4yOTY5IEw3MS40OTk4LDQzLjI5NjkgQTMuNzUsMy43NSAwIDAgMSA3My45OTk4LDQ1Ljc5NjkgTDgwLjk5OTgsNjUuNTkzOCBMODI4LjUsNjUuNTkzOCBBMi41LDIuNSAwIDAgMSA4MzEsNjguMDkzOCBMODMxLDEzOS43OTY5IEEyLjUsMi41IDAgMCAxIDgyOC41LDE0Mi4yOTY5IEwyOC41LDE0Mi4yOTY5IEEyLjUsMi41IDAgMCAxIDI2LDEzOS43OTY5IEwyNiw0NS43OTY5IEEyLjUsMi41IDAgMCAxIDI4LjUsNDMuMjk2OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMjYiIHgyPSI4MC45OTk4IiB5MT0iNjUuNTkzOCIgeTI9IjY1LjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iMzAiIHk9IjU4LjI5MiI+JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7PC90ZXh0PjwvZz48IS0tY2xhc3Mgd29ya19vcmRlci0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJ3b3JrX29yZGVyIiBkYXRhLXNvdXJjZS1saW5lPSI0IiBkYXRhLXVpZD0iZW50MDAwMyIgaWQ9ImVudGl0eV93b3JrX29yZGVyIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjkuOTk5NiIgeD0iMTczIiB5PSIyMjYuMjk2OSIvPjxlbGxpcHNlIGN4PSIxODgiIGN5PSIyNDIuMjk2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMTkyLjEwOTQsMjQ4LjI5NjkgTDE4NC4zOTA2LDI0OC4yOTY5IEwxODQuMzkwNiwyMzUuOTA2MyBMMTkyLjEwOTQsMjM1LjkwNjMgTDE5Mi4xMDk0LDIzOC4wNjI1IEwxODYuODQzOCwyMzguMDYyNSBMMTg2Ljg0MzgsMjQwLjczNDQgTDE5MS42MDk0LDI0MC43MzQ0IEwxOTEuNjA5NCwyNDIuODkwNiBMMTg2Ljg0MzgsMjQyLjg5MDYgTDE4Ni44NDM4LDI0Ni4xNDA2IEwxOTIuMTA5NCwyNDYuMTQwNiBMMTkyLjEwOTQsMjQ4LjI5NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny45OTk2IiB4PSIyMDIiIHk9IjI0Ny4xNDM2Ij4mIzIwMzE2OyYjMjY5ODk7JiMyNTM1MTsmIzMxMDM0OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxNzQiIHgyPSIzMDEuOTk5NiIgeTE9IjI1OC4yOTY5IiB5Mj0iMjU4LjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxNzQiIHgyPSIzMDEuOTk5NiIgeTE9IjI2Ni4yOTY5IiB5Mj0iMjY2LjI5NjkiLz48L2c+PCEtLWNsYXNzIHdvcmtfb3JkZXJfZGV0YWlsLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9Indvcmtfb3JkZXJfZGV0YWlsIiBkYXRhLXNvdXJjZS1saW5lPSI1IiBkYXRhLXVpZD0iZW50MDAwNCIgaWQ9ImVudGl0eV93b3JrX29yZGVyX2RldGFpbCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTU3Ljk5OTUiIHg9IjE3MyIgeT0iMzUxLjI5NjkiLz48ZWxsaXBzZSBjeD0iMTg4IiBjeT0iMzY3LjI5NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTE5Mi4xMDk0LDM3My4yOTY5IEwxODQuMzkwNiwzNzMuMjk2OSBMMTg0LjM5MDYsMzYwLjkwNjMgTDE5Mi4xMDk0LDM2MC45MDYzIEwxOTIuMTA5NCwzNjMuMDYyNSBMMTg2Ljg0MzgsMzYzLjA2MjUgTDE4Ni44NDM4LDM2NS43MzQ0IEwxOTEuNjA5NCwzNjUuNzM0NCBMMTkxLjYwOTQsMzY3Ljg5MDYgTDE4Ni44NDM4LDM2Ny44OTA2IEwxODYuODQzOCwzNzEuMTQwNiBMMTkyLjEwOTQsMzcxLjE0MDYgTDE5Mi4xMDk0LDM3My4yOTY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI1Ljk5OTUiIHg9IjIwMiIgeT0iMzcyLjE0MzYiPiYjMjAzMTY7JiMyNjk4OTsmIzI1MzUxOyYjMzEwMzQ7JiMyNjEyNjsmIzMyMDQ4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxNzQiIHgyPSIzMjkuOTk5NSIgeTE9IjM4My4yOTY5IiB5Mj0iMzgzLjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxNzQiIHgyPSIzMjkuOTk5NSIgeTE9IjM5MS4yOTY5IiB5Mj0iMzkxLjI5NjkiLz48L2c+PCEtLWNsYXNzIGNvbXBsZXRpb25fcmVzdWx0LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9ImNvbXBsZXRpb25fcmVzdWx0IiBkYXRhLXNvdXJjZS1saW5lPSI5IiBkYXRhLXVpZD0iZW50MDAwNiIgaWQ9ImVudGl0eV9jb21wbGV0aW9uX3Jlc3VsdCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTI5Ljk5OTYiIHg9IjIyIiB5PSI0OTkuMjk2OSIvPjxlbGxpcHNlIGN4PSIzNyIgY3k9IjUxNS4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik00MS4xMDk0LDUyMS4yOTY5IEwzMy4zOTA2LDUyMS4yOTY5IEwzMy4zOTA2LDUwOC45MDYzIEw0MS4xMDk0LDUwOC45MDYzIEw0MS4xMDk0LDUxMS4wNjI1IEwzNS44NDM4LDUxMS4wNjI1IEwzNS44NDM4LDUxMy43MzQ0IEw0MC42MDk0LDUxMy43MzQ0IEw0MC42MDk0LDUxNS44OTA2IEwzNS44NDM4LDUxNS44OTA2IEwzNS44NDM4LDUxOS4xNDA2IEw0MS4xMDk0LDUxOS4xNDA2IEw0MS4xMDk0LDUyMS4yOTY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iNTEiIHk9IjUyMC4xNDM2Ij4mIzIzNDM2OyYjMjUxMDQ7JiMyMzQ1NTsmIzMyMzE4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyMyIgeDI9IjE1MC45OTk2IiB5MT0iNTMxLjI5NjkiIHkyPSI1MzEuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjIzIiB4Mj0iMTUwLjk5OTYiIHkxPSI1MzkuMjk2OSIgeTI9IjUzOS4yOTY5Ii8+PC9nPjwhLS1jbGFzcyBpbnNwZWN0aW9uX3Jlc3VsdC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJpbnNwZWN0aW9uX3Jlc3VsdCIgZGF0YS1zb3VyY2UtbGluZT0iMTAiIGRhdGEtdWlkPSJlbnQwMDA3IiBpZD0iZW50aXR5X2luc3BlY3Rpb25fcmVzdWx0Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNTcuOTk5NSIgeD0iOTAiIHk9IjYyNC4yOTY5Ii8+PGVsbGlwc2UgY3g9IjEwNSIgY3k9IjY0MC4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0xMDkuMTA5NCw2NDYuMjk2OSBMMTAxLjM5MDYsNjQ2LjI5NjkgTDEwMS4zOTA2LDYzMy45MDYzIEwxMDkuMTA5NCw2MzMuOTA2MyBMMTA5LjEwOTQsNjM2LjA2MjUgTDEwMy44NDM4LDYzNi4wNjI1IEwxMDMuODQzOCw2MzguNzM0NCBMMTA4LjYwOTQsNjM4LjczNDQgTDEwOC42MDk0LDY0MC44OTA2IEwxMDMuODQzOCw2NDAuODkwNiBMMTAzLjg0MzgsNjQ0LjE0MDYgTDEwOS4xMDk0LDY0NC4xNDA2IEwxMDkuMTA5NCw2NDYuMjk2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNS45OTk1IiB4PSIxMTkiIHk9IjY0NS4xNDM2Ij4mIzIzNDM2OyYjMjUxMDQ7JiMyNjkwODsmIzI2NjE5OyYjMzIwODA7JiMyNjUyNDsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iOTEiIHgyPSIyNDYuOTk5NSIgeTE9IjY1Ni4yOTY5IiB5Mj0iNjU2LjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI5MSIgeDI9IjI0Ni45OTk1IiB5MT0iNjY0LjI5NjkiIHkyPSI2NjQuMjk2OSIvPjwvZz48IS0tY2xhc3MgbGFib3JfaG91cnMtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0ibGFib3JfaG91cnMiIGRhdGEtc291cmNlLWxpbmU9IjExIiBkYXRhLXVpZD0iZW50MDAwOCIgaWQ9ImVudGl0eV9sYWJvcl9ob3VycyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTI5Ljk5OTYiIHg9IjE4NyIgeT0iNDk5LjI5NjkiLz48ZWxsaXBzZSBjeD0iMjAyIiBjeT0iNTE1LjI5NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTIwNi4xMDk0LDUyMS4yOTY5IEwxOTguMzkwNiw1MjEuMjk2OSBMMTk4LjM5MDYsNTA4LjkwNjMgTDIwNi4xMDk0LDUwOC45MDYzIEwyMDYuMTA5NCw1MTEuMDYyNSBMMjAwLjg0MzgsNTExLjA2MjUgTDIwMC44NDM4LDUxMy43MzQ0IEwyMDUuNjA5NCw1MTMuNzM0NCBMMjA1LjYwOTQsNTE1Ljg5MDYgTDIwMC44NDM4LDUxNS44OTA2IEwyMDAuODQzOCw1MTkuMTQwNiBMMjA2LjEwOTQsNTE5LjE0MDYgTDIwNi4xMDk0LDUyMS4yOTY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMjE2IiB5PSI1MjAuMTQzNiI+JiMyNDAzNzsmIzI1OTY4OyYjMjM0NTU7JiMzMjMxODsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTg4IiB4Mj0iMzE1Ljk5OTYiIHkxPSI1MzEuMjk2OSIgeTI9IjUzMS4yOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTg4IiB4Mj0iMzE1Ljk5OTYiIHkxPSI1MzkuMjk2OSIgeTI9IjUzOS4yOTY5Ii8+PC9nPjwhLS1jbGFzcyBvcmRlci0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJvcmRlciIgZGF0YS1zb3VyY2UtbGluZT0iMTUiIGRhdGEtdWlkPSJlbnQwMDEwIiBpZD0iZW50aXR5X29yZGVyIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDEuOTk5NyIgeD0iNDIiIHk9Ijc4LjI5NjkiLz48ZWxsaXBzZSBjeD0iNTciIGN5PSI5NC4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik02MS4xMDk0LDEwMC4yOTY5IEw1My4zOTA2LDEwMC4yOTY5IEw1My4zOTA2LDg3LjkwNjMgTDYxLjEwOTQsODcuOTA2MyBMNjEuMTA5NCw5MC4wNjI1IEw1NS44NDM4LDkwLjA2MjUgTDU1Ljg0MzgsOTIuNzM0NCBMNjAuNjA5NCw5Mi43MzQ0IEw2MC42MDk0LDk0Ljg5MDYgTDU1Ljg0MzgsOTQuODkwNiBMNTUuODQzOCw5OC4xNDA2IEw2MS4xMDk0LDk4LjE0MDYgTDYxLjEwOTQsMTAwLjI5NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSI3MSIgeT0iOTkuMTQzNiI+JiMxMjQ1ODsmIzEyNTQwOyYjMTI0ODA7JiMyNDc3MzsmIzIyNTc3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI0MyIgeDI9IjE0Mi45OTk3IiB5MT0iMTEwLjI5NjkiIHkyPSIxMTAuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjQzIiB4Mj0iMTQyLjk5OTciIHkxPSIxMTguMjk2OSIgeTI9IjExOC4yOTY5Ii8+PC9nPjwhLS1jbGFzcyBwcm9jZXNzLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9InByb2Nlc3MiIGRhdGEtc291cmNlLWxpbmU9IjE2IiBkYXRhLXVpZD0iZW50MDAxMSIgaWQ9ImVudGl0eV9wcm9jZXNzIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDEuOTk5NyIgeD0iMzE2IiB5PSI3OC4yOTY5Ii8+PGVsbGlwc2UgY3g9IjMzMSIgY3k9Ijk0LjI5NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTMzNS4xMDk0LDEwMC4yOTY5IEwzMjcuMzkwNiwxMDAuMjk2OSBMMzI3LjM5MDYsODcuOTA2MyBMMzM1LjEwOTQsODcuOTA2MyBMMzM1LjEwOTQsOTAuMDYyNSBMMzI5Ljg0MzgsOTAuMDYyNSBMMzI5Ljg0MzgsOTIuNzM0NCBMMzM0LjYwOTQsOTIuNzM0NCBMMzM0LjYwOTQsOTQuODkwNiBMMzI5Ljg0MzgsOTQuODkwNiBMMzI5Ljg0MzgsOTguMTQwNiBMMzM1LjEwOTQsOTguMTQwNiBMMzM1LjEwOTQsMTAwLjI5NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIzNDUiIHk9Ijk5LjE0MzYiPiYjMjQwMzc7JiMzMTI0MzsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMzE3IiB4Mj0iNDE2Ljk5OTciIHkxPSIxMTAuMjk2OSIgeTI9IjExMC4yOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMzE3IiB4Mj0iNDE2Ljk5OTciIHkxPSIxMTguMjk2OSIgeTI9IjExOC4yOTY5Ii8+PC9nPjwhLS1jbGFzcyByb3V0aW5nLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9InJvdXRpbmciIGRhdGEtc291cmNlLWxpbmU9IjE3IiBkYXRhLXVpZD0iZW50MDAxMiIgaWQ9ImVudGl0eV9yb3V0aW5nIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI3My45OTk4IiB4PSI0NTMiIHk9Ijc4LjI5NjkiLz48ZWxsaXBzZSBjeD0iNDY4IiBjeT0iOTQuMjk2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNNDcyLjEwOTQsMTAwLjI5NjkgTDQ2NC4zOTA2LDEwMC4yOTY5IEw0NjQuMzkwNiw4Ny45MDYzIEw0NzIuMTA5NCw4Ny45MDYzIEw0NzIuMTA5NCw5MC4wNjI1IEw0NjYuODQzOCw5MC4wNjI1IEw0NjYuODQzOCw5Mi43MzQ0IEw0NzEuNjA5NCw5Mi43MzQ0IEw0NzEuNjA5NCw5NC44OTA2IEw0NjYuODQzOCw5NC44OTA2IEw0NjYuODQzOCw5OC4xNDA2IEw0NzIuMTA5NCw5OC4xNDA2IEw0NzIuMTA5NCwxMDAuMjk2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjk5OTgiIHg9IjQ4MiIgeT0iOTkuMTQzNiI+JiMyNDAzNzsmIzMxMjQzOyYjMzQ5MjA7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjQ1NCIgeDI9IjUyNS45OTk4IiB5MT0iMTEwLjI5NjkiIHkyPSIxMTAuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjQ1NCIgeDI9IjUyNS45OTk4IiB5MT0iMTE4LjI5NjkiIHkyPSIxMTguMjk2OSIvPjwvZz48IS0tY2xhc3MgaXRlbS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJpdGVtIiBkYXRhLXNvdXJjZS1saW5lPSIxOCIgZGF0YS11aWQ9ImVudDAwMTMiIGlkPSJlbnRpdHlfaXRlbSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTAxLjk5OTciIHg9IjE3OSIgeT0iNzguMjk2OSIvPjxlbGxpcHNlIGN4PSIxOTQiIGN5PSI5NC4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0xOTguMTA5NCwxMDAuMjk2OSBMMTkwLjM5MDYsMTAwLjI5NjkgTDE5MC4zOTA2LDg3LjkwNjMgTDE5OC4xMDk0LDg3LjkwNjMgTDE5OC4xMDk0LDkwLjA2MjUgTDE5Mi44NDM4LDkwLjA2MjUgTDE5Mi44NDM4LDkyLjczNDQgTDE5Ny42MDk0LDkyLjczNDQgTDE5Ny42MDk0LDk0Ljg5MDYgTDE5Mi44NDM4LDk0Ljg5MDYgTDE5Mi44NDM4LDk4LjE0MDYgTDE5OC4xMDk0LDk4LjE0MDYgTDE5OC4xMDk0LDEwMC4yOTY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMjA4IiB5PSI5OS4xNDM2Ij4mIzIxNjk3OyYjMzA0NDY7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjE4MCIgeDI9IjI3OS45OTk3IiB5MT0iMTEwLjI5NjkiIHkyPSIxMTAuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjE4MCIgeDI9IjI3OS45OTk3IiB5MT0iMTE4LjI5NjkiIHkyPSIxMTguMjk2OSIvPjwvZz48IS0tY2xhc3MgZGVmZWN0LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9ImRlZmVjdCIgZGF0YS1zb3VyY2UtbGluZT0iMTkiIGRhdGEtdWlkPSJlbnQwMDE0IiBpZD0iZW50aXR5X2RlZmVjdCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTAxLjk5OTciIHg9IjcxMyIgeT0iNzguMjk2OSIvPjxlbGxpcHNlIGN4PSI3MjgiIGN5PSI5NC4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik03MzIuMTA5NCwxMDAuMjk2OSBMNzI0LjM5MDYsMTAwLjI5NjkgTDcyNC4zOTA2LDg3LjkwNjMgTDczMi4xMDk0LDg3LjkwNjMgTDczMi4xMDk0LDkwLjA2MjUgTDcyNi44NDM4LDkwLjA2MjUgTDcyNi44NDM4LDkyLjczNDQgTDczMS42MDk0LDkyLjczNDQgTDczMS42MDk0LDk0Ljg5MDYgTDcyNi44NDM4LDk0Ljg5MDYgTDcyNi44NDM4LDk4LjE0MDYgTDczMi4xMDk0LDk4LjE0MDYgTDczMi4xMDk0LDEwMC4yOTY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iNzQyIiB5PSI5OS4xNDM2Ij4mIzI3NDI0OyYjMjg4NTc7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjcxNCIgeDI9IjgxMy45OTk3IiB5MT0iMTEwLjI5NjkiIHkyPSIxMTAuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjcxNCIgeDI9IjgxMy45OTk3IiB5MT0iMTE4LjI5NjkiIHkyPSIxMTguMjk2OSIvPjwvZz48IS0tY2xhc3MgZW1wbG95ZWUtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iZW1wbG95ZWUiIGRhdGEtc291cmNlLWxpbmU9IjIwIiBkYXRhLXVpZD0iZW50MDAxNSIgaWQ9ImVudGl0eV9lbXBsb3llZSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTE1Ljk5OTYiIHg9IjU2MiIgeT0iNzguMjk2OSIvPjxlbGxpcHNlIGN4PSI1NzciIGN5PSI5NC4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik01ODEuMTA5NCwxMDAuMjk2OSBMNTczLjM5MDYsMTAwLjI5NjkgTDU3My4zOTA2LDg3LjkwNjMgTDU4MS4xMDk0LDg3LjkwNjMgTDU4MS4xMDk0LDkwLjA2MjUgTDU3NS44NDM4LDkwLjA2MjUgTDU3NS44NDM4LDkyLjczNDQgTDU4MC42MDk0LDkyLjczNDQgTDU4MC42MDk0LDk0Ljg5MDYgTDU3NS44NDM4LDk0Ljg5MDYgTDU3NS44NDM4LDk4LjE0MDYgTDU4MS4xMDk0LDk4LjE0MDYgTDU4MS4xMDk0LDEwMC4yOTY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iNTkxIiB5PSI5OS4xNDM2Ij4mIzI1Mjg1OyYjMjQ0MDM7JiMzMjc3MzsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNTYzIiB4Mj0iNjc2Ljk5OTYiIHkxPSIxMTAuMjk2OSIgeTI9IjExMC4yOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNTYzIiB4Mj0iNjc2Ljk5OTYiIHkxPSIxMTguMjk2OSIgeTI9IjExOC4yOTY5Ii8+PC9nPjwhLS1saW5rIG9yZGVyIHRvIHdvcmtfb3JkZXItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0ib3JkZXIiIGRhdGEtZW50aXR5LTI9Indvcmtfb3JkZXIiIGRhdGEtc291cmNlLWxpbmU9IjIzIiBkYXRhLXVpZD0ibG5rMTYiIGlkPSJsaW5rX29yZGVyX3dvcmtfb3JkZXIiPjxwYXRoIGNvZGVMaW5lPSIyMyIgZD0iTTEyMS45MzgxLDEzMi40MzI1IEMxNDguOTk4MSwxNTkuNjcyNSAxNzUuMDQ2NywxODUuOTA0NSAyMDIuMDc2NywyMTMuMTI0NSIgZmlsbD0ibm9uZSIgaWQ9Im9yZGVyLXdvcmtfb3JkZXIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTE2LjI4MTIiIHgyPSIxMjEuOTU2OCIgeTE9IjEzMi40MTM3IiB5Mj0iMTI2Ljc3NTYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTE4LjM5NTUiIHgyPSIxMjQuMDcxMSIgeTE9IjEzNC41NDIiIHkyPSIxMjguOTA0Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEyMS45MzgxIiB4Mj0iMTE2LjMiIHkxPSIxMzIuNDMyNSIgeTI9IjEyNi43NTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIwOS4xMjMiIHgyPSIyMTkuMDE3NSIgeTE9IjIyMC4yMjAyIiB5Mj0iMjIxLjY2OTEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjA5LjEyMyIgeDI9IjIxMC41MDI1IiB5MT0iMjIwLjIyMDIiIHkyPSIyMzAuMTI0NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMDkuMTIzIiB4Mj0iMjE0Ljc2IiB5MT0iMjIwLjIyMDIiIHkyPSIyMjUuODk2OSIvPjxlbGxpcHNlIGN4PSIyMDQuODk1MiIgY3k9IjIxNS45NjI4IiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNiIgeD0iMTYyLjE1IiB5PSIxNzEuMzYzOCI+JiMyMzYzNzsmIzM4MjgzOzwvdGV4dD48L2c+PCEtLWxpbmsgd29ya19vcmRlciB0byB3b3JrX29yZGVyX2RldGFpbC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJ3b3JrX29yZGVyIiBkYXRhLWVudGl0eS0yPSJ3b3JrX29yZGVyX2RldGFpbCIgZGF0YS1zb3VyY2UtbGluZT0iMjQiIGRhdGEtdWlkPSJsbmsxNyIgaWQ9Imxpbmtfd29ya19vcmRlcl93b3JrX29yZGVyX2RldGFpbCI+PHBhdGggY29kZUxpbmU9IjI0IiBkPSJNMjQxLjU3NDIsMjgyLjY2NTYgQzI0NC4wNjQyLDMwNC41NTU2IDI0NS45NTgyLDMyMS4xNDc5IDI0OC40MzgyLDM0My4wMDc5IiBmaWxsPSJub25lIiBpZD0id29ya19vcmRlci13b3JrX29yZGVyX2RldGFpbCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMzcuMTQ3NyIgeDI9IjI0NS4wOTY1IiB5MT0iMjc5LjE0MzMiIHkyPSIyNzguMjM5MiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMzcuNDg2OCIgeDI9IjI0NS40MzU1IiB5MT0iMjgyLjEyNDEiIHkyPSIyODEuMjE5OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNDEuNTc0MiIgeDI9IjI0MC42NyIgeTE9IjI4Mi42NjU2IiB5Mj0iMjc0LjcxNjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjQ4LjQzODIiIHgyPSIyNTUuMzAxOCIgeTE9IjM0My4wMDc5IiB5Mj0iMzUwLjI4MDUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjQ4LjQzODIiIHgyPSIyNDMuMzc4MiIgeTE9IjM0My4wMDc5IiB5Mj0iMzUxLjYzMzIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjQ4LjQzODIiIHgyPSIyNDkuMzQiIHkxPSIzNDMuMDA3OSIgeTI9IjM1MC45NTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI1Mi4xODcyIiB4Mj0iMjQ0LjIzODIiIHkxPSIzNDAuNTY5NyIgeTI9IjM0MS40NzE1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuMDI3OCIgeD0iMjQ2Ljg0IiB5PSIzMTcuMzYzOCI+Y29udGFpbnM8L3RleHQ+PC9nPjwhLS1saW5rIHJvdXRpbmcgdG8gd29ya19vcmRlcl9kZXRhaWwtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0icm91dGluZyIgZGF0YS1lbnRpdHktMj0id29ya19vcmRlcl9kZXRhaWwiIGRhdGEtc291cmNlLWxpbmU9IjI1IiBkYXRhLXVpZD0ibG5rMTgiIGlkPSJsaW5rX3JvdXRpbmdfd29ya19vcmRlcl9kZXRhaWwiPjxwYXRoIGNvZGVMaW5lPSIyNSIgZD0iTTQ3Ni4zODIzLDEzMy44Nzc0IEM0NjAuNjIyMywxNjguMjA3NCA0MzEuNTQsMjI2LjIzNjkgMzkzLDI3NC4yOTY5IEMzNzMuNTEsMjk4LjU5NjkgMzY2LjA2LDMwMi43OTY5IDM0MSwzMjEuMjk2OSBDMzI2LjY4LDMzMS44NzY5IDMyNS42Nzg2LDMzMy4xNDU0IDMxMC43NTg2LDM0MS44MjU0IiBmaWxsPSJub25lIiBpZD0icm91dGluZy13b3JrX29yZGVyX2RldGFpbCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI0NzQuNDE1OSIgeDI9IjQ4MS42ODY0IiB5MT0iMTI4LjU3MzMiIHkyPSIxMzEuOTExIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQ3My4xNjQzIiB4Mj0iNDgwLjQzNDgiIHkxPSIxMzEuMjk5NyIgeTI9IjEzNC42Mzc0Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQ3Ni4zODIzIiB4Mj0iNDc5LjcyIiB5MT0iMTMzLjg3NzQiIHkyPSIxMjYuNjA2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMDIuMTE0OSIgeDI9IjI5OC4yMTcyIiB5MT0iMzQ2Ljg1NCIgeTI9IjM1Ni4wNjMxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMwMi4xMTQ5IiB4Mj0iMjkyLjE4MjgiIHkxPSIzNDYuODU0IiB5Mj0iMzQ1LjY5MDciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzAyLjExNDkiIHgyPSIyOTUuMiIgeTE9IjM0Ni44NTQiIHkyPSIzNTAuODc2OSIvPjxlbGxpcHNlIGN4PSIzMDcuMzAxMSIgY3k9IjM0My44MzY4IiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNiIgeD0iNDUxLjc2IiB5PSIyNTQuODYzOCI+JiMyMTQ0MjsmIzI5MDMxOzwvdGV4dD48L2c+PCEtLWxpbmsgcHJvY2VzcyB0byB3b3JrX29yZGVyX2RldGFpbC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJwcm9jZXNzIiBkYXRhLWVudGl0eS0yPSJ3b3JrX29yZGVyX2RldGFpbCIgZGF0YS1zb3VyY2UtbGluZT0iMjYiIGRhdGEtdWlkPSJsbmsxOSIgaWQ9ImxpbmtfcHJvY2Vzc193b3JrX29yZGVyX2RldGFpbCI+PHBhdGggY29kZUxpbmU9IjI2IiBkPSJNMzY0LjcxOTYsMTM0LjYwNTMgQzM2MC45ODk2LDE3Ni40NDUzIDM0OS41LDI1Ny44MTY5IDMxMSwzMjEuMjk2OSBDMzA0LjIyLDMzMi40NzY5IDMwNy45Nzg5LDMzMC45MjAzIDI5OC4yNDg5LDMzOS4zMDAzIiBmaWxsPSJub25lIiBpZD0icHJvY2Vzcy13b3JrX29yZGVyX2RldGFpbCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzNjEuMDkwNiIgeDI9IjM2OS4wNTkiIHkxPSIxMzAuMjY1OSIgeTI9IjEzMC45NzYzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjM2MC44MjQyIiB4Mj0iMzY4Ljc5MjYiIHkxPSIxMzMuMjU0IiB5Mj0iMTMzLjk2NDQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzY0LjcxOTYiIHgyPSIzNjUuNDMiIHkxPSIxMzQuNjA1MyIgeTI9IjEyNi42MzY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI5MC42NzE3IiB4Mj0iMjg4LjUyNTUiIHkxPSIzNDUuODI2MiIgeTI9IjM1NS41OTMyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI5MC42NzE3IiB4Mj0iMjgwLjY5NDUiIHkxPSIzNDUuODI2MiIgeTI9IjM0Ni41MDA2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI5MC42NzE3IiB4Mj0iMjg0LjYxIiB5MT0iMzQ1LjgyNjIiIHkyPSIzNTEuMDQ2OSIvPjxlbGxpcHNlIGN4PSIyOTUuMjE4IiBjeT0iMzQxLjkxMDciIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI2IiB4PSIzNTguNDEiIHk9IjI1NC44NjM4Ij4mIzI0MDM3OyYjMzEyNDM7PC90ZXh0PjwvZz48IS0tbGluayBpdGVtIHRvIHdvcmtfb3JkZXItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iaXRlbSIgZGF0YS1lbnRpdHktMj0id29ya19vcmRlciIgZGF0YS1zb3VyY2UtbGluZT0iMjciIGRhdGEtdWlkPSJsbmsyMCIgaWQ9ImxpbmtfaXRlbV93b3JrX29yZGVyIj48cGF0aCBjb2RlTGluZT0iMjciIGQ9Ik0yMzEuNzI2OSwxMzQuNzQ0OSBDMjMzLjIxNjksMTYxLjk4NDkgMjM0LjI0NjIsMTgwLjcwMzggMjM1LjczNjIsMjA3LjkyMzgiIGZpbGw9Im5vbmUiIGlkPSJpdGVtLXdvcmtfb3JkZXIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjI3LjUxNDQiIHgyPSIyMzUuNTAyNSIgeTE9IjEzMC45Njk0IiB5Mj0iMTMwLjUzMjQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjI3LjY3ODMiIHgyPSIyMzUuNjY2NCIgeTE9IjEzMy45NjQ5IiB5Mj0iMTMzLjUyOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMzEuNzI2OSIgeDI9IjIzMS4yOSIgeTE9IjEzNC43NDQ5IiB5Mj0iMTI2Ljc1NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjM2LjI4MjciIHgyPSIyNDIuNzExIiB5MT0iMjE3LjkwODgiIHkyPSIyMjUuNTY4OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMzYuMjgyNyIgeDI9IjIzMC43MjkiIHkxPSIyMTcuOTA4OCIgeTI9IjIyNi4yMjQ4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIzNi4yODI3IiB4Mj0iMjM2LjcyIiB5MT0iMjE3LjkwODgiIHkyPSIyMjUuODk2OSIvPjxlbGxpcHNlIGN4PSIyMzUuOTU0OCIgY3k9IjIxMS45MTc4IiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNiIgeD0iMjM0Ljc2IiB5PSIxNzEuMzYzOCI+JiMyMTY5NzsmIzMwNDQ2OzwvdGV4dD48L2c+PCEtLWxpbmsgd29ya19vcmRlciB0byBjb21wbGV0aW9uX3Jlc3VsdC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJ3b3JrX29yZGVyIiBkYXRhLWVudGl0eS0yPSJjb21wbGV0aW9uX3Jlc3VsdCIgZGF0YS1zb3VyY2UtbGluZT0iMjkiIGRhdGEtdWlkPSJsbmsyMSIgaWQ9Imxpbmtfd29ya19vcmRlcl9jb21wbGV0aW9uX3Jlc3VsdCI+PHBhdGggY29kZUxpbmU9IjI5IiBkPSJNMTY1LjQ4ODIsMjc2Ljg1OTcgQzEzMC45NzgyLDI5Mi41NTk3IDk5LjQ5LDMxNC4xOTY5IDgyLDM1MS4yOTY5IEM1OS4yLDM5OS42NDY5IDY2LjM2NzQsNDQ3LjEzNDcgNzUuMzQ3NCw0ODEuNDA0NyIgZmlsbD0ibm9uZSIgaWQ9Indvcmtfb3JkZXItY29tcGxldGlvbl9yZXN1bHQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTY3LjQ3MjciIHgyPSIxNzAuNzg1NSIgeTE9IjI3MS41NjI0IiB5Mj0iMjc4Ljg0NDIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTY0Ljc0MiIgeDI9IjE2OC4wNTQ4IiB5MT0iMjcyLjgwNDciIHkyPSIyODAuMDg2NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNjUuNDg4MiIgeDI9IjE3Mi43NyIgeTE9IjI3Ni44NTk3IiB5Mj0iMjczLjU0NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNzcuODgyMiIgeDI9Ijg1LjcxNCIgeTE9IjQ5MS4wNzgxIiB5Mj0iNDk3LjI5NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI3Ny44ODIyIiB4Mj0iNzQuMTA2IiB5MT0iNDkxLjA3ODEiIHkyPSI1MDAuMzM3NyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI3Ny44ODIyIiB4Mj0iNzkuOTEiIHkxPSI0OTEuMDc4MSIgeTI9IjQ5OC44MTY5Ii8+PGVsbGlwc2UgY3g9Ijc2LjM2MTMiIGN5PSI0ODUuMjc0MSIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjYiIHg9IjgzIiB5PSIzNzkuODYzOCI+JiMyMjU3NzsmIzIxNTc4OzwvdGV4dD48L2c+PCEtLWxpbmsgY29tcGxldGlvbl9yZXN1bHQgdG8gaW5zcGVjdGlvbl9yZXN1bHQtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iY29tcGxldGlvbl9yZXN1bHQiIGRhdGEtZW50aXR5LTI9Imluc3BlY3Rpb25fcmVzdWx0IiBkYXRhLXNvdXJjZS1saW5lPSIzMCIgZGF0YS11aWQ9ImxuazIyIiBpZD0ibGlua19jb21wbGV0aW9uX3Jlc3VsdF9pbnNwZWN0aW9uX3Jlc3VsdCI+PHBhdGggY29kZUxpbmU9IjMwIiBkPSJNMTA3LjA1NjksNTU0LjM3MzcgQzEyMS42NDY5LDU3Ni4yNjM3IDEyOC44ODcsNTg3LjExODkgMTQzLjQ1Nyw2MDguOTc4OSIgZmlsbD0ibm9uZSIgaWQ9ImNvbXBsZXRpb25fcmVzdWx0LWluc3BlY3Rpb25fcmVzdWx0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEwMS41MSIgeDI9IjEwOC4xNjY5IiB5MT0iNTUzLjI2MzgiIHkyPSI1NDguODI2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMDMuMTczOSIgeDI9IjEwOS44MzA3IiB5MT0iNTU1Ljc2MDEiIHkyPSI1NTEuMzIzMiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMDcuMDU2OSIgeDI9IjEwMi42MiIgeTE9IjU1NC4zNzM3IiB5Mj0iNTQ3LjcxNjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTQ5LjAwMzEiIHgyPSIxNTguNDMyNyIgeTE9IjYxNy4zIiB5Mj0iNjIwLjYyOTIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTQ5LjAwMzEiIHgyPSIxNDguNDQ3MyIgeTE9IjYxNy4zIiB5Mj0iNjI3LjI4NDUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTQ5LjAwMzEiIHgyPSIxNTMuNDQiIHkxPSI2MTcuMyIgeTI9IjYyMy45NTY5Ii8+PGVsbGlwc2UgY3g9IjE0NS42NzU0IiBjeT0iNjEyLjMwNzQiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI2IiB4PSIxMzMuOTEiIHk9IjU5MC4zNjM4Ij4mIzI2OTA4OyYjMjY2MTk7PC90ZXh0PjwvZz48IS0tbGluayBkZWZlY3QgdG8gaW5zcGVjdGlvbl9yZXN1bHQtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZGVmZWN0IiBkYXRhLWVudGl0eS0yPSJpbnNwZWN0aW9uX3Jlc3VsdCIgZGF0YS1zb3VyY2UtbGluZT0iMzEiIGRhdGEtdWlkPSJsbmsyMyIgaWQ9ImxpbmtfZGVmZWN0X2luc3BlY3Rpb25fcmVzdWx0Ij48cGF0aCBjb2RlTGluZT0iMzEiIGQ9Ik03NTEuMDczMywxMzQuMDE0NCBDNzM5LjgxMzMsMTYyLjQzNDQgNzI2LDIwNC43NjY5IDcyNiwyNDkuMjk2OSBDNzI2LDI0OS4yOTY5IDcyNiwyNDkuMjk2OSA3MjYsNTI0LjI5NjkgQzcyNiw2MjAuOTc2OSA0MTkuOTgyNiw2NDEuMjEwOSAyNjYuMjAyNiw2NDUuNjIwOSIgZmlsbD0ibm9uZSIgaWQ9ImRlZmVjdC1pbnNwZWN0aW9uX3Jlc3VsdCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI3NDguODI3OSIgeDI9Ijc1Ni4yNjU0IiB5MT0iMTI4LjgyMjMiIHkyPSIxMzEuNzY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijc0Ny43MjI4IiB4Mj0iNzU1LjE2MDQiIHkxPSIxMzEuNjExMyIgeTI9IjEzNC41NTgxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijc1MS4wNzMzIiB4Mj0iNzU0LjAyIiB5MT0iMTM0LjAxNDQiIHkyPSIxMjYuNTc2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNTYuMjA2NyIgeDI9IjI0OC4zODIiIHkxPSI2NDUuOTA3NiIgeTI9IjY1Mi4xMzQ0Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI1Ni4yMDY3IiB4Mj0iMjQ4LjAzOCIgeTE9IjY0NS45MDc2IiB5Mj0iNjQwLjEzOTMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjU2LjIwNjciIHgyPSIyNDguMjEiIHkxPSI2NDUuOTA3NiIgeTI9IjY0Ni4xMzY5Ii8+PGVsbGlwc2UgY3g9IjI2Mi4yMDQyIiBjeT0iNjQ1LjczNTYiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI2IiB4PSI3MjciIHk9IjM3OS44NjM4Ij4mIzI3NDI0OyYjMjg4NTc7PC90ZXh0PjwvZz48IS0tbGluayB3b3JrX29yZGVyIHRvIGxhYm9yX2hvdXJzLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9Indvcmtfb3JkZXIiIGRhdGEtZW50aXR5LTI9ImxhYm9yX2hvdXJzIiBkYXRhLXNvdXJjZS1saW5lPSIzMyIgZGF0YS11aWQ9ImxuazI0IiBpZD0ibGlua193b3JrX29yZGVyX2xhYm9yX2hvdXJzIj48cGF0aCBjb2RlTGluZT0iMzMiIGQ9Ik0xOTIuMDM3MSwyNzkuMjMyOSBDMTY2LjY2NzEsMjk2Ljc1MjkgMTQyLjQxLDMxOC43MjY5IDEyOCwzNTEuMjk2OSBDMTE1LjA1LDM4MC41NTY5IDExNC4xMiwzOTQuNDY2OSAxMjgsNDIzLjI5NjkgQzEyOC4zMyw0MjMuOTc2OSAxNzIuMDU3Miw0NTguNzg5IDIwOC42MTcyLDQ4Ny44MzkiIGZpbGw9Im5vbmUiIGlkPSJ3b3JrX29yZGVyLWxhYm9yX2hvdXJzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE5My4wNTU2IiB4Mj0iMTk3LjYwMTYiIHkxPSIyNzMuNjY4NCIgeTI9IjI4MC4yNTEzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE5MC41ODciIHgyPSIxOTUuMTMzIiB5MT0iMjc1LjM3MzIiIHkyPSIyODEuOTU2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE5Mi4wMzcxIiB4Mj0iMTk4LjYyIiB5MT0iMjc5LjIzMjkiIHkyPSIyNzQuNjg2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMTYuNDQ2NSIgeDI9IjIyNi40NDI2IiB5MT0iNDk0LjA2IiB5Mj0iNDk0LjMzOTMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjE2LjQ0NjUiIHgyPSIyMTguOTc3NCIgeTE9IjQ5NC4wNiIgeTI9IjUwMy43MzQ1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIxNi40NDY1IiB4Mj0iMjIyLjcxIiB5MT0iNDk0LjA2IiB5Mj0iNDk5LjAzNjkiLz48ZWxsaXBzZSBjeD0iMjExLjc0ODkiIGN5PSI0OTAuMzI3NCIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjYiIHg9IjEyOSIgeT0iMzc5Ljg2MzgiPiYjMjQwMzc7JiMyNTk2ODs8L3RleHQ+PC9nPjwhLS1saW5rIHdvcmtfb3JkZXJfZGV0YWlsIHRvIGxhYm9yX2hvdXJzLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9Indvcmtfb3JkZXJfZGV0YWlsIiBkYXRhLWVudGl0eS0yPSJsYWJvcl9ob3VycyIgZGF0YS1zb3VyY2UtbGluZT0iMzQiIGRhdGEtdWlkPSJsbmsyNSIgaWQ9Imxpbmtfd29ya19vcmRlcl9kZXRhaWxfbGFib3JfaG91cnMiPjxwYXRoIGNvZGVMaW5lPSIzNCIgZD0iTTI1Miw0MDcuNzU2OSBDMjUyLDQzNC45OTY5IDI1Miw0NTMuNjc2OSAyNTIsNDgwLjg5NjkiIGZpbGw9Im5vbmUiIGlkPSJ3b3JrX29yZGVyX2RldGFpbC1sYWJvcl9ob3VycyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNDgiIHgyPSIyNTYiIHkxPSI0MDMuNzU2OSIgeTI9IjQwMy43NTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI0OCIgeDI9IjI1NiIgeTE9IjQwNi43NTY5IiB5Mj0iNDA2Ljc1NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjUyIiB4Mj0iMjUyIiB5MT0iNDA3Ljc1NjkiIHkyPSIzOTkuNzU2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNTIiIHgyPSIyNTgiIHkxPSI0OTAuODk2OSIgeTI9IjQ5OC44OTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI1MiIgeDI9IjI0NiIgeTE9IjQ5MC44OTY5IiB5Mj0iNDk4Ljg5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjUyIiB4Mj0iMjUyIiB5MT0iNDkwLjg5NjkiIHkyPSI0OTguODk2OSIvPjxlbGxpcHNlIGN4PSIyNTIiIGN5PSI0ODQuODk2OSIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjYiIHg9IjI1MyIgeT0iNDQ0LjM2MzgiPiYjMjQwMzc7JiMzODkxODs8L3RleHQ+PC9nPjwhLS1saW5rIGVtcGxveWVlIHRvIGxhYm9yX2hvdXJzLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVtcGxveWVlIiBkYXRhLWVudGl0eS0yPSJsYWJvcl9ob3VycyIgZGF0YS1zb3VyY2UtbGluZT0iMzUiIGRhdGEtdWlkPSJsbmsyNiIgaWQ9ImxpbmtfZW1wbG95ZWVfbGFib3JfaG91cnMiPjxwYXRoIGNvZGVMaW5lPSIzNSIgZD0iTTU5OC4yNjcsMTMyLjk1MTggQzU3My41OTcsMTY2LjM1MTggNTMwLjc2LDIyMy4xMzY5IDQ4NywyNzQuMjk2OSBDNDI3LjkzLDM0My4zNDY5IDQwOS41NywzNTcuNDA2OSAzNDcsNDIzLjI5NjkgQzMyMi4yMyw0NDkuMzc2OSAzMDYuMTE5NCw0NjYuMTc0OCAyODYuODI5NCw0ODYuMTk0OCIgZmlsbD0ibm9uZSIgaWQ9ImVtcGxveWVlLWxhYm9yX2hvdXJzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjU5Ny40MjYiIHgyPSI2MDMuODYxIiB5MT0iMTI3LjM1NzkiIHkyPSIxMzIuMTEwOSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI1OTUuNjQzNiIgeDI9IjYwMi4wNzg2IiB5MT0iMTI5Ljc3MSIgeTI9IjEzNC41MjQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTk4LjI2NyIgeDI9IjYwMy4wMiIgeTE9IjEzMi45NTE4IiB5Mj0iMTI2LjUxNjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjc5Ljg5MDgiIHgyPSIyNzguNjYwNyIgeTE9IjQ5My4zOTYiIHkyPSI1MDMuMzIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjc5Ljg5MDgiIHgyPSIyNzAuMDE5MyIgeTE9IjQ5My4zOTYiIHkyPSI0OTQuOTkzNyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNzkuODkwOCIgeDI9IjI3NC4zNCIgeTE9IjQ5My4zOTYiIHkyPSI0OTkuMTU2OSIvPjxlbGxpcHNlIGN4PSIyODQuMDU0IiBjeT0iNDg5LjA3NTMiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI2IiB4PSI0NjEuMSIgeT0iMzE3LjM2MzgiPiYjMjUyODU7JiMyNDQwMzs8L3RleHQ+PC9nPjwhLS1TUkM9W1ZQQlRRaTkwNDhObHpvZDJ0bGkyVkhiOXV6TzZPclFJYkk5UUs4RFFnaEdNaUhHZzZnYllBTXJHUUI1X2pXLUpQYlZWZWZsNGR5SWVUczdzRXZDcFB1UjhINDYyQ25zb25wZ3AtZ25QaktrTVJUSGl1emlrX3o5SFZMNHEwU1k4S2FmQzhXN0U3c1F5RzFpckRsWTRHWHVXYlNXYTl5Ml9NT1NFTl9wd01XcTVLSFZFaTlRQU9vczFqOXFtbFJqWWgtRHphZFcyNEw1TW03ZDRXY0Zyc0ZqRnE4OVpEVVg1cXctNy1xYXVkTDRHYVI0UXJ2MlVMU1lNWFd1d2pGVjV0Zmdxc21haFBMTkY4NmNkU1pnYXhWNmtsb2RZQ1RSWWZwWWh3STdWamo2cm9ueVVqSjVqYnZ6U2dMNmFIaUtuOXJ3M1M1Wi1RVzlZSmNHcUIyNVR0c0JjX0tWbExTRFA4Z2w5cE1raG5Fd2pTMFVQZUZHUWVDeWN1cXlYODg1RS1FMFJmNXZuUGdydmlIQWM0MHlNdm4xbzFfTGkydUwyQjhScFdIS0FIenAxZkJzdWhLQ0dnQmZTOEh6VGpPakJNRU1WZ1d4MVNmSGVybTNqTjlUUFBHSjFDZkozaDFTSzFFeHVVd253T0s2bXhQTTNhSkZvVTdGWXQ1bjI0N3JTZ1k4ZHZBaHlZdUYwSl9hbXdZcmRmdzcwZklzN3VvU1BKN2FyLUx2LU9MT1hNMnJuMy1RbDdsdTNdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<hr />
<h2 id="271-db">27.1 製造指示の DB 設計<a class="headerlink" href="#271-db" title="Permanent link">&para;</a></h2>
<h3 id="_2">工程管理業務の流れ<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>製造オーダが確定すると、作業指示に展開されます。作業指示は工程表に基づいて工程ごとの明細を持ち、現場での製造作業を管理します。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IldCUyIgaGVpZ2h0PSIzNjJweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjE5NnB4O2hlaWdodDozNjJweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxOTYgMzYyIiB3aWR0aD0iMTk2cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjx0aXRsZT4mIzM3MDk2OyYjMjE2OTc7JiMyNzA4MzsmIzI1MTA0OyYjMTIzOTI7JiMyMDMxNjsmIzI2OTg5OyYjMjQwMzc7JiMzMTI0MzsmIzEyMzk4OyYjMjAzNjM7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIyIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUzLjk5OTMiIHg9IjIwIiB5PSIzMi45OTUxIj4mIzM3MDk2OyYjMjE2OTc7JiMyNzA4MzsmIzI1MTA0OyYjMTIzOTI7JiMyMDMxNjsmIzI2OTg5OyYjMjQwMzc7JiMzMTI0MzsmIzEyMzk4OyYjMjAzNjM7PC90ZXh0PjwvZz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI0My4zMzY5IiB4Mj0iNDMuMzM2OSIgeTE9IjEwMS4yNjU2IiB5Mj0iMTIxLjI2NTYiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjQ0LjAwMDIiIHg9IjIxLjMzNjgiIHk9IjEyMS4yNjU2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjQuMDAwMiIgeD0iMzEuMzM2OCIgeT0iMTQyLjQwNDMiPiYjMzIwNjg7JiMzMTQzNTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNDMuMzM2OSIgeDI9IjUzLjMzNjkiIHkxPSIxODcuMjE4OCIgeTI9IjE4Ny4yMTg4Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI1Mi4yMzI2IiB4PSI1My4zMzY5IiB5PSIxNzAuMjM0NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMyLjIzMjYiIHg9IjYzLjMzNjkiIHk9IjE5MS4zNzMiPiYjMzcwOTY7JiMyMTY5NztCPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgeDE9Ijc5LjQ1MzIiIHgyPSI4OS40NTMyIiB5MT0iMjM2LjE4NzUiIHkyPSIyMzYuMTg3NSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNDQuMDAwMiIgeD0iODkuNDUzMiIgeT0iMjE5LjIwMzEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNC4wMDAyIiB4PSI5OS40NTMyIiB5PSIyNDAuMzQxOCI+JiMzMjA2ODsmIzMxNDM1OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIxMTEuNDUzMyIgeDI9IjEyMS40NTMzIiB5MT0iMjg1LjE1NjMiIHkyPSIyODUuMTU2MyIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNTIuMjA5MiIgeD0iMTIxLjQ1MzMiIHk9IjI2OC4xNzE5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzIuMjA5MiIgeD0iMTMxLjQ1MzMiIHk9IjI4OS4zMTA1Ij4mIzM3MDk2OyYjMjE2OTc7QTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIxMTEuNDUzMyIgeDI9IjExMS40NTMzIiB5MT0iMjUzLjE3MTkiIHkyPSIyODUuMTU2MyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgeDE9Ijc5LjQ1MzIiIHgyPSI3OS40NTMyIiB5MT0iMjA0LjIwMzEiIHkyPSIyMzYuMTg3NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjQzLjMzNjkiIHgyPSI1My4zMzY5IiB5MT0iMzM0LjEyNSIgeTI9IjMzNC4xMjUiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjUyLjM3OTEiIHg9IjUzLjMzNjkiIHk9IjMxNy4xNDA2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzIuMzc5MSIgeD0iNjMuMzM2OSIgeT0iMzM4LjI3OTMiPiYjMzcwOTY7JiMyMTY5NztDPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjQzLjMzNjkiIHgyPSI0My4zMzY5IiB5MT0iMTU1LjIzNDQiIHkyPSIzMzQuMTI1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNDMuMzM2OSIgeDI9Ijk3LjQ5OTciIHkxPSIxMDEuMjY1NiIgeTI9IjEwMS4yNjU2Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI0NC4wMDAyIiB4PSI3NS40OTk2IiB5PSI0Ny4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjQuMDAwMiIgeD0iODUuNDk5NiIgeT0iNjguNDM1NSI+JiMzNTA2OTsmIzIxNjk3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI5Ny40OTk3IiB4Mj0iOTcuNDk5NyIgeTE9IjgxLjI2NTYiIHkyPSIxMDEuMjY1NiIvPjwhLS1TUkM9W0pLeDlJaUQwNkJ4X0pfNFZzcTFCNGtBTUtzc2dHY3Nxc0VLLVJTT21xNHZhQ1hGbjZGR1d2MkJxd2FzQTBUNlJVQWVscW9OdzVheDVmUlVGUndfNWFXWHZFT1cxOTlDWllmX04tTkFJaFh3cHJVdFRGQ3FOaV9sTHo3ZHZEWXRvUjl3LUJEdXAwMENfN2NSUTE4UTFuVWpEeVBIZlBGbWF3c2t5b1Z5Zi1uaWszdzE2VVYyenNudUhCZGotMm5DZ09YUG5qQWdzUU16TEJSRktMSEhGZVdIRDF3cVRycFBUUG16eE5HX05VWGJBSC1xTW5mNElHdWUxWXdMVzBvTHJHSGNROTI1dWZoWGFPLWhZd0dOYnBTUm5CdTQ3RjY0WXVjRkE5Skp4X2h6WHN3ZEtjU0dFNVZlQXpkcmVxN0VZSGI4ZFhiNzBVRVpnelNGQUJoRzgzbks5VEpWYnU0TXdMcm5maFZDNV0tLT48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkFDVElWSVRZIiBoZWlnaHQ9IjgyMnB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6OTc4cHg7aGVpZ2h0OjgyMnB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDk3OCA4MjIiIHdpZHRoPSI5NzhweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjQwMzc7JiMzMTI0MzsmIzMxNjQ5OyYjMjk3MDI7JiMxMjM5ODsmIzI2OTg5OyYjMjEyMDk7JiMxMjUwMTsmIzEyNTI1OyYjMTI1NDA7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM5Ljk5OTQiIHg9IjQxNy43MDU4IiB5PSIzMi45OTUxIj4mIzI0MDM3OyYjMzEyNDM7JiMzMTY0OTsmIzI5NzAyOyYjMTIzOTg7JiMyNjk4OTsmIzIxMjA5OyYjMTI1MDE7JiMxMjUyNTsmIzEyNTQwOzwvdGV4dD48L2c+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIyMC45NTMxIiBzdHlsZT0ic3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iOTQ1LjQxMSIgeD0iMTUiIHk9IjUwLjA0MiIvPjxlbGxpcHNlIGN4PSI2MS4wMDAyIiBjeT0iODUuOTk1MSIgZmlsbD0iIzIyMjIyMiIgcng9IjEwIiByeT0iMTAiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMTIxLjAwMDUsMTEyLjg0NjcgTDEyMS4wMDA1LDEyOC45Nzk1IEwxMDEuMDAwNSwxMzIuOTc5NSBMMTIxLjAwMDUsMTM2Ljk3OTUgTDEyMS4wMDA1LDE1My4xMTIzIEEwLDAgMCAwIDAgMTIxLjAwMDUsMTUzLjExMjMgTDIzMy4wMDA2LDE1My4xMTIzIEEwLDAgMCAwIDAgMjMzLjAwMDYsMTUzLjExMjMgTDIzMy4wMDA2LDEyMi44NDY3IEwyMjMuMDAwNiwxMTIuODQ2NyBMMTIxLjAwMDUsMTEyLjg0NjcgQTAsMCAwIDAgMCAxMjEuMDAwNSwxMTIuODQ2NyIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTIyMy4wMDA2LDExMi44NDY3IEwyMjMuMDAwNiwxMjIuODQ2NyBMMjMzLjAwMDYsMTIyLjg0NjcgTDIyMy4wMDA2LDExMi44NDY3IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OC4wMDAxIiB4PSIxMjcuMDAwNSIgeT0iMTI5LjkxMzYiPiYjMzUwNjk7JiMzNjg5NjsmIzEyNDU4OyYjMTI1NDA7JiMxMjQ4MDsmIzEyNDM0OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MS4wMDAxIiB4PSIxMjcuMDAwNSIgeT0iMTQ1LjA0NjQiPiYjMjAzMTY7JiMyNjk4OTsmIzI1MzUxOyYjMzEwMzQ7JiMxMjM5NTsmIzIzNjM3OyYjMzgyODM7PC90ZXh0PjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI4MC4wMDA1IiB4PSIyMSIgeT0iMTE1Ljk5NTEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2MC4wMDA1IiB4PSIzMSIgeT0iMTM3LjEzMzgiPiYjMTI0NTg7JiMxMjU0MDsmIzEyNDgwOyYjMjQ3NzM7JiMyMjU3Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMTUiIHgyPSIxNSIgeTE9IjUwLjA0MiIgeTI9IjgxMC44MzExIi8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjkyLjAwMDUiIHg9IjI1MC4wMDA2IiB5PSIxNzMuMTEyMyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcyLjAwMDUiIHg9IjI2MC4wMDA2IiB5PSIxOTQuMjUxIj4mIzIwMzE2OyYjMjY5ODk7JiMzNTMzNjsmIzMwMDExOyYjMjAzMTY7JiMyNTEwNDs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjkyLjAwMDUiIHg9IjI1MC4wMDA2IiB5PSIyMjcuMDgxMSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcyLjAwMDUiIHg9IjI2MC4wMDA2IiB5PSIyNDguMjE5NyI+JiMyMDMxNjsmIzI2OTg5OyYjMjUzNTE7JiMzMTAzNDsmIzMwMzMwOyYjMzQ4OTI7PC90ZXh0PjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDQuMDAwNiIgeD0iMjQ0LjAwMDYiIHk9IjI4MS4wNDk4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODQuMDAwNiIgeD0iMjU0LjAwMDYiIHk9IjMwMi4xODg1Ij4mIzIwMzE2OyYjMjY5ODk7JiMyNTM1MTsmIzMxMDM0OyYjMjYzNjA7JiMyMTM2MDsmIzIxMDQ3OzwvdGV4dD48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iOTIuMDAwNSIgeD0iMjUwLjAwMDYiIHk9IjczNC44NjIzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzIuMDAwNSIgeD0iMjYwLjAwMDYiIHk9Ijc1Ni4wMDEiPiYjMjAzMTY7JiMyNjk4OTsmIzIzNDM2OyYjMjAxMDI7JiMyMDk2NjsmIzI5NzAyOzwvdGV4dD48ZWxsaXBzZSBjeD0iMjk2LjAwMDkiIGN5PSI3OTkuODMxMSIgZmlsbD0ibm9uZSIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48ZWxsaXBzZSBjeD0iMjk2LjAwMDkiIGN5PSI3OTkuODMxMSIgZmlsbD0iIzIyMjIyMiIgcng9IjYiIHJ5PSI2IiBzdHlsZT0ic3Ryb2tlOiMyMjIyMjI7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMjM4LjAwMDYiIHgyPSIyMzguMDAwNiIgeTE9IjUwLjA0MiIgeTI9IjgxMC44MzExIi8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjY4LjAwMDQiIHg9IjM2MC4wMDA4IiB5PSIzMzUuMDE4NiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ4LjAwMDQiIHg9IjM3MC4wMDA4IiB5PSIzNTYuMTU3MiI+JiMyNjQ0ODsmIzI2MDA5OyYjMjUxNzM7JiMyMDk4Njs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMzUyLjAwMTIiIHgyPSIzNTIuMDAxMiIgeTE9IjUwLjA0MiIgeTI9IjgxMC44MzExIi8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjY4LjAwMDQiIHg9IjU2Ni4wMDE0IiB5PSIzODguOTg3MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ4LjAwMDQiIHg9IjU3Ni4wMDE0IiB5PSI0MTAuMTI2Ij4mIzIwMzE2OyYjMjY5ODk7JiMyMzQ1NTsmIzI2MDQ1OzwvdGV4dD48cmVjdCBmaWxsPSIjNTU1NTU1IiBoZWlnaHQ9IjYiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzU1NTU1NTtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIzMzguMDAxNiIgeD0iNDQwLjAwMDgiIHk9IjQ0Mi45NTYxIi8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjkyLjAwMDUiIHg9IjQ1Mi4wMDA4IiB5PSI0NjguOTU2MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcyLjAwMDUiIHg9IjQ2Mi4wMDA4IiB5PSI0OTAuMDk0NyI+JiMyMzQzNjsmIzI1MTA0OyYjMjM0NTU7JiMzMjMxODsmIzIyNTc3OyYjMjE1Nzg7PC90ZXh0PjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI5Mi4wMDA1IiB4PSI1NTQuMDAxMyIgeT0iNDY4Ljk1NjEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3Mi4wMDA1IiB4PSI1NjQuMDAxMyIgeT0iNDkwLjA5NDciPiYjMjQwMzc7JiMyNTk2ODsmIzIzNDU1OyYjMzIzMTg7JiMyMjU3NzsmIzIxNTc4OzwvdGV4dD48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iOTIuMDAwNSIgeD0iNjc0LjAwMTkiIHk9IjQ2OC45NTYxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzIuMDAwNSIgeD0iNjg0LjAwMTkiIHk9IjQ5MC4wOTQ3Ij4mIzI4MDQwOyYjMzYwMjc7JiMyMzQ1NTsmIzMyMzE4OyYjMjI1Nzc7JiMyMTU3ODs8L3RleHQ+PHJlY3QgZmlsbD0iIzU1NTU1NSIgaGVpZ2h0PSI2IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiM1NTU1NTU7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iMzM4LjAwMTYiIHg9IjQ0MC4wMDA4IiB5PSI1MjIuOTI0OCIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI4NC4wNDM0IiB4PSI2MDUuOTkwOCIgeT0iNjQ2Ljg5MzYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NC4wNDM0IiB4PSI2MTUuOTkwOCIgeT0iNjY4LjAzMjIiPiYjMjUxNjM7JiMzMDQ1MjsmIzEyMzc1Oy8mIzI0MjU5OyYjMjY4MjA7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjQzNC4wMDA4IiB4Mj0iNDM0LjAwMDgiIHkxPSI1MC4wNDIiIHkyPSI4MTAuODMxMSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI2OC4wMDA0IiB4PSI3OTcuOTI5NyIgeT0iNTQ4LjkyNDgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OC4wMDA0IiB4PSI4MDcuOTI5NyIgeT0iNTcwLjA2MzUiPiYjMjM0MzY7JiMyNTEwNDsmIzI2OTA4OyYjMjY2MTk7PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNGMUYxRjEiIHBvaW50cz0iODE4LjAxMDcsNjAyLjg5MzYsODQ1Ljg0OSw2MDIuODkzNiw4NTcuODQ5LDYxNC44OTM2LDg0NS44NDksNjI2Ljg5MzYsODE4LjAxMDcsNjI2Ljg5MzYsODA2LjAxMDcsNjE0Ljg5MzYsODE4LjAxMDcsNjAyLjg5MzYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3LjgzODIiIHg9IjgxOC4wMTA3IiB5PSI2MTguNzAxNyI+JiMyMTUxMjsmIzI2Njg0Oz88L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTkuMDA4MyIgeD0iNzg3LjAwMjQiIHk9IjYxMi4yOTkzIj55ZXM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMuNzAxNyIgeD0iODU3Ljg0OSIgeT0iNjEyLjI5OTMiPm5vPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNGMUYxRjEiIHBvaW50cz0iODMxLjkyOTgsNjkwLjg2MjMsODQzLjkyOTgsNzAyLjg2MjMsODMxLjkyOTgsNzE0Ljg2MjMsODE5LjkyOTgsNzAyLjg2MjMsODMxLjkyOTgsNjkwLjg2MjMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9Ijc4Mi4wMDI0IiB4Mj0iNzgyLjAwMjQiIHkxPSI1MC4wNDIiIHkyPSI4MTAuODMxMSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI2OC4wMDA0IiB4PSI4ODQuNTUwMiIgeT0iNjQ2Ljg5MzYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OC4wMDA0IiB4PSI4OTQuNTUwMiIgeT0iNjY4LjAzMjIiPiYjMzUwNjk7JiMyMTY5NzsmIzIwODM3OyYjMjQyMzU7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9Ijg3Ni41NTA2IiB4Mj0iODc2LjU1MDYiIHkxPSI1MC4wNDIiIHkyPSI4MTAuODMxMSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9Ijk1OC41NTAyIiB4Mj0iOTU4LjU1MDIiIHkxPSI1MC4wNDIiIHkyPSI4MTAuODMxMSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI2MS4wMDAyIiB4Mj0iNjEuMDAwMiIgeTE9Ijk1Ljk5NTEiIHkyPSIxMTUuOTk1MSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTcuMDAwMiwxMDUuOTk1MSw2MS4wMDAyLDExNS45OTUxLDY1LjAwMDIsMTA1Ljk5NTEsNjEuMDAwMiwxMDkuOTk1MSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyOTYuMDAwOSIgeDI9IjI5Ni4wMDA5IiB5MT0iMjA3LjA4MTEiIHkyPSIyMjcuMDgxMSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjkyLjAwMDksMjE3LjA4MTEsMjk2LjAwMDksMjI3LjA4MTEsMzAwLjAwMDksMjE3LjA4MTEsMjk2LjAwMDksMjIxLjA4MTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjk2LjAwMDkiIHgyPSIyOTYuMDAwOSIgeTE9IjI2MS4wNDk4IiB5Mj0iMjgxLjA0OTgiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI5Mi4wMDA5LDI3MS4wNDk4LDI5Ni4wMDA5LDI4MS4wNDk4LDMwMC4wMDA5LDI3MS4wNDk4LDI5Ni4wMDA5LDI3NS4wNDk4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI5Ni4wMDA5IiB4Mj0iMjk2LjAwMDkiIHkxPSI3NjguODMxMSIgeTI9Ijc4OC44MzExIi8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyOTIuMDAwOSw3NzguODMxMSwyOTYuMDAwOSw3ODguODMxMSwzMDAuMDAwOSw3NzguODMxMSwyOTYuMDAwOSw3ODIuODMxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI0OTguMDAxMSIgeDI9IjQ5OC4wMDExIiB5MT0iNDQ4Ljk1NjEiIHkyPSI0NjguOTU2MSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNDk0LjAwMTEsNDU4Ljk1NjEsNDk4LjAwMTEsNDY4Ljk1NjEsNTAyLjAwMTEsNDU4Ljk1NjEsNDk4LjAwMTEsNDYyLjk1NjEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjAwLjAwMTYiIHgyPSI2MDAuMDAxNiIgeTE9IjQ0OC45NTYxIiB5Mj0iNDY4Ljk1NjEiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjU5Ni4wMDE2LDQ1OC45NTYxLDYwMC4wMDE2LDQ2OC45NTYxLDYwNC4wMDE2LDQ1OC45NTYxLDYwMC4wMDE2LDQ2Mi45NTYxIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjcyMC4wMDIyIiB4Mj0iNzIwLjAwMjIiIHkxPSI0NDguOTU2MSIgeTI9IjQ2OC45NTYxIi8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI3MTYuMDAyMiw0NTguOTU2MSw3MjAuMDAyMiw0NjguOTU2MSw3MjQuMDAyMiw0NTguOTU2MSw3MjAuMDAyMiw0NjIuOTU2MSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI0OTguMDAxMSIgeDI9IjQ5OC4wMDExIiB5MT0iNTAyLjkyNDgiIHkyPSI1MjIuOTI0OCIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNDk0LjAwMTEsNTEyLjkyNDgsNDk4LjAwMTEsNTIyLjkyNDgsNTAyLjAwMTEsNTEyLjkyNDgsNDk4LjAwMTEsNTE2LjkyNDgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjAwLjAwMTYiIHgyPSI2MDAuMDAxNiIgeTE9IjUwMi45MjQ4IiB5Mj0iNTIyLjkyNDgiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjU5Ni4wMDE2LDUxMi45MjQ4LDYwMC4wMDE2LDUyMi45MjQ4LDYwNC4wMDE2LDUxMi45MjQ4LDYwMC4wMDE2LDUxNi45MjQ4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjcyMC4wMDIyIiB4Mj0iNzIwLjAwMjIiIHkxPSI1MDIuOTI0OCIgeTI9IjUyMi45MjQ4Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI3MTYuMDAyMiw1MTIuOTI0OCw3MjAuMDAyMiw1MjIuOTI0OCw3MjQuMDAyMiw1MTIuOTI0OCw3MjAuMDAyMiw1MTYuOTI0OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI2MDAuMDAxNiIgeDI9IjYwMC4wMDE2IiB5MT0iNDIyLjk1NjEiIHkyPSI0NDIuOTU2MSIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTk2LjAwMTYsNDMyLjk1NjEsNjAwLjAwMTYsNDQyLjk1NjEsNjA0LjAwMTYsNDMyLjk1NjEsNjAwLjAwMTYsNDM2Ljk1NjEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iODMxLjkyOTgiIHgyPSI4MzEuOTI5OCIgeTE9IjU4Mi44OTM2IiB5Mj0iNjAyLjg5MzYiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjgyNy45Mjk4LDU5Mi44OTM2LDgzMS45Mjk4LDYwMi44OTM2LDgzNS45Mjk4LDU5Mi44OTM2LDgzMS45Mjk4LDU5Ni44OTM2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjYxLjAwMDIiIHgyPSI2MS4wMDAyIiB5MT0iMTQ5Ljk2MzkiIHkyPSIxNTguMTEyMyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI2MS4wMDAyIiB4Mj0iMjk2LjAwMDkiIHkxPSIxNTguMTEyMyIgeTI9IjE1OC4xMTIzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI5Ni4wMDA5IiB4Mj0iMjk2LjAwMDkiIHkxPSIxNTguMTEyMyIgeTI9IjE3My4xMTIzIi8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyOTIuMDAwOSwxNjMuMTEyMywyOTYuMDAwOSwxNzMuMTEyMywzMDAuMDAwOSwxNjMuMTEyMywyOTYuMDAwOSwxNjcuMTEyMyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyOTYuMDAwOSIgeDI9IjI5Ni4wMDA5IiB5MT0iMzE1LjAxODYiIHkyPSIzMjAuMDE4NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyOTYuMDAwOSIgeDI9IjM5NC4wMDEiIHkxPSIzMjAuMDE4NiIgeTI9IjMyMC4wMTg2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjM5NC4wMDEiIHgyPSIzOTQuMDAxIiB5MT0iMzIwLjAxODYiIHkyPSIzMzUuMDE4NiIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzkwLjAwMSwzMjUuMDE4NiwzOTQuMDAxLDMzNS4wMTg2LDM5OC4wMDEsMzI1LjAxODYsMzk0LjAwMSwzMjkuMDE4NiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzOTQuMDAxIiB4Mj0iMzk0LjAwMSIgeTE9IjM2OC45ODczIiB5Mj0iMzczLjk4NzMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzk0LjAwMSIgeDI9IjYwMC4wMDE2IiB5MT0iMzczLjk4NzMiIHkyPSIzNzMuOTg3MyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI2MDAuMDAxNiIgeDI9IjYwMC4wMDE2IiB5MT0iMzczLjk4NzMiIHkyPSIzODguOTg3MyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNTk2LjAwMTYsMzc4Ljk4NzMsNjAwLjAwMTYsMzg4Ljk4NzMsNjA0LjAwMTYsMzc4Ljk4NzMsNjAwLjAwMTYsMzgyLjk4NzMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjAwLjAwMTYiIHgyPSI2MDAuMDAxNiIgeTE9IjUyOC45MjQ4IiB5Mj0iNTMzLjkyNDgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjAwLjAwMTYiIHgyPSI4MzEuOTI5OCIgeTE9IjUzMy45MjQ4IiB5Mj0iNTMzLjkyNDgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iODMxLjkyOTgiIHgyPSI4MzEuOTI5OCIgeTE9IjUzMy45MjQ4IiB5Mj0iNTQ4LjkyNDgiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjgyNy45Mjk4LDUzOC45MjQ4LDgzMS45Mjk4LDU0OC45MjQ4LDgzNS45Mjk4LDUzOC45MjQ4LDgzMS45Mjk4LDU0Mi45MjQ4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjgwNi4wMTA3IiB4Mj0iNzk0LjAxMDciIHkxPSI2MTQuODkzNiIgeTI9IjYxNC44OTM2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijc5NC4wMTA3IiB4Mj0iNzk0LjAxMDciIHkxPSI2MTQuODkzNiIgeTI9IjYzMi44OTM2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijc5NC4wMTA3IiB4Mj0iOTE4LjU1MDQiIHkxPSI2MzIuODkzNiIgeTI9IjYzMi44OTM2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjkxOC41NTA0IiB4Mj0iOTE4LjU1MDQiIHkxPSI2MzIuODkzNiIgeTI9IjY0Ni44OTM2Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI5MTQuNTUwNCw2MzYuODkzNiw5MTguNTUwNCw2NDYuODkzNiw5MjIuNTUwNCw2MzYuODkzNiw5MTguNTUwNCw2NDAuODkzNiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI4NTcuODQ5IiB4Mj0iODY5Ljg0OSIgeTE9IjYxNC44OTM2IiB5Mj0iNjE0Ljg5MzYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iODY5Ljg0OSIgeDI9Ijg2OS44NDkiIHkxPSI2MTQuODkzNiIgeTI9IjYzMi44OTM2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijg2OS44NDkiIHgyPSI2NDguMDEyNiIgeTE9IjYzMi44OTM2IiB5Mj0iNjMyLjg5MzYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjQ4LjAxMjYiIHgyPSI2NDguMDEyNiIgeTE9IjYzMi44OTM2IiB5Mj0iNjQ2Ljg5MzYiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjY0NC4wMTI2LDYzNi44OTM2LDY0OC4wMTI2LDY0Ni44OTM2LDY1Mi4wMTI2LDYzNi44OTM2LDY0OC4wMTI2LDY0MC44OTM2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjkxOC41NTA0IiB4Mj0iOTE4LjU1MDQiIHkxPSI2ODAuODYyMyIgeTI9IjY4NC44NjIzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjkxOC41NTA0IiB4Mj0iODAxLjkyOTgiIHkxPSI2ODQuODYyMyIgeTI9IjY4NC44NjIzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjgwMS45Mjk4IiB4Mj0iODAxLjkyOTgiIHkxPSI2ODQuODYyMyIgeTI9IjcwMi44NjIzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjgwMS45Mjk4IiB4Mj0iODE5LjkyOTgiIHkxPSI3MDIuODYyMyIgeTI9IjcwMi44NjIzIi8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI4MDkuOTI5OCw2OTguODYyMyw4MTkuOTI5OCw3MDIuODYyMyw4MDkuOTI5OCw3MDYuODYyMyw4MTMuOTI5OCw3MDIuODYyMyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI2NDguMDEyNiIgeDI9IjY0OC4wMTI2IiB5MT0iNjgwLjg2MjMiIHkyPSI2ODQuODYyMyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI2NDguMDEyNiIgeDI9Ijg2MS45Mjk4IiB5MT0iNjg0Ljg2MjMiIHkyPSI2ODQuODYyMyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI4NjEuOTI5OCIgeDI9Ijg2MS45Mjk4IiB5MT0iNjg0Ljg2MjMiIHkyPSI3MDIuODYyMyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI4NjEuOTI5OCIgeDI9Ijg0My45Mjk4IiB5MT0iNzAyLjg2MjMiIHkyPSI3MDIuODYyMyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iODUzLjkyOTgsNjk4Ljg2MjMsODQzLjkyOTgsNzAyLjg2MjMsODUzLjkyOTgsNzA2Ljg2MjMsODQ5LjkyOTgsNzAyLjg2MjMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iODMxLjkyOTgiIHgyPSI4MzEuOTI5OCIgeTE9IjcxNC44NjIzIiB5Mj0iNzE5Ljg2MjMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iODMxLjkyOTgiIHgyPSIyOTYuMDAwOSIgeTE9IjcxOS44NjIzIiB5Mj0iNzE5Ljg2MjMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjk2LjAwMDkiIHgyPSIyOTYuMDAwOSIgeTE9IjcxOS44NjIzIiB5Mj0iNzM0Ljg2MjMiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI5Mi4wMDA5LDcyNC44NjIzLDI5Ni4wMDA5LDczNC44NjIzLDMwMC4wMDA5LDcyNC44NjIzLDI5Ni4wMDA5LDcyOC44NjIzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTgiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODkuOTk5NSIgeD0iODEuNTAwNSIgeT0iNjYuNzUiPiYjMjk5ODM7JiMyOTk4NzsmIzMxNjQ5OyYjMjk3MDI7JiMzNzA5Njs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTgiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTMuOTk5NyIgeD0iMjY4LjAwMSIgeT0iNjYuNzUiPiYjMzUwNjk7JiMzNjg5NjsmIzM3MDk2OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxOCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MS45OTk2IiB4PSIzNTcuMDAxMiIgeT0iNjYuNzUiPiYjMzYwMzk7JiMyNjQ0ODsmIzIwNDg5OyYjMjQyMzU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE4IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg5Ljk5OTUiIHg9IjU2My4wMDE5IiB5PSI2Ni43NSI+JiMzNTA2OTsmIzM2ODk2OyYjMTI1MjE7JiMxMjQ1MjsmIzEyNTMxOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxOCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MS45OTk2IiB4PSI3OTMuMjc2NyIgeT0iNjYuNzUiPiYjMjE2OTc7JiMzNjA3NDsmIzMxNjQ5OyYjMjk3MDI7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE4IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcxLjk5OTYiIHg9Ijg4MS41NTA2IiB5PSI2Ni43NSI+JiMzNTA2OTsmIzIxNjk3OyYjMjA0ODk7JiMyNDIzNTs8L3RleHQ+PCEtLVNSQz1bVEwzMUppOTA0QnR0QXRnNGFfVnN1OHp1OFE1MDhzYUR4U000MHNNNTVlajlMT2VYTzgwMDFZNHE4NFA4Ml94Q2lobGJCbm9lejYzbURaRmxwTmpsSGZWcmxDSUpyT1lEUlVScmNMRjVYYVQ3Q3NBdEM3OG5jYzZxdVJXWVF0SFBPbjBIemNYU3YzR3pMVDB2MFBTZEdDMmVINTY1ejFPWWZ3WXduMVZhUjR1Ti03Mm10UFR3Q0dNTmR3d0t0Uk8zd2hIa2lnNkZaSWJQa0ZrYzNHT0h6b1dqSDlubVJCNTZTQVdqSHBtRGVxTk15aUQtX1MtR2pqVmFPS3dpYk5ZR012aHFySTZiNmw2ZGUwV3JSUlBlcElNY0J5UGs2QnRaeVgyWlBVbjlsMnZqUmFLa2VuUWtFTzV1VFYyNjZMal9tdDdheUp2Mi01R3M5SWswaHFSS2RWLUZxb3loXzBaRXU5QUlYWDNhc0dZTmEtWWRuUENSN05QZUR1MkNTZVBGNENVWWxTcmJhalRwYWk4ZFJZS2pVU21FY181ZmxzcmIxQXQ4SU5iRHVYRUFjWm50OHd0UGhGczlaUFNCNFkwd2swRXdhZk9wUHh5RlFOUC1iUFhsNDB4SVFCZnd5bUMwXS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_3">工程マスタ・工程表のスキーマ設計<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>工程マスタは製造工程を定義し、工程表は品目ごとの製造工順を管理します。</p>
<details>
<summary>DDL: 工程マスタ・工程表</summary>

<div class="highlight"><pre><span></span><code><span class="c1">-- V013__create_process_master_tables.sql</span>

<span class="c1">-- 工程マスタ</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;工程マスタ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;工程コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;工程名&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- 工程表</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;工程表&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ID&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;品目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;工順&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;工程コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_工程表_品目&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;品目マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_工程表_工程&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;工程コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;工程マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;工程コード&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">UNIQUE</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;工順&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- インデックス</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_工程表_品目コード&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;工程表&quot;</span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_工程表_工程コード&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;工程表&quot;</span><span class="p">(</span><span class="ss">&quot;工程コード&quot;</span><span class="p">);</span>
</code></pre></div>

</details>

<h3 id="_4">作業指示のスキーマ設計<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p>作業指示データはオーダ情報から展開され、作業指示明細データは工程表に基づいて生成されます。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjU2NnB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MTk0cHg7aGVpZ2h0OjU2NnB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDE5NCA1NjYiIHdpZHRoPSIxOTRweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjAzMTY7JiMyNjk4OTsmIzI1MzUxOyYjMzEwMzQ7JiMxMjM5ODsmIzI3MDgzOyYjMzY4OTY7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iNDEuMTY3NSIgeT0iMjIuOTk1MSI+JiMyMDMxNjsmIzI2OTg5OyYjMjUzNTE7JiMzMTAzNDsmIzEyMzk4OyYjMjcwODM7JiMzNjg5Njs8L3RleHQ+PC9nPjwhLS1jbGFzcyB3b3JrX29yZGVyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9Indvcmtfb3JkZXIiIGRhdGEtc291cmNlLWxpbmU9IjMiIGRhdGEtdWlkPSJlbnQwMDAyIiBpZD0iZW50aXR5X3dvcmtfb3JkZXIiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzI1LjA0NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE4MC4zMzQ2IiB4PSI3IiB5PSI0NC4yOTY5Ii8+PGVsbGlwc2UgY3g9IjQ0LjY1MDgiIGN5PSI2MC4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik00OC43NjAxLDY2LjI5NjkgTDQxLjA0MTQsNjYuMjk2OSBMNDEuMDQxNCw1My45MDYzIEw0OC43NjAxLDUzLjkwNjMgTDQ4Ljc2MDEsNTYuMDYyNSBMNDMuNDk0NSw1Ni4wNjI1IEw0My40OTQ1LDU4LjczNDQgTDQ4LjI2MDEsNTguNzM0NCBMNDguMjYwMSw2MC44OTA2IEw0My40OTQ1LDYwLjg5MDYgTDQzLjQ5NDUsNjQuMTQwNiBMNDguNzYwMSw2NC4xNDA2IEw0OC43NjAxLDY2LjI5NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny45OTk2IiB4PSI2My42ODQzIiB5PSI2NS4xNDM2Ij4mIzIwMzE2OyYjMjY5ODk7JiMyNTM1MTsmIzMxMDM0OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI4IiB4Mj0iMTg2LjMzNDYiIHkxPSI3Ni4yOTY5IiB5Mj0iNzYuMjk2OSIvPjxlbGxpcHNlIGN4PSIxOCIgY3k9Ijg5Ljk0NTMiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ3LjkwNjMiIHg9IjI3IiB5PSI5My4yOTIiPklEIFtQS108L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjgiIHgyPSIxODYuMzM0NiIgeTE9IjEwMC41OTM4IiB5Mj0iMTAwLjU5MzgiLz48ZWxsaXBzZSBjeD0iMTgiIGN5PSIxMTQuMjQyMiIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTU0LjMzNDYiIHg9IjI3IiB5PSIxMTcuNTg4OSI+JiMyMDMxNjsmIzI2OTg5OyYjMjUzNTE7JiMzMTAzNDsmIzMwMDU4OyYjMjE0OTU7IFtVTklRVUVdPC90ZXh0PjxlbGxpcHNlIGN4PSIxOCIgY3k9IjEzMC41MzkxIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDIuNjA3MSIgeD0iMjciIHk9IjEzMy44ODU3Ij4mIzEyNDU4OyYjMTI1NDA7JiMxMjQ4MDsmIzMwMDU4OyYjMjE0OTU7IFtGS108L3RleHQ+PGVsbGlwc2UgY3g9IjE4IiBjeT0iMTQ2LjgzNTkiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjI3IiB5PSIxNTAuMTgyNiI+JiMyMDMxNjsmIzI2OTg5OyYjMjUzNTE7JiMzMTAzNDsmIzI2MDg1OzwvdGV4dD48ZWxsaXBzZSBjeD0iMTgiIGN5PSIxNjMuMTMyOCIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTAyLjYwNzEiIHg9IjI3IiB5PSIxNjYuNDc5NSI+JiMyMTY5NzsmIzMwNDQ2OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyBbRktdPC90ZXh0PjxlbGxpcHNlIGN4PSIxOCIgY3k9IjE3OS40Mjk3IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyNyIgeT0iMTgyLjc3NjQiPiYjMjAzMTY7JiMyNjk4OTsmIzI1MzUxOyYjMzEwMzQ7JiMyNTk2ODs8L3RleHQ+PGVsbGlwc2UgY3g9IjE4IiBjeT0iMTk1LjcyNjYiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMi42MDcxIiB4PSIyNyIgeT0iMTk5LjA3MzIiPiYjMjI1ODA7JiMyNTE1MjsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgW0ZLXTwvdGV4dD48ZWxsaXBzZSBjeD0iMTgiIGN5PSIyMTIuMDIzNCIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMjciIHk9IjIxNS4zNzAxIj4mIzM4MjgzOyYjMjI5ODc7JiMyMDEwNDsmIzIzNDUwOyYjMjYwODU7PC90ZXh0PjxlbGxpcHNlIGN4PSIxOCIgY3k9IjIyOC4zMjAzIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyNyIgeT0iMjMxLjY2NyI+JiMyMzQzNjsmIzI1MTA0OyYjMjAxMDQ7JiMyMzQ1MDsmIzI2MDg1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyNyIgeT0iMjQ3Ljk2MzkiPiYjMjM0NTU7JiMzMjMxODsmIzM4MjgzOyYjMjI5ODc7JiMyNjA4NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMjciIHk9IjI2NC4yNjA3Ij4mIzIzNDU1OyYjMzIzMTg7JiMyMzQzNjsmIzIwMTAyOyYjMjYwODU7PC90ZXh0PjxlbGxpcHNlIGN4PSIxOCIgY3k9IjI3Ny4yMTA5IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIyNyIgeT0iMjgwLjU1NzYiPiYjMjM0MzY7JiMyNTEwNDsmIzI4MTY4OyYjMjU5Njg7PC90ZXh0PjxlbGxpcHNlIGN4PSIxOCIgY3k9IjI5My41MDc4IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIyNyIgeT0iMjk2Ljg1NDUiPiYjMzIyMDc7JiMzMzM5MTsmIzIxNjk3OyYjMjU5Njg7PC90ZXh0PjxlbGxpcHNlIGN4PSIxOCIgY3k9IjMwOS44MDQ3IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyNyIgeT0iMzEzLjE1MTQiPiYjMzIyMDc7JiMxOTk4MTsmIzMzMzkxOyYjMjE2OTc7JiMyNTk2ODs8L3RleHQ+PGVsbGlwc2UgY3g9IjE4IiBjeT0iMzI2LjEwMTYiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjI3IiB5PSIzMjkuNDQ4MiI+JiMxMjQ3MzsmIzEyNDg2OyYjMTI1NDA7JiMxMjQ3OTsmIzEyNDczOzwvdGV4dD48ZWxsaXBzZSBjeD0iMTgiIGN5PSIzNDIuMzk4NCIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMjciIHk9IjM0NS43NDUxIj4mIzIzNDM2OyYjMjAxMDI7JiMxMjUwMTsmIzEyNTIxOyYjMTI0NjQ7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ljk5OTkiIHg9IjI3IiB5PSIzNjIuMDQyIj4mIzIwNjMzOyYjMzI3NzE7PC90ZXh0PjwvZz48IS0tY2xhc3Mgd29ya19vcmRlcl9kZXRhaWwtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0id29ya19vcmRlcl9kZXRhaWwiIGRhdGEtc291cmNlLWxpbmU9IjI0IiBkYXRhLXVpZD0iZW50MDAwMyIgaWQ9ImVudGl0eV93b3JrX29yZGVyX2RldGFpbCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMTMuMTg3NSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTU3Ljk5OTUiIHg9IjE4LjE3IiB5PSI0NDYuMzM2OSIvPjxlbGxpcHNlIGN4PSIzMy4xNyIgY3k9IjQ2Mi4zMzY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0zNy4yNzk0LDQ2OC4zMzY5IEwyOS41NjA2LDQ2OC4zMzY5IEwyOS41NjA2LDQ1NS45NDYzIEwzNy4yNzk0LDQ1NS45NDYzIEwzNy4yNzk0LDQ1OC4xMDI1IEwzMi4wMTM4LDQ1OC4xMDI1IEwzMi4wMTM4LDQ2MC43NzQ0IEwzNi43Nzk0LDQ2MC43NzQ0IEwzNi43Nzk0LDQ2Mi45MzA2IEwzMi4wMTM4LDQ2Mi45MzA2IEwzMi4wMTM4LDQ2Ni4xODA2IEwzNy4yNzk0LDQ2Ni4xODA2IEwzNy4yNzk0LDQ2OC4zMzY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI1Ljk5OTUiIHg9IjQ3LjE3IiB5PSI0NjcuMTgzNiI+JiMyMDMxNjsmIzI2OTg5OyYjMjUzNTE7JiMzMTAzNDsmIzI2MTI2OyYjMzIwNDg7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjE5LjE3IiB4Mj0iMTc1LjE2OTUiIHkxPSI0NzguMzM2OSIgeTI9IjQ3OC4zMzY5Ii8+PGVsbGlwc2UgY3g9IjI5LjE3IiBjeT0iNDkxLjk4NTMiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ3LjkwNjMiIHg9IjM4LjE3IiB5PSI0OTUuMzMyIj5JRCBbUEtdPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxOS4xNyIgeDI9IjE3NS4xNjk1IiB5MT0iNTAyLjYzMzgiIHkyPSI1MDIuNjMzOCIvPjxlbGxpcHNlIGN4PSIyOS4xNyIgY3k9IjUxNi4yODIyIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTYuNjA3MSIgeD0iMzguMTciIHk9IjUxOS42Mjg5Ij4mIzIwMzE2OyYjMjY5ODk7JiMyNTM1MTsmIzMxMDM0OyYjMzAwNTg7JiMyMTQ5NTsgW0ZLXTwvdGV4dD48ZWxsaXBzZSBjeD0iMjkuMTciIGN5PSI1MzIuNTc5MSIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjcuOTk5OSIgeD0iMzguMTciIHk9IjUzNS45MjU3Ij4mIzI0MDM3OyYjMzg5MTg7PC90ZXh0PjxlbGxpcHNlIGN4PSIyOS4xNyIgY3k9IjU0OC44NzU5IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDIuNjA3MSIgeD0iMzguMTciIHk9IjU1Mi4yMjI2Ij4mIzI0MDM3OyYjMzEyNDM7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7IFtGS108L3RleHQ+PC9nPjwhLS1saW5rIHdvcmtfb3JkZXIgdG8gd29ya19vcmRlcl9kZXRhaWwtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0id29ya19vcmRlciIgZGF0YS1lbnRpdHktMj0id29ya19vcmRlcl9kZXRhaWwiIGRhdGEtc291cmNlLWxpbmU9IjMyIiBkYXRhLXVpZD0ibG5rNCIgaWQ9Imxpbmtfd29ya19vcmRlcl93b3JrX29yZGVyX2RldGFpbCI+PHBhdGggY29kZUxpbmU9IjMyIiBkPSJNOTcuMTcsMzc3LjQ5NjkgQzk3LjE3LDQwNC45OTY5IDk3LjE3LDQxNS44MDY5IDk3LjE3LDQzOC4wMjY5IiBmaWxsPSJub25lIiBpZD0id29ya19vcmRlci13b3JrX29yZGVyX2RldGFpbCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI5My4xNyIgeDI9IjEwMS4xNyIgeTE9IjM3My40OTY5IiB5Mj0iMzczLjQ5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iOTMuMTciIHgyPSIxMDEuMTciIHkxPSIzNzYuNDk2OSIgeTI9IjM3Ni40OTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijk3LjE3IiB4Mj0iOTcuMTciIHkxPSIzNzcuNDk2OSIgeTI9IjM2OS40OTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijk3LjE3IiB4Mj0iMTAzLjE3IiB5MT0iNDM4LjAyNjkiIHkyPSI0NDYuMDI2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI5Ny4xNyIgeDI9IjkxLjE3IiB5MT0iNDM4LjAyNjkiIHkyPSI0NDYuMDI2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI5Ny4xNyIgeDI9Ijk3LjE3IiB5MT0iNDM4LjAyNjkiIHkyPSI0NDYuMDI2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMDEuMTciIHgyPSI5My4xNyIgeTE9IjQzNi4wMjY5IiB5Mj0iNDM2LjAyNjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS4wMjc4IiB4PSI5OC4xNyIgeT0iNDEyLjQwMzgiPmNvbnRhaW5zPC90ZXh0PjwvZz48IS0tU1JDPVtBeWFpb0tiTFVCOXRwaEViUXZfcmozelZpa2pudXhmZG94alZEWXBXdWFoREF5YWlnTEhHR2Y1a1JkX1NsRVRucXR1YlhTSFlYVkJ5ZWtwdV9BQUtyMkE1UVl1ajFLeU5YVVcweHJXa05McVcxcmROeXdjaGRsUGxMdVdFelZDQzM3TUQxU2UtUmJlNUNnVXYwSVJidlhzQmZrZFB6QUwwYVFVSjZ2X0ZObFV1UUpET1VJVE1YTEN0VzFHa3NGQWlpbTUzdVNqZnRLLU5UcF9QclY1cXRJb2VZVWp3ZGRMQ0c4V3lOSlZfLU92ejQ3SzhGYjNMYXJyam8zZ1V4VVkwc0ZIeVVfLUJwbEwwWHk2dkp0UnE4ZWl5UmpodmtCYUQ0YXYwRGlHNGU2Y0Zjd1MtUmJ4dms2YTNyekVjY0l5UWNoYmdpR1ZvaW5ienB4VGltMU5LeUljZjlPY1BFU0k1RTJHR2RjdlYtZDkxNnVKblY0S3RNWTAxTk80S2FKS3JraGVyckxaaWlyOUdJaXhGMHBCcFlmSzBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<details>
<summary>DDL: 作業指示データ・作業指示明細データ</summary>

<div class="highlight"><pre><span></span><code><span class="c1">-- V014__create_work_order_tables.sql</span>

<span class="c1">-- 作業指示ステータス</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TYPE</span><span class="w"> </span><span class="err">作業指示ステータス</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ENUM</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;未着手&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;作業中&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;完了&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;中断&#39;</span><span class="p">);</span>

<span class="c1">-- 作業指示データ</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;作業指示データ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ID&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作業指示番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;オーダ番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作業指示日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;品目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作業指示数&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;場所コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;開始予定日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;完成予定日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;実績開始日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;実績完了日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;完成済数&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;総良品数&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;総不良品数&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;ステータス&quot;</span><span class="w"> </span><span class="err">作業指示ステータス</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;未着手&#39;</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;完了フラグ&quot;</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">false</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;備考&quot;</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_作業指示_オーダ&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;オーダ番号&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;オーダ情報&quot;</span><span class="p">(</span><span class="ss">&quot;オーダNO&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_作業指示_品目&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;品目マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_作業指示_場所&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;場所コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;場所マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;場所コード&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- 作業指示明細データ</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;作業指示明細データ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ID&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作業指示番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;工順&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;工程コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_作業指示明細_作業指示&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;作業指示番号&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;作業指示データ&quot;</span><span class="p">(</span><span class="ss">&quot;作業指示番号&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_作業指示明細_工程&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;工程コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;工程マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;工程コード&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">UNIQUE</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;作業指示番号&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;工順&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- インデックス</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_作業指示_オーダ番号&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;作業指示データ&quot;</span><span class="p">(</span><span class="ss">&quot;オーダ番号&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_作業指示_品目コード&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;作業指示データ&quot;</span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_作業指示_ステータス&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;作業指示データ&quot;</span><span class="p">(</span><span class="ss">&quot;ステータス&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_作業指示明細_工程コード&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;作業指示明細データ&quot;</span><span class="p">(</span><span class="ss">&quot;工程コード&quot;</span><span class="p">);</span>
</code></pre></div>

</details>

<h3 id="java">Java エンティティの定義<a class="headerlink" href="#java" title="Permanent link">&para;</a></h3>
<h4 id="_5">工程マスタ・工程表エンティティ<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h4>
<details>
<summary>Entity: Process（工程マスタ）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/process/Process.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.process</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Process</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">processCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">processName</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">createdBy</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">updatedBy</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>Entity: Routing（工程表）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/process/Routing.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.process</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.item.Item</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Routing</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">sequence</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">processCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// リレーション</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Item</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Process</span><span class="w"> </span><span class="n">process</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="enum">作業指示ステータス Enum<a class="headerlink" href="#enum" title="Permanent link">&para;</a></h4>
<details>
<summary>Enum: WorkOrderStatus（作業指示ステータス）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/process/WorkOrderStatus.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.process</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Getter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>

<span class="nd">@Getter</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">WorkOrderStatus</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">NOT_STARTED</span><span class="p">(</span><span class="s">&quot;未着手&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">IN_PROGRESS</span><span class="p">(</span><span class="s">&quot;作業中&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">COMPLETED</span><span class="p">(</span><span class="s">&quot;完了&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">SUSPENDED</span><span class="p">(</span><span class="s">&quot;中断&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">WorkOrderStatus</span><span class="w"> </span><span class="nf">fromDisplayName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">WorkOrderStatus</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">values</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="p">.</span><span class="na">displayName</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">displayName</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;Unknown work order status: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">displayName</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h4 id="_6">作業指示エンティティ<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h4>
<details>
<summary>Entity: WorkOrder（作業指示データ）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/process/WorkOrder.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.process</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.item.Item</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.master.Location</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.planning.Order</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">WorkOrder</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">workOrderNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">orderNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">workOrderDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">orderQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">locationCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">plannedStartDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">plannedEndDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">actualStartDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">actualEndDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">completedQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">totalGoodQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">totalDefectQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">WorkOrderStatus</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Boolean</span><span class="w"> </span><span class="n">completedFlag</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">remarks</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">createdBy</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">updatedBy</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// リレーション</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Order</span><span class="w"> </span><span class="n">order</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Item</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Location</span><span class="w"> </span><span class="n">location</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">WorkOrderDetail</span><span class="o">&gt;</span><span class="w"> </span><span class="n">details</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>Entity: WorkOrderDetail（作業指示明細データ）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/process/WorkOrderDetail.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.process</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">WorkOrderDetail</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">workOrderNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">sequence</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">processCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// リレーション</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">WorkOrder</span><span class="w"> </span><span class="n">workOrder</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Process</span><span class="w"> </span><span class="n">process</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="typehandler">TypeHandler の実装<a class="headerlink" href="#typehandler" title="Permanent link">&para;</a></h3>
<details>
<summary>TypeHandler: WorkOrderStatusTypeHandler</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/infrastructure/persistence/WorkOrderStatusTypeHandler.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.persistence</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.process.WorkOrderStatus</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.ibatis.type.BaseTypeHandler</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.ibatis.type.JdbcType</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.ibatis.type.MappedTypes</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.sql.CallableStatement</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.sql.PreparedStatement</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.sql.ResultSet</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.sql.SQLException</span><span class="p">;</span>

<span class="nd">@MappedTypes</span><span class="p">(</span><span class="n">WorkOrderStatus</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">WorkOrderStatusTypeHandler</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">BaseTypeHandler</span><span class="o">&lt;</span><span class="n">WorkOrderStatus</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setNonNullParameter</span><span class="p">(</span><span class="n">PreparedStatement</span><span class="w"> </span><span class="n">ps</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">WorkOrderStatus</span><span class="w"> </span><span class="n">parameter</span><span class="p">,</span><span class="w"> </span><span class="n">JdbcType</span><span class="w"> </span><span class="n">jdbcType</span><span class="p">)</span>
<span class="w">            </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ps</span><span class="p">.</span><span class="na">setString</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">parameter</span><span class="p">.</span><span class="na">getDisplayName</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">WorkOrderStatus</span><span class="w"> </span><span class="nf">getNullableResult</span><span class="p">(</span><span class="n">ResultSet</span><span class="w"> </span><span class="n">rs</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">columnName</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rs</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="n">columnName</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">WorkOrderStatus</span><span class="p">.</span><span class="na">fromDisplayName</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">WorkOrderStatus</span><span class="w"> </span><span class="nf">getNullableResult</span><span class="p">(</span><span class="n">ResultSet</span><span class="w"> </span><span class="n">rs</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">columnIndex</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rs</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="n">columnIndex</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">WorkOrderStatus</span><span class="p">.</span><span class="na">fromDisplayName</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">WorkOrderStatus</span><span class="w"> </span><span class="nf">getNullableResult</span><span class="p">(</span><span class="n">CallableStatement</span><span class="w"> </span><span class="n">cs</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">columnIndex</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cs</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="n">columnIndex</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">WorkOrderStatus</span><span class="p">.</span><span class="na">fromDisplayName</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="mybatis-mapper">MyBatis Mapper<a class="headerlink" href="#mybatis-mapper" title="Permanent link">&para;</a></h3>
<details>
<summary>Mapper XML: WorkOrderMapper.xml</summary>

<div class="highlight"><pre><span></span><code><span class="cm">&lt;!-- src/main/resources/com/example/production/infrastructure/persistence/mapper/WorkOrderMapper.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
<span class="cp">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span>
<span class="nt">&lt;mapper</span><span class="w"> </span><span class="na">namespace=</span><span class="s">&quot;com.example.production.infrastructure.persistence.mapper.WorkOrderMapper&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="nt">&lt;resultMap</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;WorkOrderResultMap&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;com.example.production.domain.model.process.WorkOrder&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;id</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;ID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;workOrderNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作業指示番号&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;orderNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;オーダ番号&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;workOrderDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作業指示日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;itemCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;品目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;orderQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作業指示数&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;locationCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;場所コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;plannedStartDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;開始予定日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;plannedEndDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;完成予定日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;actualStartDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;実績開始日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;actualEndDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;実績完了日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;completedQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;完成済数&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;totalGoodQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;総良品数&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;totalDefectQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;総不良品数&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;status&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;ステータス&quot;</span>
<span class="w">                </span><span class="na">typeHandler=</span><span class="s">&quot;com.example.production.infrastructure.persistence.WorkOrderStatusTypeHandler&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;completedFlag&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;完了フラグ&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;remarks&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;備考&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;createdAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作成日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;createdBy&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作成者&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;updatedAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;更新日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;updatedBy&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;更新者&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/resultMap&gt;</span>

<span class="w">    </span><span class="nt">&lt;insert</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;insert&quot;</span><span class="w"> </span><span class="na">useGeneratedKeys=</span><span class="s">&quot;true&quot;</span><span class="w"> </span><span class="na">keyProperty=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">keyColumn=</span><span class="s">&quot;ID&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>INSERT<span class="w"> </span>INTO<span class="w"> </span>&quot;作業指示データ&quot;<span class="w"> </span>(
<span class="w">            </span>&quot;作業指示番号&quot;,<span class="w"> </span>&quot;オーダ番号&quot;,<span class="w"> </span>&quot;作業指示日&quot;,<span class="w"> </span>&quot;品目コード&quot;,<span class="w"> </span>&quot;作業指示数&quot;,
<span class="w">            </span>&quot;場所コード&quot;,<span class="w"> </span>&quot;開始予定日&quot;,<span class="w"> </span>&quot;完成予定日&quot;,<span class="w"> </span>&quot;ステータス&quot;,<span class="w"> </span>&quot;完了フラグ&quot;,<span class="w"> </span>&quot;備考&quot;,<span class="w"> </span>&quot;作成者&quot;
<span class="w">        </span>)<span class="w"> </span>VALUES<span class="w"> </span>(
<span class="w">            </span>#{workOrderNumber},
<span class="w">            </span>#{orderNumber},
<span class="w">            </span>#{workOrderDate},
<span class="w">            </span>#{itemCode},
<span class="w">            </span>#{orderQuantity},
<span class="w">            </span>#{locationCode},
<span class="w">            </span>#{plannedStartDate},
<span class="w">            </span>#{plannedEndDate},
<span class="w">            </span>#{status,<span class="w"> </span>typeHandler=com.example.production.infrastructure.persistence.WorkOrderStatusTypeHandler}::作業指示ステータス,
<span class="w">            </span>#{completedFlag},
<span class="w">            </span>#{remarks},
<span class="w">            </span>#{createdBy}
<span class="w">        </span>)
<span class="w">    </span><span class="nt">&lt;/insert&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findByWorkOrderNumber&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;WorkOrderResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;作業指示データ&quot;<span class="w"> </span>WHERE<span class="w"> </span>&quot;作業指示番号&quot;<span class="w"> </span>=<span class="w"> </span>#{workOrderNumber}
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findLatestWorkOrderNumber&quot;</span><span class="w"> </span><span class="na">resultType=</span><span class="s">&quot;string&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>&quot;作業指示番号&quot;<span class="w"> </span>FROM<span class="w"> </span>&quot;作業指示データ&quot;
<span class="w">        </span>WHERE<span class="w"> </span>&quot;作業指示番号&quot;<span class="w"> </span>LIKE<span class="w"> </span>#{prefix}
<span class="w">        </span>ORDER<span class="w"> </span>BY<span class="w"> </span>&quot;作業指示番号&quot;<span class="w"> </span>DESC
<span class="w">        </span>LIMIT<span class="w"> </span>1
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;update</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;startWork&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>UPDATE<span class="w"> </span>&quot;作業指示データ&quot;
<span class="w">        </span>SET<span class="w"> </span>&quot;ステータス&quot;<span class="w"> </span>=<span class="w"> </span>&#39;作業中&#39;::作業指示ステータス,
<span class="w">            </span>&quot;実績開始日&quot;<span class="w"> </span>=<span class="w"> </span>#{actualStartDate},
<span class="w">            </span>&quot;更新日時&quot;<span class="w"> </span>=<span class="w"> </span>CURRENT_TIMESTAMP
<span class="w">        </span>WHERE<span class="w"> </span>&quot;作業指示番号&quot;<span class="w"> </span>=<span class="w"> </span>#{workOrderNumber}
<span class="w">    </span><span class="nt">&lt;/update&gt;</span>

<span class="w">    </span><span class="nt">&lt;update</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;completeWork&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>UPDATE<span class="w"> </span>&quot;作業指示データ&quot;
<span class="w">        </span>SET<span class="w"> </span>&quot;ステータス&quot;<span class="w"> </span>=<span class="w"> </span>&#39;完了&#39;::作業指示ステータス,
<span class="w">            </span>&quot;完了フラグ&quot;<span class="w"> </span>=<span class="w"> </span>true,
<span class="w">            </span>&quot;実績完了日&quot;<span class="w"> </span>=<span class="w"> </span>#{actualEndDate},
<span class="w">            </span>&quot;更新日時&quot;<span class="w"> </span>=<span class="w"> </span>CURRENT_TIMESTAMP
<span class="w">        </span>WHERE<span class="w"> </span>&quot;作業指示番号&quot;<span class="w"> </span>=<span class="w"> </span>#{workOrderNumber}
<span class="w">    </span><span class="nt">&lt;/update&gt;</span>

<span class="w">    </span><span class="nt">&lt;update</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;updateCompletionQuantities&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>UPDATE<span class="w"> </span>&quot;作業指示データ&quot;
<span class="w">        </span>SET<span class="w"> </span>&quot;完成済数&quot;<span class="w"> </span>=<span class="w"> </span>&quot;完成済数&quot;<span class="w"> </span>+<span class="w"> </span>#{completedQuantity},
<span class="w">            </span>&quot;総良品数&quot;<span class="w"> </span>=<span class="w"> </span>&quot;総良品数&quot;<span class="w"> </span>+<span class="w"> </span>#{goodQuantity},
<span class="w">            </span>&quot;総不良品数&quot;<span class="w"> </span>=<span class="w"> </span>&quot;総不良品数&quot;<span class="w"> </span>+<span class="w"> </span>#{defectQuantity},
<span class="w">            </span>&quot;更新日時&quot;<span class="w"> </span>=<span class="w"> </span>CURRENT_TIMESTAMP
<span class="w">        </span>WHERE<span class="w"> </span>&quot;作業指示番号&quot;<span class="w"> </span>=<span class="w"> </span>#{workOrderNumber}
<span class="w">    </span><span class="nt">&lt;/update&gt;</span>

<span class="w">    </span><span class="nt">&lt;delete</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;deleteAll&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>DELETE<span class="w"> </span>FROM<span class="w"> </span>&quot;作業指示データ&quot;
<span class="w">    </span><span class="nt">&lt;/delete&gt;</span>
<span class="nt">&lt;/mapper&gt;</span>
</code></pre></div>

</details>

<details>
<summary>Mapper XML: WorkOrderDetailMapper.xml</summary>

<div class="highlight"><pre><span></span><code><span class="cm">&lt;!-- src/main/resources/com/example/production/infrastructure/persistence/mapper/WorkOrderDetailMapper.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
<span class="cp">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span>
<span class="nt">&lt;mapper</span><span class="w"> </span><span class="na">namespace=</span><span class="s">&quot;com.example.production.infrastructure.persistence.mapper.WorkOrderDetailMapper&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="nt">&lt;resultMap</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;WorkOrderDetailResultMap&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;com.example.production.domain.model.process.WorkOrderDetail&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;id</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;ID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;workOrderNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作業指示番号&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;sequence&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;工順&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;processCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;工程コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;createdAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作成日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;updatedAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;更新日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/resultMap&gt;</span>

<span class="w">    </span><span class="nt">&lt;insert</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;insert&quot;</span><span class="w"> </span><span class="na">useGeneratedKeys=</span><span class="s">&quot;true&quot;</span><span class="w"> </span><span class="na">keyProperty=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">keyColumn=</span><span class="s">&quot;ID&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>INSERT<span class="w"> </span>INTO<span class="w"> </span>&quot;作業指示明細データ&quot;<span class="w"> </span>(
<span class="w">            </span>&quot;作業指示番号&quot;,<span class="w"> </span>&quot;工順&quot;,<span class="w"> </span>&quot;工程コード&quot;
<span class="w">        </span>)<span class="w"> </span>VALUES<span class="w"> </span>(
<span class="w">            </span>#{workOrderNumber},
<span class="w">            </span>#{sequence},
<span class="w">            </span>#{processCode}
<span class="w">        </span>)
<span class="w">    </span><span class="nt">&lt;/insert&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findByWorkOrderNumber&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;WorkOrderDetailResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;作業指示明細データ&quot;
<span class="w">        </span>WHERE<span class="w"> </span>&quot;作業指示番号&quot;<span class="w"> </span>=<span class="w"> </span>#{workOrderNumber}
<span class="w">        </span>ORDER<span class="w"> </span>BY<span class="w"> </span>&quot;工順&quot;
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findByWorkOrderAndSequence&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;WorkOrderDetailResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;作業指示明細データ&quot;
<span class="w">        </span>WHERE<span class="w"> </span>&quot;作業指示番号&quot;<span class="w"> </span>=<span class="w"> </span>#{workOrderNumber}<span class="w"> </span>AND<span class="w"> </span>&quot;工順&quot;<span class="w"> </span>=<span class="w"> </span>#{sequence}
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;delete</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;deleteAll&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>DELETE<span class="w"> </span>FROM<span class="w"> </span>&quot;作業指示明細データ&quot;
<span class="w">    </span><span class="nt">&lt;/delete&gt;</span>
<span class="nt">&lt;/mapper&gt;</span>
</code></pre></div>

</details>

<h3 id="mapper">Mapper インターフェース<a class="headerlink" href="#mapper" title="Permanent link">&para;</a></h3>
<details>
<summary>Mapper Interface: WorkOrderMapper</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/infrastructure/persistence/mapper/WorkOrderMapper.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.persistence.mapper</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.process.WorkOrder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.ibatis.annotations.Mapper</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.ibatis.annotations.Param</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>

<span class="nd">@Mapper</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">WorkOrderMapper</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">insert</span><span class="p">(</span><span class="n">WorkOrder</span><span class="w"> </span><span class="n">workOrder</span><span class="p">);</span>
<span class="w">    </span><span class="n">WorkOrder</span><span class="w"> </span><span class="nf">findByWorkOrderNumber</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">workOrderNumber</span><span class="p">);</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="nf">findLatestWorkOrderNumber</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">prefix</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">startWork</span><span class="p">(</span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;workOrderNumber&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">workOrderNumber</span><span class="p">,</span>
<span class="w">                   </span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;actualStartDate&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">actualStartDate</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">completeWork</span><span class="p">(</span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;workOrderNumber&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">workOrderNumber</span><span class="p">,</span>
<span class="w">                      </span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;actualEndDate&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">actualEndDate</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">updateCompletionQuantities</span><span class="p">(</span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;workOrderNumber&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">workOrderNumber</span><span class="p">,</span>
<span class="w">                                    </span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;completedQuantity&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">completedQuantity</span><span class="p">,</span>
<span class="w">                                    </span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;goodQuantity&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">goodQuantity</span><span class="p">,</span>
<span class="w">                                    </span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;defectQuantity&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">defectQuantity</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">deleteAll</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>Mapper Interface: WorkOrderDetailMapper</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/infrastructure/persistence/mapper/WorkOrderDetailMapper.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.persistence.mapper</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.process.WorkOrderDetail</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.ibatis.annotations.Mapper</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.ibatis.annotations.Param</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="nd">@Mapper</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">WorkOrderDetailMapper</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">insert</span><span class="p">(</span><span class="n">WorkOrderDetail</span><span class="w"> </span><span class="n">detail</span><span class="p">);</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">WorkOrderDetail</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByWorkOrderNumber</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">workOrderNumber</span><span class="p">);</span>
<span class="w">    </span><span class="n">WorkOrderDetail</span><span class="w"> </span><span class="nf">findByWorkOrderAndSequence</span><span class="p">(</span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;workOrderNumber&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">workOrderNumber</span><span class="p">,</span>
<span class="w">                                               </span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;sequence&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">sequence</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">deleteAll</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="_7">作業指示サービスの実装<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<details>
<summary>Service: WorkOrderService</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/application/service/WorkOrderService.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.application.service</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.planning.Order</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.process.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.persistence.mapper.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Service</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.transaction.annotation.Transactional</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.format.DateTimeFormatter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="nd">@Service</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">WorkOrderService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">WorkOrderMapper</span><span class="w"> </span><span class="n">workOrderMapper</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">WorkOrderDetailMapper</span><span class="w"> </span><span class="n">workOrderDetailMapper</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">OrderMapper</span><span class="w"> </span><span class="n">orderMapper</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">RoutingMapper</span><span class="w"> </span><span class="n">routingMapper</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 作業指示番号を生成する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">generateWorkOrderNumber</span><span class="p">(</span><span class="n">LocalDate</span><span class="w"> </span><span class="n">workOrderDate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;WO-&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">workOrderDate</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="n">DateTimeFormatter</span><span class="p">.</span><span class="na">ofPattern</span><span class="p">(</span><span class="s">&quot;yyyyMM&quot;</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;-&quot;</span><span class="p">;</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">latestNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workOrderMapper</span><span class="p">.</span><span class="na">findLatestWorkOrderNumber</span><span class="p">(</span><span class="n">prefix</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;%&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">sequence</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">latestNumber</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">currentSequence</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Integer</span><span class="p">.</span><span class="na">parseInt</span><span class="p">(</span><span class="n">latestNumber</span><span class="p">.</span><span class="na">substring</span><span class="p">(</span><span class="n">latestNumber</span><span class="p">.</span><span class="na">length</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">4</span><span class="p">));</span>
<span class="w">            </span><span class="n">sequence</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">currentSequence</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;%04d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">sequence</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 作業指示を作成する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">WorkOrder</span><span class="w"> </span><span class="nf">createWorkOrder</span><span class="p">(</span><span class="n">WorkOrderCreateInput</span><span class="w"> </span><span class="n">input</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// オーダ情報を取得</span>
<span class="w">        </span><span class="n">Order</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orderMapper</span><span class="p">.</span><span class="na">findByOrderNumber</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getOrderNumber</span><span class="p">());</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">order</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;Order not found: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">input</span><span class="p">.</span><span class="na">getOrderNumber</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// 工程表を取得</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Routing</span><span class="o">&gt;</span><span class="w"> </span><span class="n">routings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">routingMapper</span><span class="p">.</span><span class="na">findByItemCode</span><span class="p">(</span><span class="n">order</span><span class="p">.</span><span class="na">getItemCode</span><span class="p">());</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">routings</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;Routing not found for item: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">order</span><span class="p">.</span><span class="na">getItemCode</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">workOrderNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">generateWorkOrderNumber</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getWorkOrderDate</span><span class="p">());</span>

<span class="w">        </span><span class="c1">// 作業指示ヘッダを作成</span>
<span class="w">        </span><span class="n">WorkOrder</span><span class="w"> </span><span class="n">workOrder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">WorkOrder</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">workOrderNumber</span><span class="p">(</span><span class="n">workOrderNumber</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">orderNumber</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getOrderNumber</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">workOrderDate</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getWorkOrderDate</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">itemCode</span><span class="p">(</span><span class="n">order</span><span class="p">.</span><span class="na">getItemCode</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">orderQuantity</span><span class="p">(</span><span class="n">order</span><span class="p">.</span><span class="na">getPlannedQuantity</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">locationCode</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getLocationCode</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">plannedStartDate</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getPlannedStartDate</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">plannedEndDate</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getPlannedEndDate</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">completedQuantity</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">totalGoodQuantity</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">totalDefectQuantity</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">status</span><span class="p">(</span><span class="n">WorkOrderStatus</span><span class="p">.</span><span class="na">NOT_STARTED</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">completedFlag</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">remarks</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getRemarks</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">        </span><span class="n">workOrderMapper</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">workOrder</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// 作業指示明細を作成（工程表から自動展開）</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">WorkOrderDetail</span><span class="o">&gt;</span><span class="w"> </span><span class="n">details</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Routing</span><span class="w"> </span><span class="n">routing</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">routings</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">WorkOrderDetail</span><span class="w"> </span><span class="n">detail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">WorkOrderDetail</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">workOrderNumber</span><span class="p">(</span><span class="n">workOrderNumber</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">sequence</span><span class="p">(</span><span class="n">routing</span><span class="p">.</span><span class="na">getSequence</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">processCode</span><span class="p">(</span><span class="n">routing</span><span class="p">.</span><span class="na">getProcessCode</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">            </span><span class="n">workOrderDetailMapper</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">detail</span><span class="p">);</span>
<span class="w">            </span><span class="n">details</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">detail</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">workOrder</span><span class="p">.</span><span class="na">setDetails</span><span class="p">(</span><span class="n">details</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">workOrder</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 作業を開始する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">WorkOrder</span><span class="w"> </span><span class="nf">startWork</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">workOrderNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">WorkOrder</span><span class="w"> </span><span class="n">workOrder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workOrderMapper</span><span class="p">.</span><span class="na">findByWorkOrderNumber</span><span class="p">(</span><span class="n">workOrderNumber</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">workOrder</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;Work order not found: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">workOrderNumber</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">workOrder</span><span class="p">.</span><span class="na">getStatus</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">WorkOrderStatus</span><span class="p">.</span><span class="na">NOT_STARTED</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalStateException</span><span class="p">(</span><span class="s">&quot;Only NOT_STARTED work orders can be started&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">workOrderMapper</span><span class="p">.</span><span class="na">startWork</span><span class="p">(</span><span class="n">workOrderNumber</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">());</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">workOrderMapper</span><span class="p">.</span><span class="na">findByWorkOrderNumber</span><span class="p">(</span><span class="n">workOrderNumber</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 作業を完了する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">WorkOrder</span><span class="w"> </span><span class="nf">completeWork</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">workOrderNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">WorkOrder</span><span class="w"> </span><span class="n">workOrder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workOrderMapper</span><span class="p">.</span><span class="na">findByWorkOrderNumber</span><span class="p">(</span><span class="n">workOrderNumber</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">workOrder</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;Work order not found: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">workOrderNumber</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">workOrder</span><span class="p">.</span><span class="na">getStatus</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">WorkOrderStatus</span><span class="p">.</span><span class="na">IN_PROGRESS</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalStateException</span><span class="p">(</span><span class="s">&quot;Only IN_PROGRESS work orders can be completed&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">workOrderMapper</span><span class="p">.</span><span class="na">completeWork</span><span class="p">(</span><span class="n">workOrderNumber</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">());</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">workOrderMapper</span><span class="p">.</span><span class="na">findByWorkOrderNumber</span><span class="p">(</span><span class="n">workOrderNumber</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 作業指示を検索する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">WorkOrder</span><span class="w"> </span><span class="nf">findByWorkOrderNumber</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">workOrderNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">WorkOrder</span><span class="w"> </span><span class="n">workOrder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workOrderMapper</span><span class="p">.</span><span class="na">findByWorkOrderNumber</span><span class="p">(</span><span class="n">workOrderNumber</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">workOrder</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">workOrder</span><span class="p">.</span><span class="na">setDetails</span><span class="p">(</span><span class="n">workOrderDetailMapper</span><span class="p">.</span><span class="na">findByWorkOrderNumber</span><span class="p">(</span><span class="n">workOrderNumber</span><span class="p">));</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">workOrder</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>Input DTO: WorkOrderCreateInput</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/application/service/WorkOrderCreateInput.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.application.service</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">WorkOrderCreateInput</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">orderNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">workOrderDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">locationCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">plannedStartDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">plannedEndDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">remarks</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="tdd">TDD: 作業指示のテスト<a class="headerlink" href="#tdd" title="Permanent link">&para;</a></h3>
<details>
<summary>Test: WorkOrderServiceTest</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/test/java/com/example/production/application/service/WorkOrderServiceTest.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.application.service</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.item.Item</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.item.ItemCategory</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.master.Location</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.planning.Order</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.planning.OrderType</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.planning.OrderStatus</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.process.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.persistence.mapper.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.mybatis.spring.boot.test.autoconfigure.MybatisTest</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.context.annotation.Import</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.test.context.DynamicPropertyRegistry</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.test.context.DynamicPropertySource</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.testcontainers.containers.PostgreSQLContainer</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.testcontainers.junit.jupiter.Container</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.testcontainers.junit.jupiter.Testcontainers</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="kn">import static</span><span class="w"> </span><span class="nn">org.assertj.core.api.Assertions.*</span><span class="p">;</span>

<span class="nd">@MybatisTest</span>
<span class="nd">@AutoConfigureTestDatabase</span><span class="p">(</span><span class="n">replace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AutoConfigureTestDatabase</span><span class="p">.</span><span class="na">Replace</span><span class="p">.</span><span class="na">NONE</span><span class="p">)</span>
<span class="nd">@Import</span><span class="p">(</span><span class="n">WorkOrderService</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="nd">@Testcontainers</span>
<span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;作業指示&quot;</span><span class="p">)</span>
<span class="kd">class</span> <span class="nc">WorkOrderServiceTest</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Container</span>
<span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="n">PostgreSQLContainer</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">postgres</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PostgreSQLContainer</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="s">&quot;postgres:15&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">withDatabaseName</span><span class="p">(</span><span class="s">&quot;testdb&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">withUsername</span><span class="p">(</span><span class="s">&quot;testuser&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">withPassword</span><span class="p">(</span><span class="s">&quot;testpass&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="nd">@DynamicPropertySource</span>
<span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">configureProperties</span><span class="p">(</span><span class="n">DynamicPropertyRegistry</span><span class="w"> </span><span class="n">registry</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">registry</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;spring.datasource.url&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">postgres</span><span class="p">::</span><span class="n">getJdbcUrl</span><span class="p">);</span>
<span class="w">        </span><span class="n">registry</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;spring.datasource.username&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">postgres</span><span class="p">::</span><span class="n">getUsername</span><span class="p">);</span>
<span class="w">        </span><span class="n">registry</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;spring.datasource.password&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">postgres</span><span class="p">::</span><span class="n">getPassword</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">WorkOrderService</span><span class="w"> </span><span class="n">workOrderService</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ItemMapper</span><span class="w"> </span><span class="n">itemMapper</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ProcessMapper</span><span class="w"> </span><span class="n">processMapper</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">RoutingMapper</span><span class="w"> </span><span class="n">routingMapper</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocationMapper</span><span class="w"> </span><span class="n">locationMapper</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">OrderMapper</span><span class="w"> </span><span class="n">orderMapper</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">WorkOrderMapper</span><span class="w"> </span><span class="n">workOrderMapper</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">WorkOrderDetailMapper</span><span class="w"> </span><span class="n">workOrderDetailMapper</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@BeforeEach</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">setUp</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">workOrderDetailMapper</span><span class="p">.</span><span class="na">deleteAll</span><span class="p">();</span>
<span class="w">        </span><span class="n">workOrderMapper</span><span class="p">.</span><span class="na">deleteAll</span><span class="p">();</span>
<span class="w">        </span><span class="n">routingMapper</span><span class="p">.</span><span class="na">deleteAll</span><span class="p">();</span>
<span class="w">        </span><span class="n">orderMapper</span><span class="p">.</span><span class="na">deleteAll</span><span class="p">();</span>
<span class="w">        </span><span class="n">processMapper</span><span class="p">.</span><span class="na">deleteAll</span><span class="p">();</span>
<span class="w">        </span><span class="n">locationMapper</span><span class="p">.</span><span class="na">deleteAll</span><span class="p">();</span>
<span class="w">        </span><span class="n">itemMapper</span><span class="p">.</span><span class="na">deleteAll</span><span class="p">();</span>

<span class="w">        </span><span class="n">setupMasterData</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">setupMasterData</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 品目マスタ</span>
<span class="w">        </span><span class="n">itemMapper</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">Item</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">itemCode</span><span class="p">(</span><span class="s">&quot;PROD-001&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">effectiveFrom</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">itemName</span><span class="p">(</span><span class="s">&quot;製品A&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">itemCategory</span><span class="p">(</span><span class="n">ItemCategory</span><span class="p">.</span><span class="na">PRODUCT</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>

<span class="w">        </span><span class="c1">// 工程マスタ</span>
<span class="w">        </span><span class="n">processMapper</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">Process</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">processCode</span><span class="p">(</span><span class="s">&quot;PRESS&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">processName</span><span class="p">(</span><span class="s">&quot;プレス加工&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>
<span class="w">        </span><span class="n">processMapper</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">Process</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">processCode</span><span class="p">(</span><span class="s">&quot;ASSEMBLY&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">processName</span><span class="p">(</span><span class="s">&quot;組立&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>
<span class="w">        </span><span class="n">processMapper</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">Process</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">processCode</span><span class="p">(</span><span class="s">&quot;INSPECT&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">processName</span><span class="p">(</span><span class="s">&quot;検査&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>

<span class="w">        </span><span class="c1">// 工程表</span>
<span class="w">        </span><span class="n">routingMapper</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">Routing</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">itemCode</span><span class="p">(</span><span class="s">&quot;PROD-001&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">sequence</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">processCode</span><span class="p">(</span><span class="s">&quot;PRESS&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>
<span class="w">        </span><span class="n">routingMapper</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">Routing</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">itemCode</span><span class="p">(</span><span class="s">&quot;PROD-001&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">sequence</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">processCode</span><span class="p">(</span><span class="s">&quot;ASSEMBLY&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>
<span class="w">        </span><span class="n">routingMapper</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">Routing</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">itemCode</span><span class="p">(</span><span class="s">&quot;PROD-001&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">sequence</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">processCode</span><span class="p">(</span><span class="s">&quot;INSPECT&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>

<span class="w">        </span><span class="c1">// 場所マスタ</span>
<span class="w">        </span><span class="n">locationMapper</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">Location</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">locationCode</span><span class="p">(</span><span class="s">&quot;LINE001&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">locationName</span><span class="p">(</span><span class="s">&quot;製造ライン1&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">locationTypeCode</span><span class="p">(</span><span class="s">&quot;製造&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>

<span class="w">        </span><span class="c1">// オーダ情報</span>
<span class="w">        </span><span class="n">orderMapper</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">Order</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">orderNumber</span><span class="p">(</span><span class="s">&quot;MO-2025-001&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">orderType</span><span class="p">(</span><span class="n">OrderType</span><span class="p">.</span><span class="na">MANUFACTURING</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">itemCode</span><span class="p">(</span><span class="s">&quot;PROD-001&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">plannedStartDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">21</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">dueDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">plannedQuantity</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;100&quot;</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">status</span><span class="p">(</span><span class="n">OrderStatus</span><span class="p">.</span><span class="na">CONFIRMED</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Nested</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;作業指示の作成&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">class</span> <span class="nc">WorkOrderCreation</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;オーダ情報から作業指示を作成できる&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">canCreateWorkOrderFromOrder</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Act</span>
<span class="w">            </span><span class="n">WorkOrderCreateInput</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">WorkOrderCreateInput</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">orderNumber</span><span class="p">(</span><span class="s">&quot;MO-2025-001&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">workOrderDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">locationCode</span><span class="p">(</span><span class="s">&quot;LINE001&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">plannedStartDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">21</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">plannedEndDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">            </span><span class="n">WorkOrder</span><span class="w"> </span><span class="n">workOrder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workOrderService</span><span class="p">.</span><span class="na">createWorkOrder</span><span class="p">(</span><span class="n">input</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Assert</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">workOrder</span><span class="p">).</span><span class="na">isNotNull</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">workOrder</span><span class="p">.</span><span class="na">getWorkOrderNumber</span><span class="p">()).</span><span class="na">startsWith</span><span class="p">(</span><span class="s">&quot;WO-&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">workOrder</span><span class="p">.</span><span class="na">getItemCode</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&quot;PROD-001&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">workOrder</span><span class="p">.</span><span class="na">getOrderQuantity</span><span class="p">()).</span><span class="na">isEqualByComparingTo</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;100&quot;</span><span class="p">));</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">workOrder</span><span class="p">.</span><span class="na">getDetails</span><span class="p">()).</span><span class="na">hasSize</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span><span class="w"> </span><span class="c1">// 工程表から3工程</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;工程表の工順に従って明細が作成される&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">detailsAreCreatedAccordingToRouting</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Act</span>
<span class="w">            </span><span class="n">WorkOrderCreateInput</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">WorkOrderCreateInput</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">orderNumber</span><span class="p">(</span><span class="s">&quot;MO-2025-001&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">workOrderDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">locationCode</span><span class="p">(</span><span class="s">&quot;LINE001&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">plannedStartDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">21</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">plannedEndDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="w">            </span><span class="n">WorkOrder</span><span class="w"> </span><span class="n">workOrder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workOrderService</span><span class="p">.</span><span class="na">createWorkOrder</span><span class="p">(</span><span class="n">input</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Assert: 工順の順序を確認</span>
<span class="w">            </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">sequences</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workOrder</span><span class="p">.</span><span class="na">getDetails</span><span class="p">().</span><span class="na">stream</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">WorkOrderDetail</span><span class="p">::</span><span class="n">getSequence</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">sorted</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">toList</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">sequences</span><span class="p">).</span><span class="na">containsExactly</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// 各工程の確認</span>
<span class="w">            </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">processCodes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workOrder</span><span class="p">.</span><span class="na">getDetails</span><span class="p">().</span><span class="na">stream</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">WorkOrderDetail</span><span class="p">::</span><span class="n">getProcessCode</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">toList</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">processCodes</span><span class="p">).</span><span class="na">containsExactlyInAnyOrder</span><span class="p">(</span><span class="s">&quot;PRESS&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ASSEMBLY&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;INSPECT&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Nested</span>
<span class="w">    </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;作業指示のステータス管理&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">class</span> <span class="nc">WorkOrderStatusManagement</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;作業指示を開始できる&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">canStartWorkOrder</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Arrange</span>
<span class="w">            </span><span class="n">WorkOrder</span><span class="w"> </span><span class="n">workOrder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workOrderService</span><span class="p">.</span><span class="na">createWorkOrder</span><span class="p">(</span><span class="n">WorkOrderCreateInput</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">orderNumber</span><span class="p">(</span><span class="s">&quot;MO-2025-001&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">workOrderDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">locationCode</span><span class="p">(</span><span class="s">&quot;LINE001&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">plannedStartDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">21</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">plannedEndDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>

<span class="w">            </span><span class="c1">// Act</span>
<span class="w">            </span><span class="n">WorkOrder</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workOrderService</span><span class="p">.</span><span class="na">startWork</span><span class="p">(</span><span class="n">workOrder</span><span class="p">.</span><span class="na">getWorkOrderNumber</span><span class="p">());</span>

<span class="w">            </span><span class="c1">// Assert</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">updated</span><span class="p">.</span><span class="na">getStatus</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="n">WorkOrderStatus</span><span class="p">.</span><span class="na">IN_PROGRESS</span><span class="p">);</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">updated</span><span class="p">.</span><span class="na">getActualStartDate</span><span class="p">()).</span><span class="na">isNotNull</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Test</span>
<span class="w">        </span><span class="nd">@DisplayName</span><span class="p">(</span><span class="s">&quot;作業指示を完了できる&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">canCompleteWorkOrder</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Arrange</span>
<span class="w">            </span><span class="n">WorkOrder</span><span class="w"> </span><span class="n">workOrder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workOrderService</span><span class="p">.</span><span class="na">createWorkOrder</span><span class="p">(</span><span class="n">WorkOrderCreateInput</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">orderNumber</span><span class="p">(</span><span class="s">&quot;MO-2025-001&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">workOrderDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">locationCode</span><span class="p">(</span><span class="s">&quot;LINE001&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">plannedStartDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">21</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">plannedEndDate</span><span class="p">(</span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">))</span>
<span class="w">                    </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>
<span class="w">            </span><span class="n">workOrderService</span><span class="p">.</span><span class="na">startWork</span><span class="p">(</span><span class="n">workOrder</span><span class="p">.</span><span class="na">getWorkOrderNumber</span><span class="p">());</span>

<span class="w">            </span><span class="c1">// Act</span>
<span class="w">            </span><span class="n">WorkOrder</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workOrderService</span><span class="p">.</span><span class="na">completeWork</span><span class="p">(</span><span class="n">workOrder</span><span class="p">.</span><span class="na">getWorkOrderNumber</span><span class="p">());</span>

<span class="w">            </span><span class="c1">// Assert</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">updated</span><span class="p">.</span><span class="na">getStatus</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="n">WorkOrderStatus</span><span class="p">.</span><span class="na">COMPLETED</span><span class="p">);</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">updated</span><span class="p">.</span><span class="na">getCompletedFlag</span><span class="p">()).</span><span class="na">isTrue</span><span class="p">();</span>
<span class="w">            </span><span class="n">assertThat</span><span class="p">(</span><span class="n">updated</span><span class="p">.</span><span class="na">getActualEndDate</span><span class="p">()).</span><span class="na">isNotNull</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="272-db">27.2 製造実績の DB 設計<a class="headerlink" href="#272-db" title="Permanent link">&para;</a></h2>
<h3 id="_8">完成実績データの構造<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<p>製造現場からの完成報告を記録します。良品数・不良品数を管理し、作業指示の完成済数に反映します。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjQzNnB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MzM2cHg7aGVpZ2h0OjQzNnB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDMzNiA0MzYiIHdpZHRoPSIzMzZweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjM0MzY7JiMyNTEwNDsmIzIzNDU1OyYjMzIzMTg7JiMxMjM5ODsmIzI3MDgzOyYjMzY4OTY7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMTEyLjUiIHk9IjIyLjk5NTEiPiYjMjM0MzY7JiMyNTEwNDsmIzIzNDU1OyYjMzIzMTg7JiMxMjM5ODsmIzI3MDgzOyYjMzY4OTY7PC90ZXh0PjwvZz48IS0tY2xhc3MgY29tcGxldGlvbl9yZXN1bHQtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iY29tcGxldGlvbl9yZXN1bHQiIGRhdGEtc291cmNlLWxpbmU9IjMiIGRhdGEtdWlkPSJlbnQwMDAyIiBpZD0iZW50aXR5X2NvbXBsZXRpb25fcmVzdWx0Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjE5NC42NzE5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxODAuMzM0NiIgeD0iODQuODMiIHk9IjQ0LjI5NjkiLz48ZWxsaXBzZSBjeD0iMTIyLjQ4MDgiIGN5PSI2MC4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0xMjYuNTkwMSw2Ni4yOTY5IEwxMTguODcxNCw2Ni4yOTY5IEwxMTguODcxNCw1My45MDYzIEwxMjYuNTkwMSw1My45MDYzIEwxMjYuNTkwMSw1Ni4wNjI1IEwxMjEuMzI0NSw1Ni4wNjI1IEwxMjEuMzI0NSw1OC43MzQ0IEwxMjYuMDkwMSw1OC43MzQ0IEwxMjYuMDkwMSw2MC44OTA2IEwxMjEuMzI0NSw2MC44OTA2IEwxMjEuMzI0NSw2NC4xNDA2IEwxMjYuNTkwMSw2NC4xNDA2IEwxMjYuNTkwMSw2Ni4yOTY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMTQxLjUxNDMiIHk9IjY1LjE0MzYiPiYjMjM0MzY7JiMyNTEwNDsmIzIzNDU1OyYjMzIzMTg7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9Ijg1LjgzIiB4Mj0iMjY0LjE2NDYiIHkxPSI3Ni4yOTY5IiB5Mj0iNzYuMjk2OSIvPjxlbGxpcHNlIGN4PSI5NS44MyIgY3k9Ijg5Ljk0NTMiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ3LjkwNjMiIHg9IjEwNC44MyIgeT0iOTMuMjkyIj5JRCBbUEtdPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI4NS44MyIgeDI9IjI2NC4xNjQ2IiB5MT0iMTAwLjU5MzgiIHkyPSIxMDAuNTkzOCIvPjxlbGxpcHNlIGN4PSI5NS44MyIgY3k9IjExNC4yNDIyIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTQuMzM0NiIgeD0iMTA0LjgzIiB5PSIxMTcuNTg4OSI+JiMyMzQzNjsmIzI1MTA0OyYjMjM0NTU7JiMzMjMxODsmIzMwMDU4OyYjMjE0OTU7IFtVTklRVUVdPC90ZXh0PjxlbGxpcHNlIGN4PSI5NS44MyIgY3k9IjEzMC41MzkxIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTYuNjA3MSIgeD0iMTA0LjgzIiB5PSIxMzMuODg1NyI+JiMyMDMxNjsmIzI2OTg5OyYjMjUzNTE7JiMzMTAzNDsmIzMwMDU4OyYjMjE0OTU7IFtGS108L3RleHQ+PGVsbGlwc2UgY3g9Ijk1LjgzIiBjeT0iMTQ2LjgzNTkiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMi42MDcxIiB4PSIxMDQuODMiIHk9IjE1MC4xODI2Ij4mIzIxNjk3OyYjMzA0NDY7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7IFtGS108L3RleHQ+PGVsbGlwc2UgY3g9Ijk1LjgzIiBjeT0iMTYzLjEzMjgiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjk5OTgiIHg9IjEwNC44MyIgeT0iMTY2LjQ3OTUiPiYjMjM0MzY7JiMyNTEwNDsmIzI2MDg1OzwvdGV4dD48ZWxsaXBzZSBjeD0iOTUuODMiIGN5PSIxNzkuNDI5NyIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTA0LjgzIiB5PSIxODIuNzc2NCI+JiMyMzQzNjsmIzI1MTA0OyYjMjU5Njg7JiMzNzMyNzs8L3RleHQ+PGVsbGlwc2UgY3g9Ijk1LjgzIiBjeT0iMTk1LjcyNjYiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjk5OTgiIHg9IjEwNC44MyIgeT0iMTk5LjA3MzIiPiYjMzMzOTE7JiMyMTY5NzsmIzI1OTY4OzwvdGV4dD48ZWxsaXBzZSBjeD0iOTUuODMiIGN5PSIyMTIuMDIzNCIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTA0LjgzIiB5PSIyMTUuMzcwMSI+JiMxOTk4MTsmIzMzMzkxOyYjMjE2OTc7JiMyNTk2ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjcuOTk5OSIgeD0iMTA0LjgzIiB5PSIyMzEuNjY3Ij4mIzIwNjMzOyYjMzI3NzE7PC90ZXh0PjwvZz48IS0tY2xhc3MgaW5zcGVjdGlvbl9yZXN1bHQtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iaW5zcGVjdGlvbl9yZXN1bHQiIGRhdGEtc291cmNlLWxpbmU9IjE2IiBkYXRhLXVpZD0iZW50MDAwMyIgaWQ9ImVudGl0eV9pbnNwZWN0aW9uX3Jlc3VsdCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMTMuMTg3NSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTU3Ljk5OTUiIHg9IjciIHk9IjMxNS45NjY5Ii8+PGVsbGlwc2UgY3g9IjIyIiBjeT0iMzMxLjk2NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTI2LjEwOTQsMzM3Ljk2NjkgTDE4LjM5MDYsMzM3Ljk2NjkgTDE4LjM5MDYsMzI1LjU3NjMgTDI2LjEwOTQsMzI1LjU3NjMgTDI2LjEwOTQsMzI3LjczMjUgTDIwLjg0MzgsMzI3LjczMjUgTDIwLjg0MzgsMzMwLjQwNDQgTDI1LjYwOTQsMzMwLjQwNDQgTDI1LjYwOTQsMzMyLjU2MDYgTDIwLjg0MzgsMzMyLjU2MDYgTDIwLjg0MzgsMzM1LjgxMDYgTDI2LjEwOTQsMzM1LjgxMDYgTDI2LjEwOTQsMzM3Ljk2NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjUuOTk5NSIgeD0iMzYiIHk9IjMzNi44MTM2Ij4mIzIzNDM2OyYjMjUxMDQ7JiMyNjkwODsmIzI2NjE5OyYjMzIwODA7JiMyNjUyNDsmIzEyNDg3OyYjMTI1NDA7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iOCIgeDI9IjE2My45OTk1IiB5MT0iMzQ3Ljk2NjkiIHkyPSIzNDcuOTY2OSIvPjxlbGxpcHNlIGN4PSIxOCIgY3k9IjM2MS42MTUzIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0Ny45MDYzIiB4PSIyNyIgeT0iMzY0Ljk2MiI+SUQgW1BLXTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iOCIgeDI9IjE2My45OTk1IiB5MT0iMzcyLjI2MzgiIHkyPSIzNzIuMjYzOCIvPjxlbGxpcHNlIGN4PSIxOCIgY3k9IjM4NS45MTIyIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTYuNjA3MSIgeD0iMjciIHk9IjM4OS4yNTg5Ij4mIzIzNDM2OyYjMjUxMDQ7JiMyMzQ1NTsmIzMyMzE4OyYjMzAwNTg7JiMyMTQ5NTsgW0ZLXTwvdGV4dD48ZWxsaXBzZSBjeD0iMTgiIGN5PSI0MDIuMjA5MSIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTAyLjYwNzEiIHg9IjI3IiB5PSI0MDUuNTU1NyI+JiMyNzQyNDsmIzI4ODU3OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyBbRktdPC90ZXh0PjxlbGxpcHNlIGN4PSIxOCIgY3k9IjQxOC41MDU5IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSIyNyIgeT0iNDIxLjg1MjYiPiYjMjU5Njg7JiMzNzMyNzs8L3RleHQ+PC9nPjwhLS1jbGFzcyB3b3JrX29yZGVyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9Indvcmtfb3JkZXIiIGRhdGEtc291cmNlLWxpbmU9IjI0IiBkYXRhLXVpZD0iZW50MDAwNCIgaWQ9ImVudGl0eV93b3JrX29yZGVyIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjkuOTk5NiIgeD0iMjAwIiB5PSIzNDguNTY2OSIvPjxlbGxpcHNlIGN4PSIyMTUiIGN5PSIzNjQuNTY2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMjE5LjEwOTQsMzcwLjU2NjkgTDIxMS4zOTA2LDM3MC41NjY5IEwyMTEuMzkwNiwzNTguMTc2MyBMMjE5LjEwOTQsMzU4LjE3NjMgTDIxOS4xMDk0LDM2MC4zMzI1IEwyMTMuODQzOCwzNjAuMzMyNSBMMjEzLjg0MzgsMzYzLjAwNDQgTDIxOC42MDk0LDM2My4wMDQ0IEwyMTguNjA5NCwzNjUuMTYwNiBMMjEzLjg0MzgsMzY1LjE2MDYgTDIxMy44NDM4LDM2OC40MTA2IEwyMTkuMTA5NCwzNjguNDEwNiBMMjE5LjEwOTQsMzcwLjU2NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny45OTk2IiB4PSIyMjkiIHk9IjM2OS40MTM2Ij4mIzIwMzE2OyYjMjY5ODk7JiMyNTM1MTsmIzMxMDM0OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyMDEiIHgyPSIzMjguOTk5NiIgeTE9IjM4MC41NjY5IiB5Mj0iMzgwLjU2NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyMDEiIHgyPSIzMjguOTk5NiIgeTE9IjM4OC41NjY5IiB5Mj0iMzg4LjU2NjkiLz48L2c+PCEtLWxpbmsgY29tcGxldGlvbl9yZXN1bHQgdG8gd29ya19vcmRlci0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJjb21wbGV0aW9uX3Jlc3VsdCIgZGF0YS1lbnRpdHktMj0id29ya19vcmRlciIgZGF0YS1zb3VyY2UtbGluZT0iMjYiIGRhdGEtdWlkPSJsbms1IiBpZD0ibGlua19jb21wbGV0aW9uX3Jlc3VsdF93b3JrX29yZGVyIj48cGF0aCBjb2RlTGluZT0iMjYiIGQ9Ik0yMTkuNjIzMiwyNTYuMTM5OCBDMjM1LjM1MzIsMjk2LjE2OTggMjQyLjc0MTgsMzE0Ljk1MiAyNTIuODYxOCwzNDAuNjgyIiBmaWxsPSJub25lIiBpZD0iY29tcGxldGlvbl9yZXN1bHQtd29ya19vcmRlciIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMTUuOTY1OSIgeDI9IjIwNy40NTU3IiB5MT0iMjQ2LjgzMjYiIHkyPSIyNDEuNTgxMyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMTUuOTY1OSIgeDI9IjIxOC42MjQzIiB5MT0iMjQ2LjgzMjYiIHkyPSIyMzcuMTkyNSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMTUuOTY1OSIgeDI9IjIxMy4wNCIgeTE9IjI0Ni44MzI2IiB5Mj0iMjM5LjM4NjkiLz48ZWxsaXBzZSBjeD0iMjE4LjE2MDIiIGN5PSIyNTIuNDE3IiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjU4LjA0ODMiIHgyPSIyNTAuNjAzNSIgeTE9IjM0Mi45NDA0IiB5Mj0iMzQ1Ljg2ODUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjU2Ljk1MDMiIHgyPSIyNDkuNTA1NCIgeTE9IjM0MC4xNDg1IiB5Mj0iMzQzLjA3NjciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjUyLjg2MTgiIHgyPSIyNTUuNzkiIHkxPSIzNDAuNjgyIiB5Mj0iMzQ4LjEyNjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNiIgeD0iMjMxLjcxIiB5PSIyODIuMDMzOCI+JiMyMjU3NzsmIzIxNTc4OzwvdGV4dD48L2c+PCEtLWxpbmsgY29tcGxldGlvbl9yZXN1bHQgdG8gaW5zcGVjdGlvbl9yZXN1bHQtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iY29tcGxldGlvbl9yZXN1bHQiIGRhdGEtZW50aXR5LTI9Imluc3BlY3Rpb25fcmVzdWx0IiBkYXRhLXNvdXJjZS1saW5lPSIyNyIgZGF0YS11aWQ9ImxuazYiIGlkPSJsaW5rX2NvbXBsZXRpb25fcmVzdWx0X2luc3BlY3Rpb25fcmVzdWx0Ij48cGF0aCBjb2RlTGluZT0iMjciIGQ9Ik0xMzQuNDgyMiwyNDYuODQzNiBDMTI0LjM4MjIsMjcyLjgzMzYgMTIzLjIxMDksMjc1Ljg0OTYgMTE0LjI5MDksMjk4Ljc5OTYiIGZpbGw9Im5vbmUiIGlkPSJjb21wbGV0aW9uX3Jlc3VsdC1pbnNwZWN0aW9uX3Jlc3VsdCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMzIuMjAyNyIgeDI9IjEzOS42NTk1IiB5MT0iMjQxLjY2NjQiIHkyPSIyNDQuNTY0MSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMzEuMTE2MSIgeDI9IjEzOC41NzI4IiB5MT0iMjQ0LjQ2MjYiIHkyPSIyNDcuMzYwNCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMzQuNDgyMiIgeDI9IjEzNy4zOCIgeTE9IjI0Ni44NDM2IiB5Mj0iMjM5LjM4NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTEwLjY2ODIiIHgyPSIxMTMuMzYyNCIgeTE9IjMwOC4xMjAzIiB5Mj0iMzE3Ljc1MDUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTEwLjY2ODIiIHgyPSIxMDIuMTc3NiIgeTE9IjMwOC4xMjAzIiB5Mj0iMzEzLjQwMzMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTEwLjY2ODIiIHgyPSIxMDcuNzciIHkxPSIzMDguMTIwMyIgeTI9IjMxNS41NzY5Ii8+PGVsbGlwc2UgY3g9IjExMi44NDE4IiBjeT0iMzAyLjUyNzgiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI2IiB4PSIxMjYuMTciIHk9IjI4Mi4wMzM4Ij4mIzI2OTA4OyYjMjY2MTk7PC90ZXh0PjwvZz48IS0tU1JDPVtBeWFpb0tiTFVCZ2t2cmQ3WEFWaHZaX1ZpVXpudXhmZG94alZEWXBXdWFoREF5YWlnTEhHR2Y1a1JkX1NsRVRucXR1YlhTSFlYVUp5dDhBU3I5QkNfQnB1ZWpKWXFmbUlYTWVrQkdMRjV1TmUwRXpPQmJyVDgwVFB5X0VmZ3Z4c1JyVTgzbE5wMzBuclpHTkFGamF4dnpkSWpTendzZnlsc0dNSlRWQzZvSm9UdEZYeXpoaDdKUGoxclpMdG1lTjFuWnNSbFhKMWRoaFhQTmlfYUZrWVNwckc0djBCQ2RUN0J1QnhqNmRjWXVQY2hiZnE3cHJSQ2tWUF9EdEZqcXZ1RGN5RWdoeW95dWVCS2ZEOXpYVjRZU19NQjdaVWoxRjN2TDF0OGhhMnNWRWV6ZlZkNXNON3ZuVWJmMVBuU002NlNNcy1oY3ZEM1A4WTFJa1diblBpVjNnbkltY0J5ZmVRTlR0eVFZbi0wa2cyMTg0STAwMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<details>
<summary>DDL: 完成実績データ・完成検査結果データ</summary>

<div class="highlight"><pre><span></span><code><span class="c1">-- V015__create_completion_result_tables.sql</span>

<span class="c1">-- 完成実績データ</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;完成実績データ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ID&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;完成実績番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作業指示番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;品目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;完成日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;完成数量&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;良品数&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;不良品数&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;備考&quot;</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_完成実績_作業指示&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;作業指示番号&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;作業指示データ&quot;</span><span class="p">(</span><span class="ss">&quot;作業指示番号&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_完成実績_品目&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;品目マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- 完成検査結果データ</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;完成検査結果データ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ID&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;完成実績番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;欠点コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;数量&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_完成検査結果_完成実績&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;完成実績番号&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;完成実績データ&quot;</span><span class="p">(</span><span class="ss">&quot;完成実績番号&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_完成検査結果_欠点&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;欠点コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;欠点マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;欠点コード&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">UNIQUE</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;完成実績番号&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;欠点コード&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- インデックス</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_完成実績_作業指示番号&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;完成実績データ&quot;</span><span class="p">(</span><span class="ss">&quot;作業指示番号&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_完成実績_品目コード&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;完成実績データ&quot;</span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_完成実績_完成日&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;完成実績データ&quot;</span><span class="p">(</span><span class="ss">&quot;完成日&quot;</span><span class="p">);</span>
</code></pre></div>

</details>

<h3 id="java_1">Java エンティティの定義（完成実績）<a class="headerlink" href="#java_1" title="Permanent link">&para;</a></h3>
<details>
<summary>Entity: CompletionResult（完成実績データ）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/process/CompletionResult.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.process</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.item.Item</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">CompletionResult</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">completionResultNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">workOrderNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">completionDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">completedQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">goodQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">defectQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">remarks</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">createdBy</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">updatedBy</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// リレーション</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">WorkOrder</span><span class="w"> </span><span class="n">workOrder</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Item</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">InspectionResult</span><span class="o">&gt;</span><span class="w"> </span><span class="n">inspectionResults</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>Entity: InspectionResult（完成検査結果データ）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/process/InspectionResult.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.process</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.master.Defect</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">InspectionResult</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">completionResultNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">defectCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">quantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// リレーション</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">CompletionResult</span><span class="w"> </span><span class="n">completionResult</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Defect</span><span class="w"> </span><span class="n">defect</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="mybatis-mapper_1">MyBatis Mapper（完成実績）<a class="headerlink" href="#mybatis-mapper_1" title="Permanent link">&para;</a></h3>
<details>
<summary>Mapper XML: CompletionResultMapper.xml</summary>

<div class="highlight"><pre><span></span><code><span class="cm">&lt;!-- src/main/resources/com/example/production/infrastructure/persistence/mapper/CompletionResultMapper.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
<span class="cp">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span>
<span class="nt">&lt;mapper</span><span class="w"> </span><span class="na">namespace=</span><span class="s">&quot;com.example.production.infrastructure.persistence.mapper.CompletionResultMapper&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="nt">&lt;resultMap</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;CompletionResultResultMap&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;com.example.production.domain.model.process.CompletionResult&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;id</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;ID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;completionResultNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;完成実績番号&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;workOrderNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作業指示番号&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;itemCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;品目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;completionDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;完成日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;completedQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;完成数量&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;goodQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;良品数&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;defectQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;不良品数&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;remarks&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;備考&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;createdAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作成日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;createdBy&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作成者&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;updatedAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;更新日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;updatedBy&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;更新者&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/resultMap&gt;</span>

<span class="w">    </span><span class="nt">&lt;insert</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;insert&quot;</span><span class="w"> </span><span class="na">useGeneratedKeys=</span><span class="s">&quot;true&quot;</span><span class="w"> </span><span class="na">keyProperty=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">keyColumn=</span><span class="s">&quot;ID&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>INSERT<span class="w"> </span>INTO<span class="w"> </span>&quot;完成実績データ&quot;<span class="w"> </span>(
<span class="w">            </span>&quot;完成実績番号&quot;,<span class="w"> </span>&quot;作業指示番号&quot;,<span class="w"> </span>&quot;品目コード&quot;,<span class="w"> </span>&quot;完成日&quot;,
<span class="w">            </span>&quot;完成数量&quot;,<span class="w"> </span>&quot;良品数&quot;,<span class="w"> </span>&quot;不良品数&quot;,<span class="w"> </span>&quot;備考&quot;,<span class="w"> </span>&quot;作成者&quot;
<span class="w">        </span>)<span class="w"> </span>VALUES<span class="w"> </span>(
<span class="w">            </span>#{completionResultNumber},
<span class="w">            </span>#{workOrderNumber},
<span class="w">            </span>#{itemCode},
<span class="w">            </span>#{completionDate},
<span class="w">            </span>#{completedQuantity},
<span class="w">            </span>#{goodQuantity},
<span class="w">            </span>#{defectQuantity},
<span class="w">            </span>#{remarks},
<span class="w">            </span>#{createdBy}
<span class="w">        </span>)
<span class="w">    </span><span class="nt">&lt;/insert&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findByCompletionResultNumber&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;CompletionResultResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;完成実績データ&quot;<span class="w"> </span>WHERE<span class="w"> </span>&quot;完成実績番号&quot;<span class="w"> </span>=<span class="w"> </span>#{completionResultNumber}
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findByWorkOrderNumber&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;CompletionResultResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;完成実績データ&quot;
<span class="w">        </span>WHERE<span class="w"> </span>&quot;作業指示番号&quot;<span class="w"> </span>=<span class="w"> </span>#{workOrderNumber}
<span class="w">        </span>ORDER<span class="w"> </span>BY<span class="w"> </span>&quot;完成日&quot;
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findLatestCompletionResultNumber&quot;</span><span class="w"> </span><span class="na">resultType=</span><span class="s">&quot;string&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>&quot;完成実績番号&quot;<span class="w"> </span>FROM<span class="w"> </span>&quot;完成実績データ&quot;
<span class="w">        </span>WHERE<span class="w"> </span>&quot;完成実績番号&quot;<span class="w"> </span>LIKE<span class="w"> </span>#{prefix}
<span class="w">        </span>ORDER<span class="w"> </span>BY<span class="w"> </span>&quot;完成実績番号&quot;<span class="w"> </span>DESC
<span class="w">        </span>LIMIT<span class="w"> </span>1
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;delete</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;deleteAll&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>DELETE<span class="w"> </span>FROM<span class="w"> </span>&quot;完成実績データ&quot;
<span class="w">    </span><span class="nt">&lt;/delete&gt;</span>
<span class="nt">&lt;/mapper&gt;</span>
</code></pre></div>

</details>

<h3 id="_9">完成実績サービスの実装<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<details>
<summary>Service: CompletionResultService</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/application/service/CompletionResultService.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.application.service</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.process.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.persistence.mapper.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Service</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.transaction.annotation.Transactional</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.format.DateTimeFormatter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="nd">@Service</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">CompletionResultService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">CompletionResultMapper</span><span class="w"> </span><span class="n">completionResultMapper</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">InspectionResultMapper</span><span class="w"> </span><span class="n">inspectionResultMapper</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">WorkOrderMapper</span><span class="w"> </span><span class="n">workOrderMapper</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 完成実績番号を生成する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">generateCompletionResultNumber</span><span class="p">(</span><span class="n">LocalDate</span><span class="w"> </span><span class="n">completionDate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;CR-&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">completionDate</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="n">DateTimeFormatter</span><span class="p">.</span><span class="na">ofPattern</span><span class="p">(</span><span class="s">&quot;yyyyMM&quot;</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;-&quot;</span><span class="p">;</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">latestNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">completionResultMapper</span><span class="p">.</span><span class="na">findLatestCompletionResultNumber</span><span class="p">(</span><span class="n">prefix</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;%&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">sequence</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">latestNumber</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">currentSequence</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Integer</span><span class="p">.</span><span class="na">parseInt</span><span class="p">(</span><span class="n">latestNumber</span><span class="p">.</span><span class="na">substring</span><span class="p">(</span><span class="n">latestNumber</span><span class="p">.</span><span class="na">length</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">4</span><span class="p">));</span>
<span class="w">            </span><span class="n">sequence</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">currentSequence</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;%04d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">sequence</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 完成実績を報告する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">CompletionResult</span><span class="w"> </span><span class="nf">reportCompletion</span><span class="p">(</span><span class="n">CompletionResultInput</span><span class="w"> </span><span class="n">input</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 作業指示を取得</span>
<span class="w">        </span><span class="n">WorkOrder</span><span class="w"> </span><span class="n">workOrder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workOrderMapper</span><span class="p">.</span><span class="na">findByWorkOrderNumber</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getWorkOrderNumber</span><span class="p">());</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">workOrder</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;Work order not found: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">input</span><span class="p">.</span><span class="na">getWorkOrderNumber</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">completionResultNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">generateCompletionResultNumber</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getCompletionDate</span><span class="p">());</span>

<span class="w">        </span><span class="c1">// 完成実績を作成</span>
<span class="w">        </span><span class="n">CompletionResult</span><span class="w"> </span><span class="n">completionResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CompletionResult</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">completionResultNumber</span><span class="p">(</span><span class="n">completionResultNumber</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">workOrderNumber</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getWorkOrderNumber</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">itemCode</span><span class="p">(</span><span class="n">workOrder</span><span class="p">.</span><span class="na">getItemCode</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">completionDate</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getCompletionDate</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">completedQuantity</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getCompletedQuantity</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">goodQuantity</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getGoodQuantity</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">defectQuantity</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getDefectQuantity</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">remarks</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getRemarks</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">        </span><span class="n">completionResultMapper</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">completionResult</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// 検査結果を作成</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">InspectionResult</span><span class="o">&gt;</span><span class="w"> </span><span class="n">inspectionResults</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getInspectionResults</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">InspectionResultInput</span><span class="w"> </span><span class="n">irInput</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">input</span><span class="p">.</span><span class="na">getInspectionResults</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">InspectionResult</span><span class="w"> </span><span class="n">ir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">InspectionResult</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                        </span><span class="p">.</span><span class="na">completionResultNumber</span><span class="p">(</span><span class="n">completionResultNumber</span><span class="p">)</span>
<span class="w">                        </span><span class="p">.</span><span class="na">defectCode</span><span class="p">(</span><span class="n">irInput</span><span class="p">.</span><span class="na">getDefectCode</span><span class="p">())</span>
<span class="w">                        </span><span class="p">.</span><span class="na">quantity</span><span class="p">(</span><span class="n">irInput</span><span class="p">.</span><span class="na">getQuantity</span><span class="p">())</span>
<span class="w">                        </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">                </span><span class="n">inspectionResultMapper</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">ir</span><span class="p">);</span>
<span class="w">                </span><span class="n">inspectionResults</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">ir</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">completionResult</span><span class="p">.</span><span class="na">setInspectionResults</span><span class="p">(</span><span class="n">inspectionResults</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// 作業指示の累計を更新</span>
<span class="w">        </span><span class="n">workOrderMapper</span><span class="p">.</span><span class="na">updateCompletionQuantities</span><span class="p">(</span>
<span class="w">                </span><span class="n">input</span><span class="p">.</span><span class="na">getWorkOrderNumber</span><span class="p">(),</span>
<span class="w">                </span><span class="n">input</span><span class="p">.</span><span class="na">getCompletedQuantity</span><span class="p">(),</span>
<span class="w">                </span><span class="n">input</span><span class="p">.</span><span class="na">getGoodQuantity</span><span class="p">(),</span>
<span class="w">                </span><span class="n">input</span><span class="p">.</span><span class="na">getDefectQuantity</span><span class="p">()</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">completionResult</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="_10">工数実績データの構造<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<p>工数実績は、作業指示明細（工順）ごとに担当者の作業時間を記録します。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjQwM3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MTk0cHg7aGVpZ2h0OjQwM3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDE5NCA0MDMiIHdpZHRoPSIxOTRweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjQwMzc7JiMyNTk2ODsmIzIzNDU1OyYjMzIzMTg7JiMxMjM5ODsmIzI3MDgzOyYjMzY4OTY7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iNDEuMTY3NSIgeT0iMjIuOTk1MSI+JiMyNDAzNzsmIzI1OTY4OyYjMjM0NTU7JiMzMjMxODsmIzEyMzk4OyYjMjcwODM7JiMzNjg5Njs8L3RleHQ+PC9nPjwhLS1jbGFzcyBsYWJvcl9ob3Vycy0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJsYWJvcl9ob3VycyIgZGF0YS1zb3VyY2UtbGluZT0iMyIgZGF0YS11aWQ9ImVudDAwMDIiIGlkPSJlbnRpdHlfbGFib3JfaG91cnMiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjI3LjI2NTYiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE4MC4zMzQ2IiB4PSI3IiB5PSI0NC4yOTY5Ii8+PGVsbGlwc2UgY3g9IjQ0LjY1MDgiIGN5PSI2MC4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik00OC43NjAxLDY2LjI5NjkgTDQxLjA0MTQsNjYuMjk2OSBMNDEuMDQxNCw1My45MDYzIEw0OC43NjAxLDUzLjkwNjMgTDQ4Ljc2MDEsNTYuMDYyNSBMNDMuNDk0NSw1Ni4wNjI1IEw0My40OTQ1LDU4LjczNDQgTDQ4LjI2MDEsNTguNzM0NCBMNDguMjYwMSw2MC44OTA2IEw0My40OTQ1LDYwLjg5MDYgTDQzLjQ5NDUsNjQuMTQwNiBMNDguNzYwMSw2NC4xNDA2IEw0OC43NjAxLDY2LjI5NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny45OTk2IiB4PSI2My42ODQzIiB5PSI2NS4xNDM2Ij4mIzI0MDM3OyYjMjU5Njg7JiMyMzQ1NTsmIzMyMzE4OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI4IiB4Mj0iMTg2LjMzNDYiIHkxPSI3Ni4yOTY5IiB5Mj0iNzYuMjk2OSIvPjxlbGxpcHNlIGN4PSIxOCIgY3k9Ijg5Ljk0NTMiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ3LjkwNjMiIHg9IjI3IiB5PSI5My4yOTIiPklEIFtQS108L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjgiIHgyPSIxODYuMzM0NiIgeTE9IjEwMC41OTM4IiB5Mj0iMTAwLjU5MzgiLz48ZWxsaXBzZSBjeD0iMTgiIGN5PSIxMTQuMjQyMiIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTU0LjMzNDYiIHg9IjI3IiB5PSIxMTcuNTg4OSI+JiMyNDAzNzsmIzI1OTY4OyYjMjM0NTU7JiMzMjMxODsmIzMwMDU4OyYjMjE0OTU7IFtVTklRVUVdPC90ZXh0PjxlbGxpcHNlIGN4PSIxOCIgY3k9IjEzMC41MzkxIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTYuNjA3MSIgeD0iMjciIHk9IjEzMy44ODU3Ij4mIzIwMzE2OyYjMjY5ODk7JiMyNTM1MTsmIzMxMDM0OyYjMzAwNTg7JiMyMTQ5NTsgW0ZLXTwvdGV4dD48ZWxsaXBzZSBjeD0iMTgiIGN5PSIxNDYuODM1OSIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTAyLjYwNzEiIHg9IjI3IiB5PSIxNTAuMTgyNiI+JiMyMTY5NzsmIzMwNDQ2OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyBbRktdPC90ZXh0PjxlbGxpcHNlIGN4PSIxOCIgY3k9IjE2My4xMzI4IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSIyNyIgeT0iMTY2LjQ3OTUiPiYjMjQwMzc7JiMzODkxODs8L3RleHQ+PGVsbGlwc2UgY3g9IjE4IiBjeT0iMTc5LjQyOTciIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMi42MDcxIiB4PSIyNyIgeT0iMTgyLjc3NjQiPiYjMjQwMzc7JiMzMTI0MzsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgW0ZLXTwvdGV4dD48ZWxsaXBzZSBjeD0iMTgiIGN5PSIxOTUuNzI2NiIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTAyLjYwNzEiIHg9IjI3IiB5PSIxOTkuMDczMiI+JiMzNzA5NjsmIzM4MjcyOyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyBbRktdPC90ZXh0PjxlbGxpcHNlIGN4PSIxOCIgY3k9IjIxMi4wMjM0IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTYuNjA3MSIgeD0iMjciIHk9IjIxNS4zNzAxIj4mIzI1Mjg1OyYjMjQ0MDM7JiMzMjc3MzsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgW0ZLXTwvdGV4dD48ZWxsaXBzZSBjeD0iMTgiIGN5PSIyMjguMzIwMyIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iMjciIHk9IjIzMS42NjciPiYjMjAzMTY7JiMyNjk4OTsmIzI2MDg1OzwvdGV4dD48ZWxsaXBzZSBjeD0iMTgiIGN5PSIyNDQuNjE3MiIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMjciIHk9IjI0Ny45NjM5Ij4mIzI0MDM3OyYjMjU5Njg7JiM2NTI4ODsmIzI2MTc4OyYjMzgyOTE7JiM2NTI4OTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjcuOTk5OSIgeD0iMjciIHk9IjI2NC4yNjA3Ij4mIzIwNjMzOyYjMzI3NzE7PC90ZXh0PjwvZz48IS0tY2xhc3Mgd29ya19vcmRlcl9kZXRhaWwtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0id29ya19vcmRlcl9kZXRhaWwiIGRhdGEtc291cmNlLWxpbmU9IjE4IiBkYXRhLXVpZD0iZW50MDAwMyIgaWQ9ImVudGl0eV93b3JrX29yZGVyX2RldGFpbCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTU3Ljk5OTUiIHg9IjE4LjE3IiB5PSIzNDguNTY2OSIvPjxlbGxpcHNlIGN4PSIzMy4xNyIgY3k9IjM2NC41NjY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0zNy4yNzk0LDM3MC41NjY5IEwyOS41NjA2LDM3MC41NjY5IEwyOS41NjA2LDM1OC4xNzYzIEwzNy4yNzk0LDM1OC4xNzYzIEwzNy4yNzk0LDM2MC4zMzI1IEwzMi4wMTM4LDM2MC4zMzI1IEwzMi4wMTM4LDM2My4wMDQ0IEwzNi43Nzk0LDM2My4wMDQ0IEwzNi43Nzk0LDM2NS4xNjA2IEwzMi4wMTM4LDM2NS4xNjA2IEwzMi4wMTM4LDM2OC40MTA2IEwzNy4yNzk0LDM2OC40MTA2IEwzNy4yNzk0LDM3MC41NjY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI1Ljk5OTUiIHg9IjQ3LjE3IiB5PSIzNjkuNDEzNiI+JiMyMDMxNjsmIzI2OTg5OyYjMjUzNTE7JiMzMTAzNDsmIzI2MTI2OyYjMzIwNDg7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjE5LjE3IiB4Mj0iMTc1LjE2OTUiIHkxPSIzODAuNTY2OSIgeTI9IjM4MC41NjY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTkuMTciIHgyPSIxNzUuMTY5NSIgeTE9IjM4OC41NjY5IiB5Mj0iMzg4LjU2NjkiLz48L2c+PCEtLWxpbmsgbGFib3JfaG91cnMgdG8gd29ya19vcmRlcl9kZXRhaWwtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0ibGFib3JfaG91cnMiIGRhdGEtZW50aXR5LTI9Indvcmtfb3JkZXJfZGV0YWlsIiBkYXRhLXNvdXJjZS1saW5lPSIyMCIgZGF0YS11aWQ9ImxuazQiIGlkPSJsaW5rX2xhYm9yX2hvdXJzX3dvcmtfb3JkZXJfZGV0YWlsIj48cGF0aCBjb2RlTGluZT0iMjAiIGQ9Ik05Ny4xNywyODkuNzg2OSBDOTcuMTcsMzE4LjgxNjkgOTcuMTcsMzIxLjE4NjkgOTcuMTcsMzQwLjIwNjkiIGZpbGw9Im5vbmUiIGlkPSJsYWJvcl9ob3Vycy13b3JrX29yZGVyX2RldGFpbCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI5Ny4xNyIgeDI9IjkxLjE3IiB5MT0iMjc5Ljc4NjkiIHkyPSIyNzEuNzg2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI5Ny4xNyIgeDI9IjEwMy4xNyIgeTE9IjI3OS43ODY5IiB5Mj0iMjcxLjc4NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iOTcuMTciIHgyPSI5Ny4xNyIgeTE9IjI3OS43ODY5IiB5Mj0iMjcxLjc4NjkiLz48ZWxsaXBzZSBjeD0iOTcuMTciIGN5PSIyODUuNzg2OSIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEwMS4xNyIgeDI9IjkzLjE3IiB5MT0iMzQ0LjIwNjkiIHkyPSIzNDQuMjA2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMDEuMTciIHgyPSI5My4xNyIgeTE9IjM0MS4yMDY5IiB5Mj0iMzQxLjIwNjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iOTcuMTciIHgyPSI5Ny4xNyIgeTE9IjM0MC4yMDY5IiB5Mj0iMzQ4LjIwNjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNiIgeD0iOTguMTciIHk9IjMxNC42MzM4Ij4mIzIyNTc3OyYjMjE1Nzg7PC90ZXh0PjwvZz48IS0tU1JDPVtBeWFpb0tiTFVCZnp3UkVmNnZ3a2NfenlueHg3WlVrVUJVei1zUjIwWW9pcmhvSXBmNTkxMktNd2tWcm55dng3SlZrTDUxQUI1TjhJYV9BQnVaRm9JdWtBNVFndmoxR3lOSElZMHhuWmtOSHJXSG5hUlMtZGhkaFFscnFYRWpKRkNwM0tESE9lLXNKbGQ2VEJycHhoUU4tIC1QMVRDcmlxUjlGRHFTa0Zwc1VpVURzcTZNVEpTMkhWVWxsSmJXWk84dV9jQVJXcHZieXFoTmF2aG0xMS1yanR3VEVfYTVtc2o2MzlHNXFuVjJkVmgtcHFUcHNPc2xQbXMtVnNVSmd3ZEpKRFZEM0hwcklCMjBUZDlwc1JxRlQtbzBKS3FvbEVCaWtGcFlyOUlZLTlKS2FpSUN0RXVrOTAzZzNQVkx4VWMxYkVMV1hLbVkxVGlWM2duSW1hMF0tLT48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<details>
<summary>DDL: 工数実績データ</summary>

<div class="highlight"><pre><span></span><code><span class="c1">-- V016__create_labor_hours_tables.sql</span>

<span class="c1">-- 工数実績データ</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;工数実績データ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ID&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;工数実績番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作業指示番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;品目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;工順&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;工程コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;部門コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;担当者コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作業日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;工数&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;備考&quot;</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新者&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_工数実績_作業指示&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;作業指示番号&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;作業指示データ&quot;</span><span class="p">(</span><span class="ss">&quot;作業指示番号&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_工数実績_品目&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;品目マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_工数実績_工程&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;工程コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;工程マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;工程コード&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_工数実績_部門&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;部門コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;部門マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;部門コード&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="ss">&quot;fk_工数実績_担当者&quot;</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;担当者コード&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;担当者マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;担当者コード&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- インデックス</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_工数実績_作業指示番号&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;工数実績データ&quot;</span><span class="p">(</span><span class="ss">&quot;作業指示番号&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_工数実績_品目コード&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;工数実績データ&quot;</span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_工数実績_工程コード&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;工数実績データ&quot;</span><span class="p">(</span><span class="ss">&quot;工程コード&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_工数実績_担当者コード&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;工数実績データ&quot;</span><span class="p">(</span><span class="ss">&quot;担当者コード&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;idx_工数実績_作業日&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;工数実績データ&quot;</span><span class="p">(</span><span class="ss">&quot;作業日&quot;</span><span class="p">);</span>
</code></pre></div>

</details>

<h3 id="java_2">Java エンティティの定義（工数実績）<a class="headerlink" href="#java_2" title="Permanent link">&para;</a></h3>
<details>
<summary>Entity: LaborHours（工数実績データ）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/process/LaborHours.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.process</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.item.Item</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.master.Department</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.master.Employee</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">LaborHours</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">laborHoursNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">workOrderNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">sequence</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">processCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">departmentCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">employeeCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">workDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">hours</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">remarks</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">createdBy</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">updatedBy</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// リレーション</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">WorkOrder</span><span class="w"> </span><span class="n">workOrder</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Item</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Process</span><span class="w"> </span><span class="n">process</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Department</span><span class="w"> </span><span class="n">department</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Employee</span><span class="w"> </span><span class="n">employee</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="mybatis-mapper_2">MyBatis Mapper（工数実績）<a class="headerlink" href="#mybatis-mapper_2" title="Permanent link">&para;</a></h3>
<details>
<summary>Mapper XML: LaborHoursMapper.xml</summary>

<div class="highlight"><pre><span></span><code><span class="cm">&lt;!-- src/main/resources/com/example/production/infrastructure/persistence/mapper/LaborHoursMapper.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
<span class="cp">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span>
<span class="nt">&lt;mapper</span><span class="w"> </span><span class="na">namespace=</span><span class="s">&quot;com.example.production.infrastructure.persistence.mapper.LaborHoursMapper&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="nt">&lt;resultMap</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;LaborHoursResultMap&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;com.example.production.domain.model.process.LaborHours&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;id</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;ID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;laborHoursNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;工数実績番号&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;workOrderNumber&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作業指示番号&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;itemCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;品目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;sequence&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;工順&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;processCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;工程コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;departmentCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;部門コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;employeeCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;担当者コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;workDate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作業日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;hours&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;工数&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;remarks&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;備考&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;createdAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作成日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;createdBy&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作成者&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;updatedAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;更新日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;updatedBy&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;更新者&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/resultMap&gt;</span>

<span class="w">    </span><span class="nt">&lt;insert</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;insert&quot;</span><span class="w"> </span><span class="na">useGeneratedKeys=</span><span class="s">&quot;true&quot;</span><span class="w"> </span><span class="na">keyProperty=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">keyColumn=</span><span class="s">&quot;ID&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>INSERT<span class="w"> </span>INTO<span class="w"> </span>&quot;工数実績データ&quot;<span class="w"> </span>(
<span class="w">            </span>&quot;工数実績番号&quot;,<span class="w"> </span>&quot;作業指示番号&quot;,<span class="w"> </span>&quot;品目コード&quot;,<span class="w"> </span>&quot;工順&quot;,<span class="w"> </span>&quot;工程コード&quot;,
<span class="w">            </span>&quot;部門コード&quot;,<span class="w"> </span>&quot;担当者コード&quot;,<span class="w"> </span>&quot;作業日&quot;,<span class="w"> </span>&quot;工数&quot;,<span class="w"> </span>&quot;備考&quot;,<span class="w"> </span>&quot;作成者&quot;
<span class="w">        </span>)<span class="w"> </span>VALUES<span class="w"> </span>(
<span class="w">            </span>#{laborHoursNumber},
<span class="w">            </span>#{workOrderNumber},
<span class="w">            </span>#{itemCode},
<span class="w">            </span>#{sequence},
<span class="w">            </span>#{processCode},
<span class="w">            </span>#{departmentCode},
<span class="w">            </span>#{employeeCode},
<span class="w">            </span>#{workDate},
<span class="w">            </span>#{hours},
<span class="w">            </span>#{remarks},
<span class="w">            </span>#{createdBy}
<span class="w">        </span>)
<span class="w">    </span><span class="nt">&lt;/insert&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findByLaborHoursNumber&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;LaborHoursResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;工数実績データ&quot;<span class="w"> </span>WHERE<span class="w"> </span>&quot;工数実績番号&quot;<span class="w"> </span>=<span class="w"> </span>#{laborHoursNumber}
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;sumByWorkOrderAndSequence&quot;</span><span class="w"> </span><span class="na">resultType=</span><span class="s">&quot;java.math.BigDecimal&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>COALESCE(SUM(&quot;工数&quot;),<span class="w"> </span>0)
<span class="w">        </span>FROM<span class="w"> </span>&quot;工数実績データ&quot;
<span class="w">        </span>WHERE<span class="w"> </span>&quot;作業指示番号&quot;<span class="w"> </span>=<span class="w"> </span>#{workOrderNumber}<span class="w"> </span>AND<span class="w"> </span>&quot;工順&quot;<span class="w"> </span>=<span class="w"> </span>#{sequence}
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;sumByWorkOrder&quot;</span><span class="w"> </span><span class="na">resultType=</span><span class="s">&quot;java.math.BigDecimal&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>COALESCE(SUM(&quot;工数&quot;),<span class="w"> </span>0)
<span class="w">        </span>FROM<span class="w"> </span>&quot;工数実績データ&quot;
<span class="w">        </span>WHERE<span class="w"> </span>&quot;作業指示番号&quot;<span class="w"> </span>=<span class="w"> </span>#{workOrderNumber}
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;sumByEmployee&quot;</span><span class="w"> </span><span class="na">resultType=</span><span class="s">&quot;java.math.BigDecimal&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>COALESCE(SUM(&quot;工数&quot;),<span class="w"> </span>0)
<span class="w">        </span>FROM<span class="w"> </span>&quot;工数実績データ&quot;
<span class="w">        </span>WHERE<span class="w"> </span>&quot;担当者コード&quot;<span class="w"> </span>=<span class="w"> </span>#{employeeCode}
<span class="w">          </span>AND<span class="w"> </span>&quot;作業日&quot;<span class="w"> </span>BETWEEN<span class="w"> </span>#{startDate}<span class="w"> </span>AND<span class="w"> </span>#{endDate}
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findLatestLaborHoursNumber&quot;</span><span class="w"> </span><span class="na">resultType=</span><span class="s">&quot;string&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>&quot;工数実績番号&quot;<span class="w"> </span>FROM<span class="w"> </span>&quot;工数実績データ&quot;
<span class="w">        </span>WHERE<span class="w"> </span>&quot;工数実績番号&quot;<span class="w"> </span>LIKE<span class="w"> </span>#{prefix}
<span class="w">        </span>ORDER<span class="w"> </span>BY<span class="w"> </span>&quot;工数実績番号&quot;<span class="w"> </span>DESC
<span class="w">        </span>LIMIT<span class="w"> </span>1
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;delete</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;deleteAll&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>DELETE<span class="w"> </span>FROM<span class="w"> </span>&quot;工数実績データ&quot;
<span class="w">    </span><span class="nt">&lt;/delete&gt;</span>
<span class="nt">&lt;/mapper&gt;</span>
</code></pre></div>

</details>

<h3 id="_11">工数実績サービスの実装<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<details>
<summary>Service: LaborHoursService</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/application/service/LaborHoursService.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.application.service</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.process.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.persistence.mapper.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Service</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.transaction.annotation.Transactional</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.format.DateTimeFormatter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="nd">@Service</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">LaborHoursService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">LaborHoursMapper</span><span class="w"> </span><span class="n">laborHoursMapper</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">WorkOrderDetailMapper</span><span class="w"> </span><span class="n">workOrderDetailMapper</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">WorkOrderMapper</span><span class="w"> </span><span class="n">workOrderMapper</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ProcessMapper</span><span class="w"> </span><span class="n">processMapper</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 工数実績番号を生成する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">generateLaborHoursNumber</span><span class="p">(</span><span class="n">LocalDate</span><span class="w"> </span><span class="n">workDate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;LH-&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">workDate</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="n">DateTimeFormatter</span><span class="p">.</span><span class="na">ofPattern</span><span class="p">(</span><span class="s">&quot;yyyyMM&quot;</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;-&quot;</span><span class="p">;</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">latestNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">laborHoursMapper</span><span class="p">.</span><span class="na">findLatestLaborHoursNumber</span><span class="p">(</span><span class="n">prefix</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;%&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">sequence</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">latestNumber</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">currentSequence</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Integer</span><span class="p">.</span><span class="na">parseInt</span><span class="p">(</span><span class="n">latestNumber</span><span class="p">.</span><span class="na">substring</span><span class="p">(</span><span class="n">latestNumber</span><span class="p">.</span><span class="na">length</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">4</span><span class="p">));</span>
<span class="w">            </span><span class="n">sequence</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">currentSequence</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;%04d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">sequence</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 工数実績を報告する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">LaborHours</span><span class="w"> </span><span class="nf">reportLaborHours</span><span class="p">(</span><span class="n">LaborHoursInput</span><span class="w"> </span><span class="n">input</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 作業指示明細を取得</span>
<span class="w">        </span><span class="n">WorkOrderDetail</span><span class="w"> </span><span class="n">detail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workOrderDetailMapper</span><span class="p">.</span><span class="na">findByWorkOrderAndSequence</span><span class="p">(</span>
<span class="w">                </span><span class="n">input</span><span class="p">.</span><span class="na">getWorkOrderNumber</span><span class="p">(),</span><span class="w"> </span><span class="n">input</span><span class="p">.</span><span class="na">getSequence</span><span class="p">());</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">detail</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;Work order detail not found&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// 作業指示を取得</span>
<span class="w">        </span><span class="n">WorkOrder</span><span class="w"> </span><span class="n">workOrder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workOrderMapper</span><span class="p">.</span><span class="na">findByWorkOrderNumber</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getWorkOrderNumber</span><span class="p">());</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">workOrder</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;Work order not found&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">laborHoursNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">generateLaborHoursNumber</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getWorkDate</span><span class="p">());</span>

<span class="w">        </span><span class="c1">// 工数実績を作成</span>
<span class="w">        </span><span class="n">LaborHours</span><span class="w"> </span><span class="n">laborHours</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LaborHours</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">laborHoursNumber</span><span class="p">(</span><span class="n">laborHoursNumber</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">workOrderNumber</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getWorkOrderNumber</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">itemCode</span><span class="p">(</span><span class="n">workOrder</span><span class="p">.</span><span class="na">getItemCode</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">sequence</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getSequence</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">processCode</span><span class="p">(</span><span class="n">detail</span><span class="p">.</span><span class="na">getProcessCode</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">departmentCode</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getDepartmentCode</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">employeeCode</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getEmployeeCode</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">workDate</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getWorkDate</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">hours</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getHours</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">remarks</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="na">getRemarks</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">        </span><span class="n">laborHoursMapper</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">laborHours</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">laborHours</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 工順別の工数合計を取得する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="nf">getTotalHoursBySequence</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">workOrderNumber</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">sequence</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">laborHoursMapper</span><span class="p">.</span><span class="na">sumByWorkOrderAndSequence</span><span class="p">(</span><span class="n">workOrderNumber</span><span class="p">,</span><span class="w"> </span><span class="n">sequence</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 作業指示の工数サマリを取得する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">LaborHoursSummary</span><span class="w"> </span><span class="nf">getSummary</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">workOrderNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">WorkOrder</span><span class="w"> </span><span class="n">workOrder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workOrderMapper</span><span class="p">.</span><span class="na">findByWorkOrderNumber</span><span class="p">(</span><span class="n">workOrderNumber</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">workOrder</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;Work order not found&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">WorkOrderDetail</span><span class="o">&gt;</span><span class="w"> </span><span class="n">details</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workOrderDetailMapper</span><span class="p">.</span><span class="na">findByWorkOrderNumber</span><span class="p">(</span><span class="n">workOrderNumber</span><span class="p">);</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ProcessLaborHours</span><span class="o">&gt;</span><span class="w"> </span><span class="n">processHours</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">        </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">totalHours</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">;</span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">WorkOrderDetail</span><span class="w"> </span><span class="n">detail</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">details</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">hours</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">laborHoursMapper</span><span class="p">.</span><span class="na">sumByWorkOrderAndSequence</span><span class="p">(</span><span class="n">workOrderNumber</span><span class="p">,</span><span class="w"> </span><span class="n">detail</span><span class="p">.</span><span class="na">getSequence</span><span class="p">());</span>
<span class="w">            </span><span class="n">Process</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">processMapper</span><span class="p">.</span><span class="na">findByProcessCode</span><span class="p">(</span><span class="n">detail</span><span class="p">.</span><span class="na">getProcessCode</span><span class="p">());</span>

<span class="w">            </span><span class="n">processHours</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">ProcessLaborHours</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">processCode</span><span class="p">(</span><span class="n">detail</span><span class="p">.</span><span class="na">getProcessCode</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">processName</span><span class="p">(</span><span class="n">process</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">process</span><span class="p">.</span><span class="na">getProcessName</span><span class="p">()</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">hours</span><span class="p">(</span><span class="n">hours</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>

<span class="w">            </span><span class="n">totalHours</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">totalHours</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">hours</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">LaborHoursSummary</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">totalHours</span><span class="p">(</span><span class="n">totalHours</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">processHours</span><span class="p">(</span><span class="n">processHours</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 担当者別の工数を取得する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="nf">getTotalHoursByEmployee</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">employeeCode</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">startDate</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">endDate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">laborHoursMapper</span><span class="p">.</span><span class="na">sumByEmployee</span><span class="p">(</span><span class="n">employeeCode</span><span class="p">,</span><span class="w"> </span><span class="n">startDate</span><span class="p">,</span><span class="w"> </span><span class="n">endDate</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>Input DTO: LaborHoursInput</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/application/service/LaborHoursInput.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.application.service</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">LaborHoursInput</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">workOrderNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">sequence</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">workDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">employeeCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">departmentCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">hours</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">remarks</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>DTO: LaborHoursSummary・ProcessLaborHours</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/application/service/LaborHoursSummary.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.application.service</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">LaborHoursSummary</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">totalHours</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ProcessLaborHours</span><span class="o">&gt;</span><span class="w"> </span><span class="n">processHours</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/application/service/ProcessLaborHours.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.application.service</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ProcessLaborHours</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">processCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">processName</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">hours</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<hr />
<h2 id="273">27.3 進捗管理<a class="headerlink" href="#273" title="Permanent link">&para;</a></h2>
<h3 id="_12">工程別進捗の管理<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<p>作業指示の進捗状況を工程別に把握するための設計を行います。</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjU0M3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDAxcHg7aGVpZ2h0OjU0M3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQwMSA1NDMiIHdpZHRoPSI0MDFweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMzY5MTQ7JiMyNTQzMTsmIzMxNjQ5OyYjMjk3MDI7JiMxMjM5ODsmIzI3MDEwOyYjMjQ1NjU7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMTQ0LjcwMTIiIHk9IjIyLjk5NTEiPiYjMzY5MTQ7JiMyNTQzMTsmIzMxNjQ5OyYjMjk3MDI7JiMxMjM5ODsmIzI3MDEwOyYjMjQ1NjU7PC90ZXh0PjwvZz48IS0tY2xhc3Mgd29ya19vcmRlci0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJ3b3JrX29yZGVyIiBkYXRhLXNvdXJjZS1saW5lPSIzIiBkYXRhLXVpZD0iZW50MDAwMiIgaWQ9ImVudGl0eV93b3JrX29yZGVyIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjE3OC4zNzUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyOS45OTk2IiB4PSIyMSIgeT0iNDQuMjk2OSIvPjxlbGxpcHNlIGN4PSIzNiIgY3k9IjYwLjI5NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTQwLjEwOTQsNjYuMjk2OSBMMzIuMzkwNiw2Ni4yOTY5IEwzMi4zOTA2LDUzLjkwNjMgTDQwLjEwOTQsNTMuOTA2MyBMNDAuMTA5NCw1Ni4wNjI1IEwzNC44NDM4LDU2LjA2MjUgTDM0Ljg0MzgsNTguNzM0NCBMMzkuNjA5NCw1OC43MzQ0IEwzOS42MDk0LDYwLjg5MDYgTDM0Ljg0MzgsNjAuODkwNiBMMzQuODQzOCw2NC4xNDA2IEw0MC4xMDk0LDY0LjE0MDYgTDQwLjEwOTQsNjYuMjk2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjUwIiB5PSI2NS4xNDM2Ij4mIzIwMzE2OyYjMjY5ODk7JiMyNTM1MTsmIzMxMDM0OyYjMTI0ODc7JiMxMjU0MDsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyMiIgeDI9IjE0OS45OTk2IiB5MT0iNzYuMjk2OSIgeTI9Ijc2LjI5NjkiLz48ZWxsaXBzZSBjeD0iMzIiIGN5PSI4OS45NDUzIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSI0MSIgeT0iOTMuMjkyIj4mIzIwMzE2OyYjMjY5ODk7JiMyNTM1MTsmIzMxMDM0OyYjMzAwNTg7JiMyMTQ5NTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjIyIiB4Mj0iMTQ5Ljk5OTYiIHkxPSIxMDAuNTkzOCIgeTI9IjEwMC41OTM4Ii8+PGVsbGlwc2UgY3g9IjMyIiBjeT0iMTE0LjI0MjIiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjQxIiB5PSIxMTcuNTg4OSI+JiMxMjQ3MzsmIzEyNDg2OyYjMTI1NDA7JiMxMjQ3OTsmIzEyNDczOzwvdGV4dD48ZWxsaXBzZSBjeD0iMzIiIGN5PSIxMzAuNTM5MSIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iNDEiIHk9IjEzMy44ODU3Ij4mIzM4MjgzOyYjMjI5ODc7JiMyMDEwNDsmIzIzNDUwOyYjMjYwODU7PC90ZXh0PjxlbGxpcHNlIGN4PSIzMiIgY3k9IjE0Ni44MzU5IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSI0MSIgeT0iMTUwLjE4MjYiPiYjMjM0MzY7JiMyNTEwNDsmIzIwMTA0OyYjMjM0NTA7JiMyNjA4NTs8L3RleHQ+PGVsbGlwc2UgY3g9IjMyIiBjeT0iMTYzLjEzMjgiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjQxIiB5PSIxNjYuNDc5NSI+JiMyMzQ1NTsmIzMyMzE4OyYjMzgyODM7JiMyMjk4NzsmIzI2MDg1OzwvdGV4dD48ZWxsaXBzZSBjeD0iMzIiIGN5PSIxNzkuNDI5NyIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iNDEiIHk9IjE4Mi43NzY0Ij4mIzIzNDU1OyYjMzIzMTg7JiMyMzQzNjsmIzIwMTAyOyYjMjYwODU7PC90ZXh0PjxlbGxpcHNlIGN4PSIzMiIgY3k9IjE5NS43MjY2IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI0MSIgeT0iMTk5LjA3MzIiPiYjMjM0MzY7JiMyNTEwNDsmIzI4MTY4OyYjMjU5Njg7PC90ZXh0PjxlbGxpcHNlIGN4PSIzMiIgY3k9IjIxMi4wMjM0IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSI0MSIgeT0iMjE1LjM3MDEiPiYjMjAzMTY7JiMyNjk4OTsmIzI1MzUxOyYjMzEwMzQ7JiMyNTk2ODs8L3RleHQ+PC9nPjwhLS1jbGFzcyB3b3JrX29yZGVyX2RldGFpbC0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJ3b3JrX29yZGVyX2RldGFpbCIgZGF0YS1zb3VyY2UtbGluZT0iMTUiIGRhdGEtdWlkPSJlbnQwMDAzIiBpZD0iZW50aXR5X3dvcmtfb3JkZXJfZGV0YWlsIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9Ijk2Ljg5MDYiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1Ny45OTk1IiB4PSI3IiB5PSIyODIuNjc2OSIvPjxlbGxpcHNlIGN4PSIyMiIgY3k9IjI5OC42NzY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0yNi4xMDk0LDMwNC42NzY5IEwxOC4zOTA2LDMwNC42NzY5IEwxOC4zOTA2LDI5Mi4yODYzIEwyNi4xMDk0LDI5Mi4yODYzIEwyNi4xMDk0LDI5NC40NDI1IEwyMC44NDM4LDI5NC40NDI1IEwyMC44NDM4LDI5Ny4xMTQ0IEwyNS42MDk0LDI5Ny4xMTQ0IEwyNS42MDk0LDI5OS4yNzA2IEwyMC44NDM4LDI5OS4yNzA2IEwyMC44NDM4LDMwMi41MjA2IEwyNi4xMDk0LDMwMi41MjA2IEwyNi4xMDk0LDMwNC42NzY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI1Ljk5OTUiIHg9IjM2IiB5PSIzMDMuNTIzNiI+JiMyMDMxNjsmIzI2OTg5OyYjMjUzNTE7JiMzMTAzNDsmIzI2MTI2OyYjMzIwNDg7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjgiIHgyPSIxNjMuOTk5NSIgeTE9IjMxNC42NzY5IiB5Mj0iMzE0LjY3NjkiLz48ZWxsaXBzZSBjeD0iMTgiIGN5PSIzMjguMzI1MyIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMjciIHk9IjMzMS42NzIiPiYjMjAzMTY7JiMyNjk4OTsmIzI1MzUxOyYjMzEwMzQ7JiMzMDA1ODsmIzIxNDk1OzwvdGV4dD48ZWxsaXBzZSBjeD0iMTgiIGN5PSIzNDQuNjIyMiIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjcuOTk5OSIgeD0iMjciIHk9IjM0Ny45Njg5Ij4mIzI0MDM3OyYjMzg5MTg7PC90ZXh0PjxlbGxpcHNlIGN4PSIxOCIgY3k9IjM2MC45MTkxIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyNyIgeT0iMzY0LjI2NTciPiYjMjQwMzc7JiMzMTI0MzsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iOCIgeDI9IjE2My45OTk1IiB5MT0iMzcxLjU2NzUiIHkyPSIzNzEuNTY3NSIvPjwvZz48IS0tY2xhc3MgbGFib3JfaG91cnMtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0ibGFib3JfaG91cnMiIGRhdGEtc291cmNlLWxpbmU9IjIxIiBkYXRhLXVpZD0iZW50MDAwNCIgaWQ9ImVudGl0eV9sYWJvcl9ob3VycyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI5Ni44OTA2IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjkuOTk5NiIgeD0iMjEiIHk9IjQzOS41NjY5Ii8+PGVsbGlwc2UgY3g9IjM2IiBjeT0iNDU1LjU2NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTQwLjEwOTQsNDYxLjU2NjkgTDMyLjM5MDYsNDYxLjU2NjkgTDMyLjM5MDYsNDQ5LjE3NjMgTDQwLjEwOTQsNDQ5LjE3NjMgTDQwLjEwOTQsNDUxLjMzMjUgTDM0Ljg0MzgsNDUxLjMzMjUgTDM0Ljg0MzgsNDU0LjAwNDQgTDM5LjYwOTQsNDU0LjAwNDQgTDM5LjYwOTQsNDU2LjE2MDYgTDM0Ljg0MzgsNDU2LjE2MDYgTDM0Ljg0MzgsNDU5LjQxMDYgTDQwLjEwOTQsNDU5LjQxMDYgTDQwLjEwOTQsNDYxLjU2NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny45OTk2IiB4PSI1MCIgeT0iNDYwLjQxMzYiPiYjMjQwMzc7JiMyNTk2ODsmIzIzNDU1OyYjMzIzMTg7JiMxMjQ4NzsmIzEyNTQwOyYjMTI0Nzk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjIyIiB4Mj0iMTQ5Ljk5OTYiIHkxPSI0NzEuNTY2OSIgeTI9IjQ3MS41NjY5Ii8+PGVsbGlwc2UgY3g9IjMyIiBjeT0iNDg1LjIxNTMiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjQxIiB5PSI0ODguNTYyIj4mIzIwMzE2OyYjMjY5ODk7JiMyNTM1MTsmIzMxMDM0OyYjMzAwNTg7JiMyMTQ5NTs8L3RleHQ+PGVsbGlwc2UgY3g9IjMyIiBjeT0iNTAxLjUxMjIiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ljk5OTkiIHg9IjQxIiB5PSI1MDQuODU4OSI+JiMyNDAzNzsmIzM4OTE4OzwvdGV4dD48ZWxsaXBzZSBjeD0iMzIiIGN5PSI1MTcuODA5MSIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjcuOTk5OSIgeD0iNDEiIHk9IjUyMS4xNTU3Ij4mIzI0MDM3OyYjMjU5Njg7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjIyIiB4Mj0iMTQ5Ljk5OTYiIHkxPSI1MjguNDU3NSIgeTI9IjUyOC40NTc1Ii8+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJHTU43IiBkYXRhLXNvdXJjZS1saW5lPSIzMSIgZGF0YS11aWQ9ImVudDAwMDgiIGlkPSJlbnRpdHlfR01ONyI+PHBhdGggZD0iTTE4NS42LDExMy4zNTY5IEwxODUuNiwxMjkuNDg2OSBMMTUxLjM0LDEzMy40ODY5IEwxODUuNiwxMzcuNDg2OSBMMTg1LjYsMTUzLjYyMjUgQTAsMCAwIDAgMCAxODUuNiwxNTMuNjIyNSBMMzk0LjQwMTksMTUzLjYyMjUgQTAsMCAwIDAgMCAzOTQuNDAxOSwxNTMuNjIyNSBMMzk0LjQwMTksMTIzLjM1NjkgTDM4NC40MDE5LDExMy4zNTY5IEwxODUuNiwxMTMuMzU2OSBBMCwwIDAgMCAwIDE4NS42LDExMy4zNTY5IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMzg0LjQwMTksMTEzLjM1NjkgTDM4NC40MDE5LDEyMy4zNTY5IEwzOTQuNDAxOSwxMjMuMzU2OSBMMzg0LjQwMTksMTEzLjM1NjkiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4Ny44MDE5IiB4PSIxOTEuNiIgeT0iMTMwLjQyMzgiPiYjMzY5MTQ7JiMyNTQzMTsmIzI5NTc1OyA9ICYjMjM0MzY7JiMyNTEwNDsmIzI4MTY4OyYjMjU5Njg7IC8gJiMyMDMxNjsmIzI2OTg5OyYjMjUzNTE7JiMzMTAzNDsmIzI1OTY4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjguMzE0NiIgeD0iMTkxLjYiIHk9IjE0NS41NTY2Ij4mIzM2OTMzOyYjMjQzMTA7JiMyMTAyODsmIzIzNDUwOyA9ICYjMjM0NTU7JiMzMjMxODsmIzI2MDg1OyAmZ3Q7ICYjMjAxMDQ7JiMyMzQ1MDsmIzI2MDg1OzwvdGV4dD48L2c+PCEtLWxpbmsgd29ya19vcmRlciB0byB3b3JrX29yZGVyX2RldGFpbC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJ3b3JrX29yZGVyIiBkYXRhLWVudGl0eS0yPSJ3b3JrX29yZGVyX2RldGFpbCIgZGF0YS1zb3VyY2UtbGluZT0iMjciIGRhdGEtdWlkPSJsbms1IiBpZD0ibGlua193b3JrX29yZGVyX3dvcmtfb3JkZXJfZGV0YWlsIj48cGF0aCBjb2RlTGluZT0iMjciIGQ9Ik04NiwyMzEuMTQ2OSBDODYsMjUxLjU2NjkgODYsMjU2LjUyNjkgODYsMjc0LjQxNjkiIGZpbGw9Im5vbmUiIGlkPSJ3b3JrX29yZGVyLXdvcmtfb3JkZXJfZGV0YWlsIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjgyIiB4Mj0iOTAiIHkxPSIyMjcuMTQ2OSIgeTI9IjIyNy4xNDY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjgyIiB4Mj0iOTAiIHkxPSIyMzAuMTQ2OSIgeTI9IjIzMC4xNDY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijg2IiB4Mj0iODYiIHkxPSIyMzEuMTQ2OSIgeTI9IjIyMy4xNDY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijg2IiB4Mj0iOTIiIHkxPSIyNzQuNDE2OSIgeTI9IjI4Mi40MTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijg2IiB4Mj0iODAiIHkxPSIyNzQuNDE2OSIgeTI9IjI4Mi40MTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijg2IiB4Mj0iODYiIHkxPSIyNzQuNDE2OSIgeTI9IjI4Mi40MTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjkwIiB4Mj0iODIiIHkxPSIyNzIuNDE2OSIgeTI9IjI3Mi40MTY5Ii8+PC9nPjwhLS1saW5rIHdvcmtfb3JkZXJfZGV0YWlsIHRvIGxhYm9yX2hvdXJzLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9Indvcmtfb3JkZXJfZGV0YWlsIiBkYXRhLWVudGl0eS0yPSJsYWJvcl9ob3VycyIgZGF0YS1zb3VyY2UtbGluZT0iMjgiIGRhdGEtdWlkPSJsbms2IiBpZD0ibGlua193b3JrX29yZGVyX2RldGFpbF9sYWJvcl9ob3VycyI+PHBhdGggY29kZUxpbmU9IjI4IiBkPSJNODYsMzg3Ljg1NjkgQzg2LDQwNi42OTY5IDg2LDQwMi4zMDY5IDg2LDQyMS4xNjY5IiBmaWxsPSJub25lIiBpZD0id29ya19vcmRlcl9kZXRhaWwtbGFib3JfaG91cnMiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iODIiIHgyPSI5MCIgeTE9IjM4My44NTY5IiB5Mj0iMzgzLjg1NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iODIiIHgyPSI5MCIgeTE9IjM4Ni44NTY5IiB5Mj0iMzg2Ljg1NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iODYiIHgyPSI4NiIgeTE9IjM4Ny44NTY5IiB5Mj0iMzc5Ljg1NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iODYiIHgyPSI5MiIgeTE9IjQzMS4xNjY5IiB5Mj0iNDM5LjE2NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iODYiIHgyPSI4MCIgeTE9IjQzMS4xNjY5IiB5Mj0iNDM5LjE2NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iODYiIHgyPSI4NiIgeTE9IjQzMS4xNjY5IiB5Mj0iNDM5LjE2NjkiLz48ZWxsaXBzZSBjeD0iODYiIGN5PSI0MjUuMTY2OSIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1TUkM9W1pMQlJJaUQwNDd0VmhuWndBMElfRzctYkwxOWpDN0dYTkg1OTE5alc2YWNqVlFhTDRMSGVMR0gzZ1BWTVVFZDdSN1FOXzhLUkt0MWhCVldzZDNxcHZ2b1A5SVFuM0NXRUhsb3U5LTlocUdiZTgtT3Q3ZmktOHNKS1k0ZHNlOUgtTkYzMTBzeXJISi1YVmZGd3h6SVJiZzFJWHJyaVJ2VW5oSGlzRTZXNUxBQmV0aEVKQ1Q4cVlMRmxiVmYxcUlUaFlNSWQ0UmtEcVlIYXlKZGwzSUoydVhPRkVfRjhmUFh5NWFtTGFTbXEyVEdrRldidlRfWkJHOHhpX25zMmR4TjVxdDFQYkI5a2E4ZmZCS2lhSFNVM3gyZWUyZDROS1V5bmQtQ1ZnTkJvSUhlZTNDeUJNUEtEUjlVaFVDVWtfcXpZNWFKUGpVamdja2lpTWFRQjhOOGdUYkhIWDZnTzY2MlJNcksyVTVFUFdjUl9lRHM0alJkRG1raDJQaEY2OE5qeE9NNVZka2tSZEdVTER1NXItQmNYS1RDWDVfaTJdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h3 id="dto">進捗状況DTO<a class="headerlink" href="#dto" title="Permanent link">&para;</a></h3>
<details>
<summary>DTO: WorkOrderProgress</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/application/service/WorkOrderProgress.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.application.service</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.process.WorkOrderStatus</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.RoundingMode</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">WorkOrderProgress</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">workOrderNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">WorkOrderStatus</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">orderQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">completedQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">plannedStartDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">plannedEndDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">actualStartDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">actualEndDate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ProcessProgress</span><span class="o">&gt;</span><span class="w"> </span><span class="n">processProgresses</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 進捗率を計算する（0-100%）</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="nf">getProgressRate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">orderQuantity</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">orderQuantity</span><span class="p">.</span><span class="na">compareTo</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">completedQuantity</span>
<span class="w">                </span><span class="p">.</span><span class="na">multiply</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;100&quot;</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">divide</span><span class="p">(</span><span class="n">orderQuantity</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">RoundingMode</span><span class="p">.</span><span class="na">HALF_UP</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 遅延判定</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isDelayed</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">WorkOrderStatus</span><span class="p">.</span><span class="na">COMPLETED</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">today</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">today</span><span class="p">.</span><span class="na">isAfter</span><span class="p">(</span><span class="n">plannedEndDate</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 遅延日数を計算</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="nf">getDelayDays</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">isDelayed</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">today</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">temporal</span><span class="p">.</span><span class="na">ChronoUnit</span><span class="p">.</span><span class="na">DAYS</span><span class="p">.</span><span class="na">between</span><span class="p">(</span><span class="n">plannedEndDate</span><span class="p">,</span><span class="w"> </span><span class="n">today</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>DTO: ProcessProgress</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/application/service/ProcessProgress.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.application.service</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Builder</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Data</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ProcessProgress</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">sequence</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">processCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">processName</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">plannedHours</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">actualHours</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 工数消化率を計算</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="nf">getHoursRate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">plannedHours</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">plannedHours</span><span class="p">.</span><span class="na">compareTo</span><span class="p">(</span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">actualHours</span>
<span class="w">                </span><span class="p">.</span><span class="na">multiply</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;100&quot;</span><span class="p">))</span>
<span class="w">                </span><span class="p">.</span><span class="na">divide</span><span class="p">(</span><span class="n">plannedHours</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">math</span><span class="p">.</span><span class="na">RoundingMode</span><span class="p">.</span><span class="na">HALF_UP</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="_13">進捗管理サービス<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<details>
<summary>Service: ProgressManagementService</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/application/service/ProgressManagementService.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.application.service</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.process.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.persistence.mapper.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Service</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.stream.Collectors</span><span class="p">;</span>

<span class="nd">@Service</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ProgressManagementService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">WorkOrderMapper</span><span class="w"> </span><span class="n">workOrderMapper</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">WorkOrderDetailMapper</span><span class="w"> </span><span class="n">workOrderDetailMapper</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">LaborHoursMapper</span><span class="w"> </span><span class="n">laborHoursMapper</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ProcessMapper</span><span class="w"> </span><span class="n">processMapper</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 作業指示の進捗を取得する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">WorkOrderProgress</span><span class="w"> </span><span class="nf">getProgress</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">workOrderNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">WorkOrder</span><span class="w"> </span><span class="n">workOrder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workOrderMapper</span><span class="p">.</span><span class="na">findByWorkOrderNumber</span><span class="p">(</span><span class="n">workOrderNumber</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">workOrder</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;Work order not found: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">workOrderNumber</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">WorkOrderDetail</span><span class="o">&gt;</span><span class="w"> </span><span class="n">details</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workOrderDetailMapper</span><span class="p">.</span><span class="na">findByWorkOrderNumber</span><span class="p">(</span><span class="n">workOrderNumber</span><span class="p">);</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ProcessProgress</span><span class="o">&gt;</span><span class="w"> </span><span class="n">processProgresses</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">WorkOrderDetail</span><span class="w"> </span><span class="n">detail</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">details</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Process</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">processMapper</span><span class="p">.</span><span class="na">findByProcessCode</span><span class="p">(</span><span class="n">detail</span><span class="p">.</span><span class="na">getProcessCode</span><span class="p">());</span>
<span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="n">actualHours</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">laborHoursMapper</span><span class="p">.</span><span class="na">sumByWorkOrderAndSequence</span><span class="p">(</span>
<span class="w">                    </span><span class="n">workOrderNumber</span><span class="p">,</span><span class="w"> </span><span class="n">detail</span><span class="p">.</span><span class="na">getSequence</span><span class="p">());</span>

<span class="w">            </span><span class="n">processProgresses</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">ProcessProgress</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                    </span><span class="p">.</span><span class="na">sequence</span><span class="p">(</span><span class="n">detail</span><span class="p">.</span><span class="na">getSequence</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">processCode</span><span class="p">(</span><span class="n">detail</span><span class="p">.</span><span class="na">getProcessCode</span><span class="p">())</span>
<span class="w">                    </span><span class="p">.</span><span class="na">processName</span><span class="p">(</span><span class="n">process</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">process</span><span class="p">.</span><span class="na">getProcessName</span><span class="p">()</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">actualHours</span><span class="p">(</span><span class="n">actualHours</span><span class="p">)</span>
<span class="w">                    </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">WorkOrderProgress</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">workOrderNumber</span><span class="p">(</span><span class="n">workOrder</span><span class="p">.</span><span class="na">getWorkOrderNumber</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">itemCode</span><span class="p">(</span><span class="n">workOrder</span><span class="p">.</span><span class="na">getItemCode</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">status</span><span class="p">(</span><span class="n">workOrder</span><span class="p">.</span><span class="na">getStatus</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">orderQuantity</span><span class="p">(</span><span class="n">workOrder</span><span class="p">.</span><span class="na">getOrderQuantity</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">completedQuantity</span><span class="p">(</span><span class="n">workOrder</span><span class="p">.</span><span class="na">getCompletedQuantity</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">plannedStartDate</span><span class="p">(</span><span class="n">workOrder</span><span class="p">.</span><span class="na">getPlannedStartDate</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">plannedEndDate</span><span class="p">(</span><span class="n">workOrder</span><span class="p">.</span><span class="na">getPlannedEndDate</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">actualStartDate</span><span class="p">(</span><span class="n">workOrder</span><span class="p">.</span><span class="na">getActualStartDate</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">actualEndDate</span><span class="p">(</span><span class="n">workOrder</span><span class="p">.</span><span class="na">getActualEndDate</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">processProgresses</span><span class="p">(</span><span class="n">processProgresses</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 遅延している作業指示を取得する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">WorkOrderProgress</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getDelayedWorkOrders</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 未完了の作業指示を取得</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">WorkOrder</span><span class="o">&gt;</span><span class="w"> </span><span class="n">workOrders</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workOrderMapper</span><span class="p">.</span><span class="na">findByStatus</span><span class="p">(</span>
<span class="w">                </span><span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">WorkOrderStatus</span><span class="p">.</span><span class="na">NOT_STARTED</span><span class="p">,</span><span class="w"> </span><span class="n">WorkOrderStatus</span><span class="p">.</span><span class="na">IN_PROGRESS</span><span class="p">));</span>

<span class="w">        </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">today</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">workOrders</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">wo</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">today</span><span class="p">.</span><span class="na">isAfter</span><span class="p">(</span><span class="n">wo</span><span class="p">.</span><span class="na">getPlannedEndDate</span><span class="p">()))</span>
<span class="w">                </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">wo</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">getProgress</span><span class="p">(</span><span class="n">wo</span><span class="p">.</span><span class="na">getWorkOrderNumber</span><span class="p">()))</span>
<span class="w">                </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toList</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 本日開始予定の作業指示を取得する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">WorkOrderProgress</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getTodayStartWorkOrders</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">today</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">WorkOrder</span><span class="o">&gt;</span><span class="w"> </span><span class="n">workOrders</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workOrderMapper</span><span class="p">.</span><span class="na">findByPlannedStartDate</span><span class="p">(</span><span class="n">today</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">workOrders</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">wo</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">getProgress</span><span class="p">(</span><span class="n">wo</span><span class="p">.</span><span class="na">getWorkOrderNumber</span><span class="p">()))</span>
<span class="w">                </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toList</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 本日完成予定の作業指示を取得する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">WorkOrderProgress</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getTodayDueWorkOrders</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">today</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">();</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">WorkOrder</span><span class="o">&gt;</span><span class="w"> </span><span class="n">workOrders</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">workOrderMapper</span><span class="p">.</span><span class="na">findByPlannedEndDate</span><span class="p">(</span><span class="n">today</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">workOrders</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">wo</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">getProgress</span><span class="p">(</span><span class="n">wo</span><span class="p">.</span><span class="na">getWorkOrderNumber</span><span class="p">()))</span>
<span class="w">                </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toList</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="_14">遅延アラートの設計<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkFDVElWSVRZIiBoZWlnaHQ9IjUwN3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6ODIycHg7aGVpZ2h0OjUwN3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDgyMiA1MDciIHdpZHRoPSI4MjJweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMzY5MzM7JiMyNDMxMDsmIzEyNDUwOyYjMTI1MjE7JiMxMjU0MDsmIzEyNDg4OyYjMTIzOTg7JiMyMTAyODsmIzIzNDUwOyYjMTI1MjU7JiMxMjQ3MjsmIzEyNDgzOyYjMTI0NjM7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgxLjk5OTIiIHg9IjMxOC41OTI2IiB5PSIzMi45OTUxIj4mIzM2OTMzOyYjMjQzMTA7JiMxMjQ1MDsmIzEyNTIxOyYjMTI1NDA7JiMxMjQ4ODsmIzEyMzk4OyYjMjEwMjg7JiMyMzQ1MDsmIzEyNTI1OyYjMTI0NzI7JiMxMjQ4MzsmIzEyNDYzOzwvdGV4dD48L2c+PGVsbGlwc2UgY3g9IjM0Ni41NzQ4IiBjeT0iNTcuMjk2OSIgZmlsbD0iIzIyMjIyMiIgcng9IjEwIiByeT0iMTAiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTA0LjAwMDYiIHg9IjI5NC41NzQ1IiB5PSI4Ny4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODQuMDAwNiIgeD0iMzA0LjU3NDUiIHk9IjEwOC40MzU1Ij4mIzIwMzE2OyYjMjY5ODk7JiMyNTM1MTsmIzMxMDM0OyYjMTI0MzQ7JiMyMTQ2MjsmIzI0NDcxOzwvdGV4dD48cG9seWdvbiBmaWxsPSIjRjFGMUYxIiBwb2ludHM9IjI5Mi40NDI1LDE0MS4yNjU2LDQwMC43MDcxLDE0MS4yNjU2LDQxMi43MDcxLDE1My4yNjU2LDQwMC43MDcxLDE2NS4yNjU2LDI5Mi40NDI1LDE2NS4yNjU2LDI4MC40NDI1LDE1My4yNjU2LDI5Mi40NDI1LDE0MS4yNjU2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDguMjY0NiIgeD0iMjkyLjQ0MjUiIHk9IjE1Ny4wNzM3Ij4mIzEyNDczOyYjMTI0ODY7JiMxMjU0MDsmIzEyNDc5OyYjMTI0NzM7ID09ICYjMjM0MzY7JiMyMDEwMjs/PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5LjAwODMiIHg9IjI2MS40MzQyIiB5PSIxNTAuNjcxNCI+eWVzPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzLjcwMTciIHg9IjQxMi43MDcxIiB5PSIxNTAuNjcxNCI+bm88L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjkyLjAwMDUiIHg9IjIyNC40NDIyIiB5PSIxNzUuMjY1NiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcyLjAwMDUiIHg9IjIzNC40NDIyIiB5PSIxOTYuNDA0MyI+JiMxMjQ1MDsmIzEyNTIxOyYjMTI1NDA7JiMxMjQ4ODsmIzE5OTgxOyYjMzUyMDE7PC90ZXh0PjxlbGxpcHNlIGN4PSIyNzAuNDQyNSIgY3k9IjI0MC4yMzQ0IiBmaWxsPSJub25lIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMjIyMjIyO3N0cm9rZS13aWR0aDoxOyIvPjxlbGxpcHNlIGN4PSIyNzAuNDQyNSIgY3k9IjI0MC4yMzQ0IiBmaWxsPSIjMjIyMjIyIiByeD0iNiIgcnk9IjYiIHN0eWxlPSJzdHJva2U6IzIyMjIyMjtzdHJva2Utd2lkdGg6MTsiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTE2LjAwMDciIHg9IjM2NC43MDY3IiB5PSIxNzUuMjY1NiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk2LjAwMDciIHg9IjM3NC43MDY3IiB5PSIxOTYuNDA0MyI+JiMyMDE3MDsmIzI2MDg1OyYjMTIzOTg7JiMyNjA4NTsmIzIwMTg0OyYjMTI0MzQ7JiMyMTQ2MjsmIzI0NDcxOzwvdGV4dD48cG9seWdvbiBmaWxsPSIjRjFGMUYxIiBwb2ludHM9IjI5Ny4wNTA5LDI3MS4yMzQ0LDM5Ni4wOTg3LDI3MS4yMzQ0LDQwOC4wOTg3LDI4My4yMzQ0LDM5Ni4wOTg3LDI5NS4yMzQ0LDI5Ny4wNTA5LDI5NS4yMzQ0LDI4NS4wNTA5LDI4My4yMzQ0LDI5Ny4wNTA5LDI3MS4yMzQ0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5OS4wNDc4IiB4PSIyOTcuMDUwOSIgeT0iMjg3LjA0MjUiPiYjMjAxNzA7JiMyNjA4NTsgJmd0OyAmIzIzNDM2OyYjMjUxMDQ7JiMyMDEwNDsmIzIzNDUwOyYjMjYwODU7PzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOS4wMDgzIiB4PSIyNjYuMDQyNiIgeT0iMjgwLjY0MDEiPnllczwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMy43MDE3IiB4PSI0MDguMDk4NyIgeT0iMjgwLjY0MDEiPm5vPC90ZXh0PjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNDAuMDAwOSIgeD0iMTEiIHk9IjMwNS4yMzQ0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIwLjAwMDkiIHg9IjIxIiB5PSIzMjYuMzczIj4mIzEyMzA0OyYjMTI0NTA7JiMxMjUyMTsmIzEyNTQwOyYjMTI0ODg7JiMxMjMwNTsmIzM2OTMzOyYjMjQzMTA7JiMzMDMzMDsmIzI5OTgzOzwvdGV4dD48cGF0aCBkPSJNMTUzLjAwMDgsMzc4LjYyMTEgTDE1My4wMDA4LDM4Ny4xODc1IEwxMzMuMDAwOCwzOTEuMTg3NSBMMTUzLjAwMDgsMzk1LjE4NzUgTDE1My4wMDA4LDQwMy43NTM5IEEwLDAgMCAwIDAgMTUzLjAwMDgsNDAzLjc1MzkgTDM0OS4xMTM3LDQwMy43NTM5IEEwLDAgMCAwIDAgMzQ5LjExMzcsNDAzLjc1MzkgTDM0OS4xMTM3LDM4OC42MjExIEwzMzkuMTEzNywzNzguNjIxMSBMMTUzLjAwMDgsMzc4LjYyMTEgQTAsMCAwIDAgMCAxNTMuMDAwOCwzNzguNjIxMSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTMzOS4xMTM3LDM3OC42MjExIEwzMzkuMTEzNywzODguNjIxMSBMMzQ5LjExMzcsMzg4LjYyMTEgTDMzOS4xMTM3LDM3OC42MjExIiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNzUuMTEzIiB4PSIxNTkuMDAwOCIgeT0iMzk1LjY4OCI+JiMzNjkzMzsmIzI0MzEwOyYjMjYwODU7JiMyNTk2ODsgPSAmIzIwMTcwOyYjMjYwODU7IC0gJiMyMzQzNjsmIzI1MTA0OyYjMjAxMDQ7JiMyMzQ1MDsmIzI2MDg1OzwvdGV4dD48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTA0LjAwMDYiIHg9IjI5LjAwMDEiIHk9IjM3NC4yMDMxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODQuMDAwNiIgeD0iMzkuMDAwMSIgeT0iMzk1LjM0MTgiPiYjMzY5MzM7JiMyNDMxMDsmIzI2MDg1OyYjMjU5Njg7JiMxMjQzNDsmIzM1MzM2OyYjMzE2Mzk7PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNGMUYxRjEiIHBvaW50cz0iNTU3LjEyNTMsMzA1LjIzNDQsNjY3LjE3MywzMDUuMjM0NCw2NzkuMTczLDMxNy4yMzQ0LDY2Ny4xNzMsMzI5LjIzNDQsNTU3LjEyNTMsMzI5LjIzNDQsNTQ1LjEyNTMsMzE3LjIzNDQsNTU3LjEyNTMsMzA1LjIzNDQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMC4wNDc3IiB4PSI1NTcuMTI1MyIgeT0iMzIxLjA0MjUiPiYjMzY5MTQ7JiMyNTQzMTsmIzI5NTc1OyAmbHQ7ICYjMjYzOTk7JiMyNDQ1MzsmIzM2OTE0OyYjMjU0MzE7JiMyOTU3NTs/PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5LjAwODMiIHg9IjUyNi4xMTciIHk9IjMxNC42NDAxIj55ZXM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMuNzAxNyIgeD0iNjc5LjE3MyIgeT0iMzE0LjY0MDEiPm5vPC90ZXh0PjxwYXRoIGQ9Ik01MTUuMTE0NSwzMzkuMjM0NCBMNTE1LjExNDUsMzYyLjkzMzYgTDQ5NS4xMTQ1LDM2Ni45MzM2IEw1MTUuMTE0NSwzNzAuOTMzNiBMNTE1LjExNDUsMzk0LjYzMjggQTAsMCAwIDAgMCA1MTUuMTE0NSwzOTQuNjMyOCBMNzMzLjE4NCwzOTQuNjMyOCBBMCwwIDAgMCAwIDczMy4xODQsMzk0LjYzMjggTDczMy4xODQsMzQ5LjIzNDQgTDcyMy4xODQsMzM5LjIzNDQgTDUxNS4xMTQ1LDMzOS4yMzQ0IEEwLDAgMCAwIDAgNTE1LjExNDUsMzM5LjIzNDQiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjxwYXRoIGQ9Ik03MjMuMTg0LDMzOS4yMzQ0IEw3MjMuMTg0LDM0OS4yMzQ0IEw3MzMuMTg0LDM0OS4yMzQ0IEw3MjMuMTg0LDMzOS4yMzQ0IiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4MC4wMjUiIHg9IjUyMS4xMTQ1IiB5PSIzNTYuMzAxMyI+JiMyNjM5OTsmIzI0NDUzOyYjMzY5MTQ7JiMyNTQzMTsmIzI5NTc1OyA9PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMi42MTE0IiB4PSI1MjEuMTE0NSIgeT0iMzcxLjQzNDEiPigmIzIwMTcwOyYjMjYwODU7IC0gJiMzODI4MzsmIzIyOTg3OyYjMjAxMDQ7JiMyMzQ1MDsmIzI2MDg1OykgLzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTcuMDY5NSIgeD0iNTIxLjExNDUiIHk9IjM4Ni41NjY5Ij4oJiMyMzQzNjsmIzI1MTA0OyYjMjAxMDQ7JiMyMzQ1MDsmIzI2MDg1OyAtICYjMzgyODM7JiMyMjk4NzsmIzIwMTA0OyYjMjM0NTA7JiMyNjA4NTspICYjMjE1OyAxMDA8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExNi4wMDA3IiB4PSIzNzkuMTEzNyIgeT0iMzQ5Ljk0OTIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ni4wMDA3IiB4PSIzODkuMTEzNyIgeT0iMzcxLjA4NzkiPiYjMTIzMDQ7JiMzNTY4NjsmIzIxNTc4OyYjMTIzMDU7JiMzNjkxNDsmIzI1NDMxOyYjMzY5MzM7JiMxMjQyODs8L3RleHQ+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjY4LjAwMDQiIHg9Ijc0My4xODQiIHk9IjMzOS4yMzQ0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDguMDAwNCIgeD0iNzUzLjE4NCIgeT0iMzYwLjM3MyI+JiMyNzQ5MTsmIzI0MTIwOyYjMzY5MTQ7JiMyNTQzMTs8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0YxRjFGMSIgcG9pbnRzPSI2MTIuMTQ5MSw0MDAuNjMyOCw2MjQuMTQ5MSw0MTIuNjMyOCw2MTIuMTQ5MSw0MjQuNjMyOCw2MDAuMTQ5MSw0MTIuNjMyOCw2MTIuMTQ5MSw0MDAuNjMyOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBvbHlnb24gZmlsbD0iI0YxRjFGMSIgcG9pbnRzPSIzNDYuNTc0OCw0MzAuNjMyOCwzNTguNTc0OCw0NDIuNjMyOCwzNDYuNTc0OCw0NTQuNjMyOCwzMzQuNTc0OCw0NDIuNjMyOCwzNDYuNTc0OCw0MzAuNjMyOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PGVsbGlwc2UgY3g9IjM0Ni41NzQ4IiBjeT0iNDg1LjYzMjgiIGZpbGw9Im5vbmUiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMyMjIyMjI7c3Ryb2tlLXdpZHRoOjE7Ii8+PGVsbGlwc2UgY3g9IjM0Ni41NzQ4IiBjeT0iNDg1LjYzMjgiIGZpbGw9IiMyMjIyMjIiIHJ4PSI2IiByeT0iNiIgc3R5bGU9InN0cm9rZTojMjIyMjIyO3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzNDYuNTc0OCIgeDI9IjM0Ni41NzQ4IiB5MT0iNjcuMjk2OSIgeTI9Ijg3LjI5NjkiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM0Mi41NzQ4LDc3LjI5NjksMzQ2LjU3NDgsODcuMjk2OSwzNTAuNTc0OCw3Ny4yOTY5LDM0Ni41NzQ4LDgxLjI5NjkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjcwLjQ0MjUiIHgyPSIyNzAuNDQyNSIgeTE9IjIwOS4yMzQ0IiB5Mj0iMjI5LjIzNDQiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI2Ni40NDI1LDIxOS4yMzQ0LDI3MC40NDI1LDIyOS4yMzQ0LDI3NC40NDI1LDIxOS4yMzQ0LDI3MC40NDI1LDIyMy4yMzQ0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI4MC40NDI1IiB4Mj0iMjcwLjQ0MjUiIHkxPSIxNTMuMjY1NiIgeTI9IjE1My4yNjU2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI3MC40NDI1IiB4Mj0iMjcwLjQ0MjUiIHkxPSIxNTMuMjY1NiIgeTI9IjE3NS4yNjU2Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyNjYuNDQyNSwxNjUuMjY1NiwyNzAuNDQyNSwxNzUuMjY1NiwyNzQuNDQyNSwxNjUuMjY1NiwyNzAuNDQyNSwxNjkuMjY1NiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI0MTIuNzA3MSIgeDI9IjQyMi43MDcxIiB5MT0iMTUzLjI2NTYiIHkyPSIxNTMuMjY1NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI0MjIuNzA3MSIgeDI9IjQyMi43MDcxIiB5MT0iMTUzLjI2NTYiIHkyPSIxNzUuMjY1NiIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNDE4LjcwNzEsMTY1LjI2NTYsNDIyLjcwNzEsMTc1LjI2NTYsNDI2LjcwNzEsMTY1LjI2NTYsNDIyLjcwNzEsMTY5LjI2NTYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDIyLjcwNzEiIHgyPSI0MjIuNzA3MSIgeTE9IjIwOS4yMzQ0IiB5Mj0iMjU2LjIzNDQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDIyLjcwNzEiIHgyPSIzNDYuNTc0OCIgeTE9IjI1Ni4yMzQ0IiB5Mj0iMjU2LjIzNDQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzQ2LjU3NDgiIHgyPSIzNDYuNTc0OCIgeTE9IjI1Ni4yMzQ0IiB5Mj0iMjcxLjIzNDQiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM0Mi41NzQ4LDI2MS4yMzQ0LDM0Ni41NzQ4LDI3MS4yMzQ0LDM1MC41NzQ4LDI2MS4yMzQ0LDM0Ni41NzQ4LDI2NS4yMzQ0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjM0Ni41NzQ4IiB4Mj0iMzQ2LjU3NDgiIHkxPSIxMjEuMjY1NiIgeTI9IjE0MS4yNjU2Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzNDIuNTc0OCwxMzEuMjY1NiwzNDYuNTc0OCwxNDEuMjY1NiwzNTAuNTc0OCwxMzEuMjY1NiwzNDYuNTc0OCwxMzUuMjY1NiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI4MS4wMDA1IiB4Mj0iODEuMDAwNSIgeTE9IjMzOS4yMDMxIiB5Mj0iMzc0LjIwMzEiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9Ijc3LjAwMDUsMzY0LjIwMzEsODEuMDAwNSwzNzQuMjAzMSw4NS4wMDA1LDM2NC4yMDMxLDgxLjAwMDUsMzY4LjIwMzEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTQ1LjEyNTMiIHgyPSI0MzcuMTE0MSIgeTE9IjMxNy4yMzQ0IiB5Mj0iMzE3LjIzNDQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDM3LjExNDEiIHgyPSI0MzcuMTE0MSIgeTE9IjMxNy4yMzQ0IiB5Mj0iMzQ5Ljk0OTIiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjQzMy4xMTQxLDMzOS45NDkyLDQzNy4xMTQxLDM0OS45NDkyLDQ0MS4xMTQxLDMzOS45NDkyLDQzNy4xMTQxLDM0My45NDkyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjY3OS4xNzMiIHgyPSI3NzcuMTg0MSIgeTE9IjMxNy4yMzQ0IiB5Mj0iMzE3LjIzNDQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNzc3LjE4NDEiIHgyPSI3NzcuMTg0MSIgeTE9IjMxNy4yMzQ0IiB5Mj0iMzM5LjIzNDQiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9Ijc3My4xODQxLDMyOS4yMzQ0LDc3Ny4xODQxLDMzOS4yMzQ0LDc4MS4xODQxLDMyOS4yMzQ0LDc3Ny4xODQxLDMzMy4yMzQ0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQzNy4xMTQxIiB4Mj0iNDM3LjExNDEiIHkxPSIzODMuOTE4IiB5Mj0iNDEyLjYzMjgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDM3LjExNDEiIHgyPSI2MDAuMTQ5MSIgeTE9IjQxMi42MzI4IiB5Mj0iNDEyLjYzMjgiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjU5MC4xNDkxLDQwOC42MzI4LDYwMC4xNDkxLDQxMi42MzI4LDU5MC4xNDkxLDQxNi42MzI4LDU5NC4xNDkxLDQxMi42MzI4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijc3Ny4xODQxIiB4Mj0iNzc3LjE4NDEiIHkxPSIzNzMuMjAzMSIgeTI9IjQxMi42MzI4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijc3Ny4xODQxIiB4Mj0iNjI0LjE0OTEiIHkxPSI0MTIuNjMyOCIgeTI9IjQxMi42MzI4Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI2MzQuMTQ5MSw0MDguNjMyOCw2MjQuMTQ5MSw0MTIuNjMyOCw2MzQuMTQ5MSw0MTYuNjMyOCw2MzAuMTQ5MSw0MTIuNjMyOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyODUuMDUwOSIgeDI9IjgxLjAwMDUiIHkxPSIyODMuMjM0NCIgeTI9IjI4My4yMzQ0Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjgxLjAwMDUiIHgyPSI4MS4wMDA1IiB5MT0iMjgzLjIzNDQiIHkyPSIzMDUuMjM0NCIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNzcuMDAwNSwyOTUuMjM0NCw4MS4wMDA1LDMwNS4yMzQ0LDg1LjAwMDUsMjk1LjIzNDQsODEuMDAwNSwyOTkuMjM0NCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI0MDguMDk4NyIgeDI9IjYxMi4xNDkxIiB5MT0iMjgzLjIzNDQiIHkyPSIyODMuMjM0NCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI2MTIuMTQ5MSIgeDI9IjYxMi4xNDkxIiB5MT0iMjgzLjIzNDQiIHkyPSIzMDUuMjM0NCIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNjA4LjE0OTEsMjk1LjIzNDQsNjEyLjE0OTEsMzA1LjIzNDQsNjE2LjE0OTEsMjk1LjIzNDQsNjEyLjE0OTEsMjk5LjIzNDQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iODEuMDAwNSIgeDI9IjgxLjAwMDUiIHkxPSI0MDguMTcxOSIgeTI9IjQ0Mi42MzI4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjgxLjAwMDUiIHgyPSIzMzQuNTc0OCIgeTE9IjQ0Mi42MzI4IiB5Mj0iNDQyLjYzMjgiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMyNC41NzQ4LDQzOC42MzI4LDMzNC41NzQ4LDQ0Mi42MzI4LDMyNC41NzQ4LDQ0Ni42MzI4LDMyOC41NzQ4LDQ0Mi42MzI4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjYxMi4xNDkxIiB4Mj0iNjEyLjE0OTEiIHkxPSI0MjQuNjMyOCIgeTI9IjQ0Mi42MzI4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjYxMi4xNDkxIiB4Mj0iMzU4LjU3NDgiIHkxPSI0NDIuNjMyOCIgeTI9IjQ0Mi42MzI4Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzNjguNTc0OCw0MzguNjMyOCwzNTguNTc0OCw0NDIuNjMyOCwzNjguNTc0OCw0NDYuNjMyOCwzNjQuNTc0OCw0NDIuNjMyOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzNDYuNTc0OCIgeDI9IjM0Ni41NzQ4IiB5MT0iNDU0LjYzMjgiIHkyPSI0NzQuNjMyOCIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzQyLjU3NDgsNDY0LjYzMjgsMzQ2LjU3NDgsNDc0LjYzMjgsMzUwLjU3NDgsNDY0LjYzMjgsMzQ2LjU3NDgsNDY4LjYzMjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48IS0tU1JDPVtSUDVGSnk4bTY4VmxfSEpsU0hvQ1UxckVGdWs5R3ZRR09RME5SeDA2TUZZWk85SWY4STVIRzNyaTZXemMzaU0zN3dMaDF6XzJyWWFQYXFsSmxsZHJWUHd0bkdPa3doMmlyVGRpYkxndGIzbkl5YXc5Sk1pVWl5VkNrdzc0ZlBQRjJRN000cThMVjUzNjJBZFhudjFGTkR2ZkhrRTBNa1ZpUkMzY0pXdVg4bXlBalR1ZVFTV3NyZ1ZPV3dPMXlwZlhxRFpGMDJ4ZTlZV2RVWU0zcjJHa3pCa0JRSXFkLWZVRWFMd2l3QTJPOVA0OVBvdGtKOElDTUNGUExHQWJjdVQ2RldSNjhUWUo2Nnh0bWkwTXRnQUl2Ykx4UW5ETS1fN09xTktHTk9ub0k4c0Z1WUFfVjFRYW5PQ1RVTzlhYmgwRVBVRWVXNTRvMEhoeVdoVklPMmE3eWJmWTUyY3doQnhtaFhFVERjNE4tNzM0dmxMTHZSX2htZnNvVmFqUV9jRzRjYmdURFBqSzJ6MkdpWjlRM2poaWxocW9vaTBzS2JBTWNyOVYza25haXZseUxVeFVDVC1GUU5fRl9faTl5alUtMEcwMF0tLT48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_15">進捗状況の可視化<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h3>
<p>進捗状況を可視化するためのビュー定義例を示します。</p>
<details>
<summary>DDL: 進捗管理ビュー</summary>

<div class="highlight"><pre><span></span><code><span class="c1">-- 作業指示進捗ビュー</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="k">REPLACE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="ss">&quot;作業指示進捗ビュー&quot;</span><span class="w"> </span><span class="k">AS</span>
<span class="k">SELECT</span>
<span class="w">    </span><span class="n">wo</span><span class="p">.</span><span class="ss">&quot;作業指示番号&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">wo</span><span class="p">.</span><span class="ss">&quot;オーダ番号&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">wo</span><span class="p">.</span><span class="ss">&quot;品目コード&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">i</span><span class="p">.</span><span class="ss">&quot;品目名&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">wo</span><span class="p">.</span><span class="ss">&quot;作業指示数&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">wo</span><span class="p">.</span><span class="ss">&quot;完成済数&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="k">CASE</span>
<span class="w">        </span><span class="k">WHEN</span><span class="w"> </span><span class="n">wo</span><span class="p">.</span><span class="ss">&quot;作業指示数&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="mi">0</span>
<span class="w">        </span><span class="k">ELSE</span><span class="w"> </span><span class="n">ROUND</span><span class="p">((</span><span class="n">wo</span><span class="p">.</span><span class="ss">&quot;完成済数&quot;</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">wo</span><span class="p">.</span><span class="ss">&quot;作業指示数&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">    </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="ss">&quot;進捗率&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">wo</span><span class="p">.</span><span class="ss">&quot;開始予定日&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">wo</span><span class="p">.</span><span class="ss">&quot;完成予定日&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">wo</span><span class="p">.</span><span class="ss">&quot;実績開始日&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">wo</span><span class="p">.</span><span class="ss">&quot;実績完了日&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">wo</span><span class="p">.</span><span class="ss">&quot;ステータス&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="k">CASE</span>
<span class="w">        </span><span class="k">WHEN</span><span class="w"> </span><span class="n">wo</span><span class="p">.</span><span class="ss">&quot;ステータス&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;完了&#39;</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;完了&#39;</span>
<span class="w">        </span><span class="k">WHEN</span><span class="w"> </span><span class="k">CURRENT_DATE</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">wo</span><span class="p">.</span><span class="ss">&quot;完成予定日&quot;</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;遅延&#39;</span>
<span class="w">        </span><span class="k">WHEN</span><span class="w"> </span><span class="k">CURRENT_DATE</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">wo</span><span class="p">.</span><span class="ss">&quot;開始予定日&quot;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">wo</span><span class="p">.</span><span class="ss">&quot;ステータス&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;未着手&#39;</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;未着手遅延&#39;</span>
<span class="w">        </span><span class="k">ELSE</span><span class="w"> </span><span class="s1">&#39;正常&#39;</span>
<span class="w">    </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="ss">&quot;進捗状態&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="k">CASE</span>
<span class="w">        </span><span class="k">WHEN</span><span class="w"> </span><span class="n">wo</span><span class="p">.</span><span class="ss">&quot;ステータス&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;完了&#39;</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="mi">0</span>
<span class="w">        </span><span class="k">WHEN</span><span class="w"> </span><span class="k">CURRENT_DATE</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">wo</span><span class="p">.</span><span class="ss">&quot;完成予定日&quot;</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="k">CURRENT_DATE</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wo</span><span class="p">.</span><span class="ss">&quot;完成予定日&quot;</span>
<span class="w">        </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="ss">&quot;遅延日数&quot;</span>
<span class="k">FROM</span><span class="w"> </span><span class="ss">&quot;作業指示データ&quot;</span><span class="w"> </span><span class="n">wo</span>
<span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="ss">&quot;品目マスタ&quot;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">wo</span><span class="p">.</span><span class="ss">&quot;品目コード&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">.</span><span class="ss">&quot;品目コード&quot;</span><span class="p">;</span>

<span class="c1">-- 工程別工数実績ビュー</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="k">REPLACE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="ss">&quot;工程別工数実績ビュー&quot;</span><span class="w"> </span><span class="k">AS</span>
<span class="k">SELECT</span>
<span class="w">    </span><span class="n">lh</span><span class="p">.</span><span class="ss">&quot;作業指示番号&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">lh</span><span class="p">.</span><span class="ss">&quot;工順&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">lh</span><span class="p">.</span><span class="ss">&quot;工程コード&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">p</span><span class="p">.</span><span class="ss">&quot;工程名&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="k">SUM</span><span class="p">(</span><span class="n">lh</span><span class="p">.</span><span class="ss">&quot;工数&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="ss">&quot;合計工数&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="ss">&quot;記録件数&quot;</span>
<span class="k">FROM</span><span class="w"> </span><span class="ss">&quot;工数実績データ&quot;</span><span class="w"> </span><span class="n">lh</span>
<span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="ss">&quot;工程マスタ&quot;</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">lh</span><span class="p">.</span><span class="ss">&quot;工程コード&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="ss">&quot;工程コード&quot;</span>
<span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span>
<span class="w">    </span><span class="n">lh</span><span class="p">.</span><span class="ss">&quot;作業指示番号&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">lh</span><span class="p">.</span><span class="ss">&quot;工順&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">lh</span><span class="p">.</span><span class="ss">&quot;工程コード&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">p</span><span class="p">.</span><span class="ss">&quot;工程名&quot;</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span>
<span class="w">    </span><span class="n">lh</span><span class="p">.</span><span class="ss">&quot;作業指示番号&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">lh</span><span class="p">.</span><span class="ss">&quot;工順&quot;</span><span class="p">;</span>
</code></pre></div>

</details>

<hr />
<h2 id="_16">まとめ<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h2>
<p>本章では、工程管理の設計について学びました。</p>
<h3 id="_17">学んだこと<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>製造指示の設計</strong></li>
<li>作業指示データと作業指示明細データの親子関係</li>
<li>工程表からの自動展開</li>
<li>
<p>ステータス管理（未着手→作業中→完了）</p>
</li>
<li>
<p><strong>製造実績の設計</strong></p>
</li>
<li>完成実績と検査結果の記録</li>
<li>作業指示の累計更新</li>
<li>
<p>不良品の欠点別管理</p>
</li>
<li>
<p><strong>工数実績の設計</strong></p>
</li>
<li>工順ごとの工数記録</li>
<li>
<p>担当者別・工程別の集計</p>
</li>
<li>
<p><strong>進捗管理の設計</strong></p>
</li>
<li>進捗率の計算</li>
<li>遅延アラートの判定</li>
<li>進捗状況の可視化</li>
</ol>
<h3 id="27_1">テーブル一覧（第27章）<a class="headerlink" href="#27_1" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>テーブル名（日本語）</th>
<th>Java エンティティ</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>工程マスタ</td>
<td>Process</td>
<td>工程の定義</td>
</tr>
<tr>
<td>工程表</td>
<td>Routing</td>
<td>品目の製造工程定義</td>
</tr>
<tr>
<td>作業指示データ</td>
<td>WorkOrder</td>
<td>製造指示情報</td>
</tr>
<tr>
<td>作業指示明細データ</td>
<td>WorkOrderDetail</td>
<td>工程ごとの指示明細</td>
</tr>
<tr>
<td>完成実績データ</td>
<td>CompletionResult</td>
<td>完成報告</td>
</tr>
<tr>
<td>完成検査結果データ</td>
<td>InspectionResult</td>
<td>検査での不良内訳</td>
</tr>
<tr>
<td>工数実績データ</td>
<td>LaborHours</td>
<td>工程ごとの作業時間</td>
</tr>
</tbody>
</table>
<h3 id="enum-27">ENUM 一覧（第27章）<a class="headerlink" href="#enum-27" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>DB ENUM 型（日本語）</th>
<th>Java Enum</th>
<th>値</th>
</tr>
</thead>
<tbody>
<tr>
<td>作業指示ステータス</td>
<td>WorkOrderStatus</td>
<td>未着手→NOT_STARTED, 作業中→IN_PROGRESS, 完了→COMPLETED, 中断→SUSPENDED</td>
</tr>
</tbody>
</table>
<h3 id="_18">命名規則のパターン<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>DB（日本語）</strong>: テーブル名、カラム名、ENUM 型・値は日本語</li>
<li><strong>Java（英語）</strong>: クラス名、フィールド名、enum 値は英語</li>
<li><strong>MyBatis resultMap</strong>: 日本語カラムと英語プロパティのマッピング</li>
<li><strong>TypeHandler</strong>: 日本語 ENUM 値と英語 enum の相互変換</li>
</ul>
<hr />
<p><a href="../chapter26/">← 第26章：外注委託管理の設計</a> | <a href="../chapter28/">第28章：在庫管理の設計 →</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/k2works/practical-database-design" target="_blank" rel="noopener" title="GitHub Repository" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
      
        <script src="../../../docs/assets/js/extra.js"></script>
      
    
  </body>
</html>