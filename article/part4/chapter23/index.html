
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="基幹業務システム（販売管理・財務会計・生産管理）のデータベース設計を体系的に解説">
      
      
        <meta name="author" content="k2works">
      
      
      
        <link rel="prev" href="../chapter22/">
      
      
        <link rel="next" href="../chapter24/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>第23章 マスタ情報の設計 - 実践データベース設計：基幹業務システム編</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../docs/mkdocs/assets/css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#23" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="実践データベース設計：基幹業務システム編" class="md-header__button md-logo" aria-label="実践データベース設計：基幹業務システム編" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            実践データベース設計：基幹業務システム編
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              第23章 マスタ情報の設計
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/k2works/practical-database-design" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    practical-database-design
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
  実践データベース設計

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="実践データベース設計：基幹業務システム編" class="md-nav__button md-logo" aria-label="実践データベース設計：基幹業務システム編" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    実践データベース設計：基幹業務システム編
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/k2works/practical-database-design" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    practical-database-design
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    実践データベース設計
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    実践データベース設計
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../techstack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    技術スタック
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    アウトライン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    執筆ワークフロー
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    運用ガイド
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6" >
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    デプロイ
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    デプロイ
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-sms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SMS デモデプロイ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-fas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FAS デモデプロイ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7" >
        
          
          <label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第1部 基幹業務システムの全体像
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    第1部 基幹業務システムの全体像
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第1章 基幹業務システムとは
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第2章 基幹業務システムの業務領域
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part1/chapter03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第3章 業務フローの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_8" >
        
          
          <label class="md-nav__link" for="__nav_1_8" id="__nav_1_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第2部 販売管理システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    第2部 販売管理システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第4章 販売管理システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter05/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第5章 マスタ情報の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter06/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第6章 受注・出荷・売上の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter07/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第7章 債権管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter08/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第8章 調達管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter09/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第9章 在庫管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第10章 債務管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第11章 共通処理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第12章 販売管理データ設計（B社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/chapter13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第13章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_9" >
        
          
          <label class="md-nav__link" for="__nav_1_9" id="__nav_1_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第3部 財務会計システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    第3部 財務会計システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章 財務会計システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章 勘定科目の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章 仕訳の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章 勘定科目残高の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter19/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章 赤黒とログの設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter20/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章 財務会計データ設計（D社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/chapter21/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_10" checked>
        
          
          <label class="md-nav__link" for="__nav_1_10" id="__nav_1_10_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第4部 生産管理システム
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_10_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    第4部 生産管理システム
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter22/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第22章 生産管理システムの全体像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    第23章 マスタ情報の設計
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    第23章 マスタ情報の設計
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        アーキテクチャの概要
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="アーキテクチャの概要">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        パッケージ構成
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#231" class="md-nav__link">
    <span class="md-ellipsis">
      
        23.1 品目マスタの設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="23.1 品目マスタの設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        品目とは
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        品目マスタに必要な情報
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        テーブル定義
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        世代管理
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        ドメインモデル
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        リポジトリ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typehandler" class="md-nav__link">
    <span class="md-ellipsis">
      
        TypeHandler
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mybatis-mapper" class="md-nav__link">
    <span class="md-ellipsis">
      
        MyBatis Mapper
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#232-bom" class="md-nav__link">
    <span class="md-ellipsis">
      
        23.2 BOM（部品構成表）の設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="23.2 BOM（部品構成表）の設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bom" class="md-nav__link">
    <span class="md-ellipsis">
      
        BOM の構造
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#er" class="md-nav__link">
    <span class="md-ellipsis">
      
        ER 図
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        テーブル定義
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
        ドメインモデル
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
        リポジトリ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cte-bom" class="md-nav__link">
    <span class="md-ellipsis">
      
        再帰 CTE による BOM 展開
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#233" class="md-nav__link">
    <span class="md-ellipsis">
      
        23.3 補助マスタの設計
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="23.3 補助マスタの設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
        カレンダマスタ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      
        場所マスタ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      
        取引先マスタ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      
        その他の補助マスタ
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      
        まとめ
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="まとめ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      
        作成したテーブル
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      
        アーキテクチャのポイント
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      
        命名規則のまとめ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#er23" class="md-nav__link">
    <span class="md-ellipsis">
      
        ER図（第23章完了時点）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      
        設計のポイント
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter24/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第24章 生産計画の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter25/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第25章 購買管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter26/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第26章 外注委託管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter27/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第27章 工程管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter28/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第28章 在庫管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第29章 品質管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter30/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第30章 製造原価管理の設計
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter31/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第31章 生産管理データ設計（E社事例）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter32/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第32章 APIサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_11" >
        
          
          <label class="md-nav__link" for="__nav_1_11" id="__nav_1_11_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    第5部 エンタープライズインテグレーション
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    第5部 エンタープライズインテグレーション
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter33.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第33章 システム統合の概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter34.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第34章 メッセージングパターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter35.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第35章 システム間連携パターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter36.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第36章 マスタデータ管理（MDM）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter37.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第37章 イベント駆動アーキテクチャ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter38.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第38章 API設計とサービス連携
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/chapter39.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第39章 データ連携の実装パターン
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_12" >
        
          
          <label class="md-nav__link" for="__nav_1_12" id="__nav_1_12_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 販売管理システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 販売管理システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study2-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_13" >
        
          
          <label class="md-nav__link" for="__nav_1_13" id="__nav_1_13_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 財務会計システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 財務会計システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study3-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_14" >
        
          
          <label class="md-nav__link" for="__nav_1_14" id="__nav_1_14_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 生産管理システム実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 生産管理システム実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究1 モノリスサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究2 JavaFXデスクトップアプリケーションの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究3 gRPCサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../study/study4-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    研究4 GraphQLサービスの実装
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_15" >
        
          
          <label class="md-nav__link" for="__nav_1_15" id="__nav_1_15_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    研究 財務会計システムORM実装編
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    研究 財務会計システムORM実装編
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter14-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第14章 財務会計システムの全体像【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter15-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第15章 勘定科目の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter16-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第16章 仕訳の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter17-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第17章 自動仕訳の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter18-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第18章 勘定科目残高の設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter19-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第19章 赤黒とログの設計【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter20-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第20章 財務会計データ設計（D社事例）【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3-orm/chapter21-orm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    第21章 APIサービスの実装【ORM版】
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_16" >
        
          
          <label class="md-nav__link" for="__nav_1_16" id="__nav_1_16_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    付録
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_16">
            <span class="md-nav__icon md-icon"></span>
            
  
    付録
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/er-diagrams.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    A 全体ER図
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/table-definitions.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    B テーブル定義一覧
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/glossary.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C 用語集
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_17" >
        
          
          <label class="md-nav__link" for="__nav_1_17" id="__nav_1_17_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    データベース
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_17">
            <span class="md-nav__icon md-icon"></span>
            
  
    データベース
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../assets/schemaspy-output/sms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SchemaSpy ER図（SMS）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="23">第23章：マスタ情報の設計<a class="headerlink" href="#23" title="Permanent link">&para;</a></h1>
<p>本章では、生産管理システムの基盤となるマスタ情報を設計します。ヘキサゴナルアーキテクチャ（ポート＆アダプターパターン）を採用し、ドメイン層がインフラストラクチャ層に依存しない設計とします。</p>
<h2 id="_1">アーキテクチャの概要<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjYzOXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MTE3M3B4O2hlaWdodDo2MzlweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMTczIDYzOSIgd2lkdGg9IjExNzNweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMTI1MDQ7JiMxMjQ2MTsmIzEyNDY5OyYjMTI0Njg7JiMxMjQ5MDsmIzEyNTIzOyYjMTI0NTA7JiMxMjU0MDsmIzEyNDYxOyYjMTI0ODY7JiMxMjQ2MzsmIzEyNDgxOyYjMTI1MTU7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgxLjk5OTIiIHg9IjQ4OC41MDA0IiB5PSIyMi45OTUxIj4mIzEyNTA0OyYjMTI0NjE7JiMxMjQ2OTsmIzEyNDY4OyYjMTI0OTA7JiMxMjUyMzsmIzEyNDUwOyYjMTI1NDA7JiMxMjQ2MTsmIzEyNDg2OyYjMTI0NjM7JiMxMjQ4MTsmIzEyNTE1OzwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgQXBwbGljYXRpb24gTGF5ZXItLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iQXBwbGljYXRpb24gTGF5ZXIiIGRhdGEtc291cmNlLWxpbmU9IjMiIGlkPSJlbnQwMDAyIj48cGF0aCBkPSJNNDguNSw0My4yOTY5IEwxODcuNTY1NCw0My4yOTY5IEEzLjc1LDMuNzUgMCAwIDEgMTkwLjA2NTQsNDUuNzk2OSBMMTk3LjA2NTQsNjUuNTkzOCBMNDM1LjUsNjUuNTkzOCBBMi41LDIuNSAwIDAgMSA0MzgsNjguMDkzOCBMNDM4LDIwNi43OTY5IEEyLjUsMi41IDAgMCAxIDQzNS41LDIwOS4yOTY5IEw0OC41LDIwOS4yOTY5IEEyLjUsMi41IDAgMCAxIDQ2LDIwNi43OTY5IEw0Niw0NS43OTY5IEEyLjUsMi41IDAgMCAxIDQ4LjUsNDMuMjk2OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNDYiIHgyPSIxOTcuMDY1NCIgeTE9IjY1LjU5MzgiIHkyPSI2NS41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzOC4wNjU0IiB4PSI1MCIgeT0iNTguMjkyIj5BcHBsaWNhdGlvbiBMYXllcjwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgcG9ydC9vdXQtLT48ZyBjbGFzcz0iY2x1c3RlciIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iQXBwbGljYXRpb24gTGF5ZXIucG9ydC5vdXQiIGRhdGEtc291cmNlLWxpbmU9IjQiIGlkPSJlbnQwMDAzIj48cGF0aCBkPSJNNzIuNSw4Ni4yOTY5IEwxMzguMTI3LDg2LjI5NjkgQTMuNzUsMy43NSAwIDAgMSAxNDAuNjI3LDg4Ljc5NjkgTDE0Ny42MjcsMTA4LjU5MzggTDQxMS41LDEwOC41OTM4IEEyLjUsMi41IDAgMCAxIDQxNCwxMTEuMDkzOCBMNDE0LDE4Mi43OTY5IEEyLjUsMi41IDAgMCAxIDQxMS41LDE4NS4yOTY5IEw3Mi41LDE4NS4yOTY5IEEyLjUsMi41IDAgMCAxIDcwLDE4Mi43OTY5IEw3MCw4OC43OTY5IEEyLjUsMi41IDAgMCAxIDcyLjUsODYuMjk2OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNzAiIHgyPSIxNDcuNjI3IiB5MT0iMTA4LjU5MzgiIHkyPSIxMDguNTkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NC42MjciIHg9Ijc0IiB5PSIxMDEuMjkyIj5wb3J0L291dDwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgRG9tYWluIExheWVyLS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkRvbWFpbiBMYXllciIgZGF0YS1zb3VyY2UtbGluZT0iMTAiIGlkPSJlbnQwMDA2Ij48cGF0aCBkPSJNNzYyLjUsNDQyLjI5NjkgTDg3Mi4zMDc2LDQ0Mi4yOTY5IEEzLjc1LDMuNzUgMCAwIDEgODc0LjgwNzYsNDQ0Ljc5NjkgTDg4MS44MDc2LDQ2NC41OTM4IEwxMTYzLjUsNDY0LjU5MzggQTIuNSwyLjUgMCAwIDEgMTE2Niw0NjcuMDkzOCBMMTE2Niw2MDUuNzk2OSBBMi41LDIuNSAwIDAgMSAxMTYzLjUsNjA4LjI5NjkgTDc2Mi41LDYwOC4yOTY5IEEyLjUsMi41IDAgMCAxIDc2MCw2MDUuNzk2OSBMNzYwLDQ0NC43OTY5IEEyLjUsMi41IDAgMCAxIDc2Mi41LDQ0Mi4yOTY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI3NjAiIHgyPSI4ODEuODA3NiIgeTE9IjQ2NC41OTM4IiB5Mj0iNDY0LjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA4LjgwNzYiIHg9Ijc2NCIgeT0iNDU3LjI5MiI+RG9tYWluIExheWVyPC90ZXh0PjwvZz48IS0tY2x1c3RlciBtb2RlbC0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJEb21haW4gTGF5ZXIubW9kZWwiIGRhdGEtc291cmNlLWxpbmU9IjExIiBpZD0iZW50MDAwNyI+PHBhdGggZD0iTTc4Ni41LDQ4NS4yOTY5IEw4MzYuMDIxNSw0ODUuMjk2OSBBMy43NSwzLjc1IDAgMCAxIDgzOC41MjE1LDQ4Ny43OTY5IEw4NDUuNTIxNSw1MDcuNTkzOCBMMTEzOS41LDUwNy41OTM4IEEyLjUsMi41IDAgMCAxIDExNDIsNTEwLjA5MzggTDExNDIsNTgxLjc5NjkgQTIuNSwyLjUgMCAwIDEgMTEzOS41LDU4NC4yOTY5IEw3ODYuNSw1ODQuMjk2OSBBMi41LDIuNSAwIDAgMSA3ODQsNTgxLjc5NjkgTDc4NCw0ODcuNzk2OSBBMi41LDIuNSAwIDAgMSA3ODYuNSw0ODUuMjk2OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNzg0IiB4Mj0iODQ1LjUyMTUiIHkxPSI1MDcuNTkzOCIgeTI9IjUwNy41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ4LjUyMTUiIHg9Ijc4OCIgeT0iNTAwLjI5MiI+bW9kZWw8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIEluZnJhc3RydWN0dXJlIExheWVyLS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkluZnJhc3RydWN0dXJlIExheWVyIiBkYXRhLXNvdXJjZS1saW5lPSIxOCIgaWQ9ImVudDAwMTEiPjxwYXRoIGQ9Ik04LjUsMjMzLjI5NjkgTDE2OS4xMzk2LDIzMy4yOTY5IEEzLjc1LDMuNzUgMCAwIDEgMTcxLjYzOTYsMjM1Ljc5NjkgTDE3OC42Mzk2LDI1NS41OTM4IEw3MzMuNSwyNTUuNTkzOCBBMi41LDIuNSAwIDAgMSA3MzYsMjU4LjA5MzggTDczNiw2MjkuNzk2OSBBMi41LDIuNSAwIDAgMSA3MzMuNSw2MzIuMjk2OSBMOC41LDYzMi4yOTY5IEEyLjUsMi41IDAgMCAxIDYsNjI5Ljc5NjkgTDYsMjM1Ljc5NjkgQTIuNSwyLjUgMCAwIDEgOC41LDIzMy4yOTY5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI2IiB4Mj0iMTc4LjYzOTYiIHkxPSIyNTUuNTkzOCIgeTI9IjI1NS41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1OS42Mzk2IiB4PSIxMCIgeT0iMjQ4LjI5MiI+SW5mcmFzdHJ1Y3R1cmUgTGF5ZXI8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIHBlcnNpc3RlbmNlLS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkluZnJhc3RydWN0dXJlIExheWVyLnBlcnNpc3RlbmNlIiBkYXRhLXNvdXJjZS1saW5lPSIxOSIgaWQ9ImVudDAwMTIiPjxwYXRoIGQ9Ik0zMi41LDI3Ni4yOTY5IEwxMjUuMzM0LDI3Ni4yOTY5IEEzLjc1LDMuNzUgMCAwIDEgMTI3LjgzNCwyNzguNzk2OSBMMTM0LjgzNCwyOTguNTkzOCBMNzA5LjUsMjk4LjU5MzggQTIuNSwyLjUgMCAwIDEgNzEyLDMwMS4wOTM4IEw3MTIsNjA1Ljc5NjkgQTIuNSwyLjUgMCAwIDEgNzA5LjUsNjA4LjI5NjkgTDMyLjUsNjA4LjI5NjkgQTIuNSwyLjUgMCAwIDEgMzAsNjA1Ljc5NjkgTDMwLDI3OC43OTY5IEEyLjUsMi41IDAgMCAxIDMyLjUsMjc2LjI5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjMwIiB4Mj0iMTM0LjgzNCIgeTE9IjI5OC41OTM4IiB5Mj0iMjk4LjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEuODM0IiB4PSIzNCIgeT0iMjkxLjI5MiI+cGVyc2lzdGVuY2U8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIG1hcHBlci0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJJbmZyYXN0cnVjdHVyZSBMYXllci5wZXJzaXN0ZW5jZS5tYXBwZXIiIGRhdGEtc291cmNlLWxpbmU9IjIwIiBpZD0iZW50MDAxMyI+PHBhdGggZD0iTTgzLjUsNDg1LjI5NjkgTDE0NC45Nzc1LDQ4NS4yOTY5IEEzLjc1LDMuNzUgMCAwIDEgMTQ3LjQ3NzUsNDg3Ljc5NjkgTDE1NC40Nzc1LDUwNy41OTM4IEwzNzguNSw1MDcuNTkzOCBBMi41LDIuNSAwIDAgMSAzODEsNTEwLjA5MzggTDM4MSw1ODEuNzk2OSBBMi41LDIuNSAwIDAgMSAzNzguNSw1ODQuMjk2OSBMODMuNSw1ODQuMjk2OSBBMi41LDIuNSAwIDAgMSA4MSw1ODEuNzk2OSBMODEsNDg3Ljc5NjkgQTIuNSwyLjUgMCAwIDEgODMuNSw0ODUuMjk2OSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iODEiIHgyPSIxNTQuNDc3NSIgeTE9IjUwNy41OTM4IiB5Mj0iNTA3LjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjAuNDc3NSIgeD0iODUiIHk9IjUwMC4yOTIiPm1hcHBlcjwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgcmVwb3NpdG9yeS0tPjxnIGNsYXNzPSJjbHVzdGVyIiBkYXRhLXF1YWxpZmllZC1uYW1lPSJJbmZyYXN0cnVjdHVyZSBMYXllci5wZXJzaXN0ZW5jZS5yZXBvc2l0b3J5IiBkYXRhLXNvdXJjZS1saW5lPSIyNCIgaWQ9ImVudDAwMTYiPjxwYXRoIGQ9Ik01Ni41LDMxOS4yOTY5IEwxMzkuMDExNywzMTkuMjk2OSBBMy43NSwzLjc1IDAgMCAxIDE0MS41MTE3LDMyMS43OTY5IEwxNDguNTExNywzNDEuNTkzOCBMNDU3LjUsMzQxLjU5MzggQTIuNSwyLjUgMCAwIDEgNDYwLDM0NC4wOTM4IEw0NjAsNDE1Ljc5NjkgQTIuNSwyLjUgMCAwIDEgNDU3LjUsNDE4LjI5NjkgTDU2LjUsNDE4LjI5NjkgQTIuNSwyLjUgMCAwIDEgNTQsNDE1Ljc5NjkgTDU0LDMyMS43OTY5IEEyLjUsMi41IDAgMCAxIDU2LjUsMzE5LjI5NjkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjU0IiB4Mj0iMTQ4LjUxMTciIHkxPSIzNDEuNTkzOCIgeTI9IjM0MS41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgxLjUxMTciIHg9IjU4IiB5PSIzMzQuMjkyIj5yZXBvc2l0b3J5PC90ZXh0PjwvZz48IS0tY2xhc3MgSXRlbVJlcG9zaXRvcnktLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJBcHBsaWNhdGlvbiBMYXllci5wb3J0Lm91dC5JdGVtUmVwb3NpdG9yeSIgZGF0YS1zb3VyY2UtbGluZT0iNSIgaWQ9ImVudDAwMDQiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEzOC45NDE0IiB4PSI4NS41MyIgeT0iMTIxLjI5NjkiLz48ZWxsaXBzZSBjeD0iMTAwLjUzIiBjeT0iMTM3LjI5NjkiIGZpbGw9IiNCNEE3RTUiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTk2LjQ1MTksMTMzLjA2MjUgTDk2LjQ1MTksMTMwLjkwNjMgTDEwMy44NDI1LDEzMC45MDYzIEwxMDMuODQyNSwxMzMuMDYyNSBMMTAxLjM3MzgsMTMzLjA2MjUgTDEwMS4zNzM4LDE0MS4xNDA2IEwxMDMuODQyNSwxNDEuMTQwNiBMMTAzLjg0MjUsMTQzLjI5NjkgTDk2LjQ1MTksMTQzLjI5NjkgTDk2LjQ1MTksMTQxLjE0MDYgTDk4LjkyMDYsMTQxLjE0MDYgTDk4LjkyMDYsMTMzLjA2MjUgTDk2LjQ1MTksMTMzLjA2MjUgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNi45NDE0IiB4PSIxMTQuNTMiIHk9IjE0Mi4xNDM2Ij5JdGVtUmVwb3NpdG9yeTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI4Ni41MyIgeDI9IjIyMy40NzE0IiB5MT0iMTUzLjI5NjkiIHkyPSIxNTMuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9Ijg2LjUzIiB4Mj0iMjIzLjQ3MTQiIHkxPSIxNjEuMjk2OSIgeTI9IjE2MS4yOTY5Ii8+PC9nPjwhLS1jbGFzcyBCb21SZXBvc2l0b3J5LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iQXBwbGljYXRpb24gTGF5ZXIucG9ydC5vdXQuQm9tUmVwb3NpdG9yeSIgZGF0YS1zb3VyY2UtbGluZT0iNiIgaWQ9ImVudDAwMDUiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEzOC44Nzk5IiB4PSIyNTkuNTYiIHk9IjEyMS4yOTY5Ii8+PGVsbGlwc2UgY3g9IjI3NC41NiIgY3k9IjEzNy4yOTY5IiBmaWxsPSIjQjRBN0U1IiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0yNzAuNDgxOSwxMzMuMDYyNSBMMjcwLjQ4MTksMTMwLjkwNjMgTDI3Ny44NzI1LDEzMC45MDYzIEwyNzcuODcyNSwxMzMuMDYyNSBMMjc1LjQwMzgsMTMzLjA2MjUgTDI3NS40MDM4LDE0MS4xNDA2IEwyNzcuODcyNSwxNDEuMTQwNiBMMjc3Ljg3MjUsMTQzLjI5NjkgTDI3MC40ODE5LDE0My4yOTY5IEwyNzAuNDgxOSwxNDEuMTQwNiBMMjcyLjk1MDYsMTQxLjE0MDYgTDI3Mi45NTA2LDEzMy4wNjI1IEwyNzAuNDgxOSwxMzMuMDYyNSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA2Ljg3OTkiIHg9IjI4OC41NiIgeT0iMTQyLjE0MzYiPkJvbVJlcG9zaXRvcnk8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjYwLjU2IiB4Mj0iMzk3LjQzOTkiIHkxPSIxNTMuMjk2OSIgeTI9IjE1My4yOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjYwLjU2IiB4Mj0iMzk3LjQzOTkiIHkxPSIxNjEuMjk2OSIgeTI9IjE2MS4yOTY5Ii8+PC9nPjwhLS1jbGFzcyBJdGVtLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iRG9tYWluIExheWVyLm1vZGVsLkl0ZW0iIGRhdGEtc291cmNlLWxpbmU9IjEyIiBpZD0iZW50MDAwOCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNjMuODY5MSIgeD0iODAwLjA3IiB5PSI1MjAuMjk2OSIvPjxlbGxpcHNlIGN4PSI4MTUuMDciIGN5PSI1MzYuMjk2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNODE4LjAzODgsNTQxLjkzNzUgUTgxNy40NjA2LDU0Mi4yMzQ0IDgxNi44Miw1NDIuMzc1IFE4MTYuMTc5NCw1NDIuNTMxMyA4MTUuNDc2Myw1NDIuNTMxMyBRODEyLjk3NjMsNTQyLjUzMTMgODExLjY0ODEsNTQwLjg5MDYgUTgxMC4zMzU2LDUzOS4yMzQ0IDgxMC4zMzU2LDUzNi4xMDk0IFE4MTAuMzM1Niw1MzIuOTg0NCA4MTEuNjQ4MSw1MzEuMzI4MSBRODEyLjk3NjMsNTI5LjY3MTkgODE1LjQ3NjMsNTI5LjY3MTkgUTgxNi4xNzk0LDUyOS42NzE5IDgxNi44Miw1MjkuODI4MSBRODE3LjQ3NjMsNTI5Ljk4NDQgODE4LjAzODgsNTMwLjI4MTMgTDgxOC4wMzg4LDUzMyBRODE3LjQxMzgsNTMyLjQyMTkgODE2LjgyLDUzMi4xNTYzIFE4MTYuMjI2Myw1MzEuODc1IDgxNS42MDEzLDUzMS44NzUgUTgxNC4yNTc1LDUzMS44NzUgODEzLjU3LDUzMi45NTMxIFE4MTIuODgyNSw1MzQuMDE1NiA4MTIuODgyNSw1MzYuMTA5NCBRODEyLjg4MjUsNTM4LjIwMzEgODEzLjU3LDUzOS4yODEzIFE4MTQuMjU3NSw1NDAuMzQzOCA4MTUuNjAxMyw1NDAuMzQzOCBRODE2LjIyNjMsNTQwLjM0MzggODE2LjgyLDU0MC4wNzgxIFE4MTcuNDEzOCw1MzkuNzk2OSA4MTguMDM4OCw1MzkuMjE4OCBMODE4LjAzODgsNTQxLjkzNzUgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMS44NjkxIiB4PSI4MjkuMDciIHk9IjU0MS4xNDM2Ij5JdGVtPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjgwMS4wNyIgeDI9Ijg2Mi45MzkxIiB5MT0iNTUyLjI5NjkiIHkyPSI1NTIuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjgwMS4wNyIgeDI9Ijg2Mi45MzkxIiB5MT0iNTYwLjI5NjkiIHkyPSI1NjAuMjk2OSIvPjwvZz48IS0tY2xhc3MgSXRlbUNhdGVnb3J5LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iRG9tYWluIExheWVyLm1vZGVsLkl0ZW1DYXRlZ29yeSIgZGF0YS1zb3VyY2UtbGluZT0iMTMiIGlkPSJlbnQwMDA5Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjcuODE5MyIgeD0iODk5LjA5IiB5PSI1MjAuMjk2OSIvPjxlbGxpcHNlIGN4PSI5MTQuMDkiIGN5PSI1MzYuMjk2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNOTE3LjA1ODgsNTQxLjkzNzUgUTkxNi40ODA2LDU0Mi4yMzQ0IDkxNS44NCw1NDIuMzc1IFE5MTUuMTk5NCw1NDIuNTMxMyA5MTQuNDk2Myw1NDIuNTMxMyBROTExLjk5NjMsNTQyLjUzMTMgOTEwLjY2ODEsNTQwLjg5MDYgUTkwOS4zNTU2LDUzOS4yMzQ0IDkwOS4zNTU2LDUzNi4xMDk0IFE5MDkuMzU1Niw1MzIuOTg0NCA5MTAuNjY4MSw1MzEuMzI4MSBROTExLjk5NjMsNTI5LjY3MTkgOTE0LjQ5NjMsNTI5LjY3MTkgUTkxNS4xOTk0LDUyOS42NzE5IDkxNS44NCw1MjkuODI4MSBROTE2LjQ5NjMsNTI5Ljk4NDQgOTE3LjA1ODgsNTMwLjI4MTMgTDkxNy4wNTg4LDUzMyBROTE2LjQzMzgsNTMyLjQyMTkgOTE1Ljg0LDUzMi4xNTYzIFE5MTUuMjQ2Myw1MzEuODc1IDkxNC42MjEzLDUzMS44NzUgUTkxMy4yNzc1LDUzMS44NzUgOTEyLjU5LDUzMi45NTMxIFE5MTEuOTAyNSw1MzQuMDE1NiA5MTEuOTAyNSw1MzYuMTA5NCBROTExLjkwMjUsNTM4LjIwMzEgOTEyLjU5LDUzOS4yODEzIFE5MTMuMjc3NSw1NDAuMzQzOCA5MTQuNjIxMyw1NDAuMzQzOCBROTE1LjI0NjMsNTQwLjM0MzggOTE1Ljg0LDU0MC4wNzgxIFE5MTYuNDMzOCw1MzkuNzk2OSA5MTcuMDU4OCw1MzkuMjE4OCBMOTE3LjA1ODgsNTQxLjkzNzUgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5NS44MTkzIiB4PSI5MjguMDkiIHk9IjU0MS4xNDM2Ij5JdGVtQ2F0ZWdvcnk8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iOTAwLjA5IiB4Mj0iMTAyNS45MDkzIiB5MT0iNTUyLjI5NjkiIHkyPSI1NTIuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjkwMC4wOSIgeDI9IjEwMjUuOTA5MyIgeTE9IjU2MC4yOTY5IiB5Mj0iNTYwLjI5NjkiLz48L2c+PCEtLWNsYXNzIEJvbS0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkRvbWFpbiBMYXllci5tb2RlbC5Cb20iIGRhdGEtc291cmNlLWxpbmU9IjE0IiBpZD0iZW50MDAxMCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNjMuODA3NiIgeD0iMTA2Mi4xIiB5PSI1MjAuMjk2OSIvPjxlbGxpcHNlIGN4PSIxMDc3LjEiIGN5PSI1MzYuMjk2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMTA4MC4wNjg4LDU0MS45Mzc1IFExMDc5LjQ5MDYsNTQyLjIzNDQgMTA3OC44NSw1NDIuMzc1IFExMDc4LjIwOTQsNTQyLjUzMTMgMTA3Ny41MDYzLDU0Mi41MzEzIFExMDc1LjAwNjMsNTQyLjUzMTMgMTA3My42NzgxLDU0MC44OTA2IFExMDcyLjM2NTYsNTM5LjIzNDQgMTA3Mi4zNjU2LDUzNi4xMDk0IFExMDcyLjM2NTYsNTMyLjk4NDQgMTA3My42NzgxLDUzMS4zMjgxIFExMDc1LjAwNjMsNTI5LjY3MTkgMTA3Ny41MDYzLDUyOS42NzE5IFExMDc4LjIwOTQsNTI5LjY3MTkgMTA3OC44NSw1MjkuODI4MSBRMTA3OS41MDYzLDUyOS45ODQ0IDEwODAuMDY4OCw1MzAuMjgxMyBMMTA4MC4wNjg4LDUzMyBRMTA3OS40NDM4LDUzMi40MjE5IDEwNzguODUsNTMyLjE1NjMgUTEwNzguMjU2Myw1MzEuODc1IDEwNzcuNjMxMyw1MzEuODc1IFExMDc2LjI4NzUsNTMxLjg3NSAxMDc1LjYsNTMyLjk1MzEgUTEwNzQuOTEyNSw1MzQuMDE1NiAxMDc0LjkxMjUsNTM2LjEwOTQgUTEwNzQuOTEyNSw1MzguMjAzMSAxMDc1LjYsNTM5LjI4MTMgUTEwNzYuMjg3NSw1NDAuMzQzOCAxMDc3LjYzMTMsNTQwLjM0MzggUTEwNzguMjU2Myw1NDAuMzQzOCAxMDc4Ljg1LDU0MC4wNzgxIFExMDc5LjQ0MzgsNTM5Ljc5NjkgMTA4MC4wNjg4LDUzOS4yMTg4IEwxMDgwLjA2ODgsNTQxLjkzNzUgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMS44MDc2IiB4PSIxMDkxLjEiIHk9IjU0MS4xNDM2Ij5Cb208L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTA2My4xIiB4Mj0iMTEyNC45MDc2IiB5MT0iNTUyLjI5NjkiIHkyPSI1NTIuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjEwNjMuMSIgeDI9IjExMjQuOTA3NiIgeTE9IjU2MC4yOTY5IiB5Mj0iNTYwLjI5NjkiLz48L2c+PCEtLWNsYXNzIEl0ZW1DYXRlZ29yeVR5cGVIYW5kbGVyLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iSW5mcmFzdHJ1Y3R1cmUgTGF5ZXIucGVyc2lzdGVuY2UuSXRlbUNhdGVnb3J5VHlwZUhhbmRsZXIiIGRhdGEtc291cmNlLWxpbmU9IjI4IiBpZD0iZW50MDAxOSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMjE3LjI4MTMiIHg9IjQ3OC4zNiIgeT0iMzU0LjI5NjkiLz48ZWxsaXBzZSBjeD0iNDkzLjM2IiBjeT0iMzcwLjI5NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTQ5Ni4zMjg4LDM3NS45Mzc1IFE0OTUuNzUwNiwzNzYuMjM0NCA0OTUuMTEsMzc2LjM3NSBRNDk0LjQ2OTQsMzc2LjUzMTMgNDkzLjc2NjMsMzc2LjUzMTMgUTQ5MS4yNjYzLDM3Ni41MzEzIDQ4OS45MzgxLDM3NC44OTA2IFE0ODguNjI1NiwzNzMuMjM0NCA0ODguNjI1NiwzNzAuMTA5NCBRNDg4LjYyNTYsMzY2Ljk4NDQgNDg5LjkzODEsMzY1LjMyODEgUTQ5MS4yNjYzLDM2My42NzE5IDQ5My43NjYzLDM2My42NzE5IFE0OTQuNDY5NCwzNjMuNjcxOSA0OTUuMTEsMzYzLjgyODEgUTQ5NS43NjYzLDM2My45ODQ0IDQ5Ni4zMjg4LDM2NC4yODEzIEw0OTYuMzI4OCwzNjcgUTQ5NS43MDM4LDM2Ni40MjE5IDQ5NS4xMSwzNjYuMTU2MyBRNDk0LjUxNjMsMzY1Ljg3NSA0OTMuODkxMywzNjUuODc1IFE0OTIuNTQ3NSwzNjUuODc1IDQ5MS44NiwzNjYuOTUzMSBRNDkxLjE3MjUsMzY4LjAxNTYgNDkxLjE3MjUsMzcwLjEwOTQgUTQ5MS4xNzI1LDM3Mi4yMDMxIDQ5MS44NiwzNzMuMjgxMyBRNDkyLjU0NzUsMzc0LjM0MzggNDkzLjg5MTMsMzc0LjM0MzggUTQ5NC41MTYzLDM3NC4zNDM4IDQ5NS4xMSwzNzQuMDc4MSBRNDk1LjcwMzgsMzczLjc5NjkgNDk2LjMyODgsMzczLjIxODggTDQ5Ni4zMjg4LDM3NS45Mzc1IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTg1LjI4MTMiIHg9IjUwNy4zNiIgeT0iMzc1LjE0MzYiPkl0ZW1DYXRlZ29yeVR5cGVIYW5kbGVyPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjQ3OS4zNiIgeDI9IjY5NC42NDEzIiB5MT0iMzg2LjI5NjkiIHkyPSIzODYuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjQ3OS4zNiIgeDI9IjY5NC42NDEzIiB5MT0iMzk0LjI5NjkiIHkyPSIzOTQuMjk2OSIvPjwvZz48IS0tY2xhc3MgSXRlbU1hcHBlci0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkluZnJhc3RydWN0dXJlIExheWVyLnBlcnNpc3RlbmNlLm1hcHBlci5JdGVtTWFwcGVyIiBkYXRhLXNvdXJjZS1saW5lPSIyMSIgaWQ9ImVudDAwMTQiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExNi42Njk5IiB4PSI5Ni42NyIgeT0iNTIwLjI5NjkiLz48ZWxsaXBzZSBjeD0iMTExLjY3IiBjeT0iNTM2LjI5NjkiIGZpbGw9IiNCNEE3RTUiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTEwNy41OTE5LDUzMi4wNjI1IEwxMDcuNTkxOSw1MjkuOTA2MyBMMTE0Ljk4MjUsNTI5LjkwNjMgTDExNC45ODI1LDUzMi4wNjI1IEwxMTIuNTEzOCw1MzIuMDYyNSBMMTEyLjUxMzgsNTQwLjE0MDYgTDExNC45ODI1LDU0MC4xNDA2IEwxMTQuOTgyNSw1NDIuMjk2OSBMMTA3LjU5MTksNTQyLjI5NjkgTDEwNy41OTE5LDU0MC4xNDA2IEwxMTAuMDYwNiw1NDAuMTQwNiBMMTEwLjA2MDYsNTMyLjA2MjUgTDEwNy41OTE5LDUzMi4wNjI1IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NC42Njk5IiB4PSIxMjUuNjciIHk9IjU0MS4xNDM2Ij5JdGVtTWFwcGVyPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9Ijk3LjY3IiB4Mj0iMjEyLjMzOTkiIHkxPSI1NTIuMjk2OSIgeTI9IjU1Mi4yOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iOTcuNjciIHgyPSIyMTIuMzM5OSIgeTE9IjU2MC4yOTY5IiB5Mj0iNTYwLjI5NjkiLz48L2c+PCEtLWNsYXNzIEJvbU1hcHBlci0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkluZnJhc3RydWN0dXJlIExheWVyLnBlcnNpc3RlbmNlLm1hcHBlci5Cb21NYXBwZXIiIGRhdGEtc291cmNlLWxpbmU9IjIyIiBpZD0iZW50MDAxNSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTE2LjYwODQiIHg9IjI0OC43IiB5PSI1MjAuMjk2OSIvPjxlbGxpcHNlIGN4PSIyNjMuNyIgY3k9IjUzNi4yOTY5IiBmaWxsPSIjQjRBN0U1IiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0yNTkuNjIxOSw1MzIuMDYyNSBMMjU5LjYyMTksNTI5LjkwNjMgTDI2Ny4wMTI1LDUyOS45MDYzIEwyNjcuMDEyNSw1MzIuMDYyNSBMMjY0LjU0MzgsNTMyLjA2MjUgTDI2NC41NDM4LDU0MC4xNDA2IEwyNjcuMDEyNSw1NDAuMTQwNiBMMjY3LjAxMjUsNTQyLjI5NjkgTDI1OS42MjE5LDU0Mi4yOTY5IEwyNTkuNjIxOSw1NDAuMTQwNiBMMjYyLjA5MDYsNTQwLjE0MDYgTDI2Mi4wOTA2LDUzMi4wNjI1IEwyNTkuNjIxOSw1MzIuMDYyNSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODQuNjA4NCIgeD0iMjc3LjciIHk9IjU0MS4xNDM2Ij5Cb21NYXBwZXI8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjQ5LjciIHgyPSIzNjQuMzA4NCIgeTE9IjU1Mi4yOTY5IiB5Mj0iNTUyLjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyNDkuNyIgeDI9IjM2NC4zMDg0IiB5MT0iNTYwLjI5NjkiIHkyPSI1NjAuMjk2OSIvPjwvZz48IS0tY2xhc3MgSXRlbVJlcG9zaXRvcnlJbXBsLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iSW5mcmFzdHJ1Y3R1cmUgTGF5ZXIucGVyc2lzdGVuY2UucmVwb3NpdG9yeS5JdGVtUmVwb3NpdG9yeUltcGwiIGRhdGEtc291cmNlLWxpbmU9IjI1IiBpZD0iZW50MDAxNyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTY5LjQ4NDQiIHg9IjcwLjI2IiB5PSIzNTQuMjk2OSIvPjxlbGxpcHNlIGN4PSI4NS4yNiIgY3k9IjM3MC4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik04OC4yMjg4LDM3NS45Mzc1IFE4Ny42NTA2LDM3Ni4yMzQ0IDg3LjAxLDM3Ni4zNzUgUTg2LjM2OTQsMzc2LjUzMTMgODUuNjY2MywzNzYuNTMxMyBRODMuMTY2MywzNzYuNTMxMyA4MS44MzgxLDM3NC44OTA2IFE4MC41MjU2LDM3My4yMzQ0IDgwLjUyNTYsMzcwLjEwOTQgUTgwLjUyNTYsMzY2Ljk4NDQgODEuODM4MSwzNjUuMzI4MSBRODMuMTY2MywzNjMuNjcxOSA4NS42NjYzLDM2My42NzE5IFE4Ni4zNjk0LDM2My42NzE5IDg3LjAxLDM2My44MjgxIFE4Ny42NjYzLDM2My45ODQ0IDg4LjIyODgsMzY0LjI4MTMgTDg4LjIyODgsMzY3IFE4Ny42MDM4LDM2Ni40MjE5IDg3LjAxLDM2Ni4xNTYzIFE4Ni40MTYzLDM2NS44NzUgODUuNzkxMywzNjUuODc1IFE4NC40NDc1LDM2NS44NzUgODMuNzYsMzY2Ljk1MzEgUTgzLjA3MjUsMzY4LjAxNTYgODMuMDcyNSwzNzAuMTA5NCBRODMuMDcyNSwzNzIuMjAzMSA4My43NiwzNzMuMjgxMyBRODQuNDQ3NSwzNzQuMzQzOCA4NS43OTEzLDM3NC4zNDM4IFE4Ni40MTYzLDM3NC4zNDM4IDg3LjAxLDM3NC4wNzgxIFE4Ny42MDM4LDM3My43OTY5IDg4LjIyODgsMzczLjIxODggTDg4LjIyODgsMzc1LjkzNzUgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzcuNDg0NCIgeD0iOTkuMjYiIHk9IjM3NS4xNDM2Ij5JdGVtUmVwb3NpdG9yeUltcGw8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNzEuMjYiIHgyPSIyMzguNzQ0NCIgeTE9IjM4Ni4yOTY5IiB5Mj0iMzg2LjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI3MS4yNiIgeDI9IjIzOC43NDQ0IiB5MT0iMzk0LjI5NjkiIHkyPSIzOTQuMjk2OSIvPjwvZz48IS0tY2xhc3MgQm9tUmVwb3NpdG9yeUltcGwtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSJJbmZyYXN0cnVjdHVyZSBMYXllci5wZXJzaXN0ZW5jZS5yZXBvc2l0b3J5LkJvbVJlcG9zaXRvcnlJbXBsIiBkYXRhLXNvdXJjZS1saW5lPSIyNiIgaWQ9ImVudDAwMTgiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE2OS40MjI5IiB4PSIyNzQuMjkiIHk9IjM1NC4yOTY5Ii8+PGVsbGlwc2UgY3g9IjI4OS4yOSIgY3k9IjM3MC4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0yOTIuMjU4OCwzNzUuOTM3NSBRMjkxLjY4MDYsMzc2LjIzNDQgMjkxLjA0LDM3Ni4zNzUgUTI5MC4zOTk0LDM3Ni41MzEzIDI4OS42OTYzLDM3Ni41MzEzIFEyODcuMTk2MywzNzYuNTMxMyAyODUuODY4MSwzNzQuODkwNiBRMjg0LjU1NTYsMzczLjIzNDQgMjg0LjU1NTYsMzcwLjEwOTQgUTI4NC41NTU2LDM2Ni45ODQ0IDI4NS44NjgxLDM2NS4zMjgxIFEyODcuMTk2MywzNjMuNjcxOSAyODkuNjk2MywzNjMuNjcxOSBRMjkwLjM5OTQsMzYzLjY3MTkgMjkxLjA0LDM2My44MjgxIFEyOTEuNjk2MywzNjMuOTg0NCAyOTIuMjU4OCwzNjQuMjgxMyBMMjkyLjI1ODgsMzY3IFEyOTEuNjMzOCwzNjYuNDIxOSAyOTEuMDQsMzY2LjE1NjMgUTI5MC40NDYzLDM2NS44NzUgMjg5LjgyMTMsMzY1Ljg3NSBRMjg4LjQ3NzUsMzY1Ljg3NSAyODcuNzksMzY2Ljk1MzEgUTI4Ny4xMDI1LDM2OC4wMTU2IDI4Ny4xMDI1LDM3MC4xMDk0IFEyODcuMTAyNSwzNzIuMjAzMSAyODcuNzksMzczLjI4MTMgUTI4OC40Nzc1LDM3NC4zNDM4IDI4OS44MjEzLDM3NC4zNDM4IFEyOTAuNDQ2MywzNzQuMzQzOCAyOTEuMDQsMzc0LjA3ODEgUTI5MS42MzM4LDM3My43OTY5IDI5Mi4yNTg4LDM3My4yMTg4IEwyOTIuMjU4OCwzNzUuOTM3NSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzNy40MjI5IiB4PSIzMDMuMjkiIHk9IjM3NS4xNDM2Ij5Cb21SZXBvc2l0b3J5SW1wbDwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyNzUuMjkiIHgyPSI0NDIuNzEyOSIgeTE9IjM4Ni4yOTY5IiB5Mj0iMzg2LjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyNzUuMjkiIHgyPSI0NDIuNzEyOSIgeTE9IjM5NC4yOTY5IiB5Mj0iMzk0LjI5NjkiLz48L2c+PCEtLXJldmVyc2UgbGluayBJdGVtUmVwb3NpdG9yeSB0byBJdGVtUmVwb3NpdG9yeUltcGwtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwNCIgZGF0YS1lbnRpdHktMj0iZW50MDAxNyIgZGF0YS1saW5rLXR5cGU9ImV4dGVuc2lvbiIgZGF0YS1zb3VyY2UtbGluZT0iMzIiIGlkPSJsbmsyMCI+PHBhdGggY29kZUxpbmU9IjMyIiBkPSJNMTU1LDE4Ny43MTY5IEMxNTUsMjMxLjk5NjkgMTU1LDMwOS40ODY5IDE1NSwzNTMuODE2OSIgZmlsbD0ibm9uZSIgaWQ9Ikl0ZW1SZXBvc2l0b3J5LWJhY2t0by1JdGVtUmVwb3NpdG9yeUltcGwiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTtzdHJva2UtZGFzaGFycmF5OjcsNzsiLz48cG9seWdvbiBmaWxsPSJub25lIiBwb2ludHM9IjE1NSwxNjkuNzE2OSwxNDksMTg3LjcxNjksMTYxLDE4Ny43MTY5LDE1NSwxNjkuNzE2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tbGluayBJdGVtUmVwb3NpdG9yeUltcGwgdG8gSXRlbU1hcHBlci0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDE3IiBkYXRhLWVudGl0eS0yPSJlbnQwMDE0IiBkYXRhLWxpbmstdHlwZT0iZGVwZW5kZW5jeSIgZGF0YS1zb3VyY2UtbGluZT0iMzMiIGlkPSJsbmsyMSI+PHBhdGggY29kZUxpbmU9IjMzIiBkPSJNMTU1LDQwMi43OTY5IEMxNTUsNDMzLjk2NjkgMTU1LDQ4Mi42ODY5IDE1NSw1MTMuODQ2OSIgZmlsbD0ibm9uZSIgaWQ9Ikl0ZW1SZXBvc2l0b3J5SW1wbC10by1JdGVtTWFwcGVyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNTUsNTE5Ljg0NjksMTU5LDUxMC44NDY5LDE1NSw1MTQuODQ2OSwxNTEsNTEwLjg0NjksMTU1LDUxOS44NDY5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIEl0ZW1SZXBvc2l0b3J5SW1wbCB0byBJdGVtLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMTciIGRhdGEtZW50aXR5LTI9ImVudDAwMDgiIGRhdGEtbGluay10eXBlPSJkZXBlbmRlbmN5IiBkYXRhLXNvdXJjZS1saW5lPSIzNCIgaWQ9ImxuazIyIj48cGF0aCBjb2RlTGluZT0iMzQiIGQ9Ik0xOTYuNCw0MDIuNTg2OSBDMjE0LjQ1LDQxMS42MDY5IDIzNi4yMSw0MjEuMDI2OSAyNTcsNDI2LjI5NjkgQzMxMC41Myw0MzkuODU2OSAzMjYuNCw0MjUuOTk2OSAzODEsNDM0LjI5NjkgQzU0MC40OCw0NTguNTI2OSA3MjAuNjcxMiw1MDkuODI5IDc5NC4wOTEyLDUzMS43NjkiIGZpbGw9Im5vbmUiIGlkPSJJdGVtUmVwb3NpdG9yeUltcGwtdG8tSXRlbSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNzk5Ljg0LDUzMy40ODY5LDc5Mi4zNjIxLDUyNy4wNzc1LDc5NS4wNDkzLDUzMi4wNTUzLDc5MC4wNzE1LDUzNC43NDI2LDc5OS44NCw1MzMuNDg2OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjwvZz48P3BsYW50dW1sLXNyYyBWT3l6SmlHbTQ0UnhGT01yX0l1TkcybG5LbjA5NmlHNUhqeFBiT0xaTV9RYVk5T0tzMTg1OXcyNjRZNFF3QlpETjhHYVlxWXlIQ1lEek1SeVZOd2FJQUZXekNKblpVQ2RubXpFWnZuVUVKdnAta2ZXVWszdXBrY1VxeWppdmEzVW1YUjVfQ0d2aElJR2lhUFNHZXItQmRSM3I1YkZIeFFZM1lmM3czU1dLSEk0dkpLdzZuSFBOdXk2ZnRSQ2NfT0NLVVVzMTNOTEtUZXJ3ZXY4M0k3cXVRRmg2SDFra3hHelFYaUVTV2tweUgzOEx2OGdackNFdzhDQVg0UFl0V2xFeExUcGl3a1V2ck9faDFiVS1yX0ZfRWszVnI0d0ZWcHdXM1NKWVpVcm1taW1RenF0ak92dmRaWS1Nb3dkRWx1WWlMWWluWXhfUjdtMz8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_2">パッケージ構成<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>src/main/java/com/example/production/
├── application/                    # アプリケーション層
│   └── port/
│       └── out/                   # Output Port（リポジトリインターフェース）
│           └── ItemRepository.java
├── domain/                         # ドメイン層（純粋なビジネスロジック）
│   └── model/                     # ドメインモデル
│       └── item/
│           ├── Item.java
│           └── ItemCategory.java
├── infrastructure/                 # インフラストラクチャ層
│   └── persistence/
│       ├── mapper/                # MyBatis Mapper
│       │   └── ItemMapper.java
│       ├── repository/            # Repository実装
│       │   └── ItemRepositoryImpl.java
│       └── ItemCategoryTypeHandler.java
└── config/
    └── FlywayConfig.java
</code></pre></div>
<hr />
<h2 id="231">23.1 品目マスタの設計<a class="headerlink" href="#231" title="Permanent link">&para;</a></h2>
<p>品目マスタは、生産管理システムで扱う「モノ」（製品、部品、材料など）の情報を管理する、最も基本的なマスタです。</p>
<h3 id="_3">品目とは<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>生産管理における「品目」とは、管理対象となるすべての「モノ」を指します。</p>
<table>
<thead>
<tr>
<th>品目区分</th>
<th>説明</th>
<th>例</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>製品</strong></td>
<td>最終的に販売する完成品</td>
<td>パソコン、スマートフォン</td>
</tr>
<tr>
<td><strong>半製品</strong></td>
<td>途中まで完成した製品</td>
<td>組立済みの基板</td>
</tr>
<tr>
<td><strong>中間品</strong></td>
<td>製造工程の中間生成物</td>
<td>加工済み部品</td>
</tr>
<tr>
<td><strong>部品</strong></td>
<td>製品を構成する部品</td>
<td>ネジ、コネクタ</td>
</tr>
<tr>
<td><strong>材料</strong></td>
<td>加工に使用する材料</td>
<td>鋼材、プラスチック</td>
</tr>
<tr>
<td><strong>原料</strong></td>
<td>化学反応などの元となる原料</td>
<td>化学薬品</td>
</tr>
<tr>
<td><strong>資材</strong></td>
<td>製造を支援する資材</td>
<td>梱包材、ラベル</td>
</tr>
</tbody>
</table>
<h3 id="_4">品目マスタに必要な情報<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjUzNHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDQzcHg7aGVpZ2h0OjUzNHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQ0MyA1MzQiIHdpZHRoPSI0NDNweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjE2OTc7JiMzMDQ0NjsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTsmIzEyMzYyOyYjMTI0MjQ7JiMxMjQwMzsmIzM4MzA2OyYjMzY4OTk7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgxLjk5OTIiIHg9IjEyMy43NTAxIiB5PSIyMi45OTUxIj4mIzIxNjk3OyYjMzA0NDY7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7JiMxMjM2MjsmIzEyNDI0OyYjMTI0MDM7JiMzODMwNjsmIzM2ODk5OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjMiIGlkPSJlbnQwMDAyIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMwOC43NSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTc2LjgxMzkiIHg9IjE3OS4wOSIgeT0iMjE5LjIyNjkiLz48ZWxsaXBzZSBjeD0iMjI4LjI0NzEiIGN5PSIyMzUuMjI2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMjMyLjM1NjUsMjQxLjIyNjkgTDIyNC42Mzc3LDI0MS4yMjY5IEwyMjQuNjM3NywyMjguODM2MyBMMjMyLjM1NjUsMjI4LjgzNjMgTDIzMi4zNTY1LDIzMC45OTI1IEwyMjcuMDkwOSwyMzAuOTkyNSBMMjI3LjA5MDksMjMzLjY2NDQgTDIzMS44NTY1LDIzMy42NjQ0IEwyMzEuODU2NSwyMzUuODIwNiBMMjI3LjA5MDksMjM1LjgyMDYgTDIyNy4wOTA5LDIzOS4wNzA2IEwyMzIuMzU2NSwyMzkuMDcwNiBMMjMyLjM1NjUsMjQxLjIyNjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIyNDguNzQ3MSIgeT0iMjQwLjA3MzYiPiYjMjE2OTc7JiMzMDQ0NjsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTgwLjA5IiB4Mj0iMzU0LjkwMzkiIHkxPSIyNTEuMjI2OSIgeTI9IjI1MS4yMjY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTg1LjA5IiB5PSIyNjguMjIyIj4mIzIxNjk3OyYjMzA0NDY7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjE4NS4wOSIgeT0iMjg0LjUxODkiPiYjMzY5Njk7JiMyOTk5MjsmIzM4MjgzOyYjMjI5ODc7JiMyNjA4NTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE4MC4wOSIgeDI9IjM1NC45MDM5IiB5MT0iMjkxLjgyMDYiIHkyPSIyOTEuODIwNiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjE4NS4wOSIgeT0iMzA4LjgxNTciPiYjMzY5Njk7JiMyOTk5MjsmIzIwNTcyOyYjMjc0OTA7JiMyNjA4NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjcuOTk5OSIgeD0iMTg1LjA5IiB5PSIzMjUuMTEyNiI+JiMyMTY5NzsmIzIxNTE3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5NC44MTQyIiB4PSIxODUuMDkiIHk9IjM0MS40MDk1Ij4mIzIxNjk3OyYjMzA0NDY7JiMyMTMwNjsmIzIwOTk4OyAmIzE3MTtGSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjQuODEzOSIgeD0iMTg1LjA5IiB5PSIzNTcuNzA2NCI+JiMyMTY5NzsmIzMwNDQ2OyYjMTI0NjQ7JiMxMjUyMzsmIzEyNTQwOyYjMTI1MDM7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7ICYjMTcxO0ZLJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOC44MTQxIiB4PSIxODUuMDkiIHk9IjM3NC4wMDMyIj4mIzIxMzM2OyYjMjAzMDE7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7ICYjMTcxO0ZLJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOC44MTQxIiB4PSIxODUuMDkiIHk9IjM5MC4zMDAxIj4mIzIyNTgwOyYjMjUxNTI7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7ICYjMTcxO0ZLJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjE4NS4wOSIgeT0iNDA2LjU5NyI+JiMxMjUyMjsmIzEyNTQwOyYjMTI0ODk7JiMxMjQ3OTsmIzEyNDUyOyYjMTI1MTI7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMS45OTk1IiB4PSIxODUuMDkiIHk9IjQyMi44OTM5Ij4mIzIzNDMzOyYjMjA4NDA7JiMxMjUyMjsmIzEyNTQwOyYjMTI0ODk7JiMxMjQ3OTsmIzEyNDUyOyYjMTI1MTI7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjE4NS4wOSIgeT0iNDM5LjE5MDciPiYjMjM0MzM7JiMyMDg0MDsmIzIyMzEyOyYjMjQyMzU7JiMyNTk2ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iMTg1LjA5IiB5PSI0NTUuNDg3NiI+JiMyNzQ5NzsmIzMwMDQxOyYjMjk1NzU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjE4NS4wOSIgeT0iNDcxLjc4NDUiPiYjMjYzNjg7JiMyMzU2NzsmIzEyNTI1OyYjMTI0ODM7JiMxMjQ4ODsmIzI1OTY4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSIxODUuMDkiIHk9IjQ4OC4wODE0Ij4mIzIxMDUxOyYjMTI0MTU7JiMxMjUyNTsmIzEyNDgzOyYjMTI0ODg7JiMyNTk2ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMTg1LjA5IiB5PSI1MDQuMzc4MiI+JiMyNjM2ODsmIzIyODIzOyYjMTI1MjU7JiMxMjQ4MzsmIzEyNDg4OyYjMjU5Njg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjE4NS4wOSIgeT0iNTIwLjY3NTEiPiYjMjYzNzc7JiMyMTE3NzsmIzI2Mzk5OyYjMzgyOTE7PC90ZXh0PjwvZz48IS0tY2xhc3MgPz8/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjIzIiBpZD0iZW50MDAwMyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI4MC41OTM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjkuOTk5NiIgeD0iMTEzLjUiIHk9IjYwLjk2NjkiLz48ZWxsaXBzZSBjeD0iMTI4LjUiIGN5PSI3Ni45NjY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0xMzIuNjA5NCw4Mi45NjY5IEwxMjQuODkwNiw4Mi45NjY5IEwxMjQuODkwNiw3MC41NzYzIEwxMzIuNjA5NCw3MC41NzYzIEwxMzIuNjA5NCw3Mi43MzI1IEwxMjcuMzQzOCw3Mi43MzI1IEwxMjcuMzQzOCw3NS40MDQ0IEwxMzIuMTA5NCw3NS40MDQ0IEwxMzIuMTA5NCw3Ny41NjA2IEwxMjcuMzQzOCw3Ny41NjA2IEwxMjcuMzQzOCw4MC44MTA2IEwxMzIuNjA5NCw4MC44MTA2IEwxMzIuNjA5NCw4Mi45NjY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTcuOTk5NiIgeD0iMTQyLjUiIHk9IjgxLjgxMzYiPiYjMjE2OTc7JiMzMDQ0NjsmIzIxMzA2OyYjMjA5OTg7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjExNC41IiB4Mj0iMjQyLjQ5OTYiIHkxPSI5Mi45NjY5IiB5Mj0iOTIuOTY2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjExOS41IiB5PSIxMDkuOTYyIj4mIzIxNjk3OyYjMzA0NDY7JiMyMTMwNjsmIzIwOTk4OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTE0LjUiIHgyPSIyNDIuNDk5NiIgeTE9IjExNy4yNjM4IiB5Mj0iMTE3LjI2MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIxMTkuNSIgeT0iMTM0LjI1ODkiPiYjMjE2OTc7JiMzMDQ0NjsmIzIxMzA2OyYjMjA5OTg7JiMyMTUxNzs8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9IkdNTjQiIGRhdGEtc291cmNlLWxpbmU9IjMwIiBpZD0iZW50MDAwNSI+PHBhdGggZD0iTTYsNDMuMjk2OSBMNiwxNTkuMjI2NiBBMCwwIDAgMCAwIDYsMTU5LjIyNjYgTDc5LjAwMDEsMTU5LjIyNjYgQTAsMCAwIDAgMCA3OS4wMDAxLDE1OS4yMjY2IEw3OS4wMDAxLDEwNS4yNjY5IEwxMTMuMDksMTAxLjI2NjkgTDc5LjAwMDEsOTcuMjY2OSBMNzkuMDAwMSw1My4yOTY5IEw2OS4wMDAxLDQzLjI5NjkgTDYsNDMuMjk2OSBBMCwwIDAgMCAwIDYsNDMuMjk2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTY5LjAwMDEsNDMuMjk2OSBMNjkuMDAwMSw1My4yOTY5IEw3OS4wMDAxLDUzLjI5NjkgTDY5LjAwMDEsNDMuMjk2OSIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjYiIHg9IjEyIiB5PSI2MC4zNjM4Ij4mIzM1MDY5OyYjMjE2OTc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM5IiB4PSIxMiIgeT0iNzUuNDk2NiI+JiMyMTMyMjsmIzM1MDY5OyYjMjE2OTc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM5IiB4PSIxMiIgeT0iOTAuNjI5NCI+JiMyMDAxMzsmIzM4MjkxOyYjMjE2OTc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI2IiB4PSIxMiIgeT0iMTA1Ljc2MjIiPiYjMzcwOTY7JiMyMTY5Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjYiIHg9IjEyIiB5PSIxMjAuODk1Ij4mIzI2NDQ4OyYjMjYwMDk7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI2IiB4PSIxMiIgeT0iMTM2LjAyNzgiPiYjMjE0MDc7JiMyNjAwOTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIuMDAwMSIgeD0iMTIiIHk9IjE1MS4xNjA2Ij4mIzM2MDM5OyYjMjY0NDg7JiMxMjM5NDsmIzEyMzkzOzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMzkiIGlkPSJlbnQwMDA3Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjgwLjU5MzgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE1Ny45OTk1IiB4PSIyNzguNSIgeT0iNjAuOTY2OSIvPjxlbGxpcHNlIGN4PSIyOTMuNSIgY3k9Ijc2Ljk2NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTI5Ny42MDk0LDgyLjk2NjkgTDI4OS44OTA2LDgyLjk2NjkgTDI4OS44OTA2LDcwLjU3NjMgTDI5Ny42MDk0LDcwLjU3NjMgTDI5Ny42MDk0LDcyLjczMjUgTDI5Mi4zNDM4LDcyLjczMjUgTDI5Mi4zNDM4LDc1LjQwNDQgTDI5Ny4xMDk0LDc1LjQwNDQgTDI5Ny4xMDk0LDc3LjU2MDYgTDI5Mi4zNDM4LDc3LjU2MDYgTDI5Mi4zNDM4LDgwLjgxMDYgTDI5Ny42MDk0LDgwLjgxMDYgTDI5Ny42MDk0LDgyLjk2NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjUuOTk5NSIgeD0iMzA3LjUiIHk9IjgxLjgxMzYiPiYjMjE2OTc7JiMzMDQ0NjsmIzEyNDY0OyYjMTI1MjM7JiMxMjU0MDsmIzEyNTAzOyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyNzkuNSIgeDI9IjQzNS40OTk1IiB5MT0iOTIuOTY2OSIgeTI9IjkyLjk2NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjUuOTk5NSIgeD0iMjg0LjUiIHk9IjEwOS45NjIiPiYjMjE2OTc7JiMzMDQ0NjsmIzEyNDY0OyYjMTI1MjM7JiMxMjU0MDsmIzEyNTAzOyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjc5LjUiIHgyPSI0MzUuNDk5NSIgeTE9IjExNy4yNjM4IiB5Mj0iMTE3LjI2MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5Ny45OTk2IiB4PSIyODQuNSIgeT0iMTM0LjI1ODkiPiYjMjE2OTc7JiMzMDQ0NjsmIzEyNDY0OyYjMTI1MjM7JiMxMjU0MDsmIzEyNTAzOyYjMjE1MTc7PC90ZXh0PjwvZz48IS0tY2xhc3MgPz8/Pz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iNDUiIGlkPSJlbnQwMDA4Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9Ijk2Ljg5MDYiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEwMS45OTk3IiB4PSI0Mi41IiB5PSIzMjUuMTU2OSIvPjxlbGxpcHNlIGN4PSI1Ny41IiBjeT0iMzQxLjE1NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTYxLjYwOTQsMzQ3LjE1NjkgTDUzLjg5MDYsMzQ3LjE1NjkgTDUzLjg5MDYsMzM0Ljc2NjMgTDYxLjYwOTQsMzM0Ljc2NjMgTDYxLjYwOTQsMzM2LjkyMjUgTDU2LjM0MzgsMzM2LjkyMjUgTDU2LjM0MzgsMzM5LjU5NDQgTDYxLjEwOTQsMzM5LjU5NDQgTDYxLjEwOTQsMzQxLjc1MDYgTDU2LjM0MzgsMzQxLjc1MDYgTDU2LjM0MzgsMzQ1LjAwMDYgTDYxLjYwOTQsMzQ1LjAwMDYgTDYxLjYwOTQsMzQ3LjE1NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSI3MS41IiB5PSIzNDYuMDAzNiI+JiMyMTMzNjsmIzIwMzAxOyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI0My41IiB4Mj0iMTQzLjQ5OTciIHkxPSIzNTcuMTU2OSIgeTI9IjM1Ny4xNTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iNDguNSIgeT0iMzc0LjE1MiI+JiMyMTMzNjsmIzIwMzAxOyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDMuNSIgeDI9IjE0My40OTk3IiB5MT0iMzgxLjQ1MzgiIHkyPSIzODEuNDUzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjQ4LjUiIHk9IjM5OC40NDg5Ij4mIzIxMzM2OyYjMjAzMDE7JiMzNTM1MjsmIzIxNDk1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSI0OC41IiB5PSI0MTQuNzQ1NyI+JiMyMTMzNjsmIzIwMzAxOyYjMjE1MTc7PC90ZXh0PjwvZz48IS0tbGluayA/Pz8/Pz8/IHRvID8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDMiIGRhdGEtZW50aXR5LTI9ImVudDAwMDIiIGRhdGEtbGluay10eXBlPSJjcm93Zm9vdCIgZGF0YS1zb3VyY2UtbGluZT0iNTIiIGlkPSJsbms5Ij48cGF0aCBjb2RlTGluZT0iNTIiIGQ9Ik0xOTYuMjMwNiwxNTYuMTA0NiBDMjAzLjE2MDYsMTc3LjE1NDYgMjA0Ljk3OTgsMTgyLjY3NzYgMjE0LjM1OTgsMjExLjE4NzYiIGZpbGw9Im5vbmUiIGlkPSImIzIxNjk3OyYjMzA0NDY7JiMyMTMwNjsmIzIwOTk4OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5Oy0mIzIxNjk3OyYjMzA0NDY7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE5NC45Nzk4IiB4Mj0iMTkxLjU0IiB5MT0iMTUyLjMwNTIiIHkyPSIxNDEuODU2OSIvPjxlbGxpcHNlIGN4PSIxOTQuOTc5OCIgY3k9IjE1Mi4zMDUyIiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTg4Ljk5MTQiIHgyPSIxOTYuNTkwMiIgeTE9IjE0Ni45MDcxIiB5Mj0iMTQ0LjQwNTUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjE0LjM1OTgiIHgyPSIyMjQuNDU5MyIgeTE9IjIxMS4xODc2IiB5Mj0iMjE4Ljc4NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjE0LjM1OTgiIHgyPSIyMDkuMjYwNyIgeTE9IjIxMS4xODc2IiB5Mj0iMjE4Ljc4NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjE0LjM1OTgiIHgyPSIyMTYuODYiIHkxPSIyMTEuMTg3NiIgeTI9IjIxOC43ODY5Ii8+PC9nPjwhLS1saW5rID8/Pz8/Pz8/PyB0byA/Pz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDA3IiBkYXRhLWVudGl0eS0yPSJlbnQwMDAyIiBkYXRhLWxpbmstdHlwZT0iY3Jvd2Zvb3QiIGRhdGEtc291cmNlLWxpbmU9IjUzIiBpZD0ibG5rMTAiPjxwYXRoIGNvZGVMaW5lPSI1MyIgZD0iTTMzOS41ODA2LDE1Ni4wODg1IEMzMzIuNTcwNiwxNzcuMTM4NSAzMzAuNzI2NiwxODIuNjg2MyAzMjEuMjM2NiwyMTEuMTk2MyIgZmlsbD0ibm9uZSIgaWQ9IiYjMjE2OTc7JiMzMDQ0NjsmIzEyNDY0OyYjMTI1MjM7JiMxMjU0MDsmIzEyNTAzOyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5Oy0mIzIxNjk3OyYjMzA0NDY7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjM0MC44NDQ1IiB4Mj0iMzQ0LjMyIiB5MT0iMTUyLjI5MzQiIHkyPSIxNDEuODU2OSIvPjxlbGxpcHNlIGN4PSIzNDAuODQ0NSIgY3k9IjE1Mi4yOTM0IiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzM5LjI2MTEiIHgyPSIzNDYuODUxMyIgeTE9IjE0NC4zODgxIiB5Mj0iMTQ2LjkxNTgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzIxLjIzNjYiIHgyPSIzMjYuMzAwNSIgeTE9IjIxMS4xOTYzIiB5Mj0iMjE4Ljc4NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzIxLjIzNjYiIHgyPSIzMTEuMTE5NSIgeTE9IjIxMS4xOTYzIiB5Mj0iMjE4Ljc4NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzIxLjIzNjYiIHgyPSIzMTguNzEiIHkxPSIyMTEuMTk2MyIgeTI9IjIxOC43ODY5Ii8+PC9nPjwhLS1saW5rID8/Pz8/IHRvID8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDgiIGRhdGEtZW50aXR5LTI9ImVudDAwMDIiIGRhdGEtbGluay10eXBlPSJjcm93Zm9vdCIgZGF0YS1zb3VyY2UtbGluZT0iNTQiIGlkPSJsbmsxMSI+PHBhdGggY29kZUxpbmU9IjU0IiBkPSJNMTU5LjgyLDM3My42MDY5IEMxNzEuMTYsMzczLjYwNjkgMTU5LjUsMzczLjYwNjkgMTcwLjg0LDM3My42MDY5IiBmaWxsPSJub25lIiBpZD0iJiMyMTMzNjsmIzIwMzAxOyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5Oy0mIzIxNjk3OyYjMzA0NDY7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE1NS44MiIgeDI9IjE0NC44MiIgeTE9IjM3My42MDY5IiB5Mj0iMzczLjYwNjkiLz48ZWxsaXBzZSBjeD0iMTU1LjgyIiBjeT0iMzczLjYwNjkiIGZpbGw9Im5vbmUiIHJ4PSI0IiByeT0iNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNDguODIiIHgyPSIxNDguODIiIHkxPSIzNzcuNjA2OSIgeTI9IjM2OS42MDY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE3MC44NCIgeDI9IjE3OC44NCIgeTE9IjM3My42MDY5IiB5Mj0iMzY1LjYwNjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTcwLjg0IiB4Mj0iMTc4Ljg0IiB5MT0iMzczLjYwNjkiIHkyPSIzODEuNjA2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNzAuODQiIHgyPSIxNzguODQiIHkxPSIzNzMuNjA2OSIgeTI9IjM3My42MDY5Ii8+PC9nPjw/cGxhbnR1bWwtc3JjIFZQQlZKaThtNUNSbC1uSHgwVHcwU0VjRGgtNThJMFpTeENRVzJMc1pSMlhfNGNIMGQ0ODBtdTJDYTYyWWU4STdFUkhaUnM3QnZYcFJ5QWhqeHZwcGpVVHlMTjlBTmZQZTJwbEYybzJsZUF2MXRHNmtXZ2UxTmhkNnEyc0YwZXdHTjUxb29kS3FOb2VYZHdXaDhEejBURUpZZ1ZEYWtTTzNkSm9tcFhqQWZObjRpU2RpZUsyeVgzUGhWWUx6dDUzak5hZ2RCb3VwY0sxajJNSC01RW00b2E1QWhSbFZyazl1eUN4cVNXbTNjTmIwVEFVRVdHbUdOVVpxcFplUmVBUDVEdEZNTlk5Y0p2cnNwd2JONDNGQlREYTBPV0NYRzNHSGZEZU51RHE5NGJkWklHSmZqQmZjUGp5ck1rV3NDYVFselZXbUZJdWM1cHdCYU42NUdiNkhmUm9TTFFIWURiYTc3S1BSN2syM2dsZ3hfUVZEeG5TeGJyWFlPSXpEUGxHR2hWVjVTYlhMRTAweTBwcGJCeG9JbjFySG95RU05RFlWT0RYVjAtNm10eVFsazZUY01GM0t0Z0Y4NEhzaUJjcnktMFRWOU5jRUR5TEtnWEp6Z2tZX0ZpdktIMXg3aXM5OUZtMDA/PjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_5">テーブル定義<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<details>
<summary>DDL（品目マスタ・単位マスタ）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">-- src/main/resources/db/migration/V002__create_item_master.sql</span>

<span class="c1">-- 品目区分 ENUM（日本語値）</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TYPE</span><span class="w"> </span><span class="err">品目区分</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ENUM</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="s1">&#39;製品&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;半製品&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;中間品&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;部品&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;材料&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;原料&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;資材&#39;</span>
<span class="p">);</span>

<span class="c1">-- 単位マスタ（日本語テーブル名・カラム名）</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;単位マスタ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;単位コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;単位記号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;単位名&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span>
<span class="p">);</span>

<span class="c1">-- 品目マスタ（日本語テーブル名・カラム名）</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;品目マスタ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ID&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;品目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;適用開始日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;適用停止日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;品名&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;品目区分&quot;</span><span class="w"> </span><span class="err">品目区分</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;単位コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;単位マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;単位コード&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;リードタイム&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;安全リードタイム&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;安全在庫数&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;歩留率&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;最小ロット数&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;刻みロット数&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;最大ロット数&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;有効期間&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">    </span><span class="k">UNIQUE</span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;適用開始日&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- インデックス</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_品目マスタ_品目コード</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;品目マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;品目コード&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_品目マスタ_品目区分</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;品目マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;品目区分&quot;</span><span class="p">);</span>
</code></pre></div>

</details>

<h3 id="_6">世代管理<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p>品目マスタは <code>品目コード</code> と <code>適用開始日</code> の複合キーによる世代管理を採用しています。これにより：</p>
<ul>
<li>同じ品目コードでも、適用開始日が異なれば別レコードとして登録可能</li>
<li>過去・現在・未来の品目情報を保持できる</li>
<li>特定時点での品目情報を参照できる</li>
</ul>
<h3 id="_7">ドメインモデル<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<details>
<summary>品目エンティティ（Item.java）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/item/Item.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.item</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@AllArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Item</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">effectiveFrom</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">effectiveTo</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">itemName</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ItemCategory</span><span class="w"> </span><span class="n">itemCategory</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">unitCode</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">leadTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">safetyLeadTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">safetyStock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">yieldRate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;100&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">minLotSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ONE</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">lotIncrement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ONE</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">maxLotSize</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">shelfLife</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>品目区分 Enum（ItemCategory.java）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/item/ItemCategory.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.item</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Getter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>

<span class="nd">@Getter</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">ItemCategory</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">PRODUCT</span><span class="p">(</span><span class="s">&quot;製品&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">SEMI_PRODUCT</span><span class="p">(</span><span class="s">&quot;半製品&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">INTERMEDIATE</span><span class="p">(</span><span class="s">&quot;中間品&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">PART</span><span class="p">(</span><span class="s">&quot;部品&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">MATERIAL</span><span class="p">(</span><span class="s">&quot;材料&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">RAW_MATERIAL</span><span class="p">(</span><span class="s">&quot;原料&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">SUPPLY</span><span class="p">(</span><span class="s">&quot;資材&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">ItemCategory</span><span class="w"> </span><span class="nf">fromDisplayName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">ItemCategory</span><span class="w"> </span><span class="n">category</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">values</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">category</span><span class="p">.</span><span class="na">displayName</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">displayName</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">category</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;不正な品目区分: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">displayName</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="_8">リポジトリ<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<details>
<summary>Repository インターフェース（Output Port）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/application/port/out/ItemRepository.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.application.port.out</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.item.Item</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Optional</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 品目リポジトリ（Output Port）</span>
<span class="cm"> * ドメイン層がデータアクセスに依存しないためのインターフェース</span>
<span class="cm"> */</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">ItemRepository</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 品目を保存する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">save</span><span class="p">(</span><span class="n">Item</span><span class="w"> </span><span class="n">item</span><span class="p">);</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 品目コードで品目を検索する（最新の適用開始日）</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByItemCode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="p">);</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 品目コードと基準日で品目を検索する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByItemCodeAndDate</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">baseDate</span><span class="p">);</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * すべての品目を取得する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findAll</span><span class="p">();</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * 品目を更新する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="n">Item</span><span class="w"> </span><span class="n">item</span><span class="p">);</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">     * すべての品目を削除する</span>
<span class="cm">     */</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">deleteAll</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>Repository 実装（インフラストラクチャ層）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/infrastructure/persistence/repository/ItemRepositoryImpl.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.persistence.repository</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.application.port.out.ItemRepository</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.item.Item</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.persistence.mapper.ItemMapper</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Repository</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Optional</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 品目リポジトリ実装</span>
<span class="cm"> */</span>
<span class="nd">@Repository</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ItemRepositoryImpl</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ItemRepository</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ItemMapper</span><span class="w"> </span><span class="n">itemMapper</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">ItemRepositoryImpl</span><span class="p">(</span><span class="n">ItemMapper</span><span class="w"> </span><span class="n">itemMapper</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">itemMapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">itemMapper</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">save</span><span class="p">(</span><span class="n">Item</span><span class="w"> </span><span class="n">item</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">itemMapper</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">item</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByItemCode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">itemMapper</span><span class="p">.</span><span class="na">findByItemCode</span><span class="p">(</span><span class="n">itemCode</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByItemCodeAndDate</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">baseDate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">itemMapper</span><span class="p">.</span><span class="na">findByItemCodeAndDate</span><span class="p">(</span><span class="n">itemCode</span><span class="p">,</span><span class="w"> </span><span class="n">baseDate</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findAll</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">itemMapper</span><span class="p">.</span><span class="na">findAll</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="n">Item</span><span class="w"> </span><span class="n">item</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">itemMapper</span><span class="p">.</span><span class="na">update</span><span class="p">(</span><span class="n">item</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">deleteAll</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">itemMapper</span><span class="p">.</span><span class="na">deleteAll</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="typehandler">TypeHandler<a class="headerlink" href="#typehandler" title="Permanent link">&para;</a></h3>
<p>PostgreSQL の日本語 ENUM 型と Java の Enum を相互変換するための TypeHandler を実装します。</p>
<details>
<summary>ItemCategoryTypeHandler</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/infrastructure/persistence/ItemCategoryTypeHandler.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.persistence</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.item.ItemCategory</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.ibatis.type.BaseTypeHandler</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.ibatis.type.JdbcType</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.ibatis.type.MappedTypes</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.sql.*</span><span class="p">;</span>

<span class="nd">@MappedTypes</span><span class="p">(</span><span class="n">ItemCategory</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ItemCategoryTypeHandler</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">BaseTypeHandler</span><span class="o">&lt;</span><span class="n">ItemCategory</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setNonNullParameter</span><span class="p">(</span><span class="n">PreparedStatement</span><span class="w"> </span><span class="n">ps</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span>
<span class="w">            </span><span class="n">ItemCategory</span><span class="w"> </span><span class="n">parameter</span><span class="p">,</span><span class="w"> </span><span class="n">JdbcType</span><span class="w"> </span><span class="n">jdbcType</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ps</span><span class="p">.</span><span class="na">setString</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">parameter</span><span class="p">.</span><span class="na">getDisplayName</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ItemCategory</span><span class="w"> </span><span class="nf">getNullableResult</span><span class="p">(</span><span class="n">ResultSet</span><span class="w"> </span><span class="n">rs</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">columnName</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rs</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="n">columnName</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ItemCategory</span><span class="p">.</span><span class="na">fromDisplayName</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ItemCategory</span><span class="w"> </span><span class="nf">getNullableResult</span><span class="p">(</span><span class="n">ResultSet</span><span class="w"> </span><span class="n">rs</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">columnIndex</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rs</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="n">columnIndex</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ItemCategory</span><span class="p">.</span><span class="na">fromDisplayName</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ItemCategory</span><span class="w"> </span><span class="nf">getNullableResult</span><span class="p">(</span><span class="n">CallableStatement</span><span class="w"> </span><span class="n">cs</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">columnIndex</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cs</span><span class="p">.</span><span class="na">getString</span><span class="p">(</span><span class="n">columnIndex</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ItemCategory</span><span class="p">.</span><span class="na">fromDisplayName</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="mybatis-mapper">MyBatis Mapper<a class="headerlink" href="#mybatis-mapper" title="Permanent link">&para;</a></h3>
<p>日本語カラム名と英語プロパティ名のマッピングを定義します。</p>
<details>
<summary>Mapper インターフェース</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/infrastructure/persistence/mapper/ItemMapper.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.persistence.mapper</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.item.Item</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.ibatis.annotations.Mapper</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.ibatis.annotations.Param</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Optional</span><span class="p">;</span>

<span class="nd">@Mapper</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">ItemMapper</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">insert</span><span class="p">(</span><span class="n">Item</span><span class="w"> </span><span class="n">item</span><span class="p">);</span>
<span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByItemCode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="p">);</span>
<span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByItemCodeAndDate</span><span class="p">(</span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;itemCode&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="p">,</span>
<span class="w">                                          </span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;baseDate&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">baseDate</span><span class="p">);</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findAll</span><span class="p">();</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="n">Item</span><span class="w"> </span><span class="n">item</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">deleteAll</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>MyBatis XML Mapper</summary>

<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE mapper</span>
<span class="cp">        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
<span class="cp">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span>
<span class="nt">&lt;mapper</span><span class="w"> </span><span class="na">namespace=</span><span class="s">&quot;com.example.production.infrastructure.persistence.mapper.ItemMapper&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- 日本語カラム名と英語プロパティ名のマッピング --&gt;</span>
<span class="w">    </span><span class="nt">&lt;resultMap</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;ItemResultMap&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;com.example.production.domain.model.item.Item&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;id</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;ID&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;itemCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;品目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;effectiveFrom&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;適用開始日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;effectiveTo&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;適用停止日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;itemName&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;品名&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;itemCategory&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;品目区分&quot;</span>
<span class="w">                </span><span class="na">typeHandler=</span><span class="s">&quot;com.example.production.infrastructure.persistence.ItemCategoryTypeHandler&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;unitCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;単位コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;leadTime&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;リードタイム&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;safetyLeadTime&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;安全リードタイム&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;safetyStock&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;安全在庫数&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;yieldRate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;歩留率&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;minLotSize&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;最小ロット数&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;lotIncrement&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;刻みロット数&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;maxLotSize&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;最大ロット数&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;shelfLife&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;有効期間&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;createdAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作成日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;updatedAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;更新日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/resultMap&gt;</span>

<span class="w">    </span><span class="nt">&lt;insert</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;insert&quot;</span><span class="w"> </span><span class="na">parameterType=</span><span class="s">&quot;com.example.production.domain.model.item.Item&quot;</span>
<span class="w">            </span><span class="na">useGeneratedKeys=</span><span class="s">&quot;true&quot;</span><span class="w"> </span><span class="na">keyProperty=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">keyColumn=</span><span class="s">&quot;ID&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>INSERT<span class="w"> </span>INTO<span class="w"> </span>&quot;品目マスタ&quot;<span class="w"> </span>(
<span class="w">            </span>&quot;品目コード&quot;,
<span class="w">            </span>&quot;適用開始日&quot;,
<span class="w">            </span>&quot;適用停止日&quot;,
<span class="w">            </span>&quot;品名&quot;,
<span class="w">            </span>&quot;品目区分&quot;,
<span class="w">            </span>&quot;単位コード&quot;,
<span class="w">            </span>&quot;リードタイム&quot;,
<span class="w">            </span>&quot;安全リードタイム&quot;,
<span class="w">            </span>&quot;安全在庫数&quot;,
<span class="w">            </span>&quot;歩留率&quot;,
<span class="w">            </span>&quot;最小ロット数&quot;,
<span class="w">            </span>&quot;刻みロット数&quot;,
<span class="w">            </span>&quot;最大ロット数&quot;,
<span class="w">            </span>&quot;有効期間&quot;,
<span class="w">            </span>&quot;作成日時&quot;,
<span class="w">            </span>&quot;更新日時&quot;
<span class="w">        </span>)<span class="w"> </span>VALUES<span class="w"> </span>(
<span class="w">            </span>#{itemCode},
<span class="w">            </span>#{effectiveFrom},
<span class="w">            </span>#{effectiveTo},
<span class="w">            </span>#{itemName},
<span class="w">            </span>#{itemCategory,<span class="w"> </span>typeHandler=com.example.production.infrastructure.persistence.ItemCategoryTypeHandler}::品目区分,
<span class="w">            </span>#{unitCode},
<span class="w">            </span>#{leadTime},
<span class="w">            </span>#{safetyLeadTime},
<span class="w">            </span>#{safetyStock},
<span class="w">            </span>#{yieldRate},
<span class="w">            </span>#{minLotSize},
<span class="w">            </span>#{lotIncrement},
<span class="w">            </span>#{maxLotSize},
<span class="w">            </span>#{shelfLife},
<span class="w">            </span>CURRENT_TIMESTAMP,
<span class="w">            </span>CURRENT_TIMESTAMP
<span class="w">        </span>)
<span class="w">    </span><span class="nt">&lt;/insert&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findByItemCode&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;ItemResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;品目マスタ&quot;
<span class="w">        </span>WHERE<span class="w"> </span>&quot;品目コード&quot;<span class="w"> </span>=<span class="w"> </span>#{itemCode}
<span class="w">        </span>ORDER<span class="w"> </span>BY<span class="w"> </span>&quot;適用開始日&quot;<span class="w"> </span>DESC
<span class="w">        </span>LIMIT<span class="w"> </span>1
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findByItemCodeAndDate&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;ItemResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;品目マスタ&quot;
<span class="w">        </span>WHERE<span class="w"> </span>&quot;品目コード&quot;<span class="w"> </span>=<span class="w"> </span>#{itemCode}
<span class="w">          </span>AND<span class="w"> </span>&quot;適用開始日&quot;<span class="w"> </span><span class="ni">&amp;lt;</span>=<span class="w"> </span>#{baseDate}
<span class="w">          </span>AND<span class="w"> </span>(&quot;適用停止日&quot;<span class="w"> </span>IS<span class="w"> </span>NULL<span class="w"> </span>OR<span class="w"> </span>&quot;適用停止日&quot;<span class="w"> </span>&gt;<span class="w"> </span>#{baseDate})
<span class="w">        </span>ORDER<span class="w"> </span>BY<span class="w"> </span>&quot;適用開始日&quot;<span class="w"> </span>DESC
<span class="w">        </span>LIMIT<span class="w"> </span>1
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findAll&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;ItemResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;品目マスタ&quot;
<span class="w">        </span>ORDER<span class="w"> </span>BY<span class="w"> </span>&quot;品目コード&quot;,<span class="w"> </span>&quot;適用開始日&quot;<span class="w"> </span>DESC
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;update</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;update&quot;</span><span class="w"> </span><span class="na">parameterType=</span><span class="s">&quot;com.example.production.domain.model.item.Item&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>UPDATE<span class="w"> </span>&quot;品目マスタ&quot;<span class="w"> </span>SET
<span class="w">            </span>&quot;品名&quot;<span class="w"> </span>=<span class="w"> </span>#{itemName},
<span class="w">            </span>&quot;品目区分&quot;<span class="w"> </span>=<span class="w"> </span>#{itemCategory,<span class="w"> </span>typeHandler=com.example.production.infrastructure.persistence.ItemCategoryTypeHandler}::品目区分,
<span class="w">            </span>&quot;単位コード&quot;<span class="w"> </span>=<span class="w"> </span>#{unitCode},
<span class="w">            </span>&quot;リードタイム&quot;<span class="w"> </span>=<span class="w"> </span>#{leadTime},
<span class="w">            </span>&quot;安全リードタイム&quot;<span class="w"> </span>=<span class="w"> </span>#{safetyLeadTime},
<span class="w">            </span>&quot;安全在庫数&quot;<span class="w"> </span>=<span class="w"> </span>#{safetyStock},
<span class="w">            </span>&quot;歩留率&quot;<span class="w"> </span>=<span class="w"> </span>#{yieldRate},
<span class="w">            </span>&quot;最小ロット数&quot;<span class="w"> </span>=<span class="w"> </span>#{minLotSize},
<span class="w">            </span>&quot;刻みロット数&quot;<span class="w"> </span>=<span class="w"> </span>#{lotIncrement},
<span class="w">            </span>&quot;最大ロット数&quot;<span class="w"> </span>=<span class="w"> </span>#{maxLotSize},
<span class="w">            </span>&quot;有効期間&quot;<span class="w"> </span>=<span class="w"> </span>#{shelfLife},
<span class="w">            </span>&quot;更新日時&quot;<span class="w"> </span>=<span class="w"> </span>CURRENT_TIMESTAMP
<span class="w">        </span>WHERE<span class="w"> </span>&quot;ID&quot;<span class="w"> </span>=<span class="w"> </span>#{id}
<span class="w">    </span><span class="nt">&lt;/update&gt;</span>

<span class="w">    </span><span class="nt">&lt;delete</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;deleteAll&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>TRUNCATE<span class="w"> </span>TABLE<span class="w"> </span>&quot;品目マスタ&quot;<span class="w"> </span>CASCADE
<span class="w">    </span><span class="nt">&lt;/delete&gt;</span>
<span class="nt">&lt;/mapper&gt;</span>
</code></pre></div>

</details>

<hr />
<h2 id="232-bom">23.2 BOM（部品構成表）の設計<a class="headerlink" href="#232-bom" title="Permanent link">&para;</a></h2>
<p>BOM（Bill of Materials：部品構成表）は、製品がどのような部品・材料から構成されているかを定義する、生産管理システムの中核となるマスタです。</p>
<h3 id="bom">BOM の構造<a class="headerlink" href="#bom" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IldCUyIgaGVpZ2h0PSIzNjJweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjE5NnB4O2hlaWdodDozNjJweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxOTYgMzYyIiB3aWR0aD0iMTk2cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjx0aXRsZT5CT00mIzEyMzk4OyYjMjAzNjM7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIyIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjQuNTAzOCIgeD0iNTUuMDU0MyIgeT0iMzIuOTk1MSI+Qk9NJiMxMjM5ODsmIzIwMzYzOzwvdGV4dD48L2c+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMzIuMzAxOCIgeDI9IjMyLjMwMTgiIHkxPSIxMDEuMjY1NiIgeTI9IjEyMS4yNjU2Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI0NC42MDM1IiB4PSIxMCIgeT0iMTIxLjI2NTYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNC42MDM1IiB4PSIyMCIgeT0iMTQyLjQwNDMiPm4oMSk8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMzIuMzAxOCIgeDI9IjQyLjMwMTgiIHkxPSIxODcuMjE4OCIgeTI9IjE4Ny4yMTg4Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI0OC42ODc1IiB4PSI0Mi4zMDE4IiB5PSIxNzAuMjM0NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI4LjY4NzUiIHg9IjUyLjMwMTgiIHk9IjE5MS4zNzMiPm0oMSk8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNjYuNjQ1NSIgeDI9Ijc2LjY0NTUiIHkxPSIyMzYuMTg3NSIgeTI9IjIzNi4xODc1Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI0NC4zNTE2IiB4PSI3Ni42NDU1IiB5PSIyMTkuMjAzMSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI0LjM1MTYiIHg9Ijg2LjY0NTUiIHk9IjI0MC4zNDE4Ij5hKDEpPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjY2LjY0NTUiIHgyPSI2Ni42NDU1IiB5MT0iMjA0LjIwMzEiIHkyPSIyMzYuMTg3NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjMyLjMwMTgiIHgyPSI0Mi4zMDE4IiB5MT0iMjg1LjE1NjMiIHkyPSIyODUuMTU2MyIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMzMuOTY4OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNDQuNjE1MiIgeD0iNDIuMzAxOCIgeT0iMjY4LjE3MTkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNC42MTUyIiB4PSI1Mi4zMDE4IiB5PSIyODkuMzEwNSI+YigxKTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIzMi4zMDE4IiB4Mj0iNDIuMzAxOCIgeTE9IjMzNC4xMjUiIHkyPSIzMzQuMTI1Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI0My41OTU3IiB4PSI0Mi4zMDE4IiB5PSIzMTcuMTQwNiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIzLjU5NTciIHg9IjUyLjMwMTgiIHk9IjMzOC4yNzkzIj5jKDIpPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjMyLjMwMTgiIHgyPSIzMi4zMDE4IiB5MT0iMTU1LjIzNDQiIHkyPSIzMzQuMTI1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMTYzLjMwNDciIHgyPSIxNjMuMzA0NyIgeTE9IjEwMS4yNjU2IiB5Mj0iMTIxLjI2NTYiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjMzLjk2ODgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjQ0LjYxNTIiIHg9IjE0MC45OTcxIiB5PSIxMjEuMjY1NiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI0LjYxNTIiIHg9IjE1MC45OTcxIiB5PSIxNDIuNDA0MyI+ZCgxKTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIzMi4zMDE4IiB4Mj0iMTYzLjMwNDciIHkxPSIxMDEuMjY1NiIgeTI9IjEwMS4yNjU2Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIzMy45Njg4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI0NS4yMTg4IiB4PSI3NS4xOTM4IiB5PSI0Ny4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjUuMjE4OCIgeD0iODUuMTkzOCIgeT0iNjguNDM1NSI+WCgxKTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI5Ny44MDMyIiB4Mj0iOTcuODAzMiIgeTE9IjgxLjI2NTYiIHkyPSIxMDEuMjY1NiIvPjw/cGxhbnR1bWwtc3JjIFNvV2tJSW1nQUt5Z3ZrOGdvSXA5SUxMbXlsVHp0Qlprb1J2a0JZdWpYR1dER3Fxa0JJczVGMFlqZlAwQlBNV2Y5Q0E0YWMyQ1AwcVppRThLYTAyTkdzZlUyalhPR3BxWjBvQ3BGR0MwPz48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<p>()内の数字は数量を表します。製品 X を1つ作るには：
- 中間品 n が 1 個必要
- 部品 d が 1 個必要
- 中間品 n を作るには、m が 1 個、b が 1 個、c が 2 個必要
- ...というように、再帰的な構造になっています。</p>
<h3 id="er">ER 図<a class="headerlink" href="#er" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjQzNnB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MTQ5cHg7aGVpZ2h0OjQzNnB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDE0OSA0MzYiIHdpZHRoPSIxNDlweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPkJPTSBFUiYjMjIyNTk7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzUuNzIxNiIgeD0iMjkuNzQxMSIgeT0iMjIuOTk1MSI+Qk9NIEVSJiMyMjI1OTs8L3RleHQ+PC9nPjwhLS1jbGFzcyA/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIzIiBpZD0iZW50MDAwMiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxNzguMzc1IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMzUuMjAzNyIgeD0iNyIgeT0iMjUwLjc3NjkiLz48ZWxsaXBzZSBjeD0iMzYuOTQxOCIgY3k9IjI2Ni43NzY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik00MS4wNTEyLDI3Mi43NzY5IEwzMy4zMzI0LDI3Mi43NzY5IEwzMy4zMzI0LDI2MC4zODYzIEw0MS4wNTEyLDI2MC4zODYzIEw0MS4wNTEyLDI2Mi41NDI1IEwzNS43ODU2LDI2Mi41NDI1IEwzNS43ODU2LDI2NS4yMTQ0IEw0MC41NTEyLDI2NS4yMTQ0IEw0MC41NTEyLDI2Ny4zNzA2IEwzNS43ODU2LDI2Ny4zNzA2IEwzNS43ODU2LDI3MC42MjA2IEw0MS4wNTEyLDI3MC42MjA2IEw0MS4wNTEyLDI3Mi43NzY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iNTQuMjYyMiIgeT0iMjcxLjYyMzYiPiYjMzcwOTY7JiMyMTY5NzsmIzI3MDgzOyYjMjUxMDQ7JiMzNDkyMDs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iOCIgeDI9IjE0MS4yMDM3IiB5MT0iMjgyLjc3NjkiIHkyPSIyODIuNzc2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMy4yMDM3IiB4PSIxMyIgeT0iMjk5Ljc3MiI+JiMzNTI0MjsmIzIxNjk3OyYjMzA0NDY7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7ICYjMTcxO1BLJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMy4yMDM3IiB4PSIxMyIgeT0iMzE2LjA2ODkiPiYjMjMzNzY7JiMyMTY5NzsmIzMwNDQ2OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyAmIzE3MTtQSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDkuMjAzOCIgeD0iMTMiIHk9IjMzMi4zNjU3Ij4mIzM2OTY5OyYjMjk5OTI7JiMzODI4MzsmIzIyOTg3OyYjMjYwODU7ICYjMTcxO1BLJiMxODc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI4IiB4Mj0iMTQxLjIwMzciIHkxPSIzMzkuNjY3NSIgeTI9IjMzOS42Njc1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTMiIHk9IjM1Ni42NjI2Ij4mIzM2OTY5OyYjMjk5OTI7JiMyMDU3MjsmIzI3NDkwOyYjMjYwODU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjEzIiB5PSIzNzIuOTU5NSI+JiMyMjUyMjsmIzI4MzEwOyYjMjU5Njg7JiMzNzMyNzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTMiIHk9IjM4OS4yNTY0Ij4mIzI0NTE3OyYjMzUyMDE7JiMyNTk2ODsmIzM3MzI3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIxMyIgeT0iNDA1LjU1MzIiPiYjMTk5ODE7JiMzMzM5MTsmIzI5NTc1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSIxMyIgeT0iNDIxLjg1MDEiPiYjMjQwMzc7JiMzODkxODs8L3RleHQ+PC9nPjwhLS1jbGFzcyA/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIxNSIgaWQ9ImVudDAwMDMiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTI5LjQ4NDQiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyMS4yMDM4IiB4PSIxNCIgeT0iNDQuMjk2OSIvPjxlbGxpcHNlIGN4PSIzNy42NDE4IiBjeT0iNjAuMjk2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNNDEuNzUxMiw2Ni4yOTY5IEwzNC4wMzI1LDY2LjI5NjkgTDM0LjAzMjUsNTMuOTA2MyBMNDEuNzUxMiw1My45MDYzIEw0MS43NTEyLDU2LjA2MjUgTDM2LjQ4NTYsNTYuMDYyNSBMMzYuNDg1Niw1OC43MzQ0IEw0MS4yNTEyLDU4LjczNDQgTDQxLjI1MTIsNjAuODkwNiBMMzYuNDg1Niw2MC44OTA2IEwzNi40ODU2LDY0LjE0MDYgTDQxLjc1MTIsNjQuMTQwNiBMNDEuNzUxMiw2Ni4yOTY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iNTMuNTYyMyIgeT0iNjUuMTQzNiI+JiMyMTY5NzsmIzMwNDQ2OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxNSIgeDI9IjEzNC4yMDM4IiB5MT0iNzYuMjk2OSIgeTI9Ijc2LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDkuMjAzOCIgeD0iMjAiIHk9IjkzLjI5MiI+JiMyMTY5NzsmIzMwNDQ2OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyAmIzE3MTtQSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDkuMjAzOCIgeD0iMjAiIHk9IjEwOS41ODg5Ij4mIzM2OTY5OyYjMjk5OTI7JiMzODI4MzsmIzIyOTg3OyYjMjYwODU7ICYjMTcxO1BLJiMxODc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNSIgeDI9IjEzNC4yMDM4IiB5MT0iMTE2Ljg5MDYiIHkyPSIxMTYuODkwNiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ljk5OTkiIHg9IjIwIiB5PSIxMzMuODg1NyI+JiMyMTY5NzsmIzIxNTE3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIyMCIgeT0iMTUwLjE4MjYiPiYjMjE2OTc7JiMzMDQ0NjsmIzIxMzA2OyYjMjA5OTg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzLjM1MDYiIHg9IjIwIiB5PSIxNjYuNDc5NSI+Li4uPC90ZXh0PjwvZz48IS0tbGluayA/Pz8/PyB0byA/Pz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAzIiBkYXRhLWVudGl0eS0yPSJlbnQwMDAyIiBkYXRhLWxpbmstdHlwZT0iY3Jvd2Zvb3QiIGRhdGEtc291cmNlLWxpbmU9IjI0IiBpZD0ibG5rNCI+PHBhdGggY29kZUxpbmU9IjI0IiBkPSJNMzcuOTU0NiwxODEuNTM4OSBDMzQuMTI0NiwxOTEuMjQ4OSAzMy43NiwxOTMuODk2OSAzMS42LDIwMy43NzY5IEMyOC4yNiwyMTkuMDU2OSAyNS40MjY2LDIxNy40ODMzIDI4Ljc2NjYsMjMyLjkzMzMiIGZpbGw9Im5vbmUiIGlkPSImIzIxNjk3OyYjMzA0NDY7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7LSYjMzcwOTY7JiMyMTY5NzsmIzI3MDgzOyYjMjUxMDQ7JiMzNDkyMDsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzUuNzAxMyIgeDI9IjQzLjE0MzMiIHkxPSIxNzYuMzUwMiIgeTI9IjE3OS4yODU2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjM0LjYwMDUiIHgyPSI0Mi4wNDI1IiB5MT0iMTc5LjE0MDkiIHkyPSIxODIuMDc2MyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzNy45NTQ2IiB4Mj0iNDAuODkiIHkxPSIxODEuNTM4OSIgeTI9IjE3NC4wOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMwLjg3OTYiIHgyPSIzOC40MzQ1IiB5MT0iMjQyLjcwNzUiIHkyPSIyNDkuMjU5MSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMC44Nzk2IiB4Mj0iMjYuNzA1NSIgeTE9IjI0Mi43MDc1IiB5Mj0iMjUxLjc5NDciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzAuODc5NiIgeDI9IjMyLjU3IiB5MT0iMjQyLjcwNzUiIHkyPSIyNTAuNTI2OSIvPjxlbGxpcHNlIGN4PSIyOS42MTE4IiBjeT0iMjM2Ljg0MyIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzkiIHg9IjMyLjYiIHk9IjIxNi44NDM4Ij4mIzM1MjQyOyYjMjE2OTc7JiMzMDQ0Njs8L3RleHQ+PC9nPjwhLS1saW5rID8/Pz8/IHRvID8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDMiIGRhdGEtZW50aXR5LTI9ImVudDAwMDIiIGRhdGEtbGluay10eXBlPSJjcm93Zm9vdCIgZGF0YS1zb3VyY2UtbGluZT0iMjUiIGlkPSJsbms1Ij48cGF0aCBjb2RlTGluZT0iMjUiIGQ9Ik03Ni4zMDI3LDE4Mi4wNzU0IEM3Ni40OTI3LDE5Mi4wMjU0IDc2LjUsMTk0LjE3NjkgNzYuNiwyMDMuNzc2OSBDNzYuNzYsMjE4LjkxNjkgNzYuOTA0NiwyMTcuMDE3OCA3Ni43NDQ2LDIzMi42MTc4IiBmaWxsPSJub25lIiBpZD0iJiMyMTY5NzsmIzMwNDQ2OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5Oy0mIzM3MDk2OyYjMjE2OTc7JiMyNzA4MzsmIzI1MTA0OyYjMzQ5MjA7LTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNzIuMjI3MSIgeDI9IjgwLjIyNTYiIHkxPSIxNzguMTUyNSIgeTI9IjE3Ny45OTk4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjcyLjI4NDQiIHgyPSI4MC4yODI5IiB5MT0iMTgxLjE1MiIgeTI9IjE4MC45OTkyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijc2LjMwMjciIHgyPSI3Ni4xNSIgeTE9IjE4Mi4wNzU0IiB5Mj0iMTc0LjA3NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNzYuNjQyIiB4Mj0iODIuNTU5NyIgeTE9IjI0Mi42MTczIiB5Mj0iMjUwLjY3ODQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNzYuNjQyIiB4Mj0iNzAuNTYwMyIgeTE9IjI0Mi42MTczIiB5Mj0iMjUwLjU1NTMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNzYuNjQyIiB4Mj0iNzYuNTYiIHkxPSIyNDIuNjE3MyIgeTI9IjI1MC42MTY5Ii8+PGVsbGlwc2UgY3g9Ijc2LjcwMzYiIGN5PSIyMzYuNjE3NiIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzkiIHg9Ijc3LjciIHk9IjIxNi44NDM4Ij4mIzIzMzc2OyYjMjE2OTc7JiMzMDQ0Njs8L3RleHQ+PC9nPjw/cGxhbnR1bWwtc3JjIEF5YWlvS2JMU0ZCdExOMERVWmZ4Q25UTlFidjlQYWNibWlsYzVLeWREcHZSdGxzaU95QUJYSWlLZ2hiVUI1aTU1N2EtVXp0WmZpc0ZjX1N5Umt2S2lCNDl5QlFwdXRnd1RXOEVjUFVEQXZ6Rk1WNW9NbFRKZTQ3SmJ5QTRUTk1YQ2F5UnZwblJrbVdlbV9McV9ndmRrd096Y3hoWFBOaV9yekZ6aEktTURLOHZKdFJxbGtYU194b2xkVWxmemdLbDV4SG5yUzhUMlJNclVUeFpmZnNGY19PMzdLY29FdTBRZGF4ZVhVZnhzaEZoUUtTUmJ2d1U3aVdJVEREaFFkSHJ5d2luR2lQQTBIdW9uNmsxMW5hMD8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_9">テーブル定義<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<details>
<summary>DDL（部品構成表）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">-- src/main/resources/db/migration/V003__create_bom.sql</span>

<span class="c1">-- 部品構成表（BOM）</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;部品構成表&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;親品目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;子品目コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;適用開始日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;適用停止日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;基準数量&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;必要数量&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;不良率&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;工順&quot;</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;親品目コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;子品目コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;適用開始日&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- インデックス</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_bom_親品目コード</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;部品構成表&quot;</span><span class="p">(</span><span class="ss">&quot;親品目コード&quot;</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_bom_子品目コード</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;部品構成表&quot;</span><span class="p">(</span><span class="ss">&quot;子品目コード&quot;</span><span class="p">);</span>
</code></pre></div>

</details>

<h3 id="_10">ドメインモデル<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<details>
<summary>BOM エンティティ（Bom.java）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/bom/Bom.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.bom</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@AllArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Bom</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">parentItemCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">childItemCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">effectiveFrom</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">effectiveTo</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">baseQuantity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ONE</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">requiredQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="nd">@Builder.Default</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">defectRate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">.</span><span class="na">ZERO</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">sequence</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>BOM 展開結果（BomExplosion.java）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/bom/BomExplosion.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.bom</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@AllArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">BomExplosion</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">parentItemCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">childItemCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">effectiveFrom</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">effectiveTo</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">baseQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">requiredQuantity</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">defectRate</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">sequence</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">level</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">totalQuantity</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="_11">リポジトリ<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<details>
<summary>BomRepository インターフェース（Output Port）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/application/port/out/BomRepository.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.application.port.out</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.bom.Bom</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.bom.BomExplosion</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * BOMリポジトリ（Output Port）</span>
<span class="cm"> */</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">BomRepository</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">save</span><span class="p">(</span><span class="n">Bom</span><span class="w"> </span><span class="n">bom</span><span class="p">);</span>

<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Bom</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByParentItemCode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">parentItemCode</span><span class="p">);</span>

<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Bom</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByParentItemCodeAndDate</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">parentItemCode</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">baseDate</span><span class="p">);</span>

<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Bom</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByChildItemCode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">childItemCode</span><span class="p">);</span>

<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">BomExplosion</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">explode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="p">,</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">quantity</span><span class="p">);</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">deleteAll</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>BomRepositoryImpl 実装（インフラストラクチャ層）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/infrastructure/persistence/repository/BomRepositoryImpl.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.persistence.repository</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.application.port.out.BomRepository</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.bom.Bom</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.bom.BomExplosion</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.persistence.mapper.BomMapper</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.stereotype.Repository</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="nd">@Repository</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">BomRepositoryImpl</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">BomRepository</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">BomMapper</span><span class="w"> </span><span class="n">bomMapper</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">BomRepositoryImpl</span><span class="p">(</span><span class="n">BomMapper</span><span class="w"> </span><span class="n">bomMapper</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">bomMapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bomMapper</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">save</span><span class="p">(</span><span class="n">Bom</span><span class="w"> </span><span class="n">bom</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">bomMapper</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">bom</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Bom</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByParentItemCode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">parentItemCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">bomMapper</span><span class="p">.</span><span class="na">findByParentItemCode</span><span class="p">(</span><span class="n">parentItemCode</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Bom</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByParentItemCodeAndDate</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">parentItemCode</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">baseDate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">bomMapper</span><span class="p">.</span><span class="na">findByParentItemCodeAndDate</span><span class="p">(</span><span class="n">parentItemCode</span><span class="p">,</span><span class="w"> </span><span class="n">baseDate</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Bom</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByChildItemCode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">childItemCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">bomMapper</span><span class="p">.</span><span class="na">findByChildItemCode</span><span class="p">(</span><span class="n">childItemCode</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">BomExplosion</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">explode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="p">,</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">quantity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">bomMapper</span><span class="p">.</span><span class="na">explode</span><span class="p">(</span><span class="n">itemCode</span><span class="p">,</span><span class="w"> </span><span class="n">quantity</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">deleteAll</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">bomMapper</span><span class="p">.</span><span class="na">deleteAll</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="cte-bom">再帰 CTE による BOM 展開<a class="headerlink" href="#cte-bom" title="Permanent link">&para;</a></h3>
<p>BOM は再帰的な構造を持つため、PostgreSQL の再帰 CTE（Common Table Expression）を使用して全階層を展開します。</p>
<details>
<summary>Mapper インターフェース</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/infrastructure/persistence/mapper/BomMapper.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.infrastructure.persistence.mapper</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.bom.Bom</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.example.production.domain.model.bom.BomExplosion</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.ibatis.annotations.Mapper</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.ibatis.annotations.Param</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="nd">@Mapper</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">BomMapper</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">insert</span><span class="p">(</span><span class="n">Bom</span><span class="w"> </span><span class="n">bom</span><span class="p">);</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Bom</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByParentItemCode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">parentItemCode</span><span class="p">);</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Bom</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByParentItemCodeAndDate</span><span class="p">(</span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;parentItemCode&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">parentItemCode</span><span class="p">,</span>
<span class="w">                                           </span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;baseDate&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">baseDate</span><span class="p">);</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Bom</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findByChildItemCode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">childItemCode</span><span class="p">);</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">BomExplosion</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">explode</span><span class="p">(</span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;itemCode&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">itemCode</span><span class="p">,</span>
<span class="w">                               </span><span class="nd">@Param</span><span class="p">(</span><span class="s">&quot;quantity&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">quantity</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">deleteAll</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>MyBatis XML Mapper（再帰 CTE を含む）</summary>

<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE mapper</span>
<span class="cp">        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
<span class="cp">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span>
<span class="nt">&lt;mapper</span><span class="w"> </span><span class="na">namespace=</span><span class="s">&quot;com.example.production.infrastructure.persistence.mapper.BomMapper&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- 日本語カラム名と英語プロパティ名のマッピング --&gt;</span>
<span class="w">    </span><span class="nt">&lt;resultMap</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;BomResultMap&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;com.example.production.domain.model.bom.Bom&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;parentItemCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;親品目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;childItemCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;子品目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;effectiveFrom&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;適用開始日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;effectiveTo&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;適用停止日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;baseQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;基準数量&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;requiredQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;必要数量&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;defectRate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;不良率&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;sequence&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;工順&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;createdAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;作成日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;updatedAt&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;更新日時&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/resultMap&gt;</span>

<span class="w">    </span><span class="nt">&lt;resultMap</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;BomExplosionResultMap&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;com.example.production.domain.model.bom.BomExplosion&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;parentItemCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;親品目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;childItemCode&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;子品目コード&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;effectiveFrom&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;適用開始日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;effectiveTo&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;適用停止日&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;baseQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;基準数量&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;requiredQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;必要数量&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;defectRate&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;不良率&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;sequence&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;工順&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;level&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;階層&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;result</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;totalQuantity&quot;</span><span class="w"> </span><span class="na">column=</span><span class="s">&quot;累計数量&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/resultMap&gt;</span>

<span class="w">    </span><span class="nt">&lt;insert</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;insert&quot;</span><span class="w"> </span><span class="na">parameterType=</span><span class="s">&quot;com.example.production.domain.model.bom.Bom&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>INSERT<span class="w"> </span>INTO<span class="w"> </span>&quot;部品構成表&quot;<span class="w"> </span>(
<span class="w">            </span>&quot;親品目コード&quot;,
<span class="w">            </span>&quot;子品目コード&quot;,
<span class="w">            </span>&quot;適用開始日&quot;,
<span class="w">            </span>&quot;適用停止日&quot;,
<span class="w">            </span>&quot;基準数量&quot;,
<span class="w">            </span>&quot;必要数量&quot;,
<span class="w">            </span>&quot;不良率&quot;,
<span class="w">            </span>&quot;工順&quot;,
<span class="w">            </span>&quot;作成日時&quot;,
<span class="w">            </span>&quot;更新日時&quot;
<span class="w">        </span>)<span class="w"> </span>VALUES<span class="w"> </span>(
<span class="w">            </span>#{parentItemCode},
<span class="w">            </span>#{childItemCode},
<span class="w">            </span>#{effectiveFrom},
<span class="w">            </span>#{effectiveTo},
<span class="w">            </span>#{baseQuantity},
<span class="w">            </span>#{requiredQuantity},
<span class="w">            </span>#{defectRate},
<span class="w">            </span>#{sequence},
<span class="w">            </span>CURRENT_TIMESTAMP,
<span class="w">            </span>CURRENT_TIMESTAMP
<span class="w">        </span>)
<span class="w">    </span><span class="nt">&lt;/insert&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findByParentItemCode&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;BomResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;部品構成表&quot;
<span class="w">        </span>WHERE<span class="w"> </span>&quot;親品目コード&quot;<span class="w"> </span>=<span class="w"> </span>#{parentItemCode}
<span class="w">          </span>AND<span class="w"> </span>(&quot;適用停止日&quot;<span class="w"> </span>IS<span class="w"> </span>NULL<span class="w"> </span>OR<span class="w"> </span>&quot;適用停止日&quot;<span class="w"> </span>&gt;<span class="w"> </span>CURRENT_DATE)
<span class="w">        </span>ORDER<span class="w"> </span>BY<span class="w"> </span>&quot;工順&quot;,<span class="w"> </span>&quot;子品目コード&quot;
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findByParentItemCodeAndDate&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;BomResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;部品構成表&quot;
<span class="w">        </span>WHERE<span class="w"> </span>&quot;親品目コード&quot;<span class="w"> </span>=<span class="w"> </span>#{parentItemCode}
<span class="w">          </span>AND<span class="w"> </span>&quot;適用開始日&quot;<span class="w"> </span><span class="ni">&amp;lt;</span>=<span class="w"> </span>#{baseDate}
<span class="w">          </span>AND<span class="w"> </span>(&quot;適用停止日&quot;<span class="w"> </span>IS<span class="w"> </span>NULL<span class="w"> </span>OR<span class="w"> </span>&quot;適用停止日&quot;<span class="w"> </span>&gt;<span class="w"> </span>#{baseDate})
<span class="w">        </span>ORDER<span class="w"> </span>BY<span class="w"> </span>&quot;工順&quot;,<span class="w"> </span>&quot;子品目コード&quot;
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;findByChildItemCode&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;BomResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>*<span class="w"> </span>FROM<span class="w"> </span>&quot;部品構成表&quot;
<span class="w">        </span>WHERE<span class="w"> </span>&quot;子品目コード&quot;<span class="w"> </span>=<span class="w"> </span>#{childItemCode}
<span class="w">          </span>AND<span class="w"> </span>(&quot;適用停止日&quot;<span class="w"> </span>IS<span class="w"> </span>NULL<span class="w"> </span>OR<span class="w"> </span>&quot;適用停止日&quot;<span class="w"> </span>&gt;<span class="w"> </span>CURRENT_DATE)
<span class="w">        </span>ORDER<span class="w"> </span>BY<span class="w"> </span>&quot;親品目コード&quot;
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- 再帰CTEによる全階層展開 --&gt;</span>
<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;explode&quot;</span><span class="w"> </span><span class="na">resultMap=</span><span class="s">&quot;BomExplosionResultMap&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>WITH<span class="w"> </span>RECURSIVE<span class="w"> </span>bom_explosion<span class="w"> </span>AS<span class="w"> </span>(
<span class="w">            </span>--<span class="w"> </span>基底:<span class="w"> </span>直接の子品目
<span class="w">            </span>SELECT
<span class="w">                </span>&quot;親品目コード&quot;,
<span class="w">                </span>&quot;子品目コード&quot;,
<span class="w">                </span>&quot;適用開始日&quot;,
<span class="w">                </span>&quot;適用停止日&quot;,
<span class="w">                </span>&quot;基準数量&quot;,
<span class="w">                </span>&quot;必要数量&quot;,
<span class="w">                </span>&quot;不良率&quot;,
<span class="w">                </span>&quot;工順&quot;,
<span class="w">                </span>1<span class="w"> </span>as<span class="w"> </span>&quot;階層&quot;,
<span class="w">                </span>&quot;必要数量&quot;<span class="w"> </span>as<span class="w"> </span>&quot;累計数量&quot;
<span class="w">            </span>FROM<span class="w"> </span>&quot;部品構成表&quot;
<span class="w">            </span>WHERE<span class="w"> </span>&quot;親品目コード&quot;<span class="w"> </span>=<span class="w"> </span>#{itemCode}
<span class="w">              </span>AND<span class="w"> </span>(&quot;適用停止日&quot;<span class="w"> </span>IS<span class="w"> </span>NULL<span class="w"> </span>OR<span class="w"> </span>&quot;適用停止日&quot;<span class="w"> </span>&gt;=<span class="w"> </span>CURRENT_DATE)

<span class="w">            </span>UNION<span class="w"> </span>ALL

<span class="w">            </span>--<span class="w"> </span>再帰:<span class="w"> </span>子品目の子品目
<span class="w">            </span>SELECT
<span class="w">                </span>b.&quot;親品目コード&quot;,
<span class="w">                </span>b.&quot;子品目コード&quot;,
<span class="w">                </span>b.&quot;適用開始日&quot;,
<span class="w">                </span>b.&quot;適用停止日&quot;,
<span class="w">                </span>b.&quot;基準数量&quot;,
<span class="w">                </span>b.&quot;必要数量&quot;,
<span class="w">                </span>b.&quot;不良率&quot;,
<span class="w">                </span>b.&quot;工順&quot;,
<span class="w">                </span>be.&quot;階層&quot;<span class="w"> </span>+<span class="w"> </span>1,
<span class="w">                </span>be.&quot;累計数量&quot;<span class="w"> </span>*<span class="w"> </span>b.&quot;必要数量&quot;
<span class="w">            </span>FROM<span class="w"> </span>&quot;部品構成表&quot;<span class="w"> </span>b
<span class="w">            </span>INNER<span class="w"> </span>JOIN<span class="w"> </span>bom_explosion<span class="w"> </span>be<span class="w"> </span>ON<span class="w"> </span>b.&quot;親品目コード&quot;<span class="w"> </span>=<span class="w"> </span>be.&quot;子品目コード&quot;
<span class="w">            </span>WHERE<span class="w"> </span>(b.&quot;適用停止日&quot;<span class="w"> </span>IS<span class="w"> </span>NULL<span class="w"> </span>OR<span class="w"> </span>b.&quot;適用停止日&quot;<span class="w"> </span>&gt;=<span class="w"> </span>CURRENT_DATE)
<span class="w">              </span>AND<span class="w"> </span>be.&quot;階層&quot;<span class="w"> </span><span class="ni">&amp;lt;</span><span class="w"> </span>10<span class="w">  </span>--<span class="w"> </span>無限ループ防止
<span class="w">        </span>)
<span class="w">        </span>SELECT
<span class="w">            </span>&quot;親品目コード&quot;,
<span class="w">            </span>&quot;子品目コード&quot;,
<span class="w">            </span>&quot;適用開始日&quot;,
<span class="w">            </span>&quot;適用停止日&quot;,
<span class="w">            </span>&quot;基準数量&quot;,
<span class="w">            </span>&quot;必要数量&quot;,
<span class="w">            </span>&quot;不良率&quot;,
<span class="w">            </span>&quot;工順&quot;,
<span class="w">            </span>&quot;階層&quot;,
<span class="w">            </span>&quot;累計数量&quot;<span class="w"> </span>*<span class="w"> </span>#{quantity}<span class="w"> </span>as<span class="w"> </span>&quot;累計数量&quot;
<span class="w">        </span>FROM<span class="w"> </span>bom_explosion
<span class="w">        </span>ORDER<span class="w"> </span>BY<span class="w"> </span>&quot;階層&quot;,<span class="w"> </span>&quot;親品目コード&quot;,<span class="w"> </span>&quot;工順&quot;,<span class="w"> </span>&quot;子品目コード&quot;
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>

<span class="w">    </span><span class="nt">&lt;delete</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;deleteAll&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span>TRUNCATE<span class="w"> </span>TABLE<span class="w"> </span>&quot;部品構成表&quot;<span class="w"> </span>CASCADE
<span class="w">    </span><span class="nt">&lt;/delete&gt;</span>
<span class="nt">&lt;/mapper&gt;</span>
</code></pre></div>

</details>

<hr />
<h2 id="233">23.3 補助マスタの設計<a class="headerlink" href="#233" title="Permanent link">&para;</a></h2>
<p>品目マスタと BOM を補完する補助マスタを設計します。</p>
<h3 id="_12">カレンダマスタ<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<p>稼働日・休日・半日稼働を管理するマスタです。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjE4N3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MTcwcHg7aGVpZ2h0OjE4N3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDE3MCAxODciIHdpZHRoPSIxNzBweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMTI0NTk7JiMxMjUyNDsmIzEyNTMxOyYjMTI0ODA7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7IEVSJiMyMjI1OTs8L3RpdGxlPjxkZWZzLz48Zz48ZyBjbGFzcz0idGl0bGUiIGRhdGEtc291cmNlLWxpbmU9IjEiPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzcuMjE3MyIgeD0iMTIuNDkzMiIgeT0iMjIuOTk1MSI+JiMxMjQ1OTsmIzEyNTI0OyYjMTI1MzE7JiMxMjQ4MDsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTsgRVImIzIyMjU5OzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8/Pz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIzIiBpZD0iZW50MDAwMiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMjkuNDg0NCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTQ5LjIwMzciIHg9IjciIHk9IjQ0LjI5NjkiLz48ZWxsaXBzZSBjeD0iMzAuNjQxOCIgY3k9IjYwLjI5NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTM0Ljc1MTIsNjYuMjk2OSBMMjcuMDMyNSw2Ni4yOTY5IEwyNy4wMzI1LDUzLjkwNjMgTDM0Ljc1MTIsNTMuOTA2MyBMMzQuNzUxMiw1Ni4wNjI1IEwyOS40ODU2LDU2LjA2MjUgTDI5LjQ4NTYsNTguNzM0NCBMMzQuMjUxMiw1OC43MzQ0IEwzNC4yNTEyLDYwLjg5MDYgTDI5LjQ4NTYsNjAuODkwNiBMMjkuNDg1Niw2NC4xNDA2IEwzNC43NTEyLDY0LjE0MDYgTDM0Ljc1MTIsNjYuMjk2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjQ2LjU2MjMiIHk9IjY1LjE0MzYiPiYjMTI0NTk7JiMxMjUyNDsmIzEyNTMxOyYjMTI0ODA7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjgiIHgyPSIxNTUuMjAzNyIgeTE9Ijc2LjI5NjkiIHkyPSI3Ni4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM3LjIwMzciIHg9IjEzIiB5PSI5My4yOTIiPiYjMTI0NTk7JiMxMjUyNDsmIzEyNTMxOyYjMTI0ODA7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7ICYjMTcxO1BLJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY3LjIwNCIgeD0iMTMiIHk9IjEwOS41ODg5Ij4mIzI2MDg1OyYjMjAxODQ7ICYjMTcxO1BLJiMxODc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI4IiB4Mj0iMTU1LjIwMzciIHkxPSIxMTYuODkwNiIgeTI9IjExNi44OTA2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTMiIHk9IjEzMy44ODU3Ij4mIzI2MDg1OyYjMjAxODQ7JiMyMTMwNjsmIzIwOTk4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxMyIgeT0iMTUwLjE4MjYiPiYjMzEyOTI7JiMyMDY4NTsmIzI2MTc4OyYjMzgyOTE7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ljk5OTkiIHg9IjEzIiB5PSIxNjYuNDc5NSI+JiMyMDYzMzsmIzMyNzcxOzwvdGV4dD48L2c+PD9wbGFudHVtbC1zcmMgQXlhaW9LYkxVRG9xLWQ3cGNpVkRjbnl0RHBua2RsVXVRVVZaZmxxQWhhNUZQc19jdWFoREF5YWlnU0lYZmZlQkhSbTlJRXZ2dERvZk82Q0p1NnJkbl9MaS1qOGRrc1YwVUJnd0s4NmRGUmtVVGhIbkZMLW52c2JweHhFUEpJLWRKVVB3c1pKcEhLQ3BMb3EwPz48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<details>
<summary>DDL（カレンダマスタ）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">-- src/main/resources/db/migration/V004__create_calendar_master.sql</span>

<span class="c1">-- 日付区分 ENUM</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TYPE</span><span class="w"> </span><span class="err">日付区分</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ENUM</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;稼働日&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;休日&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;半日稼働&#39;</span><span class="p">);</span>

<span class="c1">-- カレンダマスタ</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;カレンダマスタ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;カレンダコード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;日付&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;日付区分&quot;</span><span class="w"> </span><span class="err">日付区分</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;稼働日&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;稼働時間&quot;</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;備考&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">200</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;カレンダコード&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;日付&quot;</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div>

</details>

<details>
<summary>エンティティ（WorkCalendar.java, DateType.java）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/calendar/WorkCalendar.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.calendar</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@AllArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">WorkCalendar</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">calendarCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">date</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">DateType</span><span class="w"> </span><span class="n">dateType</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">workingHours</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">note</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/calendar/DateType.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.calendar</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Getter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>

<span class="nd">@Getter</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">DateType</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">WORKING</span><span class="p">(</span><span class="s">&quot;稼働日&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">HOLIDAY</span><span class="p">(</span><span class="s">&quot;休日&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">HALF_DAY</span><span class="p">(</span><span class="s">&quot;半日稼働&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">DateType</span><span class="w"> </span><span class="nf">fromDisplayName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">DateType</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">values</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">type</span><span class="p">.</span><span class="na">displayName</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">displayName</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">type</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;不正な日付区分: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">displayName</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="_13">場所マスタ<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<p>倉庫・製造場所・検査場所などを管理するマスタです。階層構造を持つことができます。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjE2NHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MjQ3cHg7aGVpZ2h0OjE2NHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDI0NyAxNjQiIHdpZHRoPSIyNDdweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjI1ODA7JiMyNTE1MjsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTsgRVImIzIyMjU5OzwvdGl0bGU+PGRlZnMvPjxnPjxnIGNsYXNzPSJ0aXRsZSIgZGF0YS1zb3VyY2UtbGluZT0iMSI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOS4yMTc0IiB4PSI2Mi4yOTYzIiB5PSIyMi45OTUxIj4mIzIyNTgwOyYjMjUxNTI7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7IEVSJiMyMjI1OTs8L3RleHQ+PC9nPjwhLS1jbGFzcyA/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIzIiBpZD0iZW50MDAwMiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMTMuMTg3NSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTM0LjgxNDEiIHg9IjciIHk9IjQ0LjI5NjkiLz48ZWxsaXBzZSBjeD0iMzYuNzY2NSIgY3k9IjYwLjI5NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTQwLjg3NTksNjYuMjk2OSBMMzMuMTU3MSw2Ni4yOTY5IEwzMy4xNTcxLDUzLjkwNjMgTDQwLjg3NTksNTMuOTA2MyBMNDAuODc1OSw1Ni4wNjI1IEwzNS42MTAyLDU2LjA2MjUgTDM1LjYxMDIsNTguNzM0NCBMNDAuMzc1OSw1OC43MzQ0IEw0MC4zNzU5LDYwLjg5MDYgTDM1LjYxMDIsNjAuODkwNiBMMzUuNjEwMiw2NC4xNDA2IEw0MC44NzU5LDY0LjE0MDYgTDQwLjg3NTksNjYuMjk2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjU0LjA0NzkiIHk9IjY1LjE0MzYiPiYjMjI1ODA7JiMyNTE1MjsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iOCIgeDI9IjE0MC44MTQxIiB5MT0iNzYuMjk2OSIgeTI9Ijc2LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDkuMjAzOCIgeD0iMTMiIHk9IjkzLjI5MiI+JiMyMjU4MDsmIzI1MTUyOyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iOCIgeDI9IjE0MC44MTQxIiB5MT0iMTAwLjU5MzgiIHkyPSIxMDAuNTkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjk5OTgiIHg9IjEzIiB5PSIxMTcuNTg4OSI+JiMyMjU4MDsmIzI1MTUyOyYjMjE1MTc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjEzIiB5PSIxMzMuODg1NyI+JiMyMjU4MDsmIzI1MTUyOyYjMjEzMDY7JiMyMDk5ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIyLjgxNDEiIHg9IjEzIiB5PSIxNTAuMTgyNiI+JiMzNTI0MjsmIzIyNTgwOyYjMjUxNTI7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7ICYjMTcxO0ZLJiMxODc7PC90ZXh0PjwvZz48IS0tbGluayA/Pz8/PyB0byA/Pz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAyIiBkYXRhLWVudGl0eS0yPSJlbnQwMDAyIiBkYXRhLWxpbmstdHlwZT0iYXNzb2NpYXRpb24iIGRhdGEtc291cmNlLWxpbmU9IjExIiBpZD0ibG5rMyI+PHBhdGggY29kZUxpbmU9IjExIiBkPSJNMTQ5Ljg2NDUsODAuMDMzMyBDMTY5LjU1NDUsODAuNzYzMyAxNzYuODEsODcuNTE2OSAxNzYuODEsMTAwLjg5NjkgQzE3Ni44MSwxMTQuMjY2OSAxNzYuNTQ5NCwxMjAuNzUzNSAxNTYuODU5NCwxMjEuNDkzNSIgZmlsbD0ibm9uZSIgaWQ9IiYjMjI1ODA7JiMyNTE1MjsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTstJiMyMjU4MDsmIzI1MTUyOyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNDUuNzE5MSIgeDI9IjE0Ni4wMTU1IiB5MT0iODMuODgyMyIgeTI9Ijc1Ljg4NzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTQ4LjcxNyIgeDI9IjE0OS4wMTM0IiB5MT0iODMuOTkzNSIgeTI9Ijc1Ljk5OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNDkuODY0NSIgeDI9IjE0MS44NyIgeTE9IjgwLjAzMzMiIHkyPSI3OS43MzY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE1Mi44NjIyIiB4Mj0iMTQxLjg3IiB5MT0iMTIxLjY0MzgiIHkyPSIxMjIuMDU2OSIvPjxlbGxpcHNlIGN4PSIxNTIuODYyMiIgY3k9IjEyMS42NDM4IiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTQ2LjAxNzQiIHgyPSIxNDUuNzE3IiB5MT0iMTI1LjkwMzgiIHkyPSIxMTcuOTA5NSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyLjAwMDEiIHg9IjE4Mi44MSIgeT0iMTA1LjQ2MzgiPiYjMzUyNDI7JiMyMzM3NjsmIzM4MzA2OyYjMjA0MTg7PC90ZXh0PjwvZz48P3BsYW50dW1sLXNyYyBBeWFpb0tiTFVCZldveEZFWGlWRHludXR4TnBTajVfMURVWmZ4Q3JTTkFidjlQYWJiSFlvckxuR2FRUkRadmx0RjZ4a0xCMm4yVjJzaS1GSXJPTkFGOXRHMnNGcng3aFFxU1JyT2phZ0ozcms4M3NyTjVwZXZqVkt3RWhjcnMxT1F3SzBDY05qWDlWSjVadFB0bUcwPz48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<details>
<summary>DDL（場所マスタ）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">-- src/main/resources/db/migration/V005__create_location_master.sql</span>

<span class="c1">-- 場所区分 ENUM</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TYPE</span><span class="w"> </span><span class="err">場所区分</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ENUM</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;倉庫&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;製造&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;検査&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;出荷&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;外注&#39;</span><span class="p">);</span>

<span class="c1">-- 場所マスタ</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;場所マスタ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;場所コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;場所名&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;場所区分&quot;</span><span class="w"> </span><span class="err">場所区分</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;親場所コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;場所マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;場所コード&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span>
<span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_場所マスタ_場所区分</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;場所マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;場所区分&quot;</span><span class="p">);</span>
</code></pre></div>

</details>

<details>
<summary>エンティティ（Location.java, LocationType.java）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/location/Location.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.location</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@AllArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Location</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">locationCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">locationName</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocationType</span><span class="w"> </span><span class="n">locationType</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">parentLocationCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/location/LocationType.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.location</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Getter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>

<span class="nd">@Getter</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">LocationType</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">WAREHOUSE</span><span class="p">(</span><span class="s">&quot;倉庫&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">MANUFACTURING</span><span class="p">(</span><span class="s">&quot;製造&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">INSPECTION</span><span class="p">(</span><span class="s">&quot;検査&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">SHIPPING</span><span class="p">(</span><span class="s">&quot;出荷&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">SUBCONTRACT</span><span class="p">(</span><span class="s">&quot;外注&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">LocationType</span><span class="w"> </span><span class="nf">fromDisplayName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">LocationType</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">values</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">type</span><span class="p">.</span><span class="na">displayName</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">displayName</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">type</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;不正な場所区分: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">displayName</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="_14">取引先マスタ<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<p>仕入先・外注先・得意先を管理するマスタです。世代管理に対応しています。</p>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjI4NXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MTU2cHg7aGVpZ2h0OjI4NXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDE1NiAyODUiIHdpZHRoPSIxNTZweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMjE0NjI7JiMyNDM0MTsmIzIwODA4OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OyBFUiYjMjIyNTk7PC90aXRsZT48ZGVmcy8+PGc+PGcgY2xhc3M9InRpdGxlIiBkYXRhLXNvdXJjZS1saW5lPSIxIj48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIzLjIxNzMiIHg9IjEyLjQ5MzIiIHk9IjIyLjk5NTEiPiYjMjE0NjI7JiMyNDM0MTsmIzIwODA4OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OyBFUiYjMjIyNTk7PC90ZXh0PjwvZz48IS0tY2xhc3MgPz8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSIzIiBpZD0iZW50MDAwMiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyMjcuMjY1NiIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTM1LjIwMzciIHg9IjciIHk9IjQ0LjI5NjkiLz48ZWxsaXBzZSBjeD0iMzAuNjQxOCIgY3k9IjYwLjI5NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTM0Ljc1MTIsNjYuMjk2OSBMMjcuMDMyNSw2Ni4yOTY5IEwyNy4wMzI1LDUzLjkwNjMgTDM0Ljc1MTIsNTMuOTA2MyBMMzQuNzUxMiw1Ni4wNjI1IEwyOS40ODU2LDU2LjA2MjUgTDI5LjQ4NTYsNTguNzM0NCBMMzQuMjUxMiw1OC43MzQ0IEwzNC4yNTEyLDYwLjg5MDYgTDI5LjQ4NTYsNjAuODkwNiBMMjkuNDg1Niw2NC4xNDA2IEwzNC43NTEyLDY0LjE0MDYgTDM0Ljc1MTIsNjYuMjk2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjQ2LjU2MjMiIHk9IjY1LjE0MzYiPiYjMjE0NjI7JiMyNDM0MTsmIzIwODA4OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI4IiB4Mj0iMTQxLjIwMzciIHkxPSI3Ni4yOTY5IiB5Mj0iNzYuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMy4yMDM3IiB4PSIxMyIgeT0iOTMuMjkyIj4mIzIxNDYyOyYjMjQzNDE7JiMyMDgwODsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7UEsmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA5LjIwMzgiIHg9IjEzIiB5PSIxMDkuNTg4OSI+JiMzNjk2OTsmIzI5OTkyOyYjMzgyODM7JiMyMjk4NzsmIzI2MDg1OyAmIzE3MTtQSyYjMTg3OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iOCIgeDI9IjE0MS4yMDM3IiB5MT0iMTE2Ljg5MDYiIHkyPSIxMTYuODkwNiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjEzIiB5PSIxMzMuODg1NyI+JiMzNjk2OTsmIzI5OTkyOyYjMjA1NzI7JiMyNzQ5MDsmIzI2MDg1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxMyIgeT0iMTUwLjE4MjYiPiYjMjE0NjI7JiMyNDM0MTsmIzIwODA4OyYjMjE1MTc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjEzIiB5PSIxNjYuNDc5NSI+JiMyMTQ2MjsmIzI0MzQxOyYjMjA4MDg7JiMxMjQ1OTsmIzEyNDkwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIxMyIgeT0iMTgyLjc3NjQiPiYjMjE0NjI7JiMyNDM0MTsmIzIwODA4OyYjMjEzMDY7JiMyMDk5ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTMiIHk9IjE5OS4wNzMyIj4mIzM3MTA5OyYjMjA0MTU7JiMzMDA1ODsmIzIxNDk1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSIxMyIgeT0iMjE1LjM3MDEiPiYjMjAzMDM7JiMyNTE1Mjs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTMiIHk9IjIzMS42NjciPiYjMzg2NTE7JiMzNTQ0MTsmIzMwMDU4OyYjMjE0OTU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1LjIyMDYiIHg9IjEzIiB5PSIyNDcuOTYzOSI+RkFYJiMzMDA1ODsmIzIxNDk1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxMyIgeT0iMjY0LjI2MDciPiYjMjUyODU7JiMyNDQwMzsmIzMyNzczOyYjMjE1MTc7PC90ZXh0PjwvZz48P3BsYW50dW1sLXNyYyBBeWFpb0tiTFVEZV94VWNVZ0t6UkVudXRwdGxTakZEbnF0dTVydzJkaXBUcFNRTmNiTUlNTDY5SktDczU0NnBRX0JYdnAtRmNKV0tSY20xbEVwa2tidXFoZHF6UHlOOVF6ekZidFMtY0J1Szl3LWYyUFB1c3BkY3NUWDVHMWM3NnFtY3pvMFFrVmpwU1hJSlBpLWpmSG5sTm8tUWpKX1JqVnB2cnJURi14TG5GemxPX3dzcFdVWmJ4enVrTDZ3NVlSZXVIS0RRcHhqUWRVb1VfUTZXNWNMaUIwMDAwPz48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<details>
<summary>DDL（取引先マスタ）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">-- src/main/resources/db/migration/V006__create_supplier_master.sql</span>

<span class="c1">-- 取引先区分 ENUM</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TYPE</span><span class="w"> </span><span class="err">取引先区分</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ENUM</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;仕入先&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;外注先&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;得意先&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;仕入先兼外注先&#39;</span><span class="p">);</span>

<span class="c1">-- 取引先マスタ</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;取引先マスタ&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;取引先コード&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;適用開始日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;適用停止日&quot;</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;取引先名&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;取引先カナ&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;取引先区分&quot;</span><span class="w"> </span><span class="err">取引先区分</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;郵便番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;住所&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">200</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;電話番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;FAX番号&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;担当者名&quot;</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;作成日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;更新日時&quot;</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;取引先コード&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;適用開始日&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_取引先マスタ_取引先区分</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;取引先マスタ&quot;</span><span class="p">(</span><span class="ss">&quot;取引先区分&quot;</span><span class="p">);</span>
</code></pre></div>

</details>

<details>
<summary>エンティティ（Supplier.java, SupplierType.java）</summary>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/supplier/Supplier.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.supplier</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDate</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.LocalDateTime</span><span class="p">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@AllArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Supplier</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">supplierCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">effectiveFrom</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">effectiveTo</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">supplierName</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">supplierNameKana</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">SupplierType</span><span class="w"> </span><span class="n">supplierType</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">postalCode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">address</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">phoneNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">faxNumber</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">contactPerson</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">updatedAt</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1">// src/main/java/com/example/production/domain/model/supplier/SupplierType.java</span>
<span class="kn">package</span><span class="w"> </span><span class="nn">com.example.production.domain.model.supplier</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.Getter</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">lombok.RequiredArgsConstructor</span><span class="p">;</span>

<span class="nd">@Getter</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">enum</span><span class="w"> </span><span class="n">SupplierType</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">VENDOR</span><span class="p">(</span><span class="s">&quot;仕入先&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">SUBCONTRACTOR</span><span class="p">(</span><span class="s">&quot;外注先&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">CUSTOMER</span><span class="p">(</span><span class="s">&quot;得意先&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">VENDOR_AND_SUBCONTRACTOR</span><span class="p">(</span><span class="s">&quot;仕入先兼外注先&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">SupplierType</span><span class="w"> </span><span class="nf">fromDisplayName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">displayName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">SupplierType</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">values</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">type</span><span class="p">.</span><span class="na">displayName</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">displayName</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">type</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;不正な取引先区分: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">displayName</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="_15">その他の補助マスタ<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>マスタ名</th>
<th>説明</th>
<th>主キー</th>
</tr>
</thead>
<tbody>
<tr>
<td>倉庫マスタ</td>
<td>倉庫の詳細情報</td>
<td>倉庫コード</td>
</tr>
<tr>
<td>部門マスタ</td>
<td>部門・課の階層構造</td>
<td>部門コード</td>
</tr>
<tr>
<td>担当者マスタ</td>
<td>担当者と部門の紐付け</td>
<td>担当者コード × 適用開始日</td>
</tr>
<tr>
<td>資源マスタ</td>
<td>設備・作業者などの資源</td>
<td>資源コード</td>
</tr>
<tr>
<td>工程マスタ</td>
<td>工程の定義</td>
<td>工程コード</td>
</tr>
<tr>
<td>工程表</td>
<td>品目ごとの製造工程</td>
<td>品目コード × 工順</td>
</tr>
<tr>
<td>単価マスタ</td>
<td>品目 × 取引先の単価</td>
<td>品目コード × 取引先コード × 適用開始日</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="_16">まとめ<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h2>
<h3 id="_17">作成したテーブル<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>テーブル名（日本語）</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>品目マスタ</code></td>
<td>製品・部品・材料などの品目情報</td>
</tr>
<tr>
<td><code>単位マスタ</code></td>
<td>品目の単位（個、kg、m など）</td>
</tr>
<tr>
<td><code>部品構成表</code></td>
<td>BOM（親子関係）</td>
</tr>
<tr>
<td><code>カレンダマスタ</code></td>
<td>稼働日・休日の管理</td>
</tr>
<tr>
<td><code>場所マスタ</code></td>
<td>倉庫・工程などの場所情報</td>
</tr>
<tr>
<td><code>取引先マスタ</code></td>
<td>仕入先・外注先・得意先</td>
</tr>
</tbody>
</table>
<h3 id="_18">アーキテクチャのポイント<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>レイヤー</th>
<th>パッケージ</th>
<th>責務</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Domain</strong></td>
<td><code>domain.model.*</code></td>
<td>ビジネスロジック、エンティティ</td>
</tr>
<tr>
<td><strong>Application</strong></td>
<td><code>application.port.out</code></td>
<td>Repository インターフェース（Output Port）</td>
</tr>
<tr>
<td><strong>Infrastructure</strong></td>
<td><code>infrastructure.persistence.*</code></td>
<td>DB アクセス実装</td>
</tr>
</tbody>
</table>
<h3 id="_19">命名規則のまとめ<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>要素</th>
<th>言語</th>
<th>例</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>テーブル名</strong></td>
<td>日本語</td>
<td><code>"品目マスタ"</code>, <code>"部品構成表"</code></td>
</tr>
<tr>
<td><strong>カラム名</strong></td>
<td>日本語</td>
<td><code>"品目コード"</code>, <code>"品名"</code></td>
</tr>
<tr>
<td><strong>ENUM 型</strong></td>
<td>日本語</td>
<td><code>品目区分</code>, <code>日付区分</code></td>
</tr>
<tr>
<td><strong>ENUM 値</strong></td>
<td>日本語</td>
<td><code>'製品'</code>, <code>'稼働日'</code></td>
</tr>
<tr>
<td><strong>Java クラス名</strong></td>
<td>英語</td>
<td><code>Item</code>, <code>Bom</code>, <code>WorkCalendar</code></td>
</tr>
<tr>
<td><strong>Java フィールド名</strong></td>
<td>英語</td>
<td><code>itemCode</code>, <code>itemName</code></td>
</tr>
<tr>
<td><strong>Java メソッド名</strong></td>
<td>英語</td>
<td><code>findByItemCode()</code>, <code>save()</code></td>
</tr>
<tr>
<td><strong>MyBatis resultMap</strong></td>
<td>日本語 ↔ 英語</td>
<td><code>column="品目コード" property="itemCode"</code></td>
</tr>
</tbody>
</table>
<h3 id="er23">ER図（第23章完了時点）<a class="headerlink" href="#er23" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PD9wbGFudHVtbCAxLjIwMjYuMD8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjgwNXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NzQ4cHg7aGVpZ2h0OjgwNXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDc0OCA4MDUiIHdpZHRoPSI3NDhweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PHRpdGxlPiYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OyYjMjQ3NzM7JiMyMjU3NzsgRVImIzIyMjU5OzwvdGl0bGU+PGRlZnMvPjxnPjxnIGNsYXNzPSJ0aXRsZSIgZGF0YS1zb3VyY2UtbGluZT0iMSI+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOS4yMTc0IiB4PSIzMTIuNDkzMSIgeT0iMjIuOTk1MSI+JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7JiMyNDc3MzsmIzIyNTc3OyBFUiYjMjIyNTk7PC90ZXh0PjwvZz48IS0tY2xhc3MgPz8/Pz8tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLXF1YWxpZmllZC1uYW1lPSIuLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMyIgaWQ9ImVudDAwMDIiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMjkyLjQ1MzEiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyMy45OTk1IiB4PSIxMi42IiB5PSIyNTEuMDc2OSIvPjxlbGxpcHNlIGN4PSIzNy40OTk5IiBjeT0iMjY3LjA3NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTQxLjYwOTMsMjczLjA3NjkgTDMzLjg5MDUsMjczLjA3NjkgTDMzLjg5MDUsMjYwLjY4NjMgTDQxLjYwOTMsMjYwLjY4NjMgTDQxLjYwOTMsMjYyLjg0MjUgTDM2LjM0MzcsMjYyLjg0MjUgTDM2LjM0MzcsMjY1LjUxNDQgTDQxLjEwOTMsMjY1LjUxNDQgTDQxLjEwOTMsMjY3LjY3MDYgTDM2LjM0MzcsMjY3LjY3MDYgTDM2LjM0MzcsMjcwLjkyMDYgTDQxLjYwOTMsMjcwLjkyMDYgTDQxLjYwOTMsMjczLjA3NjkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSI1My42OTk5IiB5PSIyNzEuOTIzNiI+JiMyMTY5NzsmIzMwNDQ2OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxMy42IiB4Mj0iMTM1LjU5OTUiIHkxPSIyODMuMDc2OSIgeTI9IjI4My4wNzY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTQuMTEzMyIgeD0iMTguNiIgeT0iMzAwLjA3MiI+SUQgJiMxNzE7UEsmIzE4Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjEzLjYiIHgyPSIxMzUuNTk5NSIgeTE9IjMwNy4zNzM4IiB5Mj0iMzA3LjM3MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTEuMDA4NSIgeD0iMTguNiIgeT0iMzI0LjM2ODkiPiYjMjE2OTc7JiMzMDQ0NjsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7VUsmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTExLjAwODUiIHg9IjE4LjYiIHk9IjM0MC42NjU3Ij4mIzM2OTY5OyYjMjk5OTI7JiMzODI4MzsmIzIyOTg3OyYjMjYwODU7ICYjMTcxO1VLJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjE4LjYiIHk9IjM1Ni45NjI2Ij4mIzM2OTY5OyYjMjk5OTI7JiMyMDU3MjsmIzI3NDkwOyYjMjYwODU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ljk5OTkiIHg9IjE4LjYiIHk9IjM3My4yNTk1Ij4mIzIxNjk3OyYjMjE1MTc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjE4LjYiIHk9IjM4OS41NTY0Ij4mIzIxNjk3OyYjMzA0NDY7JiMyMTMwNjsmIzIwOTk4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDguODE0MSIgeD0iMTguNiIgeT0iNDA1Ljg1MzIiPiYjMjEzMzY7JiMyMDMwMTsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7RksmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMTguNiIgeT0iNDIyLjE1MDEiPiYjMTI1MjI7JiMxMjU0MDsmIzEyNDg5OyYjMTI0Nzk7JiMxMjQ1MjsmIzEyNTEyOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTEuOTk5NSIgeD0iMTguNiIgeT0iNDM4LjQ0NyI+JiMyMzQzMzsmIzIwODQwOyYjMTI1MjI7JiMxMjU0MDsmIzEyNDg5OyYjMTI0Nzk7JiMxMjQ1MjsmIzEyNTEyOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OS45OTk3IiB4PSIxOC42IiB5PSI0NTQuNzQzOSI+JiMyMzQzMzsmIzIwODQwOyYjMjIzMTI7JiMyNDIzNTsmIzI1OTY4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIxOC42IiB5PSI0NzEuMDQwNyI+JiMyNzQ5NzsmIzMwMDQxOyYjMjk1NzU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgzLjk5OTYiIHg9IjE4LjYiIHk9IjQ4Ny4zMzc2Ij4mIzI2MzY4OyYjMjM1Njc7JiMxMjUyNTsmIzEyNDgzOyYjMTI0ODg7JiMyNTk2ODs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMTguNiIgeT0iNTAzLjYzNDUiPiYjMjEwNTE7JiMxMjQxNTsmIzEyNTI1OyYjMTI0ODM7JiMxMjQ4ODsmIzI1OTY4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4My45OTk2IiB4PSIxOC42IiB5PSI1MTkuOTMxNCI+JiMyNjM2ODsmIzIyODIzOyYjMTI1MjU7JiMxMjQ4MzsmIzEyNDg4OyYjMjU5Njg7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjE4LjYiIHk9IjUzNi4yMjgyIj4mIzI2Mzc3OyYjMjExNzc7JiMyNjM5OTsmIzM4MjkxOzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjIyIiBpZD0iZW50MDAwMyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI5Ni44OTA2IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjEuMjAzOCIgeD0iMTQiIHk9IjY4Ljc0NjkiLz48ZWxsaXBzZSBjeD0iMzcuNjQxOCIgY3k9Ijg0Ljc0NjkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTQxLjc1MTIsOTAuNzQ2OSBMMzQuMDMyNSw5MC43NDY5IEwzNC4wMzI1LDc4LjM1NjMgTDQxLjc1MTIsNzguMzU2MyBMNDEuNzUxMiw4MC41MTI1IEwzNi40ODU2LDgwLjUxMjUgTDM2LjQ4NTYsODMuMTg0NCBMNDEuMjUxMiw4My4xODQ0IEw0MS4yNTEyLDg1LjM0MDYgTDM2LjQ4NTYsODUuMzQwNiBMMzYuNDg1Niw4OC41OTA2IEw0MS43NTEyLDg4LjU5MDYgTDQxLjc1MTIsOTAuNzQ2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjUzLjU2MjMiIHk9Ijg5LjU5MzYiPiYjMjEzMzY7JiMyMDMwMTsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTUiIHgyPSIxMzQuMjAzOCIgeTE9IjEwMC43NDY5IiB5Mj0iMTAwLjc0NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDkuMjAzOCIgeD0iMjAiIHk9IjExNy43NDIiPiYjMjEzMzY7JiMyMDMwMTsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7UEsmIzE4Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE1IiB4Mj0iMTM0LjIwMzgiIHkxPSIxMjUuMDQzOCIgeTI9IjEyNS4wNDM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMjAiIHk9IjE0Mi4wMzg5Ij4mIzIxMzM2OyYjMjAzMDE7JiMzNTM1MjsmIzIxNDk1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIyMCIgeT0iMTU4LjMzNTciPiYjMjEzMzY7JiMyMDMwMTsmIzIxNTE3OzwvdGV4dD48L2c+PCEtLWNsYXNzID8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjI5IiBpZD0iZW50MDAwNCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxNzguMzc1IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMzUuMjAzNyIgeD0iNyIgeT0iNjIwLjUyNjkiLz48ZWxsaXBzZSBjeD0iMzYuOTQxOCIgY3k9IjYzNi41MjY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik00MS4wNTEyLDY0Mi41MjY5IEwzMy4zMzI0LDY0Mi41MjY5IEwzMy4zMzI0LDYzMC4xMzYzIEw0MS4wNTEyLDYzMC4xMzYzIEw0MS4wNTEyLDYzMi4yOTI1IEwzNS43ODU2LDYzMi4yOTI1IEwzNS43ODU2LDYzNC45NjQ0IEw0MC41NTEyLDYzNC45NjQ0IEw0MC41NTEyLDYzNy4xMjA2IEwzNS43ODU2LDYzNy4xMjA2IEwzNS43ODU2LDY0MC4zNzA2IEw0MS4wNTEyLDY0MC4zNzA2IEw0MS4wNTEyLDY0Mi41MjY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iNTQuMjYyMiIgeT0iNjQxLjM3MzYiPiYjMzcwOTY7JiMyMTY5NzsmIzI3MDgzOyYjMjUxMDQ7JiMzNDkyMDs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iOCIgeDI9IjE0MS4yMDM3IiB5MT0iNjUyLjUyNjkiIHkyPSI2NTIuNTI2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMy4yMDM3IiB4PSIxMyIgeT0iNjY5LjUyMiI+JiMzNTI0MjsmIzIxNjk3OyYjMzA0NDY7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7ICYjMTcxO1BLJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMy4yMDM3IiB4PSIxMyIgeT0iNjg1LjgxODkiPiYjMjMzNzY7JiMyMTY5NzsmIzMwNDQ2OyYjMTI0Njc7JiMxMjU0MDsmIzEyNDg5OyAmIzE3MTtQSyYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDkuMjAzOCIgeD0iMTMiIHk9IjcwMi4xMTU3Ij4mIzM2OTY5OyYjMjk5OTI7JiMzODI4MzsmIzIyOTg3OyYjMjYwODU7ICYjMTcxO1BLJiMxODc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI4IiB4Mj0iMTQxLjIwMzciIHkxPSI3MDkuNDE3NSIgeTI9IjcwOS40MTc1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTMiIHk9IjcyNi40MTI2Ij4mIzM2OTY5OyYjMjk5OTI7JiMyMDU3MjsmIzI3NDkwOyYjMjYwODU7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9IjEzIiB5PSI3NDIuNzA5NSI+JiMyMjUyMjsmIzI4MzEwOyYjMjU5Njg7JiMzNzMyNzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iMTMiIHk9Ijc1OS4wMDY0Ij4mIzI0NTE3OyYjMzUyMDE7JiMyNTk2ODsmIzM3MzI3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS45OTk4IiB4PSIxMyIgeT0iNzc1LjMwMzIiPiYjMTk5ODE7JiMzMzM5MTsmIzI5NTc1OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSIxMyIgeT0iNzkxLjYwMDEiPiYjMjQwMzc7JiMzODkxODs8L3RleHQ+PC9nPjwhLS1jbGFzcyA/Pz8/Py0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtcXVhbGlmaWVkLW5hbWU9Ii4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSI0MSIgaWQ9ImVudDAwMDUiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTEzLjE4NzUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEzNC44MTQxIiB4PSIxNzAuMTkiIHk9IjYwLjU5NjkiLz48ZWxsaXBzZSBjeD0iMTk5Ljk1NjUiIGN5PSI3Ni41OTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0yMDQuMDY1OSw4Mi41OTY5IEwxOTYuMzQ3MSw4Mi41OTY5IEwxOTYuMzQ3MSw3MC4yMDYzIEwyMDQuMDY1OSw3MC4yMDYzIEwyMDQuMDY1OSw3Mi4zNjI1IEwxOTguODAwMiw3Mi4zNjI1IEwxOTguODAwMiw3NS4wMzQ0IEwyMDMuNTY1OSw3NS4wMzQ0IEwyMDMuNTY1OSw3Ny4xOTA2IEwxOTguODAwMiw3Ny4xOTA2IEwxOTguODAwMiw4MC40NDA2IEwyMDQuMDY1OSw4MC40NDA2IEwyMDQuMDY1OSw4Mi41OTY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMjE3LjIzNzkiIHk9IjgxLjQ0MzYiPiYjMjI1ODA7JiMyNTE1MjsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTcxLjE5IiB4Mj0iMzA0LjAwNDEiIHkxPSI5Mi41OTY5IiB5Mj0iOTIuNTk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOS4yMDM4IiB4PSIxNzYuMTkiIHk9IjEwOS41OTIiPiYjMjI1ODA7JiMyNTE1MjsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7UEsmIzE4Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjE3MS4xOSIgeDI9IjMwNC4wMDQxIiB5MT0iMTE2Ljg5MzgiIHkyPSIxMTYuODkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjk5OTgiIHg9IjE3Ni4xOSIgeT0iMTMzLjg4ODkiPiYjMjI1ODA7JiMyNTE1MjsmIzIxNTE3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSIxNzYuMTkiIHk9IjE1MC4xODU3Ij4mIzIyNTgwOyYjMjUxNTI7JiMyMTMwNjsmIzIwOTk4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjIuODE0MSIgeD0iMTc2LjE5IiB5PSIxNjYuNDgyNiI+JiMzNTI0MjsmIzIyNTgwOyYjMjUxNTI7JiMxMjQ2NzsmIzEyNTQwOyYjMTI0ODk7ICYjMTcxO0ZLJiMxODc7PC90ZXh0PjwvZz48IS0tY2xhc3MgPz8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uIiBkYXRhLXNvdXJjZS1saW5lPSI0OSIgaWQ9ImVudDAwMDYiPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTQ1Ljc4MTMiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEzNS4yMDM3IiB4PSI0MjIiIHk9IjQ0LjI5NjkiLz48ZWxsaXBzZSBjeD0iNDQ1LjY0MTgiIGN5PSI2MC4yOTY5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik00NDkuNzUxMiw2Ni4yOTY5IEw0NDIuMDMyNSw2Ni4yOTY5IEw0NDIuMDMyNSw1My45MDYzIEw0NDkuNzUxMiw1My45MDYzIEw0NDkuNzUxMiw1Ni4wNjI1IEw0NDQuNDg1Niw1Ni4wNjI1IEw0NDQuNDg1Niw1OC43MzQ0IEw0NDkuMjUxMiw1OC43MzQ0IEw0NDkuMjUxMiw2MC44OTA2IEw0NDQuNDg1Niw2MC44OTA2IEw0NDQuNDg1Niw2NC4xNDA2IEw0NDkuNzUxMiw2NC4xNDA2IEw0NDkuNzUxMiw2Ni4yOTY5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iNDYxLjU2MjMiIHk9IjY1LjE0MzYiPiYjMjE0NjI7JiMyNDM0MTsmIzIwODA4OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI0MjMiIHgyPSI1NTYuMjAzNyIgeTE9Ijc2LjI5NjkiIHkyPSI3Ni4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIzLjIwMzciIHg9IjQyOCIgeT0iOTMuMjkyIj4mIzIxNDYyOyYjMjQzNDE7JiMyMDgwODsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7UEsmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA5LjIwMzgiIHg9IjQyOCIgeT0iMTA5LjU4ODkiPiYjMzY5Njk7JiMyOTk5MjsmIzM4MjgzOyYjMjI5ODc7JiMyNjA4NTsgJiMxNzE7UEsmIzE4Nzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjQyMyIgeDI9IjU1Ni4yMDM3IiB5MT0iMTE2Ljg5MDYiIHkyPSIxMTYuODkwNiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5Ljk5OTciIHg9IjQyOCIgeT0iMTMzLjg4NTciPiYjMzY5Njk7JiMyOTk5MjsmIzIwNTcyOyYjMjc0OTA7JiMyNjA4NTs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iNDI4IiB5PSIxNTAuMTgyNiI+JiMyMTQ2MjsmIzI0MzQxOyYjMjA4MDg7JiMyMTUxNzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iNDI4IiB5PSIxNjYuNDc5NSI+JiMyMTQ2MjsmIzI0MzQxOyYjMjA4MDg7JiMyMTMwNjsmIzIwOTk4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMy4zNTA2IiB4PSI0MjgiIHk9IjE4Mi43NzY0Ij4uLi48L3RleHQ+PC9nPjwhLS1jbGFzcyA/Pz8/Pz8/LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1xdWFsaWZpZWQtbmFtZT0iLi4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iNTkiIGlkPSJlbnQwMDA3Ij48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEyOS40ODQ0IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNDkuMjAzNyIgeD0iNTkyIiB5PSI1Mi40NDY5Ii8+PGVsbGlwc2UgY3g9IjYxNS42NDE4IiBjeT0iNjguNDQ2OSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNNjE5Ljc1MTIsNzQuNDQ2OSBMNjEyLjAzMjUsNzQuNDQ2OSBMNjEyLjAzMjUsNjIuMDU2MiBMNjE5Ljc1MTIsNjIuMDU2MiBMNjE5Ljc1MTIsNjQuMjEyNSBMNjE0LjQ4NTYsNjQuMjEyNSBMNjE0LjQ4NTYsNjYuODg0NCBMNjE5LjI1MTIsNjYuODg0NCBMNjE5LjI1MTIsNjkuMDQwNiBMNjE0LjQ4NTYsNjkuMDQwNiBMNjE0LjQ4NTYsNzIuMjkwNiBMNjE5Ljc1MTIsNzIuMjkwNiBMNjE5Ljc1MTIsNzQuNDQ2OSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3Ljk5OTYiIHg9IjYzMS41NjIzIiB5PSI3My4yOTM2Ij4mIzEyNDU5OyYjMTI1MjQ7JiMxMjUzMTsmIzEyNDgwOyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5OzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI1OTMiIHgyPSI3NDAuMjAzNyIgeTE9Ijg0LjQ0NjkiIHkyPSI4NC40NDY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM3LjIwMzciIHg9IjU5OCIgeT0iMTAxLjQ0MiI+JiMxMjQ1OTsmIzEyNTI0OyYjMTI1MzE7JiMxMjQ4MDsmIzEyNDY3OyYjMTI1NDA7JiMxMjQ4OTsgJiMxNzE7UEsmIzE4Nzs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjcuMjA0IiB4PSI1OTgiIHk9IjExNy43Mzg5Ij4mIzI2MDg1OyYjMjAxODQ7ICYjMTcxO1BLJiMxODc7PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI1OTMiIHgyPSI3NDAuMjAzNyIgeTE9IjEyNS4wNDA2IiB5Mj0iMTI1LjA0MDYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI1OTgiIHk9IjE0Mi4wMzU3Ij4mIzI2MDg1OyYjMjAxODQ7JiMyMTMwNjsmIzIwOTk4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NS45OTk4IiB4PSI1OTgiIHk9IjE1OC4zMzI2Ij4mIzMxMjkyOyYjMjA2ODU7JiMyNjE3ODsmIzM4MjkxOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNy45OTk5IiB4PSI1OTgiIHk9IjE3NC42Mjk1Ij4mIzIwNjMzOyYjMzI3NzE7PC90ZXh0PjwvZz48IS0tbGluayA/Pz8/PyB0byA/Pz8/Py0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJlbnQwMDAzIiBkYXRhLWVudGl0eS0yPSJlbnQwMDAyIiBkYXRhLWxpbmstdHlwZT0iY3Jvd2Zvb3QiIGRhdGEtc291cmNlLWxpbmU9IjY4IiBpZD0ibG5rOCI+PHBhdGggY29kZUxpbmU9IjY4IiBkPSJNNzQuNiwxNzMuOTk2OSBDNzQuNiwxOTcuODM2OSA3NC42LDIwMi4wODY5IDc0LjYsMjMyLjc1NjkiIGZpbGw9Im5vbmUiIGlkPSImIzIxMzM2OyYjMjAzMDE7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7LSYjMjE2OTc7JiMzMDQ0NjsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNzAuNiIgeDI9Ijc4LjYiIHkxPSIxNjkuOTk2OSIgeTI9IjE2OS45OTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjcwLjYiIHgyPSI3OC42IiB5MT0iMTcyLjk5NjkiIHkyPSIxNzIuOTk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI3NC42IiB4Mj0iNzQuNiIgeTE9IjE3My45OTY5IiB5Mj0iMTY1Ljk5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNzQuNiIgeDI9IjgwLjYiIHkxPSIyNDIuNzU2OSIgeTI9IjI1MC43NTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijc0LjYiIHgyPSI2OC42IiB5MT0iMjQyLjc1NjkiIHkyPSIyNTAuNzU2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI3NC42IiB4Mj0iNzQuNiIgeTE9IjI0Mi43NTY5IiB5Mj0iMjUwLjc1NjkiLz48ZWxsaXBzZSBjeD0iNzQuNiIgY3k9IjIzNi43NTY5IiBmaWxsPSJub25lIiByeD0iNCIgcnk9IjQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgPz8/Pz8gdG8gPz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iZW50MDAwMiIgZGF0YS1lbnRpdHktMj0iZW50MDAwNCIgZGF0YS1saW5rLXR5cGU9ImNyb3dmb290IiBkYXRhLXNvdXJjZS1saW5lPSI2OSIgaWQ9ImxuazkiPjxwYXRoIGNvZGVMaW5lPSI2OSIgZD0iTTI5LjA5NTIsNTUxLjg5NTUgQzI3Ljk0NTIsNTY3LjU4NTUgMjguOTMsNTc1LjM3NjkgMzEuNiw1OTAuNTI2OSBDMzMuMzMsNjAwLjMxNjkgMzAuNzUxMyw1OTMuMDc5NCAzMy42NDEzLDYwMi45Njk0IiBmaWxsPSJub25lIiBpZD0iJiMyMTY5NzsmIzMwNDQ2OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5Oy0mIzM3MDk2OyYjMjE2OTc7JiMyNzA4MzsmIzI1MTA0OyYjMzQ5MjA7IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjI1LjM5ODMiIHgyPSIzMy4zNzY5IiB5MT0iNTQ3LjYxMzgiIHkyPSI1NDguMTk4NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNS4xNzkiIHgyPSIzMy4xNTc2IiB5MT0iNTUwLjYwNTgiIHkyPSI1NTEuMTkwNSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIyOS4wOTUyIiB4Mj0iMjkuNjgiIHkxPSI1NTEuODk1NSIgeTI9IjU0My45MTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjM2LjQ0NjEiIHgyPSI0NC40NDkyIiB5MT0iNjEyLjU2OCIgeTI9IjYxOC41NjQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzYuNDQ2MSIgeDI9IjMyLjkzMDgiIHkxPSI2MTIuNTY4IiB5Mj0iNjIxLjkyOTgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzYuNDQ2MSIgeDI9IjM4LjY5IiB5MT0iNjEyLjU2OCIgeTI9IjYyMC4yNDY5Ii8+PGVsbGlwc2UgY3g9IjM0Ljc2MzIiIGN5PSI2MDYuODA4OSIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzkiIHg9IjMyLjYiIHk9IjU4Ni41OTM4Ij4mIzM1MjQyOyYjMjE2OTc7JiMzMDQ0Njs8L3RleHQ+PC9nPjwhLS1saW5rID8/Pz8/IHRvID8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDIiIGRhdGEtZW50aXR5LTI9ImVudDAwMDQiIGRhdGEtbGluay10eXBlPSJjcm93Zm9vdCIgZGF0YS1zb3VyY2UtbGluZT0iNzAiIGlkPSJsbmsxMCI+PHBhdGggY29kZUxpbmU9IjcwIiBkPSJNNzYuNzI1NCw1NTEuOTM2OCBDNzYuNzc1NCw1NjcuNjU2OCA3Ni43Myw1NzUuNDI2OSA3Ni42LDU5MC41MjY5IEM3Ni41Miw2MDAuMTc2OSA3Ni42NTEsNTkyLjI2ODYgNzYuNTExLDYwMi4zMDg2IiBmaWxsPSJub25lIiBpZD0iJiMyMTY5NzsmIzMwNDQ2OyYjMTI1MTA7JiMxMjQ3MzsmIzEyNDc5Oy0mIzM3MDk2OyYjMjE2OTc7JiMyNzA4MzsmIzI1MTA0OyYjMzQ5MjA7LTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNzIuNzEyNyIgeDI9IjgwLjcxMjciIHkxPSI1NDcuOTQ5NiIgeTI9IjU0Ny45MjQxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjcyLjcyMjMiIHgyPSI4MC43MjIyIiB5MT0iNTUwLjk0OTYiIHkyPSI1NTAuOTI0MSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI3Ni43MjU0IiB4Mj0iNzYuNyIgeTE9IjU1MS45MzY4IiB5Mj0iNTQzLjkzNjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNzYuMzcxNSIgeDI9IjgyLjI1OTQiIHkxPSI2MTIuMzA3NyIgeTI9IjYyMC4zOTA1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9Ijc2LjM3MTUiIHgyPSI3MC4yNjA2IiB5MT0iNjEyLjMwNzciIHkyPSI2MjAuMjIzMiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSI3Ni4zNzE1IiB4Mj0iNzYuMjYiIHkxPSI2MTIuMzA3NyIgeTI9IjYyMC4zMDY5Ii8+PGVsbGlwc2UgY3g9Ijc2LjQ1NTIiIGN5PSI2MDYuMzA4MiIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzkiIHg9Ijc3LjciIHk9IjU4Ni41OTM4Ij4mIzIzMzc2OyYjMjE2OTc7JiMzMDQ0Njs8L3RleHQ+PC9nPjwhLS1saW5rID8/Pz8/IHRvID8/Pz8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9ImVudDAwMDUiIGRhdGEtZW50aXR5LTI9ImVudDAwMDUiIGRhdGEtbGluay10eXBlPSJhc3NvY2lhdGlvbiIgZGF0YS1zb3VyY2UtbGluZT0iNzEiIGlkPSJsbmsxMSI+PHBhdGggY29kZUxpbmU9IjcxIiBkPSJNMzEzLjA2NTQsOTguMTI4OSBDMzMyLjc1NTQsOTguNzk4OSAzNDAuMDEsMTA0Ljk2NjkgMzQwLjAxLDExNy4xODY5IEMzNDAuMDEsMTI5LjQwNjkgMzM5Ljc1MTMsMTM1LjMzNjggMzIwLjA2MTMsMTM2LjAwNjgiIGZpbGw9Im5vbmUiIGlkPSImIzIyNTgwOyYjMjUxNTI7JiMxMjUxMDsmIzEyNDczOyYjMTI0Nzk7LSYjMjI1ODA7JiMyNTE1MjsmIzEyNTEwOyYjMTI0NzM7JiMxMjQ3OTsiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzA4LjkzMTciIHgyPSIzMDkuMjAzNyIgeTE9IjEwMS45OTA2IiB5Mj0iOTMuOTk1MiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMTEuOTI5OSIgeDI9IjMxMi4yMDIiIHkxPSIxMDIuMDkyNiIgeTI9Ijk0LjA5NzIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzEzLjA2NTQiIHgyPSIzMDUuMDciIHkxPSI5OC4xMjg5IiB5Mj0iOTcuODU2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMTYuMDYzNiIgeDI9IjMwNS4wNyIgeTE9IjEzNi4xNDI4IiB5Mj0iMTM2LjUxNjkiLz48ZWxsaXBzZSBjeD0iMzE2LjA2MzYiIGN5PSIxMzYuMTQyOCIgZmlsbD0ibm9uZSIgcng9IjQiIHJ5PSI0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxOyIgeDE9IjMwOS4yMDM3IiB4Mj0iMzA4LjkzMTciIHkxPSIxNDAuMzc4NSIgeTI9IjEzMi4zODMyIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIuMDAwMSIgeD0iMzQ2LjAxIiB5PSIxMjEuNzUzOCI+JiMzNTI0MjsmIzIzMzc2OyYjMzgzMDY7JiMyMDQxODs8L3RleHQ+PC9nPjw/cGxhbnR1bWwtc3JjIGZMRkJJaUQwNUR0RkwtRzdxVy1HdWFlNVNJRTJkejE1R05KSlpMWVhvSDJSTTZDMnNqWkllaE51WTh6S0hRNnNMbGVucXBqOV9pQVA5QVB2QTBaa1Bpd1BVLS12dnp3ZmIyalI5TzdXU29BRlkzb2JNODdVWXgyeTBQck5YNGhSYk45Ykx1MEpvVXFDdVpWMjdiZlQ0ZWg1elJONUhJSUFBQUJiTHU4ZDE2a0NzVUlDQnpzdmZ4UGxEVTJzR1Mta3FwMThOVWhxNlNvWm1USVo5NzBxMWxLMFdUd1FWVWg5WjJpeWJFM3g0NjBZWTduNVMwXzFHMEY1X2ZNMGhXdFoxemZ5SGpJdlN2amp6eFlFUUJTNnBtUjEzaTZPTzlNSmU3dUdRUGcyLUFraHNtb2FtVTY4VFl6eXdtSmpwenE5bklSU29Ta0ZoR2VPcHN3MUNPbWtsRmJ2Q1hfUnAwZEE3NUREeHo5Y29Sb1IteHAxR0p2bXA1LU9sRk5WMGRCa051cGZzNkJULU5LM21MSm5SZ0plQ2RsTkZVczk2bVIzUXh6dGFFb3V6cVFyTWdoWjRGY2Z1dTA5OVhvVW1XZHBoZDhubVAwSlBHbUI5YXJHcjVJYjZGbjdxenl2MGJkbjlMSE1BMUdJNmVaeUdGMFptUW5NZ2s0S2RiTjJRaW0tTVdhMThIMExTRXE5Tzlzc1BSdjY4QlV6NmtPNWlzaktoT2hZcGJ4c3h3N2lOdW9VUFZUY0dPWnR2a3lYeUtBWHg4STNhNmZreTY0TG5fSWpfY21nVm00MD8+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_20">設計のポイント<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>ヘキサゴナルアーキテクチャ</strong>: ドメイン層がインフラに依存しない設計</li>
<li><strong>世代管理</strong>: 品目マスタや取引先マスタは <code>適用開始日</code> による世代管理を採用</li>
<li><strong>日本語 DB / 英語 Java</strong>: テーブル・カラムは日本語、Java コードは英語で統一</li>
<li><strong>MyBatis resultMap</strong>: 日本語カラムと英語プロパティのマッピングを明示的に定義</li>
<li><strong>PostgreSQL ENUM</strong>: 区分値は日本語 ENUM 型で型安全性を確保</li>
<li><strong>TypeHandler</strong>: Java Enum と日本語 ENUM 値の変換を実装</li>
<li><strong>Repository パターン</strong>: テストでは Repository インターフェースを使用</li>
<li><strong>再帰 CTE</strong>: BOM 展開には再帰 CTE を使用して全階層を効率的に取得</li>
</ol>
<hr />
<p><a href="../chapter22/">← 第22章：生産管理システムの全体像</a> | <a href="../chapter24/">第24章：生産計画の設計 →</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/k2works/practical-database-design" target="_blank" rel="noopener" title="GitHub Repository" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
      
        <script src="../../../docs/assets/js/extra.js"></script>
      
    
  </body>
</html>